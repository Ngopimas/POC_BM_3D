function yH(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const _H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};_H();var cl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ey(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Z={exports:{}},Fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=Symbol.for("react.element"),xH=Symbol.for("react.portal"),wH=Symbol.for("react.fragment"),bH=Symbol.for("react.strict_mode"),SH=Symbol.for("react.profiler"),EH=Symbol.for("react.provider"),MH=Symbol.for("react.context"),TH=Symbol.for("react.forward_ref"),AH=Symbol.for("react.suspense"),CH=Symbol.for("react.memo"),RH=Symbol.for("react.lazy"),vC=Symbol.iterator;function PH(n){return n===null||typeof n!="object"?null:(n=vC&&n[vC]||n["@@iterator"],typeof n=="function"?n:null)}var lL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uL=Object.assign,cL={};function xg(n,e,t){this.props=n,this.context=e,this.refs=cL,this.updater=t||lL}xg.prototype.isReactComponent={};xg.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function fL(){}fL.prototype=xg.prototype;function T2(n,e,t){this.props=n,this.context=e,this.refs=cL,this.updater=t||lL}var A2=T2.prototype=new fL;A2.constructor=T2;uL(A2,xg.prototype);A2.isPureReactComponent=!0;var yC=Array.isArray,hL=Object.prototype.hasOwnProperty,C2={current:null},dL={key:!0,ref:!0,__self:!0,__source:!0};function pL(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hL.call(e,r)&&!dL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zv,type:n,key:s,ref:o,props:i,_owner:C2.current}}function IH(n,e){return{$$typeof:zv,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function R2(n){return typeof n=="object"&&n!==null&&n.$$typeof===zv}function LH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var _C=/\/+/g;function Lw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?LH(""+n.key):e.toString(36)}function N_(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case zv:case xH:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Lw(o,0):r,yC(i)?(t="",n!=null&&(t=n.replace(_C,"$&/")+"/"),N_(i,e,t,"",function(c){return c})):i!=null&&(R2(i)&&(i=IH(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_C,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yC(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Lw(s,a);o+=N_(s,e,t,l,i)}else if(l=PH(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Lw(s,a++),o+=N_(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function My(n,e,t){if(n==null)return n;var r=[],i=0;return N_(n,r,"","",function(s){return e.call(t,s,i++)}),r}function kH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ys={current:null},B_={transition:null},DH={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:B_,ReactCurrentOwner:C2};Fn.Children={map:My,forEach:function(n,e,t){My(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return My(n,function(){e++}),e},toArray:function(n){return My(n,function(e){return e})||[]},only:function(n){if(!R2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fn.Component=xg;Fn.Fragment=wH;Fn.Profiler=SH;Fn.PureComponent=T2;Fn.StrictMode=bH;Fn.Suspense=AH;Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DH;Fn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=uL({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=C2.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)hL.call(e,l)&&!dL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zv,type:n.type,key:i,ref:s,props:r,_owner:o}};Fn.createContext=function(n){return n={$$typeof:MH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:EH,_context:n},n.Consumer=n};Fn.createElement=pL;Fn.createFactory=function(n){var e=pL.bind(null,n);return e.type=n,e};Fn.createRef=function(){return{current:null}};Fn.forwardRef=function(n){return{$$typeof:TH,render:n}};Fn.isValidElement=R2;Fn.lazy=function(n){return{$$typeof:RH,_payload:{_status:-1,_result:n},_init:kH}};Fn.memo=function(n,e){return{$$typeof:CH,type:n,compare:e===void 0?null:e}};Fn.startTransition=function(n){var e=B_.transition;B_.transition={};try{n()}finally{B_.transition=e}};Fn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fn.useCallback=function(n,e){return Ys.current.useCallback(n,e)};Fn.useContext=function(n){return Ys.current.useContext(n)};Fn.useDebugValue=function(){};Fn.useDeferredValue=function(n){return Ys.current.useDeferredValue(n)};Fn.useEffect=function(n,e){return Ys.current.useEffect(n,e)};Fn.useId=function(){return Ys.current.useId()};Fn.useImperativeHandle=function(n,e,t){return Ys.current.useImperativeHandle(n,e,t)};Fn.useInsertionEffect=function(n,e){return Ys.current.useInsertionEffect(n,e)};Fn.useLayoutEffect=function(n,e){return Ys.current.useLayoutEffect(n,e)};Fn.useMemo=function(n,e){return Ys.current.useMemo(n,e)};Fn.useReducer=function(n,e,t){return Ys.current.useReducer(n,e,t)};Fn.useRef=function(n){return Ys.current.useRef(n)};Fn.useState=function(n){return Ys.current.useState(n)};Fn.useSyncExternalStore=function(n,e,t){return Ys.current.useSyncExternalStore(n,e,t)};Fn.useTransition=function(){return Ys.current.useTransition()};Fn.version="18.2.0";Z.exports=Fn;var Jt=Z.exports,OH=yH({__proto__:null,default:Jt},[Z.exports]),fS={},P2={exports:{}},Yo={},mL={exports:{}},gL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(ae,ie){var ue=ae.length;ae.push(ie);e:for(;0<ue;){var j=ue-1>>>1,K=ae[j];if(0<i(K,ie))ae[j]=ie,ae[ue]=K,ue=j;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ie=ae[0],ue=ae.pop();if(ue!==ie){ae[0]=ue;e:for(var j=0,K=ae.length,we=K>>>1;j<we;){var Re=2*(j+1)-1,Pe=ae[Re],ke=Re+1,bt=ae[ke];if(0>i(Pe,ue))ke<K&&0>i(bt,Pe)?(ae[j]=bt,ae[ke]=ue,j=ke):(ae[j]=Pe,ae[Re]=ue,j=Re);else if(ke<K&&0>i(bt,ue))ae[j]=bt,ae[ke]=ue,j=ke;else break e}}return ie}function i(ae,ie){var ue=ae.sortIndex-ie.sortIndex;return ue!==0?ue:ae.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],p=1,m=null,d=3,v=!1,_=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ae){for(var ie=t(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=ae)r(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=t(c)}}function T(ae){if(y=!1,M(ae),!_)if(t(l)!==null)_=!0,ce(A);else{var ie=t(c);ie!==null&&le(T,ie.startTime-ae)}}function A(ae,ie){_=!1,y&&(y=!1,w(C),C=-1),v=!0;var ue=d;try{for(M(ie),m=t(l);m!==null&&(!(m.expirationTime>ie)||ae&&!q());){var j=m.callback;if(typeof j=="function"){m.callback=null,d=m.priorityLevel;var K=j(m.expirationTime<=ie);ie=n.unstable_now(),typeof K=="function"?m.callback=K:m===t(l)&&r(l),M(ie)}else r(l);m=t(l)}if(m!==null)var we=!0;else{var Re=t(c);Re!==null&&le(T,Re.startTime-ie),we=!1}return we}finally{m=null,d=ue,v=!1}}var L=!1,z=null,C=-1,F=5,H=-1;function q(){return!(n.unstable_now()-H<F)}function B(){if(z!==null){var ae=n.unstable_now();H=ae;var ie=!0;try{ie=z(!0,ae)}finally{ie?Y():(L=!1,z=null)}}else L=!1}var Y;if(typeof S=="function")Y=function(){S(B)};else if(typeof MessageChannel!="undefined"){var I=new MessageChannel,te=I.port2;I.port1.onmessage=B,Y=function(){te.postMessage(null)}}else Y=function(){x(B,0)};function ce(ae){z=ae,L||(L=!0,Y())}function le(ae,ie){C=x(function(){ae(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,ce(A))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(ae){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var ue=d;d=ie;try{return ae()}finally{d=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ie){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ue=d;d=ae;try{return ie()}finally{d=ue}},n.unstable_scheduleCallback=function(ae,ie,ue){var j=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?j+ue:j):ue=j,ae){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ue+K,ae={id:p++,callback:ie,priorityLevel:ae,startTime:ue,expirationTime:K,sortIndex:-1},ue>j?(ae.sortIndex=ue,e(c,ae),t(l)===null&&ae===t(c)&&(y?(w(C),C=-1):y=!0,le(T,ue-j))):(ae.sortIndex=K,e(l,ae),_||v||(_=!0,ce(A))),ae},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(ae){var ie=d;return function(){var ue=d;d=ie;try{return ae.apply(this,arguments)}finally{d=ue}}}})(gL);mL.exports=gL;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=Z.exports,jo=mL.exports;function ft(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yL=new Set,q0={};function rp(n,e){Xm(n,e),Xm(n+"Capture",e)}function Xm(n,e){for(q0[n]=e,n=0;n<e.length;n++)yL.add(e[n])}var xc=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),hS=Object.prototype.hasOwnProperty,zH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xC={},wC={};function FH(n){return hS.call(wC,n)?!0:hS.call(xC,n)?!1:zH.test(n)?wC[n]=!0:(xC[n]=!0,!1)}function NH(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function BH(n,e,t,r){if(e===null||typeof e=="undefined"||NH(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xs(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){rs[n]=new Xs(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];rs[e]=new Xs(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){rs[n]=new Xs(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){rs[n]=new Xs(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){rs[n]=new Xs(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){rs[n]=new Xs(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){rs[n]=new Xs(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){rs[n]=new Xs(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){rs[n]=new Xs(n,5,!1,n.toLowerCase(),null,!1,!1)});var I2=/[\-:]([a-z])/g;function L2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(I2,L2);rs[e]=new Xs(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(I2,L2);rs[e]=new Xs(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(I2,L2);rs[e]=new Xs(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){rs[n]=new Xs(n,1,!1,n.toLowerCase(),null,!1,!1)});rs.xlinkHref=new Xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){rs[n]=new Xs(n,1,!1,n.toLowerCase(),null,!0,!0)});function k2(n,e,t,r){var i=rs.hasOwnProperty(e)?rs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BH(e,t,i,r)&&(t=null),r||i===null?FH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Pc=vL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ty=Symbol.for("react.element"),_m=Symbol.for("react.portal"),xm=Symbol.for("react.fragment"),D2=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),_L=Symbol.for("react.provider"),xL=Symbol.for("react.context"),O2=Symbol.for("react.forward_ref"),pS=Symbol.for("react.suspense"),mS=Symbol.for("react.suspense_list"),z2=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),wL=Symbol.for("react.offscreen"),bC=Symbol.iterator;function e0(n){return n===null||typeof n!="object"?null:(n=bC&&n[bC]||n["@@iterator"],typeof n=="function"?n:null)}var qr=Object.assign,kw;function b0(n){if(kw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);kw=e&&e[1]||""}return`
`+kw+n}var Dw=!1;function Ow(n,e){if(!n||Dw)return"";Dw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?b0(n):""}function UH(n){switch(n.tag){case 5:return b0(n.type);case 16:return b0("Lazy");case 13:return b0("Suspense");case 19:return b0("SuspenseList");case 0:case 2:case 15:return n=Ow(n.type,!1),n;case 11:return n=Ow(n.type.render,!1),n;case 1:return n=Ow(n.type,!0),n;default:return""}}function gS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xm:return"Fragment";case _m:return"Portal";case dS:return"Profiler";case D2:return"StrictMode";case pS:return"Suspense";case mS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case xL:return(n.displayName||"Context")+".Consumer";case _L:return(n._context.displayName||"Context")+".Provider";case O2:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z2:return e=n.displayName||null,e!==null?e:gS(n.type)||"Memo";case Of:e=n._payload,n=n._init;try{return gS(n(e))}catch{}}return null}function HH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gS(e);case 8:return e===D2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ih(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function bL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WH(n){var e=bL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ay(n){n._valueTracker||(n._valueTracker=WH(n))}function SL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=bL(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function a1(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function vS(n,e){var t=e.checked;return qr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function SC(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ih(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EL(n,e){e=e.checked,e!=null&&k2(n,"checked",e,!1)}function yS(n,e){EL(n,e);var t=ih(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?_S(n,e.type,t):e.hasOwnProperty("defaultValue")&&_S(n,e.type,ih(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function EC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function _S(n,e,t){(e!=="number"||a1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var S0=Array.isArray;function Fm(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ih(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function xS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ft(91));return qr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function MC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ft(92));if(S0(t)){if(1<t.length)throw Error(ft(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ih(t)}}function ML(n,e){var t=ih(e.value),r=ih(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function TC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function TL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?TL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Cy,AL=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Cy=Cy||document.createElement("div"),Cy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Y0(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var C0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VH=["Webkit","ms","Moz","O"];Object.keys(C0).forEach(function(n){VH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),C0[e]=C0[n]})});function CL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||C0.hasOwnProperty(n)&&C0[n]?(""+e).trim():e+"px"}function RL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=CL(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var GH=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bS(n,e){if(e){if(GH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ft(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ft(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ft(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ft(62))}}function SS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=null;function F2(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var MS=null,Nm=null,Bm=null;function AC(n){if(n=Bv(n)){if(typeof MS!="function")throw Error(ft(280));var e=n.stateNode;e&&(e=lx(e),MS(n.stateNode,n.type,e))}}function PL(n){Nm?Bm?Bm.push(n):Bm=[n]:Nm=n}function IL(){if(Nm){var n=Nm,e=Bm;if(Bm=Nm=null,AC(n),e)for(n=0;n<e.length;n++)AC(e[n])}}function LL(n,e){return n(e)}function kL(){}var zw=!1;function DL(n,e,t){if(zw)return n(e,t);zw=!0;try{return LL(n,e,t)}finally{zw=!1,(Nm!==null||Bm!==null)&&(kL(),IL())}}function X0(n,e){var t=n.stateNode;if(t===null)return null;var r=lx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ft(231,e,typeof t));return t}var TS=!1;if(xc)try{var t0={};Object.defineProperty(t0,"passive",{get:function(){TS=!0}}),window.addEventListener("test",t0,t0),window.removeEventListener("test",t0,t0)}catch{TS=!1}function $H(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(p){this.onError(p)}}var R0=!1,l1=null,u1=!1,AS=null,jH={onError:function(n){R0=!0,l1=n}};function qH(n,e,t,r,i,s,o,a,l){R0=!1,l1=null,$H.apply(jH,arguments)}function YH(n,e,t,r,i,s,o,a,l){if(qH.apply(this,arguments),R0){if(R0){var c=l1;R0=!1,l1=null}else throw Error(ft(198));u1||(u1=!0,AS=c)}}function ip(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function OL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function CC(n){if(ip(n)!==n)throw Error(ft(188))}function XH(n){var e=n.alternate;if(!e){if(e=ip(n),e===null)throw Error(ft(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return CC(i),n;if(s===r)return CC(i),e;s=s.sibling}throw Error(ft(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(ft(189))}}if(t.alternate!==r)throw Error(ft(190))}if(t.tag!==3)throw Error(ft(188));return t.stateNode.current===t?n:e}function zL(n){return n=XH(n),n!==null?FL(n):null}function FL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=FL(n);if(e!==null)return e;n=n.sibling}return null}var NL=jo.unstable_scheduleCallback,RC=jo.unstable_cancelCallback,ZH=jo.unstable_shouldYield,KH=jo.unstable_requestPaint,fi=jo.unstable_now,JH=jo.unstable_getCurrentPriorityLevel,N2=jo.unstable_ImmediatePriority,BL=jo.unstable_UserBlockingPriority,c1=jo.unstable_NormalPriority,QH=jo.unstable_LowPriority,UL=jo.unstable_IdlePriority,ix=null,nu=null;function eW(n){if(nu&&typeof nu.onCommitFiberRoot=="function")try{nu.onCommitFiberRoot(ix,n,void 0,(n.current.flags&128)===128)}catch{}}var hl=Math.clz32?Math.clz32:rW,tW=Math.log,nW=Math.LN2;function rW(n){return n>>>=0,n===0?32:31-(tW(n)/nW|0)|0}var Ry=64,Py=4194304;function E0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function f1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=E0(a):(s&=o,s!==0&&(r=E0(s)))}else o=t&~i,o!==0?r=E0(o):s!==0&&(r=E0(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-hl(e),i=1<<t,r|=n[t],e&=~i;return r}function iW(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sW(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-hl(s),a=1<<o,l=i[o];l===-1?((a&t)===0||(a&r)!==0)&&(i[o]=iW(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function CS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function HL(){var n=Ry;return Ry<<=1,(Ry&4194240)===0&&(Ry=64),n}function Fw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Fv(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-hl(e),n[e]=t}function oW(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-hl(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function B2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-hl(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var fr=0;function WL(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var VL,U2,GL,$L,jL,RS=!1,Iy=[],$f=null,jf=null,qf=null,Z0=new Map,K0=new Map,Ff=[],aW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PC(n,e){switch(n){case"focusin":case"focusout":$f=null;break;case"dragenter":case"dragleave":jf=null;break;case"mouseover":case"mouseout":qf=null;break;case"pointerover":case"pointerout":Z0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":K0.delete(e.pointerId)}}function n0(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bv(e),e!==null&&U2(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function lW(n,e,t,r,i){switch(e){case"focusin":return $f=n0($f,n,e,t,r,i),!0;case"dragenter":return jf=n0(jf,n,e,t,r,i),!0;case"mouseover":return qf=n0(qf,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Z0.set(s,n0(Z0.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,K0.set(s,n0(K0.get(s)||null,n,e,t,r,i)),!0}return!1}function qL(n){var e=Sd(n.target);if(e!==null){var t=ip(e);if(t!==null){if(e=t.tag,e===13){if(e=OL(t),e!==null){n.blockedOn=e,jL(n.priority,function(){GL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function U_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=PS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);ES=r,t.target.dispatchEvent(r),ES=null}else return e=Bv(t),e!==null&&U2(e),n.blockedOn=t,!1;e.shift()}return!0}function IC(n,e,t){U_(n)&&t.delete(e)}function uW(){RS=!1,$f!==null&&U_($f)&&($f=null),jf!==null&&U_(jf)&&(jf=null),qf!==null&&U_(qf)&&(qf=null),Z0.forEach(IC),K0.forEach(IC)}function r0(n,e){n.blockedOn===e&&(n.blockedOn=null,RS||(RS=!0,jo.unstable_scheduleCallback(jo.unstable_NormalPriority,uW)))}function J0(n){function e(i){return r0(i,n)}if(0<Iy.length){r0(Iy[0],n);for(var t=1;t<Iy.length;t++){var r=Iy[t];r.blockedOn===n&&(r.blockedOn=null)}}for($f!==null&&r0($f,n),jf!==null&&r0(jf,n),qf!==null&&r0(qf,n),Z0.forEach(e),K0.forEach(e),t=0;t<Ff.length;t++)r=Ff[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ff.length&&(t=Ff[0],t.blockedOn===null);)qL(t),t.blockedOn===null&&Ff.shift()}var Um=Pc.ReactCurrentBatchConfig,h1=!0;function cW(n,e,t,r){var i=fr,s=Um.transition;Um.transition=null;try{fr=1,H2(n,e,t,r)}finally{fr=i,Um.transition=s}}function fW(n,e,t,r){var i=fr,s=Um.transition;Um.transition=null;try{fr=4,H2(n,e,t,r)}finally{fr=i,Um.transition=s}}function H2(n,e,t,r){if(h1){var i=PS(n,e,t,r);if(i===null)qw(n,e,r,d1,t),PC(n,r);else if(lW(i,n,e,t,r))r.stopPropagation();else if(PC(n,r),e&4&&-1<aW.indexOf(n)){for(;i!==null;){var s=Bv(i);if(s!==null&&VL(s),s=PS(n,e,t,r),s===null&&qw(n,e,r,d1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else qw(n,e,r,null,t)}}var d1=null;function PS(n,e,t,r){if(d1=null,n=F2(r),n=Sd(n),n!==null)if(e=ip(n),e===null)n=null;else if(t=e.tag,t===13){if(n=OL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return d1=n,null}function YL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JH()){case N2:return 1;case BL:return 4;case c1:case QH:return 16;case UL:return 536870912;default:return 16}default:return 16}}var Bf=null,W2=null,H_=null;function XL(){if(H_)return H_;var n,e=W2,t=e.length,r,i="value"in Bf?Bf.value:Bf.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return H_=i.slice(n,1<r?1-r:void 0)}function W_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ly(){return!0}function LC(){return!1}function Xo(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ly:LC,this.isPropagationStopped=LC,this}return qr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ly)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ly)},persist:function(){},isPersistent:Ly}),e}var wg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V2=Xo(wg),Nv=qr({},wg,{view:0,detail:0}),hW=Xo(Nv),Nw,Bw,i0,sx=qr({},Nv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==i0&&(i0&&n.type==="mousemove"?(Nw=n.screenX-i0.screenX,Bw=n.screenY-i0.screenY):Bw=Nw=0,i0=n),Nw)},movementY:function(n){return"movementY"in n?n.movementY:Bw}}),kC=Xo(sx),dW=qr({},sx,{dataTransfer:0}),pW=Xo(dW),mW=qr({},Nv,{relatedTarget:0}),Uw=Xo(mW),gW=qr({},wg,{animationName:0,elapsedTime:0,pseudoElement:0}),vW=Xo(gW),yW=qr({},wg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_W=Xo(yW),xW=qr({},wg,{data:0}),DC=Xo(xW),wW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EW(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=SW[n])?!!e[n]:!1}function G2(){return EW}var MW=qr({},Nv,{key:function(n){if(n.key){var e=wW[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=W_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bW[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G2,charCode:function(n){return n.type==="keypress"?W_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?W_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TW=Xo(MW),AW=qr({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OC=Xo(AW),CW=qr({},Nv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G2}),RW=Xo(CW),PW=qr({},wg,{propertyName:0,elapsedTime:0,pseudoElement:0}),IW=Xo(PW),LW=qr({},sx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kW=Xo(LW),DW=[9,13,27,32],$2=xc&&"CompositionEvent"in window,P0=null;xc&&"documentMode"in document&&(P0=document.documentMode);var OW=xc&&"TextEvent"in window&&!P0,ZL=xc&&(!$2||P0&&8<P0&&11>=P0),zC=String.fromCharCode(32),FC=!1;function KL(n,e){switch(n){case"keyup":return DW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wm=!1;function zW(n,e){switch(n){case"compositionend":return JL(e);case"keypress":return e.which!==32?null:(FC=!0,zC);case"textInput":return n=e.data,n===zC&&FC?null:n;default:return null}}function FW(n,e){if(wm)return n==="compositionend"||!$2&&KL(n,e)?(n=XL(),H_=W2=Bf=null,wm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZL&&e.locale!=="ko"?null:e.data;default:return null}}var NW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!NW[n.type]:e==="textarea"}function QL(n,e,t,r){PL(r),e=p1(e,"onChange"),0<e.length&&(t=new V2("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var I0=null,Q0=null;function BW(n){ck(n,0)}function ox(n){var e=Em(n);if(SL(e))return n}function UW(n,e){if(n==="change")return e}var ek=!1;if(xc){var Hw;if(xc){var Ww="oninput"in document;if(!Ww){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),Ww=typeof BC.oninput=="function"}Hw=Ww}else Hw=!1;ek=Hw&&(!document.documentMode||9<document.documentMode)}function UC(){I0&&(I0.detachEvent("onpropertychange",tk),Q0=I0=null)}function tk(n){if(n.propertyName==="value"&&ox(Q0)){var e=[];QL(e,Q0,n,F2(n)),DL(BW,e)}}function HW(n,e,t){n==="focusin"?(UC(),I0=e,Q0=t,I0.attachEvent("onpropertychange",tk)):n==="focusout"&&UC()}function WW(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ox(Q0)}function VW(n,e){if(n==="click")return ox(e)}function GW(n,e){if(n==="input"||n==="change")return ox(e)}function $W(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var gl=typeof Object.is=="function"?Object.is:$W;function ev(n,e){if(gl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!hS.call(e,i)||!gl(n[i],e[i]))return!1}return!0}function HC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function WC(n,e){var t=HC(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=HC(t)}}function nk(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?nk(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function rk(){for(var n=window,e=a1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=a1(n.document)}return e}function j2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function jW(n){var e=rk(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&nk(t.ownerDocument.documentElement,t)){if(r!==null&&j2(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=WC(t,s);var o=WC(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qW=xc&&"documentMode"in document&&11>=document.documentMode,bm=null,IS=null,L0=null,LS=!1;function VC(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;LS||bm==null||bm!==a1(r)||(r=bm,"selectionStart"in r&&j2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),L0&&ev(L0,r)||(L0=r,r=p1(IS,"onSelect"),0<r.length&&(e=new V2("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=bm)))}function ky(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Sm={animationend:ky("Animation","AnimationEnd"),animationiteration:ky("Animation","AnimationIteration"),animationstart:ky("Animation","AnimationStart"),transitionend:ky("Transition","TransitionEnd")},Vw={},ik={};xc&&(ik=document.createElement("div").style,"AnimationEvent"in window||(delete Sm.animationend.animation,delete Sm.animationiteration.animation,delete Sm.animationstart.animation),"TransitionEvent"in window||delete Sm.transitionend.transition);function ax(n){if(Vw[n])return Vw[n];if(!Sm[n])return n;var e=Sm[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ik)return Vw[n]=e[t];return n}var sk=ax("animationend"),ok=ax("animationiteration"),ak=ax("animationstart"),lk=ax("transitionend"),uk=new Map,GC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mh(n,e){uk.set(n,e),rp(e,[n])}for(var Gw=0;Gw<GC.length;Gw++){var $w=GC[Gw],YW=$w.toLowerCase(),XW=$w[0].toUpperCase()+$w.slice(1);mh(YW,"on"+XW)}mh(sk,"onAnimationEnd");mh(ok,"onAnimationIteration");mh(ak,"onAnimationStart");mh("dblclick","onDoubleClick");mh("focusin","onFocus");mh("focusout","onBlur");mh(lk,"onTransitionEnd");Xm("onMouseEnter",["mouseout","mouseover"]);Xm("onMouseLeave",["mouseout","mouseover"]);Xm("onPointerEnter",["pointerout","pointerover"]);Xm("onPointerLeave",["pointerout","pointerover"]);rp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rp("onBeforeInput",["compositionend","keypress","textInput","paste"]);rp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var M0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZW=new Set("cancel close invalid load scroll toggle".split(" ").concat(M0));function $C(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,YH(r,e,void 0,n),n.currentTarget=null}function ck(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$C(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$C(i,a,c),s=l}}}if(u1)throw n=AS,u1=!1,AS=null,n}function Rr(n,e){var t=e[FS];t===void 0&&(t=e[FS]=new Set);var r=n+"__bubble";t.has(r)||(fk(e,n,2,!1),t.add(r))}function jw(n,e,t){var r=0;e&&(r|=4),fk(t,n,r,e)}var Dy="_reactListening"+Math.random().toString(36).slice(2);function tv(n){if(!n[Dy]){n[Dy]=!0,yL.forEach(function(t){t!=="selectionchange"&&(ZW.has(t)||jw(t,!1,n),jw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Dy]||(e[Dy]=!0,jw("selectionchange",!1,e))}}function fk(n,e,t,r){switch(YL(e)){case 1:var i=cW;break;case 4:i=fW;break;default:i=H2}t=i.bind(null,e,t,n),i=void 0,!TS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function qw(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Sd(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DL(function(){var c=s,p=F2(t),m=[];e:{var d=uk.get(n);if(d!==void 0){var v=V2,_=n;switch(n){case"keypress":if(W_(t)===0)break e;case"keydown":case"keyup":v=TW;break;case"focusin":_="focus",v=Uw;break;case"focusout":_="blur",v=Uw;break;case"beforeblur":case"afterblur":v=Uw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=kC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=pW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=RW;break;case sk:case ok:case ak:v=vW;break;case lk:v=IW;break;case"scroll":v=hW;break;case"wheel":v=kW;break;case"copy":case"cut":case"paste":v=_W;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=OC}var y=(e&4)!==0,x=!y&&n==="scroll",w=y?d!==null?d+"Capture":null:d;y=[];for(var S=c,M;S!==null;){M=S;var T=M.stateNode;if(M.tag===5&&T!==null&&(M=T,w!==null&&(T=X0(S,w),T!=null&&y.push(nv(S,T,M)))),x)break;S=S.return}0<y.length&&(d=new v(d,_,null,t,p),m.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",d&&t!==ES&&(_=t.relatedTarget||t.fromElement)&&(Sd(_)||_[wc]))break e;if((v||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,v?(_=t.relatedTarget||t.toElement,v=c,_=_?Sd(_):null,_!==null&&(x=ip(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(y=kC,T="onMouseLeave",w="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(y=OC,T="onPointerLeave",w="onPointerEnter",S="pointer"),x=v==null?d:Em(v),M=_==null?d:Em(_),d=new y(T,S+"leave",v,t,p),d.target=x,d.relatedTarget=M,T=null,Sd(p)===c&&(y=new y(w,S+"enter",_,t,p),y.target=M,y.relatedTarget=x,T=y),x=T,v&&_)t:{for(y=v,w=_,S=0,M=y;M;M=$p(M))S++;for(M=0,T=w;T;T=$p(T))M++;for(;0<S-M;)y=$p(y),S--;for(;0<M-S;)w=$p(w),M--;for(;S--;){if(y===w||w!==null&&y===w.alternate)break t;y=$p(y),w=$p(w)}y=null}else y=null;v!==null&&jC(m,d,v,y,!1),_!==null&&x!==null&&jC(m,x,_,y,!0)}}e:{if(d=c?Em(c):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var A=UW;else if(NC(d))if(ek)A=GW;else{A=WW;var L=HW}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=VW);if(A&&(A=A(n,c))){QL(m,A,t,p);break e}L&&L(n,d,c),n==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&_S(d,"number",d.value)}switch(L=c?Em(c):window,n){case"focusin":(NC(L)||L.contentEditable==="true")&&(bm=L,IS=c,L0=null);break;case"focusout":L0=IS=bm=null;break;case"mousedown":LS=!0;break;case"contextmenu":case"mouseup":case"dragend":LS=!1,VC(m,t,p);break;case"selectionchange":if(qW)break;case"keydown":case"keyup":VC(m,t,p)}var z;if($2)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wm?KL(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(ZL&&t.locale!=="ko"&&(wm||C!=="onCompositionStart"?C==="onCompositionEnd"&&wm&&(z=XL()):(Bf=p,W2="value"in Bf?Bf.value:Bf.textContent,wm=!0)),L=p1(c,C),0<L.length&&(C=new DC(C,n,null,t,p),m.push({event:C,listeners:L}),z?C.data=z:(z=JL(t),z!==null&&(C.data=z)))),(z=OW?zW(n,t):FW(n,t))&&(c=p1(c,"onBeforeInput"),0<c.length&&(p=new DC("onBeforeInput","beforeinput",null,t,p),m.push({event:p,listeners:c}),p.data=z))}ck(m,e)})}function nv(n,e,t){return{instance:n,listener:e,currentTarget:t}}function p1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=X0(n,t),s!=null&&r.unshift(nv(n,s,i)),s=X0(n,e),s!=null&&r.push(nv(n,s,i))),n=n.return}return r}function $p(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function jC(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=X0(t,s),l!=null&&o.unshift(nv(t,l,a))):i||(l=X0(t,s),l!=null&&o.push(nv(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var KW=/\r\n?/g,JW=/\u0000|\uFFFD/g;function qC(n){return(typeof n=="string"?n:""+n).replace(KW,`
`).replace(JW,"")}function Oy(n,e,t){if(e=qC(e),qC(n)!==e&&t)throw Error(ft(425))}function m1(){}var kS=null,DS=null;function OS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zS=typeof setTimeout=="function"?setTimeout:void 0,QW=typeof clearTimeout=="function"?clearTimeout:void 0,YC=typeof Promise=="function"?Promise:void 0,eV=typeof queueMicrotask=="function"?queueMicrotask:typeof YC!="undefined"?function(n){return YC.resolve(null).then(n).catch(tV)}:zS;function tV(n){setTimeout(function(){throw n})}function Yw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),J0(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);J0(e)}function Yf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function XC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bg=Math.random().toString(36).slice(2),eu="__reactFiber$"+bg,rv="__reactProps$"+bg,wc="__reactContainer$"+bg,FS="__reactEvents$"+bg,nV="__reactListeners$"+bg,rV="__reactHandles$"+bg;function Sd(n){var e=n[eu];if(e)return e;for(var t=n.parentNode;t;){if(e=t[wc]||t[eu]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=XC(n);n!==null;){if(t=n[eu])return t;n=XC(n)}return e}n=t,t=n.parentNode}return null}function Bv(n){return n=n[eu]||n[wc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Em(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ft(33))}function lx(n){return n[rv]||null}var NS=[],Mm=-1;function gh(n){return{current:n}}function Lr(n){0>Mm||(n.current=NS[Mm],NS[Mm]=null,Mm--)}function Sr(n,e){Mm++,NS[Mm]=n.current,n.current=e}var sh={},ws=gh(sh),mo=gh(!1),Ud=sh;function Zm(n,e){var t=n.type.contextTypes;if(!t)return sh;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function go(n){return n=n.childContextTypes,n!=null}function g1(){Lr(mo),Lr(ws)}function ZC(n,e,t){if(ws.current!==sh)throw Error(ft(168));Sr(ws,e),Sr(mo,t)}function hk(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ft(108,HH(n)||"Unknown",i));return qr({},t,r)}function v1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sh,Ud=ws.current,Sr(ws,n),Sr(mo,mo.current),!0}function KC(n,e,t){var r=n.stateNode;if(!r)throw Error(ft(169));t?(n=hk(n,e,Ud),r.__reactInternalMemoizedMergedChildContext=n,Lr(mo),Lr(ws),Sr(ws,n)):Lr(mo),Sr(mo,t)}var fc=null,ux=!1,Xw=!1;function dk(n){fc===null?fc=[n]:fc.push(n)}function iV(n){ux=!0,dk(n)}function vh(){if(!Xw&&fc!==null){Xw=!0;var n=0,e=fr;try{var t=fc;for(fr=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}fc=null,ux=!1}catch(i){throw fc!==null&&(fc=fc.slice(n+1)),NL(N2,vh),i}finally{fr=e,Xw=!1}}return null}var Tm=[],Am=0,y1=null,_1=0,aa=[],la=0,Hd=null,pc=1,mc="";function vd(n,e){Tm[Am++]=_1,Tm[Am++]=y1,y1=n,_1=e}function pk(n,e,t){aa[la++]=pc,aa[la++]=mc,aa[la++]=Hd,Hd=n;var r=pc;n=mc;var i=32-hl(r)-1;r&=~(1<<i),t+=1;var s=32-hl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pc=1<<32-hl(e)+i|t<<i|r,mc=s+n}else pc=1<<s|t<<i|r,mc=n}function q2(n){n.return!==null&&(vd(n,1),pk(n,1,0))}function Y2(n){for(;n===y1;)y1=Tm[--Am],Tm[Am]=null,_1=Tm[--Am],Tm[Am]=null;for(;n===Hd;)Hd=aa[--la],aa[la]=null,mc=aa[--la],aa[la]=null,pc=aa[--la],aa[la]=null}var Go=null,Wo=null,Or=!1,ol=null;function mk(n,e){var t=fa(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function JC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Go=n,Wo=Yf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Go=n,Wo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Hd!==null?{id:pc,overflow:mc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=fa(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Go=n,Wo=null,!0):!1;default:return!1}}function BS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function US(n){if(Or){var e=Wo;if(e){var t=e;if(!JC(n,e)){if(BS(n))throw Error(ft(418));e=Yf(t.nextSibling);var r=Go;e&&JC(n,e)?mk(r,t):(n.flags=n.flags&-4097|2,Or=!1,Go=n)}}else{if(BS(n))throw Error(ft(418));n.flags=n.flags&-4097|2,Or=!1,Go=n}}}function QC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Go=n}function zy(n){if(n!==Go)return!1;if(!Or)return QC(n),Or=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!OS(n.type,n.memoizedProps)),e&&(e=Wo)){if(BS(n))throw gk(),Error(ft(418));for(;e;)mk(n,e),e=Yf(e.nextSibling)}if(QC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ft(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Wo=Yf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Wo=null}}else Wo=Go?Yf(n.stateNode.nextSibling):null;return!0}function gk(){for(var n=Wo;n;)n=Yf(n.nextSibling)}function Km(){Wo=Go=null,Or=!1}function X2(n){ol===null?ol=[n]:ol.push(n)}var sV=Pc.ReactCurrentBatchConfig;function rl(n,e){if(n&&n.defaultProps){e=qr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var x1=gh(null),w1=null,Cm=null,Z2=null;function K2(){Z2=Cm=w1=null}function J2(n){var e=x1.current;Lr(x1),n._currentValue=e}function HS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Hm(n,e){w1=n,Z2=Cm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(ho=!0),n.firstContext=null)}function ma(n){var e=n._currentValue;if(Z2!==n)if(n={context:n,memoizedValue:e,next:null},Cm===null){if(w1===null)throw Error(ft(308));Cm=n,w1.dependencies={lanes:0,firstContext:n}}else Cm=Cm.next=n;return e}var Ed=null;function Q2(n){Ed===null?Ed=[n]:Ed.push(n)}function vk(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Q2(e)):(t.next=i.next,i.next=t),e.interleaved=t,bc(n,r)}function bc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var zf=!1;function eM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yk(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Xf(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(Yn&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bc(n,t)}return i=r.interleaved,i===null?(e.next=e,Q2(r)):(e.next=i.next,i.next=e),r.interleaved=e,bc(n,t)}function V_(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,B2(n,t)}}function e3(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function b1(n,e,t,r){var i=n.updateQueue;zf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var p=n.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,p=c=l=null,a=s;do{var d=a.lane,v=a.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=n,y=a;switch(d=e,v=t,y.tag){case 1:if(_=y.payload,typeof _=="function"){m=_.call(v,m,d);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,d=typeof _=="function"?_.call(v,m,d):_,d==null)break e;m=qr({},m,d);break e;case 2:zf=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else v={eventTime:v,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=v,l=m):p=p.next=v,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(p===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vd|=o,n.lanes=o,n.memoizedState=m}}function t3(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ft(191,i));i.call(r)}}}var _k=new vL.Component().refs;function WS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:qr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cx={isMounted:function(n){return(n=n._reactInternals)?ip(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Vs(),i=Kf(n),s=vc(r,i);s.payload=e,t!=null&&(s.callback=t),e=Xf(n,s,i),e!==null&&(dl(e,n,i,r),V_(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Vs(),i=Kf(n),s=vc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Xf(n,s,i),e!==null&&(dl(e,n,i,r),V_(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Vs(),r=Kf(n),i=vc(t,r);i.tag=2,e!=null&&(i.callback=e),e=Xf(n,i,r),e!==null&&(dl(e,n,r,t),V_(e,n,r))}};function n3(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ev(t,r)||!ev(i,s):!0}function xk(n,e,t){var r=!1,i=sh,s=e.contextType;return typeof s=="object"&&s!==null?s=ma(s):(i=go(e)?Ud:ws.current,r=e.contextTypes,s=(r=r!=null)?Zm(n,i):sh),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function r3(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&cx.enqueueReplaceState(e,e.state,null)}function VS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=_k,eM(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ma(s):(s=go(e)?Ud:ws.current,i.context=Zm(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(WS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cx.enqueueReplaceState(i,i.state,null),b1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function s0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ft(309));var r=t.stateNode}if(!r)throw Error(ft(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===_k&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(ft(284));if(!t._owner)throw Error(ft(290,n))}return n}function Fy(n,e){throw n=Object.prototype.toString.call(e),Error(ft(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function i3(n){var e=n._init;return e(n._payload)}function wk(n){function e(w,S){if(n){var M=w.deletions;M===null?(w.deletions=[S],w.flags|=16):M.push(S)}}function t(w,S){if(!n)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=Jf(w,S),w.index=0,w.sibling=null,w}function s(w,S,M){return w.index=M,n?(M=w.alternate,M!==null?(M=M.index,M<S?(w.flags|=2,S):M):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,S,M,T){return S===null||S.tag!==6?(S=nb(M,w.mode,T),S.return=w,S):(S=i(S,M),S.return=w,S)}function l(w,S,M,T){var A=M.type;return A===xm?p(w,S,M.props.children,T,M.key):S!==null&&(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Of&&i3(A)===S.type)?(T=i(S,M.props),T.ref=s0(w,S,M),T.return=w,T):(T=X_(M.type,M.key,M.props,null,w.mode,T),T.ref=s0(w,S,M),T.return=w,T)}function c(w,S,M,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=rb(M,w.mode,T),S.return=w,S):(S=i(S,M.children||[]),S.return=w,S)}function p(w,S,M,T,A){return S===null||S.tag!==7?(S=Pd(M,w.mode,T,A),S.return=w,S):(S=i(S,M),S.return=w,S)}function m(w,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=nb(""+S,w.mode,M),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ty:return M=X_(S.type,S.key,S.props,null,w.mode,M),M.ref=s0(w,null,S),M.return=w,M;case _m:return S=rb(S,w.mode,M),S.return=w,S;case Of:var T=S._init;return m(w,T(S._payload),M)}if(S0(S)||e0(S))return S=Pd(S,w.mode,M,null),S.return=w,S;Fy(w,S)}return null}function d(w,S,M,T){var A=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return A!==null?null:a(w,S,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ty:return M.key===A?l(w,S,M,T):null;case _m:return M.key===A?c(w,S,M,T):null;case Of:return A=M._init,d(w,S,A(M._payload),T)}if(S0(M)||e0(M))return A!==null?null:p(w,S,M,T,null);Fy(w,M)}return null}function v(w,S,M,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(M)||null,a(S,w,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ty:return w=w.get(T.key===null?M:T.key)||null,l(S,w,T,A);case _m:return w=w.get(T.key===null?M:T.key)||null,c(S,w,T,A);case Of:var L=T._init;return v(w,S,M,L(T._payload),A)}if(S0(T)||e0(T))return w=w.get(M)||null,p(S,w,T,A,null);Fy(S,T)}return null}function _(w,S,M,T){for(var A=null,L=null,z=S,C=S=0,F=null;z!==null&&C<M.length;C++){z.index>C?(F=z,z=null):F=z.sibling;var H=d(w,z,M[C],T);if(H===null){z===null&&(z=F);break}n&&z&&H.alternate===null&&e(w,z),S=s(H,S,C),L===null?A=H:L.sibling=H,L=H,z=F}if(C===M.length)return t(w,z),Or&&vd(w,C),A;if(z===null){for(;C<M.length;C++)z=m(w,M[C],T),z!==null&&(S=s(z,S,C),L===null?A=z:L.sibling=z,L=z);return Or&&vd(w,C),A}for(z=r(w,z);C<M.length;C++)F=v(z,w,C,M[C],T),F!==null&&(n&&F.alternate!==null&&z.delete(F.key===null?C:F.key),S=s(F,S,C),L===null?A=F:L.sibling=F,L=F);return n&&z.forEach(function(q){return e(w,q)}),Or&&vd(w,C),A}function y(w,S,M,T){var A=e0(M);if(typeof A!="function")throw Error(ft(150));if(M=A.call(M),M==null)throw Error(ft(151));for(var L=A=null,z=S,C=S=0,F=null,H=M.next();z!==null&&!H.done;C++,H=M.next()){z.index>C?(F=z,z=null):F=z.sibling;var q=d(w,z,H.value,T);if(q===null){z===null&&(z=F);break}n&&z&&q.alternate===null&&e(w,z),S=s(q,S,C),L===null?A=q:L.sibling=q,L=q,z=F}if(H.done)return t(w,z),Or&&vd(w,C),A;if(z===null){for(;!H.done;C++,H=M.next())H=m(w,H.value,T),H!==null&&(S=s(H,S,C),L===null?A=H:L.sibling=H,L=H);return Or&&vd(w,C),A}for(z=r(w,z);!H.done;C++,H=M.next())H=v(z,w,C,H.value,T),H!==null&&(n&&H.alternate!==null&&z.delete(H.key===null?C:H.key),S=s(H,S,C),L===null?A=H:L.sibling=H,L=H);return n&&z.forEach(function(B){return e(w,B)}),Or&&vd(w,C),A}function x(w,S,M,T){if(typeof M=="object"&&M!==null&&M.type===xm&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Ty:e:{for(var A=M.key,L=S;L!==null;){if(L.key===A){if(A=M.type,A===xm){if(L.tag===7){t(w,L.sibling),S=i(L,M.props.children),S.return=w,w=S;break e}}else if(L.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Of&&i3(A)===L.type){t(w,L.sibling),S=i(L,M.props),S.ref=s0(w,L,M),S.return=w,w=S;break e}t(w,L);break}else e(w,L);L=L.sibling}M.type===xm?(S=Pd(M.props.children,w.mode,T,M.key),S.return=w,w=S):(T=X_(M.type,M.key,M.props,null,w.mode,T),T.ref=s0(w,S,M),T.return=w,w=T)}return o(w);case _m:e:{for(L=M.key;S!==null;){if(S.key===L)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){t(w,S.sibling),S=i(S,M.children||[]),S.return=w,w=S;break e}else{t(w,S);break}else e(w,S);S=S.sibling}S=rb(M,w.mode,T),S.return=w,w=S}return o(w);case Of:return L=M._init,x(w,S,L(M._payload),T)}if(S0(M))return _(w,S,M,T);if(e0(M))return y(w,S,M,T);Fy(w,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(t(w,S.sibling),S=i(S,M),S.return=w,w=S):(t(w,S),S=nb(M,w.mode,T),S.return=w,w=S),o(w)):t(w,S)}return x}var Jm=wk(!0),bk=wk(!1),Uv={},ru=gh(Uv),iv=gh(Uv),sv=gh(Uv);function Md(n){if(n===Uv)throw Error(ft(174));return n}function tM(n,e){switch(Sr(sv,e),Sr(iv,n),Sr(ru,Uv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=wS(e,n)}Lr(ru),Sr(ru,e)}function Qm(){Lr(ru),Lr(iv),Lr(sv)}function Sk(n){Md(sv.current);var e=Md(ru.current),t=wS(e,n.type);e!==t&&(Sr(iv,n),Sr(ru,t))}function nM(n){iv.current===n&&(Lr(ru),Lr(iv))}var Vr=gh(0);function S1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zw=[];function rM(){for(var n=0;n<Zw.length;n++)Zw[n]._workInProgressVersionPrimary=null;Zw.length=0}var G_=Pc.ReactCurrentDispatcher,Kw=Pc.ReactCurrentBatchConfig,Wd=0,jr=null,Di=null,$i=null,E1=!1,k0=!1,ov=0,oV=0;function gs(){throw Error(ft(321))}function iM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!gl(n[t],e[t]))return!1;return!0}function sM(n,e,t,r,i,s){if(Wd=s,jr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G_.current=n===null||n.memoizedState===null?cV:fV,n=t(r,i),k0){s=0;do{if(k0=!1,ov=0,25<=s)throw Error(ft(301));s+=1,$i=Di=null,e.updateQueue=null,G_.current=hV,n=t(r,i)}while(k0)}if(G_.current=M1,e=Di!==null&&Di.next!==null,Wd=0,$i=Di=jr=null,E1=!1,e)throw Error(ft(300));return n}function oM(){var n=ov!==0;return ov=0,n}function Zl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?jr.memoizedState=$i=n:$i=$i.next=n,$i}function ga(){if(Di===null){var n=jr.alternate;n=n!==null?n.memoizedState:null}else n=Di.next;var e=$i===null?jr.memoizedState:$i.next;if(e!==null)$i=e,Di=n;else{if(n===null)throw Error(ft(310));Di=n,n={memoizedState:Di.memoizedState,baseState:Di.baseState,baseQueue:Di.baseQueue,queue:Di.queue,next:null},$i===null?jr.memoizedState=$i=n:$i=$i.next=n}return $i}function av(n,e){return typeof e=="function"?e(n):e}function Jw(n){var e=ga(),t=e.queue;if(t===null)throw Error(ft(311));t.lastRenderedReducer=n;var r=Di,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var p=c.lane;if((Wd&p)===p)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var m={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,jr.lanes|=p,Vd|=p}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,gl(r,e.memoizedState)||(ho=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,jr.lanes|=s,Vd|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Qw(n){var e=ga(),t=e.queue;if(t===null)throw Error(ft(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);gl(s,e.memoizedState)||(ho=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Ek(){}function Mk(n,e){var t=jr,r=ga(),i=e(),s=!gl(r.memoizedState,i);if(s&&(r.memoizedState=i,ho=!0),r=r.queue,aM(Ck.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||$i!==null&&$i.memoizedState.tag&1){if(t.flags|=2048,lv(9,Ak.bind(null,t,r,i,e),void 0,null),qi===null)throw Error(ft(349));(Wd&30)!==0||Tk(t,e,i)}return i}function Tk(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Ak(n,e,t,r){e.value=t,e.getSnapshot=r,Rk(e)&&Pk(n)}function Ck(n,e,t){return t(function(){Rk(e)&&Pk(n)})}function Rk(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!gl(n,t)}catch{return!0}}function Pk(n){var e=bc(n,1);e!==null&&dl(e,n,1,-1)}function s3(n){var e=Zl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:n},e.queue=n,n=n.dispatch=uV.bind(null,jr,n),[e.memoizedState,n]}function lv(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Ik(){return ga().memoizedState}function $_(n,e,t,r){var i=Zl();jr.flags|=n,i.memoizedState=lv(1|e,t,void 0,r===void 0?null:r)}function fx(n,e,t,r){var i=ga();r=r===void 0?null:r;var s=void 0;if(Di!==null){var o=Di.memoizedState;if(s=o.destroy,r!==null&&iM(r,o.deps)){i.memoizedState=lv(e,t,s,r);return}}jr.flags|=n,i.memoizedState=lv(1|e,t,s,r)}function o3(n,e){return $_(8390656,8,n,e)}function aM(n,e){return fx(2048,8,n,e)}function Lk(n,e){return fx(4,2,n,e)}function kk(n,e){return fx(4,4,n,e)}function Dk(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Ok(n,e,t){return t=t!=null?t.concat([n]):null,fx(4,4,Dk.bind(null,e,n),t)}function lM(){}function zk(n,e){var t=ga();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&iM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Fk(n,e){var t=ga();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&iM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Nk(n,e,t){return(Wd&21)===0?(n.baseState&&(n.baseState=!1,ho=!0),n.memoizedState=t):(gl(t,e)||(t=HL(),jr.lanes|=t,Vd|=t,n.baseState=!0),e)}function aV(n,e){var t=fr;fr=t!==0&&4>t?t:4,n(!0);var r=Kw.transition;Kw.transition={};try{n(!1),e()}finally{fr=t,Kw.transition=r}}function Bk(){return ga().memoizedState}function lV(n,e,t){var r=Kf(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Uk(n))Hk(e,t);else if(t=vk(n,e,t,r),t!==null){var i=Vs();dl(t,n,r,i),Wk(t,e,r)}}function uV(n,e,t){var r=Kf(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Uk(n))Hk(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,gl(a,o)){var l=e.interleaved;l===null?(i.next=i,Q2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=vk(n,e,i,r),t!==null&&(i=Vs(),dl(t,n,r,i),Wk(t,e,r))}}function Uk(n){var e=n.alternate;return n===jr||e!==null&&e===jr}function Hk(n,e){k0=E1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Wk(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,B2(n,t)}}var M1={readContext:ma,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},cV={readContext:ma,useCallback:function(n,e){return Zl().memoizedState=[n,e===void 0?null:e],n},useContext:ma,useEffect:o3,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,$_(4194308,4,Dk.bind(null,e,n),t)},useLayoutEffect:function(n,e){return $_(4194308,4,n,e)},useInsertionEffect:function(n,e){return $_(4,2,n,e)},useMemo:function(n,e){var t=Zl();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Zl();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=lV.bind(null,jr,n),[r.memoizedState,n]},useRef:function(n){var e=Zl();return n={current:n},e.memoizedState=n},useState:s3,useDebugValue:lM,useDeferredValue:function(n){return Zl().memoizedState=n},useTransition:function(){var n=s3(!1),e=n[0];return n=aV.bind(null,n[1]),Zl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=jr,i=Zl();if(Or){if(t===void 0)throw Error(ft(407));t=t()}else{if(t=e(),qi===null)throw Error(ft(349));(Wd&30)!==0||Tk(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,o3(Ck.bind(null,r,s,n),[n]),r.flags|=2048,lv(9,Ak.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Zl(),e=qi.identifierPrefix;if(Or){var t=mc,r=pc;t=(r&~(1<<32-hl(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ov++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=oV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},fV={readContext:ma,useCallback:zk,useContext:ma,useEffect:aM,useImperativeHandle:Ok,useInsertionEffect:Lk,useLayoutEffect:kk,useMemo:Fk,useReducer:Jw,useRef:Ik,useState:function(){return Jw(av)},useDebugValue:lM,useDeferredValue:function(n){var e=ga();return Nk(e,Di.memoizedState,n)},useTransition:function(){var n=Jw(av)[0],e=ga().memoizedState;return[n,e]},useMutableSource:Ek,useSyncExternalStore:Mk,useId:Bk,unstable_isNewReconciler:!1},hV={readContext:ma,useCallback:zk,useContext:ma,useEffect:aM,useImperativeHandle:Ok,useInsertionEffect:Lk,useLayoutEffect:kk,useMemo:Fk,useReducer:Qw,useRef:Ik,useState:function(){return Qw(av)},useDebugValue:lM,useDeferredValue:function(n){var e=ga();return Di===null?e.memoizedState=n:Nk(e,Di.memoizedState,n)},useTransition:function(){var n=Qw(av)[0],e=ga().memoizedState;return[n,e]},useMutableSource:Ek,useSyncExternalStore:Mk,useId:Bk,unstable_isNewReconciler:!1};function eg(n,e){try{var t="",r=e;do t+=UH(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function eb(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function GS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var dV=typeof WeakMap=="function"?WeakMap:Map;function Vk(n,e,t){t=vc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){A1||(A1=!0,eE=r),GS(n,e)},t}function Gk(n,e,t){t=vc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){GS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){GS(n,e),typeof r!="function"&&(Zf===null?Zf=new Set([this]):Zf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function a3(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new dV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=AV.bind(null,n,e,t),e.then(n,n))}function l3(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function u3(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=vc(-1,1),e.tag=2,Xf(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var pV=Pc.ReactCurrentOwner,ho=!1;function Fs(n,e,t,r){e.child=n===null?bk(e,null,t,r):Jm(e,n.child,t,r)}function c3(n,e,t,r,i){t=t.render;var s=e.ref;return Hm(e,i),r=sM(n,e,t,r,s,i),t=oM(),n!==null&&!ho?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Sc(n,e,i)):(Or&&t&&q2(e),e.flags|=1,Fs(n,e,r,i),e.child)}function f3(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!gM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,$k(n,e,s,r,i)):(n=X_(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:ev,t(o,r)&&n.ref===e.ref)return Sc(n,e,i)}return e.flags|=1,n=Jf(s,r),n.ref=e.ref,n.return=e,e.child=n}function $k(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(ev(s,r)&&n.ref===e.ref)if(ho=!1,e.pendingProps=r=s,(n.lanes&i)!==0)(n.flags&131072)!==0&&(ho=!0);else return e.lanes=n.lanes,Sc(n,e,i)}return $S(n,e,t,r,i)}function jk(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Pm,Ho),Ho|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Sr(Pm,Ho),Ho|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Sr(Pm,Ho),Ho|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Sr(Pm,Ho),Ho|=r;return Fs(n,e,i,t),e.child}function qk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function $S(n,e,t,r,i){var s=go(t)?Ud:ws.current;return s=Zm(e,s),Hm(e,i),t=sM(n,e,t,r,s,i),r=oM(),n!==null&&!ho?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Sc(n,e,i)):(Or&&r&&q2(e),e.flags|=1,Fs(n,e,t,i),e.child)}function h3(n,e,t,r,i){if(go(t)){var s=!0;v1(e)}else s=!1;if(Hm(e,i),e.stateNode===null)j_(n,e),xk(e,t,r),VS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ma(c):(c=go(t)?Ud:ws.current,c=Zm(e,c));var p=t.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&r3(e,o,r,c),zf=!1;var d=e.memoizedState;o.state=d,b1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||mo.current||zf?(typeof p=="function"&&(WS(e,t,p,r),l=e.memoizedState),(a=zf||n3(e,t,a,r,d,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yk(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:rl(e.type,a),o.props=c,m=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ma(l):(l=go(t)?Ud:ws.current,l=Zm(e,l));var v=t.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||d!==l)&&r3(e,o,r,l),zf=!1,d=e.memoizedState,o.state=d,b1(e,r,o,i);var _=e.memoizedState;a!==m||d!==_||mo.current||zf?(typeof v=="function"&&(WS(e,t,v,r),_=e.memoizedState),(c=zf||n3(e,t,c,r,d,_,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return jS(n,e,t,r,s,i)}function jS(n,e,t,r,i,s){qk(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&KC(e,t,!1),Sc(n,e,s);r=e.stateNode,pV.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Jm(e,n.child,null,s),e.child=Jm(e,null,a,s)):Fs(n,e,a,s),e.memoizedState=r.state,i&&KC(e,t,!0),e.child}function Yk(n){var e=n.stateNode;e.pendingContext?ZC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ZC(n,e.context,!1),tM(n,e.containerInfo)}function d3(n,e,t,r,i){return Km(),X2(i),e.flags|=256,Fs(n,e,t,r),e.child}var qS={dehydrated:null,treeContext:null,retryLane:0};function YS(n){return{baseLanes:n,cachePool:null,transitions:null}}function Xk(n,e,t){var r=e.pendingProps,i=Vr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Sr(Vr,i&1),n===null)return US(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=px(o,r,0,null),n=Pd(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=YS(t),e.memoizedState=qS,n):uM(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mV(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jf(a,s):(s=Pd(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?YS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=qS,r}return s=n.child,n=s.sibling,r=Jf(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function uM(n,e){return e=px({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ny(n,e,t,r){return r!==null&&X2(r),Jm(e,n.child,null,t),n=uM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function mV(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=eb(Error(ft(422))),Ny(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=px({mode:"visible",children:r.children},i,0,null),s=Pd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Jm(e,n.child,null,o),e.child.memoizedState=YS(o),e.memoizedState=qS,s);if((e.mode&1)===0)return Ny(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ft(419)),r=eb(s,r,void 0),Ny(n,e,o,r)}if(a=(o&n.childLanes)!==0,ho||a){if(r=qi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bc(n,i),dl(r,n,i,-1))}return mM(),r=eb(Error(ft(421))),Ny(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=CV.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Wo=Yf(i.nextSibling),Go=e,Or=!0,ol=null,n!==null&&(aa[la++]=pc,aa[la++]=mc,aa[la++]=Hd,pc=n.id,mc=n.overflow,Hd=e),e=uM(e,r.children),e.flags|=4096,e)}function p3(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),HS(n.return,e,t)}function tb(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function Zk(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fs(n,e,r.children,t),r=Vr.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&p3(n,t,e);else if(n.tag===19)p3(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Sr(Vr,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&S1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),tb(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&S1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}tb(e,!0,t,null,s);break;case"together":tb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function j_(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Sc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Vd|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(ft(153));if(e.child!==null){for(n=e.child,t=Jf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Jf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function gV(n,e,t){switch(e.tag){case 3:Yk(e),Km();break;case 5:Sk(e);break;case 1:go(e.type)&&v1(e);break;case 4:tM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sr(x1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sr(Vr,Vr.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?Xk(n,e,t):(Sr(Vr,Vr.current&1),n=Sc(n,e,t),n!==null?n.sibling:null);Sr(Vr,Vr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return Zk(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Vr,Vr.current),r)break;return null;case 22:case 23:return e.lanes=0,jk(n,e,t)}return Sc(n,e,t)}var Kk,XS,Jk,Qk;Kk=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};XS=function(){};Jk=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Md(ru.current);var s=null;switch(t){case"input":i=vS(n,i),r=vS(n,r),s=[];break;case"select":i=qr({},i,{value:void 0}),r=qr({},r,{value:void 0}),s=[];break;case"textarea":i=xS(n,i),r=xS(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=m1)}bS(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(q0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(q0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Qk=function(n,e,t,r){t!==r&&(e.flags|=4)};function o0(n,e){if(!Or)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function vs(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function vV(n,e,t){var r=e.pendingProps;switch(Y2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(e),null;case 1:return go(e.type)&&g1(),vs(e),null;case 3:return r=e.stateNode,Qm(),Lr(mo),Lr(ws),rM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(zy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ol!==null&&(rE(ol),ol=null))),XS(n,e),vs(e),null;case 5:nM(e);var i=Md(sv.current);if(t=e.type,n!==null&&e.stateNode!=null)Jk(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ft(166));return vs(e),null}if(n=Md(ru.current),zy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[eu]=e,r[rv]=s,n=(e.mode&1)!==0,t){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(i=0;i<M0.length;i++)Rr(M0[i],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":SC(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":MC(r,s),Rr("invalid",r)}bS(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Oy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Oy(r.textContent,a,n),i=["children",""+a]):q0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rr("scroll",r)}switch(t){case"input":Ay(r),EC(r,s,!0);break;case"textarea":Ay(r),TC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=m1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=TL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[eu]=e,n[rv]=r,Kk(n,e,!1,!1),e.stateNode=n;e:{switch(o=SS(t,r),t){case"dialog":Rr("cancel",n),Rr("close",n),i=r;break;case"iframe":case"object":case"embed":Rr("load",n),i=r;break;case"video":case"audio":for(i=0;i<M0.length;i++)Rr(M0[i],n);i=r;break;case"source":Rr("error",n),i=r;break;case"img":case"image":case"link":Rr("error",n),Rr("load",n),i=r;break;case"details":Rr("toggle",n),i=r;break;case"input":SC(n,r),i=vS(n,r),Rr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=qr({},r,{value:void 0}),Rr("invalid",n);break;case"textarea":MC(n,r),i=xS(n,r),Rr("invalid",n);break;default:i=r}bS(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?RL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AL(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Y0(n,l):typeof l=="number"&&Y0(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(q0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rr("scroll",n):l!=null&&k2(n,s,l,o))}switch(t){case"input":Ay(n),EC(n,r,!1);break;case"textarea":Ay(n),TC(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ih(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Fm(n,!!r.multiple,s,!1):r.defaultValue!=null&&Fm(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=m1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vs(e),null;case 6:if(n&&e.stateNode!=null)Qk(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ft(166));if(t=Md(sv.current),Md(ru.current),zy(e)){if(r=e.stateNode,t=e.memoizedProps,r[eu]=e,(s=r.nodeValue!==t)&&(n=Go,n!==null))switch(n.tag){case 3:Oy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Oy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[eu]=e,e.stateNode=r}return vs(e),null;case 13:if(Lr(Vr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Or&&Wo!==null&&(e.mode&1)!==0&&(e.flags&128)===0)gk(),Km(),e.flags|=98560,s=!1;else if(s=zy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(ft(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ft(317));s[eu]=e}else Km(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;vs(e),s=!1}else ol!==null&&(rE(ol),ol=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(Vr.current&1)!==0?zi===0&&(zi=3):mM())),e.updateQueue!==null&&(e.flags|=4),vs(e),null);case 4:return Qm(),XS(n,e),n===null&&tv(e.stateNode.containerInfo),vs(e),null;case 10:return J2(e.type._context),vs(e),null;case 17:return go(e.type)&&g1(),vs(e),null;case 19:if(Lr(Vr),s=e.memoizedState,s===null)return vs(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)o0(s,!1);else{if(zi!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=S1(n),o!==null){for(e.flags|=128,o0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Sr(Vr,Vr.current&1|2),e.child}n=n.sibling}s.tail!==null&&fi()>tg&&(e.flags|=128,r=!0,o0(s,!1),e.lanes=4194304)}else{if(!r)if(n=S1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),o0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Or)return vs(e),null}else 2*fi()-s.renderingStartTime>tg&&t!==1073741824&&(e.flags|=128,r=!0,o0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fi(),e.sibling=null,t=Vr.current,Sr(Vr,r?t&1|2:t&1),e):(vs(e),null);case 22:case 23:return pM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Ho&1073741824)!==0&&(vs(e),e.subtreeFlags&6&&(e.flags|=8192)):vs(e),null;case 24:return null;case 25:return null}throw Error(ft(156,e.tag))}function yV(n,e){switch(Y2(e),e.tag){case 1:return go(e.type)&&g1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qm(),Lr(mo),Lr(ws),rM(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return nM(e),null;case 13:if(Lr(Vr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ft(340));Km()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Lr(Vr),null;case 4:return Qm(),null;case 10:return J2(e.type._context),null;case 22:case 23:return pM(),null;case 24:return null;default:return null}}var By=!1,_s=!1,_V=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Rm(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ti(n,e,r)}else t.current=null}function ZS(n,e,t){try{t()}catch(r){ti(n,e,r)}}var m3=!1;function xV(n,e){if(kS=h1,n=rk(),j2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,p=0,m=n,d=null;t:for(;;){for(var v;m!==t||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)d=m,m=v;for(;;){if(m===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++p===r&&(l=o),(v=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=v}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(DS={focusedElem:n,selectionRange:t},h1=!1,Lt=e;Lt!==null;)if(e=Lt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Lt=n;else for(;Lt!==null;){e=Lt;try{var _=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,x=_.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:rl(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(T){ti(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,Lt=n;break}Lt=e.return}return _=m3,m3=!1,_}function D0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&ZS(e,t,s)}i=i.next}while(i!==r)}}function hx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function KS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function eD(n){var e=n.alternate;e!==null&&(n.alternate=null,eD(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[eu],delete e[rv],delete e[FS],delete e[nV],delete e[rV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function tD(n){return n.tag===5||n.tag===3||n.tag===4}function g3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tD(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function JS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=m1));else if(r!==4&&(n=n.child,n!==null))for(JS(n,e,t),n=n.sibling;n!==null;)JS(n,e,t),n=n.sibling}function QS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(QS(n,e,t),n=n.sibling;n!==null;)QS(n,e,t),n=n.sibling}var ts=null,il=!1;function Mf(n,e,t){for(t=t.child;t!==null;)nD(n,e,t),t=t.sibling}function nD(n,e,t){if(nu&&typeof nu.onCommitFiberUnmount=="function")try{nu.onCommitFiberUnmount(ix,t)}catch{}switch(t.tag){case 5:_s||Rm(t,e);case 6:var r=ts,i=il;ts=null,Mf(n,e,t),ts=r,il=i,ts!==null&&(il?(n=ts,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ts.removeChild(t.stateNode));break;case 18:ts!==null&&(il?(n=ts,t=t.stateNode,n.nodeType===8?Yw(n.parentNode,t):n.nodeType===1&&Yw(n,t),J0(n)):Yw(ts,t.stateNode));break;case 4:r=ts,i=il,ts=t.stateNode.containerInfo,il=!0,Mf(n,e,t),ts=r,il=i;break;case 0:case 11:case 14:case 15:if(!_s&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&ZS(t,e,o),i=i.next}while(i!==r)}Mf(n,e,t);break;case 1:if(!_s&&(Rm(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ti(t,e,a)}Mf(n,e,t);break;case 21:Mf(n,e,t);break;case 22:t.mode&1?(_s=(r=_s)||t.memoizedState!==null,Mf(n,e,t),_s=r):Mf(n,e,t);break;default:Mf(n,e,t)}}function v3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new _V),e.forEach(function(r){var i=RV.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Za(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ts=a.stateNode,il=!1;break e;case 3:ts=a.stateNode.containerInfo,il=!0;break e;case 4:ts=a.stateNode.containerInfo,il=!0;break e}a=a.return}if(ts===null)throw Error(ft(160));nD(s,o,i),ts=null,il=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ti(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rD(e,n),e=e.sibling}function rD(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Za(e,n),Yl(n),r&4){try{D0(3,n,n.return),hx(3,n)}catch(y){ti(n,n.return,y)}try{D0(5,n,n.return)}catch(y){ti(n,n.return,y)}}break;case 1:Za(e,n),Yl(n),r&512&&t!==null&&Rm(t,t.return);break;case 5:if(Za(e,n),Yl(n),r&512&&t!==null&&Rm(t,t.return),n.flags&32){var i=n.stateNode;try{Y0(i,"")}catch(y){ti(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&EL(i,s),SS(a,o);var c=SS(a,s);for(o=0;o<l.length;o+=2){var p=l[o],m=l[o+1];p==="style"?RL(i,m):p==="dangerouslySetInnerHTML"?AL(i,m):p==="children"?Y0(i,m):k2(i,p,m,c)}switch(a){case"input":yS(i,s);break;case"textarea":ML(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fm(i,!!s.multiple,v,!1):d!==!!s.multiple&&(s.defaultValue!=null?Fm(i,!!s.multiple,s.defaultValue,!0):Fm(i,!!s.multiple,s.multiple?[]:"",!1))}i[rv]=s}catch(y){ti(n,n.return,y)}}break;case 6:if(Za(e,n),Yl(n),r&4){if(n.stateNode===null)throw Error(ft(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){ti(n,n.return,y)}}break;case 3:if(Za(e,n),Yl(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{J0(e.containerInfo)}catch(y){ti(n,n.return,y)}break;case 4:Za(e,n),Yl(n);break;case 13:Za(e,n),Yl(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hM=fi())),r&4&&v3(n);break;case 22:if(p=t!==null&&t.memoizedState!==null,n.mode&1?(_s=(c=_s)||p,Za(e,n),_s=c):Za(e,n),Yl(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!p&&(n.mode&1)!==0)for(Lt=n,p=n.child;p!==null;){for(m=Lt=p;Lt!==null;){switch(d=Lt,v=d.child,d.tag){case 0:case 11:case 14:case 15:D0(4,d,d.return);break;case 1:Rm(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){ti(r,t,y)}}break;case 5:Rm(d,d.return);break;case 22:if(d.memoizedState!==null){_3(m);continue}}v!==null?(v.return=d,Lt=v):_3(m)}p=p.sibling}e:for(p=null,m=n;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CL("display",o))}catch(y){ti(n,n.return,y)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(y){ti(n,n.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===n)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Za(e,n),Yl(n),r&4&&v3(n);break;case 21:break;default:Za(e,n),Yl(n)}}function Yl(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(tD(t)){var r=t;break e}t=t.return}throw Error(ft(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Y0(i,""),r.flags&=-33);var s=g3(n);QS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g3(n);JS(n,a,o);break;default:throw Error(ft(161))}}catch(l){ti(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function wV(n,e,t){Lt=n,iD(n)}function iD(n,e,t){for(var r=(n.mode&1)!==0;Lt!==null;){var i=Lt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||By;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_s;a=By;var c=_s;if(By=o,(_s=l)&&!c)for(Lt=i;Lt!==null;)o=Lt,l=o.child,o.tag===22&&o.memoizedState!==null?x3(i):l!==null?(l.return=o,Lt=l):x3(i);for(;s!==null;)Lt=s,iD(s),s=s.sibling;Lt=i,By=a,_s=c}y3(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,Lt=s):y3(n)}}function y3(n){for(;Lt!==null;){var e=Lt;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:_s||hx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_s)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:rl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}t3(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&J0(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}_s||e.flags&512&&KS(e)}catch(d){ti(e,e.return,d)}}if(e===n){Lt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Lt=t;break}Lt=e.return}}function _3(n){for(;Lt!==null;){var e=Lt;if(e===n){Lt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Lt=t;break}Lt=e.return}}function x3(n){for(;Lt!==null;){var e=Lt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{hx(4,e)}catch(l){ti(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ti(e,i,l)}}var s=e.return;try{KS(e)}catch(l){ti(e,s,l)}break;case 5:var o=e.return;try{KS(e)}catch(l){ti(e,o,l)}}}catch(l){ti(e,e.return,l)}if(e===n){Lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Lt=a;break}Lt=e.return}}var bV=Math.ceil,T1=Pc.ReactCurrentDispatcher,cM=Pc.ReactCurrentOwner,da=Pc.ReactCurrentBatchConfig,Yn=0,qi=null,Ai=null,ns=0,Ho=0,Pm=gh(0),zi=0,uv=null,Vd=0,dx=0,fM=0,O0=null,fo=null,hM=0,tg=1/0,uc=null,A1=!1,eE=null,Zf=null,Uy=!1,Uf=null,C1=0,z0=0,tE=null,q_=-1,Y_=0;function Vs(){return(Yn&6)!==0?fi():q_!==-1?q_:q_=fi()}function Kf(n){return(n.mode&1)===0?1:(Yn&2)!==0&&ns!==0?ns&-ns:sV.transition!==null?(Y_===0&&(Y_=HL()),Y_):(n=fr,n!==0||(n=window.event,n=n===void 0?16:YL(n.type)),n)}function dl(n,e,t,r){if(50<z0)throw z0=0,tE=null,Error(ft(185));Fv(n,t,r),((Yn&2)===0||n!==qi)&&(n===qi&&((Yn&2)===0&&(dx|=t),zi===4&&Nf(n,ns)),vo(n,r),t===1&&Yn===0&&(e.mode&1)===0&&(tg=fi()+500,ux&&vh()))}function vo(n,e){var t=n.callbackNode;sW(n,e);var r=f1(n,n===qi?ns:0);if(r===0)t!==null&&RC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&RC(t),e===1)n.tag===0?iV(w3.bind(null,n)):dk(w3.bind(null,n)),eV(function(){(Yn&6)===0&&vh()}),t=null;else{switch(WL(r)){case 1:t=N2;break;case 4:t=BL;break;case 16:t=c1;break;case 536870912:t=UL;break;default:t=c1}t=hD(t,sD.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function sD(n,e){if(q_=-1,Y_=0,(Yn&6)!==0)throw Error(ft(327));var t=n.callbackNode;if(Wm()&&n.callbackNode!==t)return null;var r=f1(n,n===qi?ns:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=R1(n,r);else{e=r;var i=Yn;Yn|=2;var s=aD();(qi!==n||ns!==e)&&(uc=null,tg=fi()+500,Rd(n,e));do try{MV();break}catch(a){oD(n,a)}while(1);K2(),T1.current=s,Yn=i,Ai!==null?e=0:(qi=null,ns=0,e=zi)}if(e!==0){if(e===2&&(i=CS(n),i!==0&&(r=i,e=nE(n,i))),e===1)throw t=uv,Rd(n,0),Nf(n,r),vo(n,fi()),t;if(e===6)Nf(n,r);else{if(i=n.current.alternate,(r&30)===0&&!SV(i)&&(e=R1(n,r),e===2&&(s=CS(n),s!==0&&(r=s,e=nE(n,s))),e===1))throw t=uv,Rd(n,0),Nf(n,r),vo(n,fi()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(ft(345));case 2:yd(n,fo,uc);break;case 3:if(Nf(n,r),(r&130023424)===r&&(e=hM+500-fi(),10<e)){if(f1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Vs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=zS(yd.bind(null,n,fo,uc),e);break}yd(n,fo,uc);break;case 4:if(Nf(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-hl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bV(r/1960))-r,10<r){n.timeoutHandle=zS(yd.bind(null,n,fo,uc),r);break}yd(n,fo,uc);break;case 5:yd(n,fo,uc);break;default:throw Error(ft(329))}}}return vo(n,fi()),n.callbackNode===t?sD.bind(null,n):null}function nE(n,e){var t=O0;return n.current.memoizedState.isDehydrated&&(Rd(n,e).flags|=256),n=R1(n,e),n!==2&&(e=fo,fo=t,e!==null&&rE(e)),n}function rE(n){fo===null?fo=n:fo.push.apply(fo,n)}function SV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!gl(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nf(n,e){for(e&=~fM,e&=~dx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-hl(e),r=1<<t;n[t]=-1,e&=~r}}function w3(n){if((Yn&6)!==0)throw Error(ft(327));Wm();var e=f1(n,0);if((e&1)===0)return vo(n,fi()),null;var t=R1(n,e);if(n.tag!==0&&t===2){var r=CS(n);r!==0&&(e=r,t=nE(n,r))}if(t===1)throw t=uv,Rd(n,0),Nf(n,e),vo(n,fi()),t;if(t===6)throw Error(ft(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yd(n,fo,uc),vo(n,fi()),null}function dM(n,e){var t=Yn;Yn|=1;try{return n(e)}finally{Yn=t,Yn===0&&(tg=fi()+500,ux&&vh())}}function Gd(n){Uf!==null&&Uf.tag===0&&(Yn&6)===0&&Wm();var e=Yn;Yn|=1;var t=da.transition,r=fr;try{if(da.transition=null,fr=1,n)return n()}finally{fr=r,da.transition=t,Yn=e,(Yn&6)===0&&vh()}}function pM(){Ho=Pm.current,Lr(Pm)}function Rd(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,QW(t)),Ai!==null)for(t=Ai.return;t!==null;){var r=t;switch(Y2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&g1();break;case 3:Qm(),Lr(mo),Lr(ws),rM();break;case 5:nM(r);break;case 4:Qm();break;case 13:Lr(Vr);break;case 19:Lr(Vr);break;case 10:J2(r.type._context);break;case 22:case 23:pM()}t=t.return}if(qi=n,Ai=n=Jf(n.current,null),ns=Ho=e,zi=0,uv=null,fM=dx=Vd=0,fo=O0=null,Ed!==null){for(e=0;e<Ed.length;e++)if(t=Ed[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Ed=null}return n}function oD(n,e){do{var t=Ai;try{if(K2(),G_.current=M1,E1){for(var r=jr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}E1=!1}if(Wd=0,$i=Di=jr=null,k0=!1,ov=0,cM.current=null,t===null||t.return===null){zi=1,uv=e,Ai=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ns,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,p=a,m=p.tag;if((p.mode&1)===0&&(m===0||m===11||m===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=l3(o);if(v!==null){v.flags&=-257,u3(v,o,a,s,e),v.mode&1&&a3(s,c,e),e=v,l=c;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if((e&1)===0){a3(s,c,e),mM();break e}l=Error(ft(426))}}else if(Or&&a.mode&1){var x=l3(o);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),u3(x,o,a,s,e),X2(eg(l,a));break e}}s=l=eg(l,a),zi!==4&&(zi=2),O0===null?O0=[s]:O0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Vk(s,l,e);e3(s,w);break e;case 1:a=l;var S=s.type,M=s.stateNode;if((s.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Zf===null||!Zf.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=Gk(s,a,e);e3(s,T);break e}}s=s.return}while(s!==null)}uD(t)}catch(A){e=A,Ai===t&&t!==null&&(Ai=t=t.return);continue}break}while(1)}function aD(){var n=T1.current;return T1.current=M1,n===null?M1:n}function mM(){(zi===0||zi===3||zi===2)&&(zi=4),qi===null||(Vd&268435455)===0&&(dx&268435455)===0||Nf(qi,ns)}function R1(n,e){var t=Yn;Yn|=2;var r=aD();(qi!==n||ns!==e)&&(uc=null,Rd(n,e));do try{EV();break}catch(i){oD(n,i)}while(1);if(K2(),Yn=t,T1.current=r,Ai!==null)throw Error(ft(261));return qi=null,ns=0,zi}function EV(){for(;Ai!==null;)lD(Ai)}function MV(){for(;Ai!==null&&!ZH();)lD(Ai)}function lD(n){var e=fD(n.alternate,n,Ho);n.memoizedProps=n.pendingProps,e===null?uD(n):Ai=e,cM.current=null}function uD(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=vV(t,e,Ho),t!==null){Ai=t;return}}else{if(t=yV(t,e),t!==null){t.flags&=32767,Ai=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zi=6,Ai=null;return}}if(e=e.sibling,e!==null){Ai=e;return}Ai=e=n}while(e!==null);zi===0&&(zi=5)}function yd(n,e,t){var r=fr,i=da.transition;try{da.transition=null,fr=1,TV(n,e,t,r)}finally{da.transition=i,fr=r}return null}function TV(n,e,t,r){do Wm();while(Uf!==null);if((Yn&6)!==0)throw Error(ft(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ft(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(oW(n,s),n===qi&&(Ai=qi=null,ns=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||Uy||(Uy=!0,hD(c1,function(){return Wm(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=da.transition,da.transition=null;var o=fr;fr=1;var a=Yn;Yn|=4,cM.current=null,xV(n,t),rD(t,n),jW(DS),h1=!!kS,DS=kS=null,n.current=t,wV(t),KH(),Yn=a,fr=o,da.transition=s}else n.current=t;if(Uy&&(Uy=!1,Uf=n,C1=i),s=n.pendingLanes,s===0&&(Zf=null),eW(t.stateNode),vo(n,fi()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(A1)throw A1=!1,n=eE,eE=null,n;return(C1&1)!==0&&n.tag!==0&&Wm(),s=n.pendingLanes,(s&1)!==0?n===tE?z0++:(z0=0,tE=n):z0=0,vh(),null}function Wm(){if(Uf!==null){var n=WL(C1),e=da.transition,t=fr;try{if(da.transition=null,fr=16>n?16:n,Uf===null)var r=!1;else{if(n=Uf,Uf=null,C1=0,(Yn&6)!==0)throw Error(ft(331));var i=Yn;for(Yn|=4,Lt=n.current;Lt!==null;){var s=Lt,o=s.child;if((Lt.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Lt=c;Lt!==null;){var p=Lt;switch(p.tag){case 0:case 11:case 15:D0(8,p,s)}var m=p.child;if(m!==null)m.return=p,Lt=m;else for(;Lt!==null;){p=Lt;var d=p.sibling,v=p.return;if(eD(p),p===c){Lt=null;break}if(d!==null){d.return=v,Lt=d;break}Lt=v}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Lt=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Lt=o;else e:for(;Lt!==null;){if(s=Lt,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:D0(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Lt=w;break e}Lt=s.return}}var S=n.current;for(Lt=S;Lt!==null;){o=Lt;var M=o.child;if((o.subtreeFlags&2064)!==0&&M!==null)M.return=o,Lt=M;else e:for(o=S;Lt!==null;){if(a=Lt,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:hx(9,a)}}catch(A){ti(a,a.return,A)}if(a===o){Lt=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Lt=T;break e}Lt=a.return}}if(Yn=i,vh(),nu&&typeof nu.onPostCommitFiberRoot=="function")try{nu.onPostCommitFiberRoot(ix,n)}catch{}r=!0}return r}finally{fr=t,da.transition=e}}return!1}function b3(n,e,t){e=eg(t,e),e=Vk(n,e,1),n=Xf(n,e,1),e=Vs(),n!==null&&(Fv(n,1,e),vo(n,e))}function ti(n,e,t){if(n.tag===3)b3(n,n,t);else for(;e!==null;){if(e.tag===3){b3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zf===null||!Zf.has(r))){n=eg(t,n),n=Gk(e,n,1),e=Xf(e,n,1),n=Vs(),e!==null&&(Fv(e,1,n),vo(e,n));break}}e=e.return}}function AV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Vs(),n.pingedLanes|=n.suspendedLanes&t,qi===n&&(ns&t)===t&&(zi===4||zi===3&&(ns&130023424)===ns&&500>fi()-hM?Rd(n,0):fM|=t),vo(n,e)}function cD(n,e){e===0&&((n.mode&1)===0?e=1:(e=Py,Py<<=1,(Py&130023424)===0&&(Py=4194304)));var t=Vs();n=bc(n,e),n!==null&&(Fv(n,e,t),vo(n,t))}function CV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),cD(n,t)}function RV(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ft(314))}r!==null&&r.delete(e),cD(n,t)}var fD;fD=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||mo.current)ho=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return ho=!1,gV(n,e,t);ho=(n.flags&131072)!==0}else ho=!1,Or&&(e.flags&1048576)!==0&&pk(e,_1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;j_(n,e),n=e.pendingProps;var i=Zm(e,ws.current);Hm(e,t),i=sM(null,e,r,n,i,t);var s=oM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,go(r)?(s=!0,v1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eM(e),i.updater=cx,e.stateNode=i,i._reactInternals=e,VS(e,r,n,t),e=jS(null,e,r,!0,s,t)):(e.tag=0,Or&&s&&q2(e),Fs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(j_(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IV(r),n=rl(r,n),i){case 0:e=$S(null,e,r,n,t);break e;case 1:e=h3(null,e,r,n,t);break e;case 11:e=c3(null,e,r,n,t);break e;case 14:e=f3(null,e,r,rl(r.type,n),t);break e}throw Error(ft(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rl(r,i),$S(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rl(r,i),h3(n,e,r,i,t);case 3:e:{if(Yk(e),n===null)throw Error(ft(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yk(n,e),b1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=eg(Error(ft(423)),e),e=d3(n,e,r,t,i);break e}else if(r!==i){i=eg(Error(ft(424)),e),e=d3(n,e,r,t,i);break e}else for(Wo=Yf(e.stateNode.containerInfo.firstChild),Go=e,Or=!0,ol=null,t=bk(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Km(),r===i){e=Sc(n,e,t);break e}Fs(n,e,r,t)}e=e.child}return e;case 5:return Sk(e),n===null&&US(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,OS(r,i)?o=null:s!==null&&OS(r,s)&&(e.flags|=32),qk(n,e),Fs(n,e,o,t),e.child;case 6:return n===null&&US(e),null;case 13:return Xk(n,e,t);case 4:return tM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Jm(e,null,r,t):Fs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rl(r,i),c3(n,e,r,i,t);case 7:return Fs(n,e,e.pendingProps,t),e.child;case 8:return Fs(n,e,e.pendingProps.children,t),e.child;case 12:return Fs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Sr(x1,r._currentValue),r._currentValue=o,s!==null)if(gl(s.value,o)){if(s.children===i.children&&!mo.current){e=Sc(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vc(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?l.next=l:(l.next=p.next,p.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),HS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ft(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),HS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hm(e,t),i=ma(i),r=r(i),e.flags|=1,Fs(n,e,r,t),e.child;case 14:return r=e.type,i=rl(r,e.pendingProps),i=rl(r.type,i),f3(n,e,r,i,t);case 15:return $k(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rl(r,i),j_(n,e),e.tag=1,go(r)?(n=!0,v1(e)):n=!1,Hm(e,t),xk(e,r,i),VS(e,r,i,t),jS(null,e,r,!0,n,t);case 19:return Zk(n,e,t);case 22:return jk(n,e,t)}throw Error(ft(156,e.tag))};function hD(n,e){return NL(n,e)}function PV(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(n,e,t,r){return new PV(n,e,t,r)}function gM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function IV(n){if(typeof n=="function")return gM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O2)return 11;if(n===z2)return 14}return 2}function Jf(n,e){var t=n.alternate;return t===null?(t=fa(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function X_(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")gM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case xm:return Pd(t.children,i,s,e);case D2:o=8,i|=8;break;case dS:return n=fa(12,t,e,i|2),n.elementType=dS,n.lanes=s,n;case pS:return n=fa(13,t,e,i),n.elementType=pS,n.lanes=s,n;case mS:return n=fa(19,t,e,i),n.elementType=mS,n.lanes=s,n;case wL:return px(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _L:o=10;break e;case xL:o=9;break e;case O2:o=11;break e;case z2:o=14;break e;case Of:o=16,r=null;break e}throw Error(ft(130,n==null?n:typeof n,""))}return e=fa(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Pd(n,e,t,r){return n=fa(7,n,r,e),n.lanes=t,n}function px(n,e,t,r){return n=fa(22,n,r,e),n.elementType=wL,n.lanes=t,n.stateNode={isHidden:!1},n}function nb(n,e,t){return n=fa(6,n,null,e),n.lanes=t,n}function rb(n,e,t){return e=fa(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function LV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fw(0),this.expirationTimes=Fw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vM(n,e,t,r,i,s,o,a,l){return n=new LV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fa(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},eM(s),n}function kV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_m,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function dD(n){if(!n)return sh;n=n._reactInternals;e:{if(ip(n)!==n||n.tag!==1)throw Error(ft(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(go(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ft(171))}if(n.tag===1){var t=n.type;if(go(t))return hk(n,t,e)}return e}function pD(n,e,t,r,i,s,o,a,l){return n=vM(t,r,!0,n,i,s,o,a,l),n.context=dD(null),t=n.current,r=Vs(),i=Kf(t),s=vc(r,i),s.callback=e!=null?e:null,Xf(t,s,i),n.current.lanes=i,Fv(n,i,r),vo(n,r),n}function mx(n,e,t,r){var i=e.current,s=Vs(),o=Kf(i);return t=dD(t),e.context===null?e.context=t:e.pendingContext=t,e=vc(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Xf(i,e,o),n!==null&&(dl(n,i,o,s),V_(n,i,o)),o}function P1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function S3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function yM(n,e){S3(n,e),(n=n.alternate)&&S3(n,e)}function DV(){return null}var mD=typeof reportError=="function"?reportError:function(n){console.error(n)};function _M(n){this._internalRoot=n}gx.prototype.render=_M.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ft(409));mx(n,e,null,null)};gx.prototype.unmount=_M.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Gd(function(){mx(null,n,null,null)}),e[wc]=null}};function gx(n){this._internalRoot=n}gx.prototype.unstable_scheduleHydration=function(n){if(n){var e=$L();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ff.length&&e!==0&&e<Ff[t].priority;t++);Ff.splice(t,0,n),t===0&&qL(n)}};function xM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function E3(){}function OV(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=P1(o);s.call(c)}}var o=pD(e,r,n,0,null,!1,!1,"",E3);return n._reactRootContainer=o,n[wc]=o.current,tv(n.nodeType===8?n.parentNode:n),Gd(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=P1(l);a.call(c)}}var l=vM(n,0,!1,null,null,!1,!1,"",E3);return n._reactRootContainer=l,n[wc]=l.current,tv(n.nodeType===8?n.parentNode:n),Gd(function(){mx(e,l,t,r)}),l}function yx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=P1(o);a.call(l)}}mx(e,o,n,i)}else o=OV(t,e,n,i,r);return P1(o)}VL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=E0(e.pendingLanes);t!==0&&(B2(e,t|1),vo(e,fi()),(Yn&6)===0&&(tg=fi()+500,vh()))}break;case 13:Gd(function(){var r=bc(n,1);if(r!==null){var i=Vs();dl(r,n,1,i)}}),yM(n,1)}};U2=function(n){if(n.tag===13){var e=bc(n,134217728);if(e!==null){var t=Vs();dl(e,n,134217728,t)}yM(n,134217728)}};GL=function(n){if(n.tag===13){var e=Kf(n),t=bc(n,e);if(t!==null){var r=Vs();dl(t,n,e,r)}yM(n,e)}};$L=function(){return fr};jL=function(n,e){var t=fr;try{return fr=n,e()}finally{fr=t}};MS=function(n,e,t){switch(e){case"input":if(yS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=lx(r);if(!i)throw Error(ft(90));SL(r),yS(r,i)}}}break;case"textarea":ML(n,t);break;case"select":e=t.value,e!=null&&Fm(n,!!t.multiple,e,!1)}};LL=dM;kL=Gd;var zV={usingClientEntryPoint:!1,Events:[Bv,Em,lx,PL,IL,dM]},a0={findFiberByHostInstance:Sd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},FV={bundleType:a0.bundleType,version:a0.version,rendererPackageName:a0.rendererPackageName,rendererConfig:a0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zL(n),n===null?null:n.stateNode},findFiberByHostInstance:a0.findFiberByHostInstance||DV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Hy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hy.isDisabled&&Hy.supportsFiber)try{ix=Hy.inject(FV),nu=Hy}catch{}}Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zV;Yo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xM(e))throw Error(ft(200));return kV(n,e,null,t)};Yo.createRoot=function(n,e){if(!xM(n))throw Error(ft(299));var t=!1,r="",i=mD;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vM(n,1,!1,null,null,t,!1,r,i),n[wc]=e.current,tv(n.nodeType===8?n.parentNode:n),new _M(e)};Yo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ft(188)):(n=Object.keys(n).join(","),Error(ft(268,n)));return n=zL(e),n=n===null?null:n.stateNode,n};Yo.flushSync=function(n){return Gd(n)};Yo.hydrate=function(n,e,t){if(!vx(e))throw Error(ft(200));return yx(null,n,e,!0,t)};Yo.hydrateRoot=function(n,e,t){if(!xM(n))throw Error(ft(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=mD;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=pD(e,null,n,1,t!=null?t:null,i,!1,s,o),n[wc]=e.current,tv(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new gx(e)};Yo.render=function(n,e,t){if(!vx(e))throw Error(ft(200));return yx(null,n,e,!1,t)};Yo.unmountComponentAtNode=function(n){if(!vx(n))throw Error(ft(40));return n._reactRootContainer?(Gd(function(){yx(null,null,n,!1,function(){n._reactRootContainer=null,n[wc]=null})}),!0):!1};Yo.unstable_batchedUpdates=dM;Yo.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!vx(t))throw Error(ft(200));if(n==null||n._reactInternals===void 0)throw Error(ft(38));return yx(n,e,t,!1,r)};Yo.version="18.2.0-next-9e3b772b8-20220608";function gD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gD)}catch(n){console.error(n)}}gD(),P2.exports=Yo;var wM=P2.exports,M3=P2.exports;fS.createRoot=M3.createRoot,fS.hydrateRoot=M3.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _x="140",NV={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},BV={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},vD=0,iE=1,yD=2,UV=3,HV=0,bM=1,SM=2,Im=3,$d=0,yo=1,oh=2,EM=1,WV=2,yc=0,Id=1,sE=2,oE=3,aE=4,_D=5,wd=100,xD=101,wD=102,lE=103,uE=104,bD=200,SD=201,ED=202,MD=203,MM=204,TM=205,TD=206,AD=207,CD=208,RD=209,PD=210,ID=0,LD=1,kD=2,I1=3,DD=4,OD=5,zD=6,FD=7,Hv=0,ND=1,BD=2,pl=0,UD=1,HD=2,WD=3,AM=4,VD=5,xx=300,ah=301,lh=302,cv=303,fv=304,Sg=306,hv=1e3,Hs=1001,dv=1002,Mi=1003,L1=1004,VV=1004,k1=1005,GV=1005,hi=1006,CM=1007,$V=1007,sp=1008,jV=1008,uh=1009,GD=1010,$D=1011,ng=1012,jD=1013,F0=1014,gc=1015,rg=1016,qD=1017,YD=1018,Ld=1020,XD=1021,ZD=1022,Vo=1023,KD=1024,JD=1025,Qf=1026,jd=1027,QD=1028,eO=1029,tO=1030,nO=1031,rO=1033,Z_=33776,K_=33777,J_=33778,Q_=33779,cE=35840,fE=35841,hE=35842,dE=35843,iO=36196,pE=37492,mE=37496,gE=37808,vE=37809,yE=37810,_E=37811,xE=37812,wE=37813,bE=37814,SE=37815,EE=37816,ME=37817,TE=37818,AE=37819,CE=37820,RE=37821,PE=36492,sO=2200,oO=2201,aO=2202,pv=2300,mv=2301,e1=2302,Td=2400,Ad=2401,gv=2402,wx=2500,RM=2501,lO=0,qV=1,YV=2,vl=3e3,_r=3001,uO=3200,cO=3201,op=0,fO=1,XV="",Kl="srgb",Hf="srgb-linear",ZV=0,t1=7680,KV=7681,JV=7682,QV=7683,eG=34055,tG=34056,nG=5386,rG=512,iG=513,sG=514,oG=515,aG=516,lG=517,uG=518,hO=519,ig=35044,sg=35048,cG=35040,fG=35045,hG=35049,dG=35041,pG=35046,mG=35050,gG=35042,vG="100",IE="300 es",D1=1035;class Ic{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const es=[];for(let n=0;n<256;n++)es[n]=(n<16?"0":"")+n.toString(16);let T3=1234567;const kd=Math.PI/180,vv=180/Math.PI;function $o(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(es[n&255]+es[n>>8&255]+es[n>>16&255]+es[n>>24&255]+"-"+es[e&255]+es[e>>8&255]+"-"+es[e>>16&15|64]+es[e>>24&255]+"-"+es[t&63|128]+es[t>>8&255]+"-"+es[t>>16&255]+es[t>>24&255]+es[r&255]+es[r>>8&255]+es[r>>16&255]+es[r>>24&255]).toLowerCase()}function di(n,e,t){return Math.max(e,Math.min(t,n))}function PM(n,e){return(n%e+e)%e}function yG(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function _G(n,e,t){return n!==e?(t-n)/(e-n):0}function N0(n,e,t){return(1-t)*n+t*e}function xG(n,e,t,r){return N0(n,e,1-Math.exp(-t*r))}function wG(n,e=1){return e-Math.abs(PM(n,e*2)-e)}function bG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function SG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function EG(n,e){return n+Math.floor(Math.random()*(e-n+1))}function MG(n,e){return n+Math.random()*(e-n)}function TG(n){return n*(.5-Math.random())}function AG(n){n!==void 0&&(T3=n);let e=T3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function CG(n){return n*kd}function RG(n){return n*vv}function LE(n){return(n&n-1)===0&&n!==0}function dO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function O1(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function PG(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),p=o((e+r)/2),m=s((e-r)/2),d=o((e-r)/2),v=s((r-e)/2),_=o((r-e)/2);switch(i){case"XYX":n.set(a*p,l*m,l*d,a*c);break;case"YZY":n.set(l*d,a*p,l*m,a*c);break;case"ZXZ":n.set(l*m,l*d,a*p,a*c);break;case"XZX":n.set(a*p,l*_,l*v,a*c);break;case"YXY":n.set(l*v,a*p,l*_,a*c);break;case"ZYZ":n.set(l*_,l*v,a*p,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function IG(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function LG(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Dr=Object.freeze({__proto__:null,DEG2RAD:kd,RAD2DEG:vv,generateUUID:$o,clamp:di,euclideanModulo:PM,mapLinear:yG,inverseLerp:_G,lerp:N0,damp:xG,pingpong:wG,smoothstep:bG,smootherstep:SG,randInt:EG,randFloat:MG,randFloatSpread:TG,seededRandom:AG,degToRad:CG,radToDeg:RG,isPowerOfTwo:LE,ceilPowerOfTwo:dO,floorPowerOfTwo:O1,setQuaternionFromProperEuler:PG,normalize:LG,denormalize:IG});class nt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}nt.prototype.isVector2=!0;class Fi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,c){const p=this.elements;return p[0]=e,p[1]=i,p[2]=a,p[3]=t,p[4]=s,p[5]=l,p[6]=r,p[7]=o,p[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],p=r[4],m=r[7],d=r[2],v=r[5],_=r[8],y=i[0],x=i[3],w=i[6],S=i[1],M=i[4],T=i[7],A=i[2],L=i[5],z=i[8];return s[0]=o*y+a*S+l*A,s[3]=o*x+a*M+l*L,s[6]=o*w+a*T+l*z,s[1]=c*y+p*S+m*A,s[4]=c*x+p*M+m*L,s[7]=c*w+p*T+m*z,s[2]=d*y+v*S+_*A,s[5]=d*x+v*M+_*L,s[8]=d*w+v*T+_*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8];return t*o*p-t*a*c-r*s*p+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],m=p*o-a*c,d=a*l-p*s,v=c*s-o*l,_=t*m+r*d+i*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/_;return e[0]=m*y,e[1]=(i*c-p*r)*y,e[2]=(a*r-i*o)*y,e[3]=d*y,e[4]=(p*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=v*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],p=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*p,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*p,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Fi.prototype.isMatrix3=!0;function pO(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const kG={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lm(n,e){return new kG[n](e)}function yv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Dd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function n1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const ib={[Kl]:{[Hf]:Dd},[Hf]:{[Kl]:n1}},sa={legacyMode:!0,get workingColorSpace(){return Hf},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(ib[e]&&ib[e][t]!==void 0){const r=ib[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},mO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ki={r:0,g:0,b:0},Ka={h:0,s:0,l:0},Wy={h:0,s:0,l:0};function sb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Vy(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class St{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Kl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sa.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Hf){return this.r=e,this.g=t,this.b=r,sa.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Hf){if(e=PM(e,1),t=di(t,0,1),r=di(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=sb(o,s,e+1/3),this.g=sb(o,s,e),this.b=sb(o,s,e-1/3)}return sa.toWorkingColorSpace(this,i),this}setStyle(e,t=Kl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,sa.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,sa.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,p=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,c,p,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,sa.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,sa.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Kl){const r=mO[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Dd(e.r),this.g=Dd(e.g),this.b=Dd(e.b),this}copyLinearToSRGB(e){return this.r=n1(e.r),this.g=n1(e.g),this.b=n1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Kl){return sa.fromWorkingColorSpace(Vy(this,ki),e),di(ki.r*255,0,255)<<16^di(ki.g*255,0,255)<<8^di(ki.b*255,0,255)<<0}getHexString(e=Kl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Hf){sa.fromWorkingColorSpace(Vy(this,ki),t);const r=ki.r,i=ki.g,s=ki.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const p=(a+o)/2;if(a===o)l=0,c=0;else{const m=o-a;switch(c=p<=.5?m/(o+a):m/(2-o-a),o){case r:l=(i-s)/m+(i<s?6:0);break;case i:l=(s-r)/m+2;break;case s:l=(r-i)/m+4;break}l/=6}return e.h=l,e.s=c,e.l=p,e}getRGB(e,t=Hf){return sa.fromWorkingColorSpace(Vy(this,ki),t),e.r=ki.r,e.g=ki.g,e.b=ki.b,e}getStyle(e=Kl){return sa.fromWorkingColorSpace(Vy(this,ki),e),e!==Kl?`color(${e} ${ki.r} ${ki.g} ${ki.b})`:`rgb(${ki.r*255|0},${ki.g*255|0},${ki.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Ka),Ka.h+=e,Ka.s+=t,Ka.l+=r,this.setHSL(Ka.h,Ka.s,Ka.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Ka),e.getHSL(Wy);const r=N0(Ka.h,Wy.h,t),i=N0(Ka.s,Wy.s,t),s=N0(Ka.l,Wy.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}St.NAMES=mO;St.prototype.isColor=!0;St.prototype.r=1;St.prototype.g=1;St.prototype.b=1;let jp;class yh{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{jp===void 0&&(jp=yv("canvas")),jp.width=e.width,jp.height=e.height;const r=jp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=jp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=yv("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Dd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Dd(t[r]/255)*255):t[r]=Dd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Wf{constructor(e=null){this.uuid=$o(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(ob(i[o].image)):s.push(ob(i[o]))}else s=ob(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function ob(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?yh.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Wf.prototype.isSource=!0;let DG=0;class gi extends Ic{constructor(e=gi.DEFAULT_IMAGE,t=gi.DEFAULT_MAPPING,r=Hs,i=Hs,s=hi,o=sp,a=Vo,l=uh,c=1,p=vl){super(),Object.defineProperty(this,"id",{value:DG++}),this.uuid=$o(),this.name="",this.source=new Wf(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==xx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case hv:e.x=e.x-Math.floor(e.x);break;case Hs:e.x=e.x<0?0:1;break;case dv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case hv:e.y=e.y-Math.floor(e.y);break;case Hs:e.y=e.y<0?0:1;break;case dv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}gi.DEFAULT_IMAGE=null;gi.DEFAULT_MAPPING=xx;gi.prototype.isTexture=!0;class tr{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],p=l[4],m=l[8],d=l[1],v=l[5],_=l[9],y=l[2],x=l[6],w=l[10];if(Math.abs(p-d)<.01&&Math.abs(m-y)<.01&&Math.abs(_-x)<.01){if(Math.abs(p+d)<.1&&Math.abs(m+y)<.1&&Math.abs(_+x)<.1&&Math.abs(c+v+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(c+1)/2,T=(v+1)/2,A=(w+1)/2,L=(p+d)/4,z=(m+y)/4,C=(_+x)/4;return M>T&&M>A?M<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(M),i=L/r,s=z/r):T>A?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=L/i,s=C/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=z/s,i=C/s),this.set(r,i,s,t),this}let S=Math.sqrt((x-_)*(x-_)+(m-y)*(m-y)+(d-p)*(d-p));return Math.abs(S)<.001&&(S=1),this.x=(x-_)/S,this.y=(m-y)/S,this.z=(d-p)/S,this.w=Math.acos((c+v+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}tr.prototype.isVector4=!0;class Gs extends Ic{constructor(e,t,r={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new tr(0,0,e,t),this.scissorTest=!1,this.viewport=new tr(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new gi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:hi,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Wf(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Gs.prototype.isWebGLRenderTarget=!0;class Eg extends gi{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=Mi,this.minFilter=Mi,this.wrapR=Hs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Eg.prototype.isDataArrayTexture=!0;class gO extends Gs{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new Eg(null,e,t,r),this.texture.isRenderTargetTexture=!0}}gO.prototype.isWebGLArrayRenderTarget=!0;class Wv extends gi{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=Mi,this.minFilter=Mi,this.wrapR=Hs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Wv.prototype.isData3DTexture=!0;class vO extends Gs{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new Wv(null,e,t,r),this.texture.isRenderTargetTexture=!0}}vO.prototype.isWebGL3DRenderTarget=!0;class yO extends Gs{constructor(e,t,r,i={}){super(e,t,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}yO.prototype.isWebGLMultipleRenderTargets=!0;class Yi{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],p=r[i+2],m=r[i+3];const d=s[o+0],v=s[o+1],_=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=p,e[t+3]=m;return}if(a===1){e[t+0]=d,e[t+1]=v,e[t+2]=_,e[t+3]=y;return}if(m!==y||l!==d||c!==v||p!==_){let x=1-a;const w=l*d+c*v+p*_+m*y,S=w>=0?1:-1,M=1-w*w;if(M>Number.EPSILON){const A=Math.sqrt(M),L=Math.atan2(A,w*S);x=Math.sin(x*L)/A,a=Math.sin(a*L)/A}const T=a*S;if(l=l*x+d*T,c=c*x+v*T,p=p*x+_*T,m=m*x+y*T,x===1-a){const A=1/Math.sqrt(l*l+c*c+p*p+m*m);l*=A,c*=A,p*=A,m*=A}}e[t]=l,e[t+1]=c,e[t+2]=p,e[t+3]=m}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],p=r[i+3],m=s[o],d=s[o+1],v=s[o+2],_=s[o+3];return e[t]=a*_+p*m+l*v-c*d,e[t+1]=l*_+p*d+c*m-a*v,e[t+2]=c*_+p*v+a*d-l*m,e[t+3]=p*_-a*m-l*d-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),p=a(i/2),m=a(s/2),d=l(r/2),v=l(i/2),_=l(s/2);switch(o){case"XYZ":this._x=d*p*m+c*v*_,this._y=c*v*m-d*p*_,this._z=c*p*_+d*v*m,this._w=c*p*m-d*v*_;break;case"YXZ":this._x=d*p*m+c*v*_,this._y=c*v*m-d*p*_,this._z=c*p*_-d*v*m,this._w=c*p*m+d*v*_;break;case"ZXY":this._x=d*p*m-c*v*_,this._y=c*v*m+d*p*_,this._z=c*p*_+d*v*m,this._w=c*p*m-d*v*_;break;case"ZYX":this._x=d*p*m-c*v*_,this._y=c*v*m+d*p*_,this._z=c*p*_-d*v*m,this._w=c*p*m+d*v*_;break;case"YZX":this._x=d*p*m+c*v*_,this._y=c*v*m+d*p*_,this._z=c*p*_-d*v*m,this._w=c*p*m-d*v*_;break;case"XZY":this._x=d*p*m-c*v*_,this._y=c*v*m-d*p*_,this._z=c*p*_+d*v*m,this._w=c*p*m+d*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],p=t[6],m=t[10],d=r+a+m;if(d>0){const v=.5/Math.sqrt(d+1);this._w=.25/v,this._x=(p-l)*v,this._y=(s-c)*v,this._z=(o-i)*v}else if(r>a&&r>m){const v=2*Math.sqrt(1+r-a-m);this._w=(p-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+c)/v}else if(a>m){const v=2*Math.sqrt(1+a-r-m);this._w=(s-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+p)/v}else{const v=2*Math.sqrt(1+m-r-a);this._w=(o-i)/v,this._x=(s+c)/v,this._y=(l+p)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(di(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,p=t._w;return this._x=r*p+o*a+i*c-s*l,this._y=i*p+o*l+s*a-r*c,this._z=s*p+o*c+r*l-i*a,this._w=o*p-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),p=Math.atan2(c,a),m=Math.sin((1-t)*p)/c,d=Math.sin(t*p)/c;return this._w=o*m+this._w*d,this._x=r*m+this._x*d,this._y=i*m+this._y*d,this._z=s*m+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}Yi.prototype.isQuaternion=!0;class re{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(A3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(A3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,p=l*r+a*t-s*i,m=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=c*l+d*-s+p*-a-m*-o,this.y=p*l+d*-o+m*-s-c*-a,this.z=m*l+d*-a+c*-o-p*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return ab.copy(this).projectOnVector(e),this.sub(ab)}reflect(e){return this.sub(ab.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(di(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}re.prototype.isVector3=!0;const ab=new re,A3=new Yi;class wo{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const p=e[l],m=e[l+1],d=e[l+2];p<t&&(t=p),m<r&&(r=m),d<i&&(i=d),p>s&&(s=p),m>o&&(o=m),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const p=e.getX(l),m=e.getY(l),d=e.getZ(l);p<t&&(t=p),m<r&&(r=m),d<i&&(i=d),p>s&&(s=p),m>o&&(o=m),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ld.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ld.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ld)}else r.boundingBox===null&&r.computeBoundingBox(),lb.copy(r.boundingBox),lb.applyMatrix4(e.matrixWorld),this.union(lb);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ld),ld.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(l0),Gy.subVectors(this.max,l0),qp.subVectors(e.a,l0),Yp.subVectors(e.b,l0),Xp.subVectors(e.c,l0),Tf.subVectors(Yp,qp),Af.subVectors(Xp,Yp),ud.subVectors(qp,Xp);let t=[0,-Tf.z,Tf.y,0,-Af.z,Af.y,0,-ud.z,ud.y,Tf.z,0,-Tf.x,Af.z,0,-Af.x,ud.z,0,-ud.x,-Tf.y,Tf.x,0,-Af.y,Af.x,0,-ud.y,ud.x,0];return!ub(t,qp,Yp,Xp,Gy)||(t=[1,0,0,0,1,0,0,0,1],!ub(t,qp,Yp,Xp,Gy))?!1:($y.crossVectors(Tf,Af),t=[$y.x,$y.y,$y.z],ub(t,qp,Yp,Xp,Gy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ld.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ld).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(nc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),nc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),nc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),nc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),nc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),nc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),nc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),nc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(nc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}wo.prototype.isBox3=!0;const nc=[new re,new re,new re,new re,new re,new re,new re,new re],ld=new re,lb=new wo,qp=new re,Yp=new re,Xp=new re,Tf=new re,Af=new re,ud=new re,l0=new re,Gy=new re,$y=new re,cd=new re;function ub(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){cd.fromArray(n,s);const a=i.x*Math.abs(cd.x)+i.y*Math.abs(cd.y)+i.z*Math.abs(cd.z),l=e.dot(cd),c=t.dot(cd),p=r.dot(cd);if(Math.max(-Math.max(l,c,p),Math.min(l,c,p))>a)return!1}return!0}const OG=new wo,C3=new re,jy=new re,cb=new re;class Lc{constructor(e=new re,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):OG.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){cb.subVectors(e,this.center);const t=cb.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(cb.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?jy.set(0,0,1).multiplyScalar(e.radius):jy.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(C3.copy(e.center).add(jy)),this.expandByPoint(C3.copy(e.center).sub(jy)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const rc=new re,fb=new re,qy=new re,Cf=new re,hb=new re,Yy=new re,db=new re;class _h{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,rc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=rc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(rc.copy(this.direction).multiplyScalar(t).add(this.origin),rc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){fb.copy(e).add(t).multiplyScalar(.5),qy.copy(t).sub(e).normalize(),Cf.copy(this.origin).sub(fb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(qy),a=Cf.dot(this.direction),l=-Cf.dot(qy),c=Cf.lengthSq(),p=Math.abs(1-o*o);let m,d,v,_;if(p>0)if(m=o*l-a,d=o*a-l,_=s*p,m>=0)if(d>=-_)if(d<=_){const y=1/p;m*=y,d*=y,v=m*(m+o*d+2*a)+d*(o*m+d+2*l)+c}else d=s,m=Math.max(0,-(o*d+a)),v=-m*m+d*(d+2*l)+c;else d=-s,m=Math.max(0,-(o*d+a)),v=-m*m+d*(d+2*l)+c;else d<=-_?(m=Math.max(0,-(-o*s+a)),d=m>0?-s:Math.min(Math.max(-s,-l),s),v=-m*m+d*(d+2*l)+c):d<=_?(m=0,d=Math.min(Math.max(-s,-l),s),v=d*(d+2*l)+c):(m=Math.max(0,-(o*s+a)),d=m>0?s:Math.min(Math.max(-s,-l),s),v=-m*m+d*(d+2*l)+c);else d=o>0?-s:s,m=Math.max(0,-(o*d+a)),v=-m*m+d*(d+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(m).add(this.origin),i&&i.copy(qy).multiplyScalar(d).add(fb),v}intersectSphere(e,t){rc.subVectors(e.center,this.origin);const r=rc.dot(this.direction),i=rc.dot(rc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,p=1/this.direction.y,m=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),p>=0?(s=(e.min.y-d.y)*p,o=(e.max.y-d.y)*p):(s=(e.max.y-d.y)*p,o=(e.min.y-d.y)*p),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),m>=0?(a=(e.min.z-d.z)*m,l=(e.max.z-d.z)*m):(a=(e.max.z-d.z)*m,l=(e.min.z-d.z)*m),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,rc)!==null}intersectTriangle(e,t,r,i,s){hb.subVectors(t,e),Yy.subVectors(r,e),db.crossVectors(hb,Yy);let o=this.direction.dot(db),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Cf.subVectors(this.origin,e);const l=a*this.direction.dot(Yy.crossVectors(Cf,Yy));if(l<0)return null;const c=a*this.direction.dot(hb.cross(Cf));if(c<0||l+c>o)return null;const p=-a*Cf.dot(db);return p<0?null:this.at(p/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Et{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,c,p,m,d,v,_,y,x){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=c,w[6]=p,w[10]=m,w[14]=d,w[3]=v,w[7]=_,w[11]=y,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Et().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Zp.setFromMatrixColumn(e,0).length(),s=1/Zp.setFromMatrixColumn(e,1).length(),o=1/Zp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),p=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const d=o*p,v=o*m,_=a*p,y=a*m;t[0]=l*p,t[4]=-l*m,t[8]=c,t[1]=v+_*c,t[5]=d-y*c,t[9]=-a*l,t[2]=y-d*c,t[6]=_+v*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*p,v=l*m,_=c*p,y=c*m;t[0]=d+y*a,t[4]=_*a-v,t[8]=o*c,t[1]=o*m,t[5]=o*p,t[9]=-a,t[2]=v*a-_,t[6]=y+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*p,v=l*m,_=c*p,y=c*m;t[0]=d-y*a,t[4]=-o*m,t[8]=_+v*a,t[1]=v+_*a,t[5]=o*p,t[9]=y-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*p,v=o*m,_=a*p,y=a*m;t[0]=l*p,t[4]=_*c-v,t[8]=d*c+y,t[1]=l*m,t[5]=y*c+d,t[9]=v*c-_,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,v=o*c,_=a*l,y=a*c;t[0]=l*p,t[4]=y-d*m,t[8]=_*m+v,t[1]=m,t[5]=o*p,t[9]=-a*p,t[2]=-c*p,t[6]=v*m+_,t[10]=d-y*m}else if(e.order==="XZY"){const d=o*l,v=o*c,_=a*l,y=a*c;t[0]=l*p,t[4]=-m,t[8]=c*p,t[1]=d*m+y,t[5]=o*p,t[9]=v*m-_,t[2]=_*m-v,t[6]=a*p,t[10]=y*m+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zG,e,FG)}lookAt(e,t,r){const i=this.elements;return No.subVectors(e,t),No.lengthSq()===0&&(No.z=1),No.normalize(),Rf.crossVectors(r,No),Rf.lengthSq()===0&&(Math.abs(r.z)===1?No.x+=1e-4:No.z+=1e-4,No.normalize(),Rf.crossVectors(r,No)),Rf.normalize(),Xy.crossVectors(No,Rf),i[0]=Rf.x,i[4]=Xy.x,i[8]=No.x,i[1]=Rf.y,i[5]=Xy.y,i[9]=No.y,i[2]=Rf.z,i[6]=Xy.z,i[10]=No.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],p=r[1],m=r[5],d=r[9],v=r[13],_=r[2],y=r[6],x=r[10],w=r[14],S=r[3],M=r[7],T=r[11],A=r[15],L=i[0],z=i[4],C=i[8],F=i[12],H=i[1],q=i[5],B=i[9],Y=i[13],I=i[2],te=i[6],ce=i[10],le=i[14],ae=i[3],ie=i[7],ue=i[11],j=i[15];return s[0]=o*L+a*H+l*I+c*ae,s[4]=o*z+a*q+l*te+c*ie,s[8]=o*C+a*B+l*ce+c*ue,s[12]=o*F+a*Y+l*le+c*j,s[1]=p*L+m*H+d*I+v*ae,s[5]=p*z+m*q+d*te+v*ie,s[9]=p*C+m*B+d*ce+v*ue,s[13]=p*F+m*Y+d*le+v*j,s[2]=_*L+y*H+x*I+w*ae,s[6]=_*z+y*q+x*te+w*ie,s[10]=_*C+y*B+x*ce+w*ue,s[14]=_*F+y*Y+x*le+w*j,s[3]=S*L+M*H+T*I+A*ae,s[7]=S*z+M*q+T*te+A*ie,s[11]=S*C+M*B+T*ce+A*ue,s[15]=S*F+M*Y+T*le+A*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],p=e[2],m=e[6],d=e[10],v=e[14],_=e[3],y=e[7],x=e[11],w=e[15];return _*(+s*l*m-i*c*m-s*a*d+r*c*d+i*a*v-r*l*v)+y*(+t*l*v-t*c*d+s*o*d-i*o*v+i*c*p-s*l*p)+x*(+t*c*m-t*a*v-s*o*m+r*o*v+s*a*p-r*c*p)+w*(-i*a*p-t*l*m+t*a*d+i*o*m-r*o*d+r*l*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],m=e[9],d=e[10],v=e[11],_=e[12],y=e[13],x=e[14],w=e[15],S=m*x*c-y*d*c+y*l*v-a*x*v-m*l*w+a*d*w,M=_*d*c-p*x*c-_*l*v+o*x*v+p*l*w-o*d*w,T=p*y*c-_*m*c+_*a*v-o*y*v-p*a*w+o*m*w,A=_*m*l-p*y*l-_*a*d+o*y*d+p*a*x-o*m*x,L=t*S+r*M+i*T+s*A;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/L;return e[0]=S*z,e[1]=(y*d*s-m*x*s-y*i*v+r*x*v+m*i*w-r*d*w)*z,e[2]=(a*x*s-y*l*s+y*i*c-r*x*c-a*i*w+r*l*w)*z,e[3]=(m*l*s-a*d*s-m*i*c+r*d*c+a*i*v-r*l*v)*z,e[4]=M*z,e[5]=(p*x*s-_*d*s+_*i*v-t*x*v-p*i*w+t*d*w)*z,e[6]=(_*l*s-o*x*s-_*i*c+t*x*c+o*i*w-t*l*w)*z,e[7]=(o*d*s-p*l*s+p*i*c-t*d*c-o*i*v+t*l*v)*z,e[8]=T*z,e[9]=(_*m*s-p*y*s-_*r*v+t*y*v+p*r*w-t*m*w)*z,e[10]=(o*y*s-_*a*s+_*r*c-t*y*c-o*r*w+t*a*w)*z,e[11]=(p*a*s-o*m*s-p*r*c+t*m*c+o*r*v-t*a*v)*z,e[12]=A*z,e[13]=(p*y*i-_*m*i+_*r*d-t*y*d-p*r*x+t*m*x)*z,e[14]=(_*a*i-o*y*i-_*r*l+t*y*l+o*r*x-t*a*x)*z,e[15]=(o*m*i-p*a*i+p*r*l-t*m*l-o*r*d+t*a*d)*z,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,p=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,p*a+r,p*l-i*o,0,c*l-i*a,p*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,p=o+o,m=a+a,d=s*c,v=s*p,_=s*m,y=o*p,x=o*m,w=a*m,S=l*c,M=l*p,T=l*m,A=r.x,L=r.y,z=r.z;return i[0]=(1-(y+w))*A,i[1]=(v+T)*A,i[2]=(_-M)*A,i[3]=0,i[4]=(v-T)*L,i[5]=(1-(d+w))*L,i[6]=(x+S)*L,i[7]=0,i[8]=(_+M)*z,i[9]=(x-S)*z,i[10]=(1-(d+y))*z,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Zp.set(i[0],i[1],i[2]).length();const o=Zp.set(i[4],i[5],i[6]).length(),a=Zp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ja.copy(this);const c=1/s,p=1/o,m=1/a;return Ja.elements[0]*=c,Ja.elements[1]*=c,Ja.elements[2]*=c,Ja.elements[4]*=p,Ja.elements[5]*=p,Ja.elements[6]*=p,Ja.elements[8]*=m,Ja.elements[9]*=m,Ja.elements[10]*=m,t.setFromRotationMatrix(Ja),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),p=(t+e)/(t-e),m=(r+i)/(r-i),d=-(o+s)/(o-s),v=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=p,a[12]=0,a[1]=0,a[5]=c,a[9]=m,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=v,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),p=1/(o-s),m=(t+e)*l,d=(r+i)*c,v=(o+s)*p;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-m,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*p,a[14]=-v,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Et.prototype.isMatrix4=!0;const Zp=new re,Ja=new Et,zG=new re(0,0,0),FG=new re(1,1,1),Rf=new re,Xy=new re,No=new re,R3=new Et,P3=new Yi;class xh{constructor(e=0,t=0,r=0,i=xh.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],p=i[9],m=i[2],d=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(di(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-p,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-di(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(di(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-di(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(d,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(di(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,c),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-di(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-p,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return R3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(R3,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return P3.setFromEuler(this),this.setFromQuaternion(P3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xh.prototype.isEuler=!0;xh.DefaultOrder="XYZ";xh.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Od{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let NG=0;const I3=new re,Kp=new Yi,ic=new Et,Zy=new re,u0=new re,BG=new re,UG=new Yi,L3=new re(1,0,0),k3=new re(0,1,0),D3=new re(0,0,1),HG={type:"added"},O3={type:"removed"};class kn extends Ic{constructor(){super(),Object.defineProperty(this,"id",{value:NG++}),this.uuid=$o(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kn.DefaultUp.clone();const e=new re,t=new xh,r=new Yi,i=new re(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Et},normalMatrix:{value:new Fi}}),this.matrix=new Et,this.matrixWorld=new Et,this.matrixAutoUpdate=kn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Od,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Kp.setFromAxisAngle(e,t),this.quaternion.multiply(Kp),this}rotateOnWorldAxis(e,t){return Kp.setFromAxisAngle(e,t),this.quaternion.premultiply(Kp),this}rotateX(e){return this.rotateOnAxis(L3,e)}rotateY(e){return this.rotateOnAxis(k3,e)}rotateZ(e){return this.rotateOnAxis(D3,e)}translateOnAxis(e,t){return I3.copy(e).applyQuaternion(this.quaternion),this.position.add(I3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(L3,e)}translateY(e){return this.translateOnAxis(k3,e)}translateZ(e){return this.translateOnAxis(D3,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ic.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Zy.copy(e):Zy.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),u0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ic.lookAt(u0,Zy,this.up):ic.lookAt(Zy,u0,this.up),this.quaternion.setFromRotationMatrix(ic),i&&(ic.extractRotation(i.matrixWorld),Kp.setFromRotationMatrix(ic),this.quaternion.premultiply(Kp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(HG)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(O3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(O3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ic.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ic.multiply(e.parent.matrixWorld)),e.applyMatrix4(ic),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(u0,e,BG),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(u0,UG,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,p=l.length;c<p;c++){const m=l[c];s(e.shapes,m)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),p=o(e.images),m=o(e.shapes),d=o(e.skeletons),v=o(e.animations),_=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),p.length>0&&(r.images=p),m.length>0&&(r.shapes=m),d.length>0&&(r.skeletons=d),v.length>0&&(r.animations=v),_.length>0&&(r.nodes=_)}return r.object=i,r;function o(a){const l=[];for(const c in a){const p=a[c];delete p.metadata,l.push(p)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}kn.DefaultUp=new re(0,1,0);kn.DefaultMatrixAutoUpdate=!0;kn.prototype.isObject3D=!0;const Qa=new re,sc=new re,pb=new re,oc=new re,Jp=new re,Qp=new re,z3=new re,mb=new re,gb=new re,vb=new re;class pi{constructor(e=new re,t=new re,r=new re){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Qa.subVectors(e,t),i.cross(Qa);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Qa.subVectors(i,t),sc.subVectors(r,t),pb.subVectors(e,t);const o=Qa.dot(Qa),a=Qa.dot(sc),l=Qa.dot(pb),c=sc.dot(sc),p=sc.dot(pb),m=o*c-a*a;if(m===0)return s.set(-2,-1,-1);const d=1/m,v=(c*l-a*p)*d,_=(o*p-a*l)*d;return s.set(1-v-_,_,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,oc),oc.x>=0&&oc.y>=0&&oc.x+oc.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,oc),l.set(0,0),l.addScaledVector(s,oc.x),l.addScaledVector(o,oc.y),l.addScaledVector(a,oc.z),l}static isFrontFacing(e,t,r,i){return Qa.subVectors(r,t),sc.subVectors(e,t),Qa.cross(sc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qa.subVectors(this.c,this.b),sc.subVectors(this.a,this.b),Qa.cross(sc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return pi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return pi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return pi.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return pi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return pi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Jp.subVectors(i,r),Qp.subVectors(s,r),mb.subVectors(e,r);const l=Jp.dot(mb),c=Qp.dot(mb);if(l<=0&&c<=0)return t.copy(r);gb.subVectors(e,i);const p=Jp.dot(gb),m=Qp.dot(gb);if(p>=0&&m<=p)return t.copy(i);const d=l*m-p*c;if(d<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(r).addScaledVector(Jp,o);vb.subVectors(e,s);const v=Jp.dot(vb),_=Qp.dot(vb);if(_>=0&&v<=_)return t.copy(s);const y=v*c-l*_;if(y<=0&&c>=0&&_<=0)return a=c/(c-_),t.copy(r).addScaledVector(Qp,a);const x=p*_-v*m;if(x<=0&&m-p>=0&&v-_>=0)return z3.subVectors(s,i),a=(m-p)/(m-p+(v-_)),t.copy(i).addScaledVector(z3,a);const w=1/(x+y+d);return o=y*w,a=d*w,t.copy(r).addScaledVector(Jp,o).addScaledVector(Qp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let WG=0;class vi extends Ic{constructor(){super(),Object.defineProperty(this,"id",{value:WG++}),this.uuid=$o(),this.name="",this.type="Material",this.blending=Id,this.side=$d,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=MM,this.blendDst=TM,this.blendEquation=wd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=I1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=t1,this.stencilZFail=t1,this.stencilZPass=t1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===EM;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Id&&(r.blending=this.blending),this.side!==$d&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}vi.prototype.isMaterial=!0;vi.fromType=function(){return null};class kc extends vi{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}kc.prototype.isMeshBasicMaterial=!0;const Si=new re,Ky=new nt;class Vn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=ig,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new St),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new nt),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new re),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new tr),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Ky.fromBufferAttribute(this,t),Ky.applyMatrix3(e),this.setXY(t,Ky.x,Ky.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Si.fromBufferAttribute(this,t),Si.applyMatrix3(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Si.fromBufferAttribute(this,t),Si.applyMatrix4(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Si.fromBufferAttribute(this,t),Si.applyNormalMatrix(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Si.fromBufferAttribute(this,t),Si.transformDirection(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ig&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Vn.prototype.isBufferAttribute=!0;class _O extends Vn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class xO extends Vn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class wO extends Vn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class bO extends Vn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class bx extends Vn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class SO extends Vn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Sx extends Vn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class EO extends Vn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}EO.prototype.isFloat16BufferAttribute=!0;class zt extends Vn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class MO extends Vn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let VG=0;const ra=new Et,yb=new kn,em=new re,Bo=new wo,c0=new wo,Gi=new re;class jt extends Ic{constructor(){super(),Object.defineProperty(this,"id",{value:VG++}),this.uuid=$o(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(pO(e)?Sx:bx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Fi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ra.makeRotationFromQuaternion(e),this.applyMatrix4(ra),this}rotateX(e){return ra.makeRotationX(e),this.applyMatrix4(ra),this}rotateY(e){return ra.makeRotationY(e),this.applyMatrix4(ra),this}rotateZ(e){return ra.makeRotationZ(e),this.applyMatrix4(ra),this}translate(e,t,r){return ra.makeTranslation(e,t,r),this.applyMatrix4(ra),this}scale(e,t,r){return ra.makeScale(e,t,r),this.applyMatrix4(ra),this}lookAt(e){return yb.lookAt(e),yb.updateMatrix(),this.applyMatrix4(yb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(em).negate(),this.translate(em.x,em.y,em.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new zt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new wo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Bo.setFromBufferAttribute(s),this.morphTargetsRelative?(Gi.addVectors(this.boundingBox.min,Bo.min),this.boundingBox.expandByPoint(Gi),Gi.addVectors(this.boundingBox.max,Bo.max),this.boundingBox.expandByPoint(Gi)):(this.boundingBox.expandByPoint(Bo.min),this.boundingBox.expandByPoint(Bo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new re,1/0);return}if(e){const r=this.boundingSphere.center;if(Bo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];c0.setFromBufferAttribute(a),this.morphTargetsRelative?(Gi.addVectors(Bo.min,c0.min),Bo.expandByPoint(Gi),Gi.addVectors(Bo.max,c0.max),Bo.expandByPoint(Gi)):(Bo.expandByPoint(c0.min),Bo.expandByPoint(c0.max))}Bo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Gi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Gi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,p=a.count;c<p;c++)Gi.fromBufferAttribute(a,c),l&&(em.fromBufferAttribute(e,c),Gi.add(em)),i=Math.max(i,r.distanceToSquared(Gi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],p=[];for(let H=0;H<a;H++)c[H]=new re,p[H]=new re;const m=new re,d=new re,v=new re,_=new nt,y=new nt,x=new nt,w=new re,S=new re;function M(H,q,B){m.fromArray(i,H*3),d.fromArray(i,q*3),v.fromArray(i,B*3),_.fromArray(o,H*2),y.fromArray(o,q*2),x.fromArray(o,B*2),d.sub(m),v.sub(m),y.sub(_),x.sub(_);const Y=1/(y.x*x.y-x.x*y.y);!isFinite(Y)||(w.copy(d).multiplyScalar(x.y).addScaledVector(v,-y.y).multiplyScalar(Y),S.copy(v).multiplyScalar(y.x).addScaledVector(d,-x.x).multiplyScalar(Y),c[H].add(w),c[q].add(w),c[B].add(w),p[H].add(S),p[q].add(S),p[B].add(S))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let H=0,q=T.length;H<q;++H){const B=T[H],Y=B.start,I=B.count;for(let te=Y,ce=Y+I;te<ce;te+=3)M(r[te+0],r[te+1],r[te+2])}const A=new re,L=new re,z=new re,C=new re;function F(H){z.fromArray(s,H*3),C.copy(z);const q=c[H];A.copy(q),A.sub(z.multiplyScalar(z.dot(q))).normalize(),L.crossVectors(C,q);const Y=L.dot(p[H])<0?-1:1;l[H*4]=A.x,l[H*4+1]=A.y,l[H*4+2]=A.z,l[H*4+3]=Y}for(let H=0,q=T.length;H<q;++H){const B=T[H],Y=B.start,I=B.count;for(let te=Y,ce=Y+I;te<ce;te+=3)F(r[te+0]),F(r[te+1]),F(r[te+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Vn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,v=r.count;d<v;d++)r.setXYZ(d,0,0,0);const i=new re,s=new re,o=new re,a=new re,l=new re,c=new re,p=new re,m=new re;if(e)for(let d=0,v=e.count;d<v;d+=3){const _=e.getX(d+0),y=e.getX(d+1),x=e.getX(d+2);i.fromBufferAttribute(t,_),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),p.subVectors(o,s),m.subVectors(i,s),p.cross(m),a.fromBufferAttribute(r,_),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),a.add(p),l.add(p),c.add(p),r.setXYZ(_,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let d=0,v=t.count;d<v;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),p.subVectors(o,s),m.subVectors(i,s),p.cross(m),r.setXYZ(d+0,p.x,p.y,p.z),r.setXYZ(d+1,p.x,p.y,p.z),r.setXYZ(d+2,p.x,p.y,p.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,p=Math.min(l.length,o.length-c);for(let m=0,d=c;m<p;m++,d++)o[d]=l[m]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Gi.fromBufferAttribute(e,t),Gi.normalize(),e.setXYZ(t,Gi.x,Gi.y,Gi.z)}toNonIndexed(){function e(a,l){const c=a.array,p=a.itemSize,m=a.normalized,d=new c.constructor(l.length*p);let v=0,_=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?v=l[y]*a.data.stride+a.offset:v=l[y]*p;for(let w=0;w<p;w++)d[_++]=c[v++]}return new Vn(d,p,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new jt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let p=0,m=c.length;p<m;p++){const d=c[p],v=e(d,r);l.push(v)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],p=[];for(let m=0,d=c.length;m<d;m++){const v=c[m];p.push(v.toJSON(e.data))}p.length>0&&(i[l]=p,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const p=i[c];this.setAttribute(c,p.clone(t))}const s=e.morphAttributes;for(const c in s){const p=[],m=s[c];for(let d=0,v=m.length;d<v;d++)p.push(m[d].clone(t));this.morphAttributes[c]=p}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,p=o.length;c<p;c++){const m=o[c];this.addGroup(m.start,m.count,m.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}jt.prototype.isBufferGeometry=!0;const F3=new Et,tm=new _h,_b=new Lc,Pf=new re,If=new re,Lf=new re,xb=new re,wb=new re,bb=new re,Jy=new re,Qy=new re,e_=new re,t_=new nt,n_=new nt,r_=new nt,Sb=new re,i_=new re;class Ci extends kn{constructor(e=new jt,t=new kc){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),_b.copy(r.boundingSphere),_b.applyMatrix4(s),e.ray.intersectsSphere(_b)===!1)||(F3.copy(s).invert(),tm.copy(e.ray).applyMatrix4(F3),r.boundingBox!==null&&tm.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,p=r.morphTargetsRelative,m=r.attributes.uv,d=r.attributes.uv2,v=r.groups,_=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,x=v.length;y<x;y++){const w=v[y],S=i[w.materialIndex],M=Math.max(w.start,_.start),T=Math.min(a.count,Math.min(w.start+w.count,_.start+_.count));for(let A=M,L=T;A<L;A+=3){const z=a.getX(A),C=a.getX(A+1),F=a.getX(A+2);o=s_(this,S,e,tm,l,c,p,m,d,z,C,F),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const y=Math.max(0,_.start),x=Math.min(a.count,_.start+_.count);for(let w=y,S=x;w<S;w+=3){const M=a.getX(w),T=a.getX(w+1),A=a.getX(w+2);o=s_(this,i,e,tm,l,c,p,m,d,M,T,A),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,x=v.length;y<x;y++){const w=v[y],S=i[w.materialIndex],M=Math.max(w.start,_.start),T=Math.min(l.count,Math.min(w.start+w.count,_.start+_.count));for(let A=M,L=T;A<L;A+=3){const z=A,C=A+1,F=A+2;o=s_(this,S,e,tm,l,c,p,m,d,z,C,F),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const y=Math.max(0,_.start),x=Math.min(l.count,_.start+_.count);for(let w=y,S=x;w<S;w+=3){const M=w,T=w+1,A=w+2;o=s_(this,i,e,tm,l,c,p,m,d,M,T,A),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Ci.prototype.isMesh=!0;function GG(n,e,t,r,i,s,o,a){let l;if(e.side===yo?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==oh,a),l===null)return null;i_.copy(a),i_.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(i_);return c<t.near||c>t.far?null:{distance:c,point:i_.clone(),object:n}}function s_(n,e,t,r,i,s,o,a,l,c,p,m){Pf.fromBufferAttribute(i,c),If.fromBufferAttribute(i,p),Lf.fromBufferAttribute(i,m);const d=n.morphTargetInfluences;if(s&&d){Jy.set(0,0,0),Qy.set(0,0,0),e_.set(0,0,0);for(let _=0,y=s.length;_<y;_++){const x=d[_],w=s[_];x!==0&&(xb.fromBufferAttribute(w,c),wb.fromBufferAttribute(w,p),bb.fromBufferAttribute(w,m),o?(Jy.addScaledVector(xb,x),Qy.addScaledVector(wb,x),e_.addScaledVector(bb,x)):(Jy.addScaledVector(xb.sub(Pf),x),Qy.addScaledVector(wb.sub(If),x),e_.addScaledVector(bb.sub(Lf),x)))}Pf.add(Jy),If.add(Qy),Lf.add(e_)}n.isSkinnedMesh&&(n.boneTransform(c,Pf),n.boneTransform(p,If),n.boneTransform(m,Lf));const v=GG(n,e,t,r,Pf,If,Lf,Sb);if(v){a&&(t_.fromBufferAttribute(a,c),n_.fromBufferAttribute(a,p),r_.fromBufferAttribute(a,m),v.uv=pi.getUV(Sb,Pf,If,Lf,t_,n_,r_,new nt)),l&&(t_.fromBufferAttribute(l,c),n_.fromBufferAttribute(l,p),r_.fromBufferAttribute(l,m),v.uv2=pi.getUV(Sb,Pf,If,Lf,t_,n_,r_,new nt));const _={a:c,b:p,c:m,normal:new re,materialIndex:0};pi.getNormal(Pf,If,Lf,_.normal),v.face=_}return v}class Ec extends jt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],p=[],m=[];let d=0,v=0;_("z","y","x",-1,-1,r,t,e,o,s,0),_("z","y","x",1,-1,r,t,-e,o,s,1),_("x","z","y",1,1,e,r,t,i,o,2),_("x","z","y",1,-1,e,r,-t,i,o,3),_("x","y","z",1,-1,e,t,r,i,s,4),_("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new zt(c,3)),this.setAttribute("normal",new zt(p,3)),this.setAttribute("uv",new zt(m,2));function _(y,x,w,S,M,T,A,L,z,C,F){const H=T/z,q=A/C,B=T/2,Y=A/2,I=L/2,te=z+1,ce=C+1;let le=0,ae=0;const ie=new re;for(let ue=0;ue<ce;ue++){const j=ue*q-Y;for(let K=0;K<te;K++){const we=K*H-B;ie[y]=we*S,ie[x]=j*M,ie[w]=I,c.push(ie.x,ie.y,ie.z),ie[y]=0,ie[x]=0,ie[w]=L>0?1:-1,p.push(ie.x,ie.y,ie.z),m.push(K/z),m.push(1-ue/C),le+=1}}for(let ue=0;ue<C;ue++)for(let j=0;j<z;j++){const K=d+j+te*ue,we=d+j+te*(ue+1),Re=d+(j+1)+te*(ue+1),Pe=d+(j+1)+te*ue;l.push(K,we,Pe),l.push(we,Re,Pe),ae+=6}a.addGroup(v,ae,F),v+=ae,d+=le}}static fromJSON(e){return new Ec(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function og(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ys(n){const e={};for(let t=0;t<n.length;t++){const r=og(n[t]);for(const i in r)e[i]=r[i]}return e}const TO={clone:og,merge:ys};var $G=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class va extends vi{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=$G,this.fragmentShader=jG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=og(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}va.prototype.isShaderMaterial=!0;class qd extends kn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Et,this.projectionMatrix=new Et,this.projectionMatrixInverse=new Et}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}qd.prototype.isCamera=!0;class Oi extends qd{constructor(e=50,t=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=vv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return vv*2*Math.atan(Math.tan(kd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(kd*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Oi.prototype.isPerspectiveCamera=!0;const nm=90,rm=1;class Ex extends kn{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Oi(nm,rm,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new re(1,0,0)),this.add(i);const s=new Oi(nm,rm,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new re(-1,0,0)),this.add(s);const o=new Oi(nm,rm,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new re(0,1,0)),this.add(o);const a=new Oi(nm,rm,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new re(0,-1,0)),this.add(a);const l=new Oi(nm,rm,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new re(0,0,1)),this.add(l);const c=new Oi(nm,rm,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new re(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,p=e.getRenderTarget(),m=e.toneMapping,d=e.xr.enabled;e.toneMapping=pl,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(p),e.toneMapping=m,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class Mg extends gi{constructor(e,t,r,i,s,o,a,l,c,p){e=e!==void 0?e:[],t=t!==void 0?t:ah,super(e,t,r,i,s,o,a,l,c,p),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Mg.prototype.isCubeTexture=!0;class Mx extends Gs{constructor(e,t={}){super(e,e,t);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Mg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ec(5,5,5),s=new va({name:"CubemapFromEquirect",uniforms:og(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:yo,blending:yc});s.uniforms.tEquirect.value=t;const o=new Ci(i,s),a=t.minFilter;return t.minFilter===sp&&(t.minFilter=hi),new Ex(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}Mx.prototype.isWebGLCubeRenderTarget=!0;const Eb=new re,qG=new re,YG=new Fi;class al{constructor(e=new re(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Eb.subVectors(r,t).cross(qG.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(Eb),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||YG.getNormalMatrix(e),i=this.coplanarPoint(Eb).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}al.prototype.isPlane=!0;const im=new Lc,o_=new re;class Vv{constructor(e=new al,t=new al,r=new al,i=new al,s=new al,o=new al){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],p=r[6],m=r[7],d=r[8],v=r[9],_=r[10],y=r[11],x=r[12],w=r[13],S=r[14],M=r[15];return t[0].setComponents(a-i,m-l,y-d,M-x).normalize(),t[1].setComponents(a+i,m+l,y+d,M+x).normalize(),t[2].setComponents(a+s,m+c,y+v,M+w).normalize(),t[3].setComponents(a-s,m-c,y-v,M-w).normalize(),t[4].setComponents(a-o,m-p,y-_,M-S).normalize(),t[5].setComponents(a+o,m+p,y+_,M+S).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),im.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(im)}intersectsSprite(e){return im.center.set(0,0,0),im.radius=.7071067811865476,im.applyMatrix4(e.matrixWorld),this.intersectsSphere(im)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(o_.x=i.normal.x>0?e.max.x:e.min.x,o_.y=i.normal.y>0?e.max.y:e.min.y,o_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(o_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AO(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function XG(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,p){const m=c.array,d=c.usage,v=n.createBuffer();n.bindBuffer(p,v),n.bufferData(p,m,d),c.onUploadCallback();let _;if(m instanceof Float32Array)_=5126;else if(m instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)_=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=5123;else if(m instanceof Int16Array)_=5122;else if(m instanceof Uint32Array)_=5125;else if(m instanceof Int32Array)_=5124;else if(m instanceof Int8Array)_=5120;else if(m instanceof Uint8Array)_=5121;else if(m instanceof Uint8ClampedArray)_=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:v,type:_,bytesPerElement:m.BYTES_PER_ELEMENT,version:c.version}}function s(c,p,m){const d=p.array,v=p.updateRange;n.bindBuffer(m,c),v.count===-1?n.bufferSubData(m,0,d):(t?n.bufferSubData(m,v.offset*d.BYTES_PER_ELEMENT,d,v.offset,v.count):n.bufferSubData(m,v.offset*d.BYTES_PER_ELEMENT,d.subarray(v.offset,v.offset+v.count)),v.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);p&&(n.deleteBuffer(p.buffer),r.delete(c))}function l(c,p){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const m=r.get(c);m===void 0?r.set(c,i(c,p)):m.version<c.version&&(s(m.buffer,c,p),m.version=c.version)}return{get:o,remove:a,update:l}}class Yd extends jt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,p=l+1,m=e/a,d=t/l,v=[],_=[],y=[],x=[];for(let w=0;w<p;w++){const S=w*d-o;for(let M=0;M<c;M++){const T=M*m-s;_.push(T,-S,0),y.push(0,0,1),x.push(M/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let S=0;S<a;S++){const M=S+c*w,T=S+c*(w+1),A=S+1+c*(w+1),L=S+1+c*w;v.push(M,T,L),v.push(T,A,L)}this.setIndex(v),this.setAttribute("position",new zt(_,3)),this.setAttribute("normal",new zt(y,3)),this.setAttribute("uv",new zt(x,2))}static fromJSON(e){return new Yd(e.width,e.height,e.widthSegments,e.heightSegments)}}var ZG=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,KG=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JG=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,QG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,e9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,t9=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,n9="vec3 transformed = vec3( position );",r9=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,i9=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,s9=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,o9=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,a9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,l9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,u9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,c9=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,f9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,h9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,d9=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,p9=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,m9=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,g9=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,v9=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,y9=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,_9=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,x9=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,w9="gl_FragColor = linearToOutputTexel( gl_FragColor );",b9=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,S9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,E9=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,M9=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,T9=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,A9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,C9=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,R9=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,P9=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,I9=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,L9=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,k9=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,D9=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,O9=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,z9=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,F9=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,N9=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,B9=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,U9=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,H9=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,W9=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,V9=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,G9=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$9=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,j9=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,q9=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Y9=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,X9=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Z9=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,K9=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,J9=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Q9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,e7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,t7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,n7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,r7=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,i7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,s7=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,o7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,a7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,l7=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,u7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,c7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,f7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,h7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,d7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,p7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,m7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,g7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,v7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,y7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,x7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,b7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,S7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,E7=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,M7=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,T7=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,A7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,C7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,R7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,P7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,I7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,L7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,k7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,D7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,O7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,z7=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,F7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,N7=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,B7=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,U7=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,H7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,W7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,V7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,G7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,j7=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,q7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Y7=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,X7=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Z7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,K7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,J7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Q7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,e$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,t$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,n$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,r$=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,i$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s$=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o$=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,l$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,c$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,f$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,h$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,p$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,m$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,g$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,v$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,y$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_$=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,w$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,b$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ln={alphamap_fragment:ZG,alphamap_pars_fragment:KG,alphatest_fragment:JG,alphatest_pars_fragment:QG,aomap_fragment:e9,aomap_pars_fragment:t9,begin_vertex:n9,beginnormal_vertex:r9,bsdfs:i9,bumpmap_pars_fragment:s9,clipping_planes_fragment:o9,clipping_planes_pars_fragment:a9,clipping_planes_pars_vertex:l9,clipping_planes_vertex:u9,color_fragment:c9,color_pars_fragment:f9,color_pars_vertex:h9,color_vertex:d9,common:p9,cube_uv_reflection_fragment:m9,defaultnormal_vertex:g9,displacementmap_pars_vertex:v9,displacementmap_vertex:y9,emissivemap_fragment:_9,emissivemap_pars_fragment:x9,encodings_fragment:w9,encodings_pars_fragment:b9,envmap_fragment:S9,envmap_common_pars_fragment:E9,envmap_pars_fragment:M9,envmap_pars_vertex:T9,envmap_physical_pars_fragment:F9,envmap_vertex:A9,fog_vertex:C9,fog_pars_vertex:R9,fog_fragment:P9,fog_pars_fragment:I9,gradientmap_pars_fragment:L9,lightmap_fragment:k9,lightmap_pars_fragment:D9,lights_lambert_vertex:O9,lights_pars_begin:z9,lights_toon_fragment:N9,lights_toon_pars_fragment:B9,lights_phong_fragment:U9,lights_phong_pars_fragment:H9,lights_physical_fragment:W9,lights_physical_pars_fragment:V9,lights_fragment_begin:G9,lights_fragment_maps:$9,lights_fragment_end:j9,logdepthbuf_fragment:q9,logdepthbuf_pars_fragment:Y9,logdepthbuf_pars_vertex:X9,logdepthbuf_vertex:Z9,map_fragment:K9,map_pars_fragment:J9,map_particle_fragment:Q9,map_particle_pars_fragment:e7,metalnessmap_fragment:t7,metalnessmap_pars_fragment:n7,morphcolor_vertex:r7,morphnormal_vertex:i7,morphtarget_pars_vertex:s7,morphtarget_vertex:o7,normal_fragment_begin:a7,normal_fragment_maps:l7,normal_pars_fragment:u7,normal_pars_vertex:c7,normal_vertex:f7,normalmap_pars_fragment:h7,clearcoat_normal_fragment_begin:d7,clearcoat_normal_fragment_maps:p7,clearcoat_pars_fragment:m7,output_fragment:g7,packing:v7,premultiplied_alpha_fragment:y7,project_vertex:_7,dithering_fragment:x7,dithering_pars_fragment:w7,roughnessmap_fragment:b7,roughnessmap_pars_fragment:S7,shadowmap_pars_fragment:E7,shadowmap_pars_vertex:M7,shadowmap_vertex:T7,shadowmask_pars_fragment:A7,skinbase_vertex:C7,skinning_pars_vertex:R7,skinning_vertex:P7,skinnormal_vertex:I7,specularmap_fragment:L7,specularmap_pars_fragment:k7,tonemapping_fragment:D7,tonemapping_pars_fragment:O7,transmission_fragment:z7,transmission_pars_fragment:F7,uv_pars_fragment:N7,uv_pars_vertex:B7,uv_vertex:U7,uv2_pars_fragment:H7,uv2_pars_vertex:W7,uv2_vertex:V7,worldpos_vertex:G7,background_vert:$7,background_frag:j7,cube_vert:q7,cube_frag:Y7,depth_vert:X7,depth_frag:Z7,distanceRGBA_vert:K7,distanceRGBA_frag:J7,equirect_vert:Q7,equirect_frag:e$,linedashed_vert:t$,linedashed_frag:n$,meshbasic_vert:r$,meshbasic_frag:i$,meshlambert_vert:s$,meshlambert_frag:o$,meshmatcap_vert:a$,meshmatcap_frag:l$,meshnormal_vert:u$,meshnormal_frag:c$,meshphong_vert:f$,meshphong_frag:h$,meshphysical_vert:d$,meshphysical_frag:p$,meshtoon_vert:m$,meshtoon_frag:g$,points_vert:v$,points_frag:y$,shadow_vert:_$,shadow_frag:x$,sprite_vert:w$,sprite_frag:b$},xt={common:{diffuse:{value:new St(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Fi},uv2Transform:{value:new Fi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new St(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new St(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fi}},sprite:{diffuse:{value:new St(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fi}}},ll={basic:{uniforms:ys([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.fog]),vertexShader:Ln.meshbasic_vert,fragmentShader:Ln.meshbasic_frag},lambert:{uniforms:ys([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.fog,xt.lights,{emissive:{value:new St(0)}}]),vertexShader:Ln.meshlambert_vert,fragmentShader:Ln.meshlambert_frag},phong:{uniforms:ys([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new St(0)},specular:{value:new St(1118481)},shininess:{value:30}}]),vertexShader:Ln.meshphong_vert,fragmentShader:Ln.meshphong_frag},standard:{uniforms:ys([xt.common,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.roughnessmap,xt.metalnessmap,xt.fog,xt.lights,{emissive:{value:new St(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag},toon:{uniforms:ys([xt.common,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.gradientmap,xt.fog,xt.lights,{emissive:{value:new St(0)}}]),vertexShader:Ln.meshtoon_vert,fragmentShader:Ln.meshtoon_frag},matcap:{uniforms:ys([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,{matcap:{value:null}}]),vertexShader:Ln.meshmatcap_vert,fragmentShader:Ln.meshmatcap_frag},points:{uniforms:ys([xt.points,xt.fog]),vertexShader:Ln.points_vert,fragmentShader:Ln.points_frag},dashed:{uniforms:ys([xt.common,xt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ln.linedashed_vert,fragmentShader:Ln.linedashed_frag},depth:{uniforms:ys([xt.common,xt.displacementmap]),vertexShader:Ln.depth_vert,fragmentShader:Ln.depth_frag},normal:{uniforms:ys([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,{opacity:{value:1}}]),vertexShader:Ln.meshnormal_vert,fragmentShader:Ln.meshnormal_frag},sprite:{uniforms:ys([xt.sprite,xt.fog]),vertexShader:Ln.sprite_vert,fragmentShader:Ln.sprite_frag},background:{uniforms:{uvTransform:{value:new Fi},t2D:{value:null}},vertexShader:Ln.background_vert,fragmentShader:Ln.background_frag},cube:{uniforms:ys([xt.envmap,{opacity:{value:1}}]),vertexShader:Ln.cube_vert,fragmentShader:Ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ln.equirect_vert,fragmentShader:Ln.equirect_frag},distanceRGBA:{uniforms:ys([xt.common,xt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ln.distanceRGBA_vert,fragmentShader:Ln.distanceRGBA_frag},shadow:{uniforms:ys([xt.lights,xt.fog,{color:{value:new St(0)},opacity:{value:1}}]),vertexShader:Ln.shadow_vert,fragmentShader:Ln.shadow_frag}};ll.physical={uniforms:ys([ll.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new nt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new St(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new St(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new St(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag};function S$(n,e,t,r,i,s){const o=new St(0);let a=i===!0?0:1,l,c,p=null,m=0,d=null;function v(y,x){let w=!1,S=x.isScene===!0?x.background:null;S&&S.isTexture&&(S=e.get(S));const M=n.xr,T=M.getSession&&M.getSession();T&&T.environmentBlendMode==="additive"&&(S=null),S===null?_(o,a):S&&S.isColor&&(_(S,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Sg)?(c===void 0&&(c=new Ci(new Ec(1,1,1),new va({name:"BackgroundCubeMaterial",uniforms:og(ll.cube.uniforms),vertexShader:ll.cube.vertexShader,fragmentShader:ll.cube.fragmentShader,side:yo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(A,L,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(p!==S||m!==S.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,p=S,m=S.version,d=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(l===void 0&&(l=new Ci(new Yd(2,2),new va({name:"BackgroundMaterial",uniforms:og(ll.background.uniforms),vertexShader:ll.background.vertexShader,fragmentShader:ll.background.fragmentShader,side:$d,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),l.material.uniforms.uvTransform.value.copy(S.matrix),(p!==S||m!==S.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,p=S,m=S.version,d=n.toneMapping),l.layers.enableAll(),y.unshift(l,l.geometry,l.material,0,0,null))}function _(y,x){t.buffers.color.setClear(y.r,y.g,y.b,x,s)}return{getClearColor:function(){return o},setClearColor:function(y,x=1){o.set(y),a=x,_(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(y){a=y,_(o,a)},render:v}}function E$(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,p=!1;function m(I,te,ce,le,ae){let ie=!1;if(o){const ue=y(le,ce,te);c!==ue&&(c=ue,v(c.object)),ie=w(I,le,ce,ae),ie&&S(I,le,ce,ae)}else{const ue=te.wireframe===!0;(c.geometry!==le.id||c.program!==ce.id||c.wireframe!==ue)&&(c.geometry=le.id,c.program=ce.id,c.wireframe=ue,ie=!0)}ae!==null&&t.update(ae,34963),(ie||p)&&(p=!1,C(I,te,ce,le),ae!==null&&n.bindBuffer(34963,t.get(ae).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function v(I){return r.isWebGL2?n.bindVertexArray(I):s.bindVertexArrayOES(I)}function _(I){return r.isWebGL2?n.deleteVertexArray(I):s.deleteVertexArrayOES(I)}function y(I,te,ce){const le=ce.wireframe===!0;let ae=a[I.id];ae===void 0&&(ae={},a[I.id]=ae);let ie=ae[te.id];ie===void 0&&(ie={},ae[te.id]=ie);let ue=ie[le];return ue===void 0&&(ue=x(d()),ie[le]=ue),ue}function x(I){const te=[],ce=[],le=[];for(let ae=0;ae<i;ae++)te[ae]=0,ce[ae]=0,le[ae]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:ce,attributeDivisors:le,object:I,attributes:{},index:null}}function w(I,te,ce,le){const ae=c.attributes,ie=te.attributes;let ue=0;const j=ce.getAttributes();for(const K in j)if(j[K].location>=0){const Re=ae[K];let Pe=ie[K];if(Pe===void 0&&(K==="instanceMatrix"&&I.instanceMatrix&&(Pe=I.instanceMatrix),K==="instanceColor"&&I.instanceColor&&(Pe=I.instanceColor)),Re===void 0||Re.attribute!==Pe||Pe&&Re.data!==Pe.data)return!0;ue++}return c.attributesNum!==ue||c.index!==le}function S(I,te,ce,le){const ae={},ie=te.attributes;let ue=0;const j=ce.getAttributes();for(const K in j)if(j[K].location>=0){let Re=ie[K];Re===void 0&&(K==="instanceMatrix"&&I.instanceMatrix&&(Re=I.instanceMatrix),K==="instanceColor"&&I.instanceColor&&(Re=I.instanceColor));const Pe={};Pe.attribute=Re,Re&&Re.data&&(Pe.data=Re.data),ae[K]=Pe,ue++}c.attributes=ae,c.attributesNum=ue,c.index=le}function M(){const I=c.newAttributes;for(let te=0,ce=I.length;te<ce;te++)I[te]=0}function T(I){A(I,0)}function A(I,te){const ce=c.newAttributes,le=c.enabledAttributes,ae=c.attributeDivisors;ce[I]=1,le[I]===0&&(n.enableVertexAttribArray(I),le[I]=1),ae[I]!==te&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,te),ae[I]=te)}function L(){const I=c.newAttributes,te=c.enabledAttributes;for(let ce=0,le=te.length;ce<le;ce++)te[ce]!==I[ce]&&(n.disableVertexAttribArray(ce),te[ce]=0)}function z(I,te,ce,le,ae,ie){r.isWebGL2===!0&&(ce===5124||ce===5125)?n.vertexAttribIPointer(I,te,ce,ae,ie):n.vertexAttribPointer(I,te,ce,le,ae,ie)}function C(I,te,ce,le){if(r.isWebGL2===!1&&(I.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const ae=le.attributes,ie=ce.getAttributes(),ue=te.defaultAttributeValues;for(const j in ie){const K=ie[j];if(K.location>=0){let we=ae[j];if(we===void 0&&(j==="instanceMatrix"&&I.instanceMatrix&&(we=I.instanceMatrix),j==="instanceColor"&&I.instanceColor&&(we=I.instanceColor)),we!==void 0){const Re=we.normalized,Pe=we.itemSize,ke=t.get(we);if(ke===void 0)continue;const bt=ke.buffer,rt=ke.type,ut=ke.bytesPerElement;if(we.isInterleavedBufferAttribute){const it=we.data,Ct=it.stride,Xe=we.offset;if(it.isInstancedInterleavedBuffer){for(let $e=0;$e<K.locationSize;$e++)A(K.location+$e,it.meshPerAttribute);I.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=it.meshPerAttribute*it.count)}else for(let $e=0;$e<K.locationSize;$e++)T(K.location+$e);n.bindBuffer(34962,bt);for(let $e=0;$e<K.locationSize;$e++)z(K.location+$e,Pe/K.locationSize,rt,Re,Ct*ut,(Xe+Pe/K.locationSize*$e)*ut)}else{if(we.isInstancedBufferAttribute){for(let it=0;it<K.locationSize;it++)A(K.location+it,we.meshPerAttribute);I.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let it=0;it<K.locationSize;it++)T(K.location+it);n.bindBuffer(34962,bt);for(let it=0;it<K.locationSize;it++)z(K.location+it,Pe/K.locationSize,rt,Re,Pe*ut,Pe/K.locationSize*it*ut)}}else if(ue!==void 0){const Re=ue[j];if(Re!==void 0)switch(Re.length){case 2:n.vertexAttrib2fv(K.location,Re);break;case 3:n.vertexAttrib3fv(K.location,Re);break;case 4:n.vertexAttrib4fv(K.location,Re);break;default:n.vertexAttrib1fv(K.location,Re)}}}}L()}function F(){B();for(const I in a){const te=a[I];for(const ce in te){const le=te[ce];for(const ae in le)_(le[ae].object),delete le[ae];delete te[ce]}delete a[I]}}function H(I){if(a[I.id]===void 0)return;const te=a[I.id];for(const ce in te){const le=te[ce];for(const ae in le)_(le[ae].object),delete le[ae];delete te[ce]}delete a[I.id]}function q(I){for(const te in a){const ce=a[te];if(ce[I.id]===void 0)continue;const le=ce[I.id];for(const ae in le)_(le[ae].object),delete le[ae];delete ce[I.id]}}function B(){Y(),p=!0,c!==l&&(c=l,v(c.object))}function Y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:m,reset:B,resetDefaultState:Y,dispose:F,releaseStatesOfGeometry:H,releaseStatesOfProgram:q,initAttributes:M,enableAttribute:T,disableUnusedAttributes:L}}function M$(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,p){n.drawArrays(s,c,p),t.update(p,s,1)}function l(c,p,m){if(m===0)return;let d,v;if(i)d=n,v="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[v](s,c,p,m),t.update(p,s,m)}this.setMode=o,this.render=a,this.renderInstances=l}function T$(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(z){if(z==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";z="mediump"}return z==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,m=n.getParameter(34930),d=n.getParameter(35660),v=n.getParameter(3379),_=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),w=n.getParameter(36348),S=n.getParameter(36349),M=d>0,T=o||e.has("OES_texture_float"),A=M&&T,L=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:p,maxTextures:m,maxVertexTextures:d,maxTextureSize:v,maxCubemapSize:_,maxAttributes:y,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:S,vertexTextures:M,floatFragmentTextures:T,floatVertexTextures:A,maxSamples:L}}function A$(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new al,a=new Fi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(m,d,v){const _=m.length!==0||d||r!==0||i;return i=d,t=p(m,v,0),r=m.length,_},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1,c()},this.setState=function(m,d,v){const _=m.clippingPlanes,y=m.clipIntersection,x=m.clipShadows,w=n.get(m);if(!i||_===null||_.length===0||s&&!x)s?p(null):c();else{const S=s?0:r,M=S*4;let T=w.clippingState||null;l.value=T,T=p(_,d,M,v);for(let A=0;A!==M;++A)T[A]=t[A];w.clippingState=T,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function p(m,d,v,_){const y=m!==null?m.length:0;let x=null;if(y!==0){if(x=l.value,_!==!0||x===null){const w=v+y*4,S=d.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<w)&&(x=new Float32Array(w));for(let M=0,T=v;M!==y;++M,T+=4)o.copy(m[M]).applyMatrix4(S,a),o.normal.toArray(x,T),x[T+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function C$(n){let e=new WeakMap;function t(o,a){return a===cv?o.mapping=ah:a===fv&&(o.mapping=lh),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===cv||a===fv)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Mx(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Tg extends qd{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=p*this.view.offsetY,l=a-p*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}Tg.prototype.isOrthographicCamera=!0;const km=4,N3=[.125,.215,.35,.446,.526,.582],bd=20,Mb=new Tg,B3=new St;let Tb=null;const _d=(1+Math.sqrt(5))/2,sm=1/_d,U3=[new re(1,1,1),new re(-1,1,1),new re(1,1,-1),new re(-1,1,-1),new re(0,_d,sm),new re(0,_d,-sm),new re(sm,0,_d),new re(-sm,0,_d),new re(_d,sm,0),new re(-_d,sm,0)];class kE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Tb=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=V3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=W3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Tb),e.scissorTest=!1,a_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ah||e.mapping===lh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Tb=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:hi,minFilter:hi,generateMipmaps:!1,type:rg,format:Vo,encoding:vl,depthBuffer:!1},i=H3(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=H3(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=R$(s)),this._blurMaterial=P$(s,e,t)}return i}_compileMaterial(e){const t=new Ci(this._lodPlanes[0],e);this._renderer.compile(t,Mb)}_sceneToCubeUV(e,t,r,i){const a=new Oi(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],p=this._renderer,m=p.autoClear,d=p.toneMapping;p.getClearColor(B3),p.toneMapping=pl,p.autoClear=!1;const v=new kc({name:"PMREM.Background",side:yo,depthWrite:!1,depthTest:!1}),_=new Ci(new Ec,v);let y=!1;const x=e.background;x?x.isColor&&(v.color.copy(x),e.background=null,y=!0):(v.color.copy(B3),y=!0);for(let w=0;w<6;w++){const S=w%3;S===0?(a.up.set(0,l[w],0),a.lookAt(c[w],0,0)):S===1?(a.up.set(0,0,l[w]),a.lookAt(0,c[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,c[w]));const M=this._cubeSize;a_(i,S*M,w>2?M:0,M,M),p.setRenderTarget(i),y&&p.render(_,a),p.render(e,a)}_.geometry.dispose(),_.material.dispose(),p.toneMapping=d,p.autoClear=m,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ah||e.mapping===lh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=V3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=W3());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Ci(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;a_(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Mb)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=U3[(i-1)%U3.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,m=new Ci(this._lodPlanes[i],c),d=c.uniforms,v=this._sizeLods[r]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*bd-1),y=s/_,x=isFinite(s)?1+Math.floor(p*y):bd;x>bd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${bd}`);const w=[];let S=0;for(let z=0;z<bd;++z){const C=z/y,F=Math.exp(-C*C/2);w.push(F),z===0?S+=F:z<x&&(S+=2*F)}for(let z=0;z<w.length;z++)w[z]=w[z]/S;d.envMap.value=e.texture,d.samples.value=x,d.weights.value=w,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:M}=this;d.dTheta.value=_,d.mipInt.value=M-r;const T=this._sizeLods[i],A=3*T*(i>M-km?i-M+km:0),L=4*(this._cubeSize-T);a_(t,A,L,3*T,2*T),l.setRenderTarget(t),l.render(m,Mb)}}function R$(n){const e=[],t=[],r=[];let i=n;const s=n-km+1+N3.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-km?l=N3[o-n+km-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),p=-c,m=1+c,d=[p,p,m,p,m,m,p,p,m,m,p,m],v=6,_=6,y=3,x=2,w=1,S=new Float32Array(y*_*v),M=new Float32Array(x*_*v),T=new Float32Array(w*_*v);for(let L=0;L<v;L++){const z=L%3*2/3-1,C=L>2?0:-1,F=[z,C,0,z+2/3,C,0,z+2/3,C+1,0,z,C,0,z+2/3,C+1,0,z,C+1,0];S.set(F,y*_*L),M.set(d,x*_*L);const H=[L,L,L,L,L,L];T.set(H,w*_*L)}const A=new jt;A.setAttribute("position",new Vn(S,y)),A.setAttribute("uv",new Vn(M,x)),A.setAttribute("faceIndex",new Vn(T,w)),e.push(A),i>km&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function H3(n,e,t){const r=new Gs(n,e,t);return r.texture.mapping=Sg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function a_(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function P$(n,e,t){const r=new Float32Array(bd),i=new re(0,1,0);return new va({name:"SphericalGaussianBlur",defines:{n:bd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:IM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:yc,depthTest:!1,depthWrite:!1})}function W3(){return new va({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:IM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:yc,depthTest:!1,depthWrite:!1})}function V3(){return new va({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:IM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:yc,depthTest:!1,depthWrite:!1})}function IM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function I$(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===cv||l===fv,p=l===ah||l===lh;if(c||p)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let m=e.get(a);return t===null&&(t=new kE(n)),m=c?t.fromEquirectangular(a,m):t.fromCubemap(a,m),e.set(a,m),m.texture}else{if(e.has(a))return e.get(a).texture;{const m=a.image;if(c&&m&&m.height>0||p&&m&&i(m)){t===null&&(t=new kE(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let p=0;p<c;p++)a[p]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function L$(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function k$(n,e,t,r){const i={},s=new WeakMap;function o(m){const d=m.target;d.index!==null&&e.remove(d.index);for(const _ in d.attributes)e.remove(d.attributes[_]);d.removeEventListener("dispose",o),delete i[d.id];const v=s.get(d);v&&(e.remove(v),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(m,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(m){const d=m.attributes;for(const _ in d)e.update(d[_],34962);const v=m.morphAttributes;for(const _ in v){const y=v[_];for(let x=0,w=y.length;x<w;x++)e.update(y[x],34962)}}function c(m){const d=[],v=m.index,_=m.attributes.position;let y=0;if(v!==null){const S=v.array;y=v.version;for(let M=0,T=S.length;M<T;M+=3){const A=S[M+0],L=S[M+1],z=S[M+2];d.push(A,L,L,z,z,A)}}else{const S=_.array;y=_.version;for(let M=0,T=S.length/3-1;M<T;M+=3){const A=M+0,L=M+1,z=M+2;d.push(A,L,L,z,z,A)}}const x=new(pO(d)?Sx:bx)(d,1);x.version=y;const w=s.get(m);w&&e.remove(w),s.set(m,x)}function p(m){const d=s.get(m);if(d){const v=m.index;v!==null&&d.version<v.version&&c(m)}else c(m);return s.get(m)}return{get:a,update:l,getWireframeAttribute:p}}function D$(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function p(d,v){n.drawElements(s,v,a,d*l),t.update(v,s,1)}function m(d,v,_){if(_===0)return;let y,x;if(i)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,v,a,d*l,_),t.update(v,s,_)}this.setMode=o,this.setIndex=c,this.render=p,this.renderInstances=m}function O$(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function z$(n,e){return n[0]-e[0]}function F$(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Ab(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function N$(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new tr,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,p,m,d){const v=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,x=y!==void 0?y.length:0;let w=s.get(p);if(w===void 0||w.count!==x){let ce=function(){I.dispose(),s.delete(p),p.removeEventListener("dispose",ce)};var _=ce;w!==void 0&&w.texture.dispose();const T=p.morphAttributes.position!==void 0,A=p.morphAttributes.normal!==void 0,L=p.morphAttributes.color!==void 0,z=p.morphAttributes.position||[],C=p.morphAttributes.normal||[],F=p.morphAttributes.color||[];let H=0;T===!0&&(H=1),A===!0&&(H=2),L===!0&&(H=3);let q=p.attributes.position.count*H,B=1;q>e.maxTextureSize&&(B=Math.ceil(q/e.maxTextureSize),q=e.maxTextureSize);const Y=new Float32Array(q*B*4*x),I=new Eg(Y,q,B,x);I.type=gc,I.needsUpdate=!0;const te=H*4;for(let le=0;le<x;le++){const ae=z[le],ie=C[le],ue=F[le],j=q*B*4*le;for(let K=0;K<ae.count;K++){const we=K*te;T===!0&&(o.fromBufferAttribute(ae,K),ae.normalized===!0&&Ab(o,ae),Y[j+we+0]=o.x,Y[j+we+1]=o.y,Y[j+we+2]=o.z,Y[j+we+3]=0),A===!0&&(o.fromBufferAttribute(ie,K),ie.normalized===!0&&Ab(o,ie),Y[j+we+4]=o.x,Y[j+we+5]=o.y,Y[j+we+6]=o.z,Y[j+we+7]=0),L===!0&&(o.fromBufferAttribute(ue,K),ue.normalized===!0&&Ab(o,ue),Y[j+we+8]=o.x,Y[j+we+9]=o.y,Y[j+we+10]=o.z,Y[j+we+11]=ue.itemSize===4?o.w:1)}}w={count:x,texture:I,size:new nt(q,B)},s.set(p,w),p.addEventListener("dispose",ce)}let S=0;for(let T=0;T<v.length;T++)S+=v[T];const M=p.morphTargetsRelative?1:1-S;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",v),d.getUniforms().setValue(n,"morphTargetsTexture",w.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",w.size)}else{const y=v===void 0?0:v.length;let x=r[p.id];if(x===void 0||x.length!==y){x=[];for(let A=0;A<y;A++)x[A]=[A,0];r[p.id]=x}for(let A=0;A<y;A++){const L=x[A];L[0]=A,L[1]=v[A]}x.sort(F$);for(let A=0;A<8;A++)A<y&&x[A][1]?(a[A][0]=x[A][0],a[A][1]=x[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(z$);const w=p.morphAttributes.position,S=p.morphAttributes.normal;let M=0;for(let A=0;A<8;A++){const L=a[A],z=L[0],C=L[1];z!==Number.MAX_SAFE_INTEGER&&C?(w&&p.getAttribute("morphTarget"+A)!==w[z]&&p.setAttribute("morphTarget"+A,w[z]),S&&p.getAttribute("morphNormal"+A)!==S[z]&&p.setAttribute("morphNormal"+A,S[z]),i[A]=C,M+=C):(w&&p.hasAttribute("morphTarget"+A)===!0&&p.deleteAttribute("morphTarget"+A),S&&p.hasAttribute("morphNormal"+A)===!0&&p.deleteAttribute("morphNormal"+A),i[A]=0)}const T=p.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",T),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function B$(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,p=l.geometry,m=e.get(l,p);return i.get(m)!==c&&(e.update(m),i.set(m,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),m}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const CO=new gi,RO=new Eg,PO=new Wv,IO=new Mg,G3=[],$3=[],j3=new Float32Array(16),q3=new Float32Array(9),Y3=new Float32Array(4);function Ag(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=G3[i];if(s===void 0&&(s=new Float32Array(i),G3[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function js(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function qs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Tx(n,e){let t=$3[e];t===void 0&&(t=new Int32Array(e),$3[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function U$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function H$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(js(t,e))return;n.uniform2fv(this.addr,e),qs(t,e)}}function W$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(js(t,e))return;n.uniform3fv(this.addr,e),qs(t,e)}}function V$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(js(t,e))return;n.uniform4fv(this.addr,e),qs(t,e)}}function G$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(js(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),qs(t,e)}else{if(js(t,r))return;Y3.set(r),n.uniformMatrix2fv(this.addr,!1,Y3),qs(t,r)}}function $$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(js(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),qs(t,e)}else{if(js(t,r))return;q3.set(r),n.uniformMatrix3fv(this.addr,!1,q3),qs(t,r)}}function j$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(js(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),qs(t,e)}else{if(js(t,r))return;j3.set(r),n.uniformMatrix4fv(this.addr,!1,j3),qs(t,r)}}function q$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Y$(n,e){const t=this.cache;js(t,e)||(n.uniform2iv(this.addr,e),qs(t,e))}function X$(n,e){const t=this.cache;js(t,e)||(n.uniform3iv(this.addr,e),qs(t,e))}function Z$(n,e){const t=this.cache;js(t,e)||(n.uniform4iv(this.addr,e),qs(t,e))}function K$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function J$(n,e){const t=this.cache;js(t,e)||(n.uniform2uiv(this.addr,e),qs(t,e))}function Q$(n,e){const t=this.cache;js(t,e)||(n.uniform3uiv(this.addr,e),qs(t,e))}function ej(n,e){const t=this.cache;js(t,e)||(n.uniform4uiv(this.addr,e),qs(t,e))}function tj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||CO,i)}function nj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||PO,i)}function rj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||IO,i)}function ij(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||RO,i)}function sj(n){switch(n){case 5126:return U$;case 35664:return H$;case 35665:return W$;case 35666:return V$;case 35674:return G$;case 35675:return $$;case 35676:return j$;case 5124:case 35670:return q$;case 35667:case 35671:return Y$;case 35668:case 35672:return X$;case 35669:case 35673:return Z$;case 5125:return K$;case 36294:return J$;case 36295:return Q$;case 36296:return ej;case 35678:case 36198:case 36298:case 36306:case 35682:return tj;case 35679:case 36299:case 36307:return nj;case 35680:case 36300:case 36308:case 36293:return rj;case 36289:case 36303:case 36311:case 36292:return ij}}function oj(n,e){n.uniform1fv(this.addr,e)}function aj(n,e){const t=Ag(e,this.size,2);n.uniform2fv(this.addr,t)}function lj(n,e){const t=Ag(e,this.size,3);n.uniform3fv(this.addr,t)}function uj(n,e){const t=Ag(e,this.size,4);n.uniform4fv(this.addr,t)}function cj(n,e){const t=Ag(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fj(n,e){const t=Ag(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function hj(n,e){const t=Ag(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function dj(n,e){n.uniform1iv(this.addr,e)}function pj(n,e){n.uniform2iv(this.addr,e)}function mj(n,e){n.uniform3iv(this.addr,e)}function gj(n,e){n.uniform4iv(this.addr,e)}function vj(n,e){n.uniform1uiv(this.addr,e)}function yj(n,e){n.uniform2uiv(this.addr,e)}function _j(n,e){n.uniform3uiv(this.addr,e)}function xj(n,e){n.uniform4uiv(this.addr,e)}function wj(n,e,t){const r=e.length,i=Tx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||CO,i[s])}function bj(n,e,t){const r=e.length,i=Tx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||PO,i[s])}function Sj(n,e,t){const r=e.length,i=Tx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||IO,i[s])}function Ej(n,e,t){const r=e.length,i=Tx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||RO,i[s])}function Mj(n){switch(n){case 5126:return oj;case 35664:return aj;case 35665:return lj;case 35666:return uj;case 35674:return cj;case 35675:return fj;case 35676:return hj;case 5124:case 35670:return dj;case 35667:case 35671:return pj;case 35668:case 35672:return mj;case 35669:case 35673:return gj;case 5125:return vj;case 36294:return yj;case 36295:return _j;case 36296:return xj;case 35678:case 36198:case 36298:case 36306:case 35682:return wj;case 35679:case 36299:case 36307:return bj;case 35680:case 36300:case 36308:case 36293:return Sj;case 36289:case 36303:case 36311:case 36292:return Ej}}function Tj(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=sj(e.type)}function Aj(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=Mj(e.type)}function LO(n){this.id=n,this.seq=[],this.map={}}LO.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,e[o.id],t)}};const Cb=/(\w+)(\])?(\[|\.)?/g;function X3(n,e){n.seq.push(e),n.map[e.id]=e}function Cj(n,e,t){const r=n.name,i=r.length;for(Cb.lastIndex=0;;){const s=Cb.exec(r),o=Cb.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){X3(t,c===void 0?new Tj(a,n,e):new Aj(a,n,e));break}else{let m=t.map[a];m===void 0&&(m=new LO(a),X3(t,m)),t=m}}}function eh(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),s=n.getUniformLocation(e,i.name);Cj(i,s,this)}}eh.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};eh.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};eh.upload=function(n,e,t,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,r)}};eh.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in e&&t.push(s)}return t};function Z3(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Rj=0;function Pj(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++)r.push(o+1+": "+t[o]);return r.join(`
`)}function Ij(n){switch(n){case vl:return["Linear","( value )"];case _r:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function K3(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[0]);return t.toUpperCase()+`

`+i+`

`+Pj(n.getShaderSource(e),o)}else return i}function Lj(n,e){const t=Ij(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function kj(n,e){let t;switch(e){case UD:t="Linear";break;case HD:t="Reinhard";break;case WD:t="OptimizedCineon";break;case AM:t="ACESFilmic";break;case VD:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Dj(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(T0).join(`
`)}function Oj(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function zj(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function T0(n){return n!==""}function J3(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Q3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Fj=/^[ \t]*#include +<([\w\d./]+)>/gm;function DE(n){return n.replace(Fj,Nj)}function Nj(n,e){const t=Ln[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return DE(t)}const Bj=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Uj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eR(n){return n.replace(Uj,kO).replace(Bj,Hj)}function Hj(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),kO(n,e,t,r)}function kO(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function tR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Wj(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===bM?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===SM?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Im&&(e="SHADOWMAP_TYPE_VSM"),e}function Vj(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ah:case lh:e="ENVMAP_TYPE_CUBE";break;case Sg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Gj(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case lh:e="ENVMAP_MODE_REFRACTION";break}return e}function $j(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Hv:e="ENVMAP_BLENDING_MULTIPLY";break;case ND:e="ENVMAP_BLENDING_MIX";break;case BD:e="ENVMAP_BLENDING_ADD";break}return e}function jj(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function qj(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Wj(t),c=Vj(t),p=Gj(t),m=$j(t),d=jj(t),v=t.isWebGL2?"":Dj(t),_=Oj(s),y=i.createProgram();let x,w,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[_].filter(T0).join(`
`),x.length>0&&(x+=`
`),w=[v,_].filter(T0).join(`
`),w.length>0&&(w+=`
`)):(x=[tR(t),"#define SHADER_NAME "+t.shaderName,_,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(T0).join(`
`),w=[v,tR(t),"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==pl?"#define TONE_MAPPING":"",t.toneMapping!==pl?Ln.tonemapping_pars_fragment:"",t.toneMapping!==pl?kj("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ln.encodings_pars_fragment,Lj("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(T0).join(`
`)),o=DE(o),o=J3(o,t),o=Q3(o,t),a=DE(a),a=J3(a,t),a=Q3(a,t),o=eR(o),a=eR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",t.glslVersion===IE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const M=S+x+o,T=S+w+a,A=Z3(i,35633,M),L=Z3(i,35632,T);if(i.attachShader(y,A),i.attachShader(y,L),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const F=i.getProgramInfoLog(y).trim(),H=i.getShaderInfoLog(A).trim(),q=i.getShaderInfoLog(L).trim();let B=!0,Y=!0;if(i.getProgramParameter(y,35714)===!1){B=!1;const I=K3(i,A,"vertex"),te=K3(i,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+F+`
`+I+`
`+te)}else F!==""?console.warn("THREE.WebGLProgram: Program Info Log:",F):(H===""||q==="")&&(Y=!1);Y&&(this.diagnostics={runnable:B,programLog:F,vertexShader:{log:H,prefix:x},fragmentShader:{log:q,prefix:w}})}i.deleteShader(A),i.deleteShader(L);let z;this.getUniforms=function(){return z===void 0&&(z=new eh(i,y)),z};let C;return this.getAttributes=function(){return C===void 0&&(C=zj(i,y)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=Rj++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=A,this.fragmentShader=L,this}let Yj=0;class Xj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new Zj(e);t.set(e,r)}return t.get(e)}}class Zj{constructor(e){this.id=Yj++,this.code=e,this.usedTimes=0}}function Kj(n,e,t,r,i,s,o){const a=new Od,l=new Xj,c=[],p=i.isWebGL2,m=i.logarithmicDepthBuffer,d=i.vertexTextures;let v=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(C,F,H,q,B){const Y=q.fog,I=B.geometry,te=C.isMeshStandardMaterial?q.environment:null,ce=(C.isMeshStandardMaterial?t:e).get(C.envMap||te),le=!!ce&&ce.mapping===Sg?ce.image.height:null,ae=_[C.type];C.precision!==null&&(v=i.getMaxPrecision(C.precision),v!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",v,"instead."));const ie=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,ue=ie!==void 0?ie.length:0;let j=0;I.morphAttributes.position!==void 0&&(j=1),I.morphAttributes.normal!==void 0&&(j=2),I.morphAttributes.color!==void 0&&(j=3);let K,we,Re,Pe;if(ae){const it=ll[ae];K=it.vertexShader,we=it.fragmentShader}else K=C.vertexShader,we=C.fragmentShader,l.update(C),Re=l.getVertexShaderID(C),Pe=l.getFragmentShaderID(C);const ke=n.getRenderTarget(),bt=C.alphaTest>0,rt=C.clearcoat>0;return{isWebGL2:p,shaderID:ae,shaderName:C.type,vertexShader:K,fragmentShader:we,defines:C.defines,customVertexShaderID:Re,customFragmentShaderID:Pe,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:v,instancing:B.isInstancedMesh===!0,instancingColor:B.isInstancedMesh===!0&&B.instanceColor!==null,supportsVertexTextures:d,outputEncoding:ke===null?n.outputEncoding:ke.isXRRenderTarget===!0?ke.texture.encoding:vl,map:!!C.map,matcap:!!C.matcap,envMap:!!ce,envMapMode:ce&&ce.mapping,envMapCubeUVHeight:le,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===fO,tangentSpaceNormalMap:C.normalMapType===op,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===_r,clearcoat:rt,clearcoatMap:rt&&!!C.clearcoatMap,clearcoatRoughnessMap:rt&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:rt&&!!C.clearcoatNormalMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===Id,alphaMap:!!C.alphaMap,alphaTest:bt,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!I.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!I.attributes.color&&I.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatNormalMap||C.transmission>0||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||C.sheen>0||!!C.sheenColorMap||!!C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!Y,useFog:C.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:m,skinning:B.isSkinnedMesh===!0,morphTargets:I.morphAttributes.position!==void 0,morphNormals:I.morphAttributes.normal!==void 0,morphColors:I.morphAttributes.color!==void 0,morphTargetsCount:ue,morphTextureStride:j,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:pl,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===oh,flipSided:C.side===yo,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:p||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function x(C){const F=[];if(C.shaderID?F.push(C.shaderID):(F.push(C.customVertexShaderID),F.push(C.customFragmentShaderID)),C.defines!==void 0)for(const H in C.defines)F.push(H),F.push(C.defines[H]);return C.isRawShaderMaterial===!1&&(w(F,C),S(F,C),F.push(n.outputEncoding)),F.push(C.customProgramCacheKey),F.join()}function w(C,F){C.push(F.precision),C.push(F.outputEncoding),C.push(F.envMapMode),C.push(F.envMapCubeUVHeight),C.push(F.combine),C.push(F.vertexUvs),C.push(F.fogExp2),C.push(F.sizeAttenuation),C.push(F.morphTargetsCount),C.push(F.morphAttributeCount),C.push(F.numDirLights),C.push(F.numPointLights),C.push(F.numSpotLights),C.push(F.numHemiLights),C.push(F.numRectAreaLights),C.push(F.numDirLightShadows),C.push(F.numPointLightShadows),C.push(F.numSpotLightShadows),C.push(F.shadowMapType),C.push(F.toneMapping),C.push(F.numClippingPlanes),C.push(F.numClipIntersection),C.push(F.depthPacking)}function S(C,F){a.disableAll(),F.isWebGL2&&a.enable(0),F.supportsVertexTextures&&a.enable(1),F.instancing&&a.enable(2),F.instancingColor&&a.enable(3),F.map&&a.enable(4),F.matcap&&a.enable(5),F.envMap&&a.enable(6),F.lightMap&&a.enable(7),F.aoMap&&a.enable(8),F.emissiveMap&&a.enable(9),F.bumpMap&&a.enable(10),F.normalMap&&a.enable(11),F.objectSpaceNormalMap&&a.enable(12),F.tangentSpaceNormalMap&&a.enable(13),F.clearcoat&&a.enable(14),F.clearcoatMap&&a.enable(15),F.clearcoatRoughnessMap&&a.enable(16),F.clearcoatNormalMap&&a.enable(17),F.displacementMap&&a.enable(18),F.specularMap&&a.enable(19),F.roughnessMap&&a.enable(20),F.metalnessMap&&a.enable(21),F.gradientMap&&a.enable(22),F.alphaMap&&a.enable(23),F.alphaTest&&a.enable(24),F.vertexColors&&a.enable(25),F.vertexAlphas&&a.enable(26),F.vertexUvs&&a.enable(27),F.vertexTangents&&a.enable(28),F.uvsVertexOnly&&a.enable(29),F.fog&&a.enable(30),C.push(a.mask),a.disableAll(),F.useFog&&a.enable(0),F.flatShading&&a.enable(1),F.logarithmicDepthBuffer&&a.enable(2),F.skinning&&a.enable(3),F.morphTargets&&a.enable(4),F.morphNormals&&a.enable(5),F.morphColors&&a.enable(6),F.premultipliedAlpha&&a.enable(7),F.shadowMapEnabled&&a.enable(8),F.physicallyCorrectLights&&a.enable(9),F.doubleSided&&a.enable(10),F.flipSided&&a.enable(11),F.useDepthPacking&&a.enable(12),F.dithering&&a.enable(13),F.specularIntensityMap&&a.enable(14),F.specularColorMap&&a.enable(15),F.transmission&&a.enable(16),F.transmissionMap&&a.enable(17),F.thicknessMap&&a.enable(18),F.sheen&&a.enable(19),F.sheenColorMap&&a.enable(20),F.sheenRoughnessMap&&a.enable(21),F.decodeVideoTexture&&a.enable(22),F.opaque&&a.enable(23),C.push(a.mask)}function M(C){const F=_[C.type];let H;if(F){const q=ll[F];H=TO.clone(q.uniforms)}else H=C.uniforms;return H}function T(C,F){let H;for(let q=0,B=c.length;q<B;q++){const Y=c[q];if(Y.cacheKey===F){H=Y,++H.usedTimes;break}}return H===void 0&&(H=new qj(n,F,C,s),c.push(H)),H}function A(C){if(--C.usedTimes===0){const F=c.indexOf(C);c[F]=c[c.length-1],c.pop(),C.destroy()}}function L(C){l.remove(C)}function z(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:M,acquireProgram:T,releaseProgram:A,releaseShaderCache:L,programs:c,dispose:z}}function Jj(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Qj(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function nR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function rR(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(m,d,v,_,y,x){let w=n[e];return w===void 0?(w={id:m.id,object:m,geometry:d,material:v,groupOrder:_,renderOrder:m.renderOrder,z:y,group:x},n[e]=w):(w.id=m.id,w.object=m,w.geometry=d,w.material=v,w.groupOrder=_,w.renderOrder=m.renderOrder,w.z=y,w.group=x),e++,w}function a(m,d,v,_,y,x){const w=o(m,d,v,_,y,x);v.transmission>0?r.push(w):v.transparent===!0?i.push(w):t.push(w)}function l(m,d,v,_,y,x){const w=o(m,d,v,_,y,x);v.transmission>0?r.unshift(w):v.transparent===!0?i.unshift(w):t.unshift(w)}function c(m,d){t.length>1&&t.sort(m||Qj),r.length>1&&r.sort(d||nR),i.length>1&&i.sort(d||nR)}function p(){for(let m=e,d=n.length;m<d;m++){const v=n[m];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:p,sort:c}}function eq(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new rR,n.set(r,[s])):i>=n.get(r).length?(s=new rR,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function tq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new St};break;case"SpotLight":t={position:new re,direction:new re,color:new St,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new St,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new St,groundColor:new St};break;case"RectAreaLight":t={color:new St,position:new re,halfWidth:new re,halfHeight:new re};break}return n[e.id]=t,t}}}function nq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let rq=0;function iq(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function sq(n,e){const t=new tq,r=nq(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let p=0;p<9;p++)i.probe.push(new re);const s=new re,o=new Et,a=new Et;function l(p,m){let d=0,v=0,_=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let y=0,x=0,w=0,S=0,M=0,T=0,A=0,L=0;p.sort(iq);const z=m!==!0?Math.PI:1;for(let F=0,H=p.length;F<H;F++){const q=p[F],B=q.color,Y=q.intensity,I=q.distance,te=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)d+=B.r*Y*z,v+=B.g*Y*z,_+=B.b*Y*z;else if(q.isLightProbe)for(let ce=0;ce<9;ce++)i.probe[ce].addScaledVector(q.sh.coefficients[ce],Y);else if(q.isDirectionalLight){const ce=t.get(q);if(ce.color.copy(q.color).multiplyScalar(q.intensity*z),q.castShadow){const le=q.shadow,ae=r.get(q);ae.shadowBias=le.bias,ae.shadowNormalBias=le.normalBias,ae.shadowRadius=le.radius,ae.shadowMapSize=le.mapSize,i.directionalShadow[y]=ae,i.directionalShadowMap[y]=te,i.directionalShadowMatrix[y]=q.shadow.matrix,T++}i.directional[y]=ce,y++}else if(q.isSpotLight){const ce=t.get(q);if(ce.position.setFromMatrixPosition(q.matrixWorld),ce.color.copy(B).multiplyScalar(Y*z),ce.distance=I,ce.coneCos=Math.cos(q.angle),ce.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),ce.decay=q.decay,q.castShadow){const le=q.shadow,ae=r.get(q);ae.shadowBias=le.bias,ae.shadowNormalBias=le.normalBias,ae.shadowRadius=le.radius,ae.shadowMapSize=le.mapSize,i.spotShadow[w]=ae,i.spotShadowMap[w]=te,i.spotShadowMatrix[w]=q.shadow.matrix,L++}i.spot[w]=ce,w++}else if(q.isRectAreaLight){const ce=t.get(q);ce.color.copy(B).multiplyScalar(Y),ce.halfWidth.set(q.width*.5,0,0),ce.halfHeight.set(0,q.height*.5,0),i.rectArea[S]=ce,S++}else if(q.isPointLight){const ce=t.get(q);if(ce.color.copy(q.color).multiplyScalar(q.intensity*z),ce.distance=q.distance,ce.decay=q.decay,q.castShadow){const le=q.shadow,ae=r.get(q);ae.shadowBias=le.bias,ae.shadowNormalBias=le.normalBias,ae.shadowRadius=le.radius,ae.shadowMapSize=le.mapSize,ae.shadowCameraNear=le.camera.near,ae.shadowCameraFar=le.camera.far,i.pointShadow[x]=ae,i.pointShadowMap[x]=te,i.pointShadowMatrix[x]=q.shadow.matrix,A++}i.point[x]=ce,x++}else if(q.isHemisphereLight){const ce=t.get(q);ce.skyColor.copy(q.color).multiplyScalar(Y*z),ce.groundColor.copy(q.groundColor).multiplyScalar(Y*z),i.hemi[M]=ce,M++}}S>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=xt.LTC_FLOAT_1,i.rectAreaLTC2=xt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=xt.LTC_HALF_1,i.rectAreaLTC2=xt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=v,i.ambient[2]=_;const C=i.hash;(C.directionalLength!==y||C.pointLength!==x||C.spotLength!==w||C.rectAreaLength!==S||C.hemiLength!==M||C.numDirectionalShadows!==T||C.numPointShadows!==A||C.numSpotShadows!==L)&&(i.directional.length=y,i.spot.length=w,i.rectArea.length=S,i.point.length=x,i.hemi.length=M,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=A,i.spotShadowMatrix.length=L,C.directionalLength=y,C.pointLength=x,C.spotLength=w,C.rectAreaLength=S,C.hemiLength=M,C.numDirectionalShadows=T,C.numPointShadows=A,C.numSpotShadows=L,i.version=rq++)}function c(p,m){let d=0,v=0,_=0,y=0,x=0;const w=m.matrixWorldInverse;for(let S=0,M=p.length;S<M;S++){const T=p[S];if(T.isDirectionalLight){const A=i.directional[d];A.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(w),d++}else if(T.isSpotLight){const A=i.spot[_];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(w),A.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(w),_++}else if(T.isRectAreaLight){const A=i.rectArea[y];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(w),a.identity(),o.copy(T.matrixWorld),o.premultiply(w),a.extractRotation(o),A.halfWidth.set(T.width*.5,0,0),A.halfHeight.set(0,T.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),y++}else if(T.isPointLight){const A=i.point[v];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(w),v++}else if(T.isHemisphereLight){const A=i.hemi[x];A.direction.setFromMatrixPosition(T.matrixWorld),A.direction.transformDirection(w),x++}}}return{setup:l,setupView:c,state:i}}function iR(n,e){const t=new sq(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(m){r.push(m)}function a(m){i.push(m)}function l(m){t.setup(r,m)}function c(m){t.setupView(r,m)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function oq(n,e){let t=new WeakMap;function r(s,o=0){let a;return t.has(s)===!1?(a=new iR(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new iR(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class Ax extends vi{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=uO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Ax.prototype.isMeshDepthMaterial=!0;class Cx extends vi{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new re,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Cx.prototype.isMeshDistanceMaterial=!0;const aq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function DO(n,e,t){let r=new Vv;const i=new nt,s=new nt,o=new tr,a=new Ax({depthPacking:cO}),l=new Cx,c={},p=t.maxTextureSize,m={0:yo,1:$d,2:oh},d=new va({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:aq,fragmentShader:lq}),v=d.clone();v.defines.HORIZONTAL_PASS=1;const _=new jt;_.setAttribute("position",new Vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Ci(_,d),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bM,this.render=function(T,A,L){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||T.length===0)return;const z=n.getRenderTarget(),C=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),H=n.state;H.setBlending(yc),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);for(let q=0,B=T.length;q<B;q++){const Y=T[q],I=Y.shadow;if(I===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;i.copy(I.mapSize);const te=I.getFrameExtents();if(i.multiply(te),s.copy(I.mapSize),(i.x>p||i.y>p)&&(i.x>p&&(s.x=Math.floor(p/te.x),i.x=s.x*te.x,I.mapSize.x=s.x),i.y>p&&(s.y=Math.floor(p/te.y),i.y=s.y*te.y,I.mapSize.y=s.y)),I.map===null&&!I.isPointLightShadow&&this.type===Im&&(I.map=new Gs(i.x,i.y),I.map.texture.name=Y.name+".shadowMap",I.mapPass=new Gs(i.x,i.y),I.camera.updateProjectionMatrix()),I.map===null){const le={minFilter:Mi,magFilter:Mi,format:Vo};I.map=new Gs(i.x,i.y,le),I.map.texture.name=Y.name+".shadowMap",I.camera.updateProjectionMatrix()}n.setRenderTarget(I.map),n.clear();const ce=I.getViewportCount();for(let le=0;le<ce;le++){const ae=I.getViewport(le);o.set(s.x*ae.x,s.y*ae.y,s.x*ae.z,s.y*ae.w),H.viewport(o),I.updateMatrices(Y,le),r=I.getFrustum(),M(A,L,I.camera,Y,this.type)}!I.isPointLightShadow&&this.type===Im&&w(I,L),I.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(z,C,F)};function w(T,A){const L=e.update(y);d.defines.VSM_SAMPLES!==T.blurSamples&&(d.defines.VSM_SAMPLES=T.blurSamples,v.defines.VSM_SAMPLES=T.blurSamples,d.needsUpdate=!0,v.needsUpdate=!0),d.uniforms.shadow_pass.value=T.map.texture,d.uniforms.resolution.value=T.mapSize,d.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(A,null,L,d,y,null),v.uniforms.shadow_pass.value=T.mapPass.texture,v.uniforms.resolution.value=T.mapSize,v.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(A,null,L,v,y,null)}function S(T,A,L,z,C,F){let H=null;const q=L.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(q!==void 0?H=q:H=L.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0){const B=H.uuid,Y=A.uuid;let I=c[B];I===void 0&&(I={},c[B]=I);let te=I[Y];te===void 0&&(te=H.clone(),I[Y]=te),H=te}return H.visible=A.visible,H.wireframe=A.wireframe,F===Im?H.side=A.shadowSide!==null?A.shadowSide:A.side:H.side=A.shadowSide!==null?A.shadowSide:m[A.side],H.alphaMap=A.alphaMap,H.alphaTest=A.alphaTest,H.clipShadows=A.clipShadows,H.clippingPlanes=A.clippingPlanes,H.clipIntersection=A.clipIntersection,H.displacementMap=A.displacementMap,H.displacementScale=A.displacementScale,H.displacementBias=A.displacementBias,H.wireframeLinewidth=A.wireframeLinewidth,H.linewidth=A.linewidth,L.isPointLight===!0&&H.isMeshDistanceMaterial===!0&&(H.referencePosition.setFromMatrixPosition(L.matrixWorld),H.nearDistance=z,H.farDistance=C),H}function M(T,A,L,z,C){if(T.visible===!1)return;if(T.layers.test(A.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===Im)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,T.matrixWorld);const q=e.update(T),B=T.material;if(Array.isArray(B)){const Y=q.groups;for(let I=0,te=Y.length;I<te;I++){const ce=Y[I],le=B[ce.materialIndex];if(le&&le.visible){const ae=S(T,le,z,L.near,L.far,C);n.renderBufferDirect(L,null,q,ae,T,ce)}}}else if(B.visible){const Y=S(T,B,z,L.near,L.far,C);n.renderBufferDirect(L,null,q,Y,T,null)}}const H=T.children;for(let q=0,B=H.length;q<B;q++)M(H[q],A,L,z,C)}}function uq(n,e,t){const r=t.isWebGL2;function i(){let ge=!1;const dt=new tr;let ht=null;const Pt=new tr(0,0,0,0);return{setMask:function(vt){ht!==vt&&!ge&&(n.colorMask(vt,vt,vt,vt),ht=vt)},setLocked:function(vt){ge=vt},setClear:function(vt,Ut,mt,Gt,Rn){Rn===!0&&(vt*=Gt,Ut*=Gt,mt*=Gt),dt.set(vt,Ut,mt,Gt),Pt.equals(dt)===!1&&(n.clearColor(vt,Ut,mt,Gt),Pt.copy(dt))},reset:function(){ge=!1,ht=null,Pt.set(-1,0,0,0)}}}function s(){let ge=!1,dt=null,ht=null,Pt=null;return{setTest:function(vt){vt?Pe(2929):ke(2929)},setMask:function(vt){dt!==vt&&!ge&&(n.depthMask(vt),dt=vt)},setFunc:function(vt){if(ht!==vt){if(vt)switch(vt){case ID:n.depthFunc(512);break;case LD:n.depthFunc(519);break;case kD:n.depthFunc(513);break;case I1:n.depthFunc(515);break;case DD:n.depthFunc(514);break;case OD:n.depthFunc(518);break;case zD:n.depthFunc(516);break;case FD:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ht=vt}},setLocked:function(vt){ge=vt},setClear:function(vt){Pt!==vt&&(n.clearDepth(vt),Pt=vt)},reset:function(){ge=!1,dt=null,ht=null,Pt=null}}}function o(){let ge=!1,dt=null,ht=null,Pt=null,vt=null,Ut=null,mt=null,Gt=null,Rn=null;return{setTest:function(rn){ge||(rn?Pe(2960):ke(2960))},setMask:function(rn){dt!==rn&&!ge&&(n.stencilMask(rn),dt=rn)},setFunc:function(rn,ni,is){(ht!==rn||Pt!==ni||vt!==is)&&(n.stencilFunc(rn,ni,is),ht=rn,Pt=ni,vt=is)},setOp:function(rn,ni,is){(Ut!==rn||mt!==ni||Gt!==is)&&(n.stencilOp(rn,ni,is),Ut=rn,mt=ni,Gt=is)},setLocked:function(rn){ge=rn},setClear:function(rn){Rn!==rn&&(n.clearStencil(rn),Rn=rn)},reset:function(){ge=!1,dt=null,ht=null,Pt=null,vt=null,Ut=null,mt=null,Gt=null,Rn=null}}}const a=new i,l=new s,c=new o;let p={},m={},d=new WeakMap,v=[],_=null,y=!1,x=null,w=null,S=null,M=null,T=null,A=null,L=null,z=!1,C=null,F=null,H=null,q=null,B=null;const Y=n.getParameter(35661);let I=!1,te=0;const ce=n.getParameter(7938);ce.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(ce)[1]),I=te>=1):ce.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(ce)[1]),I=te>=2);let le=null,ae={};const ie=n.getParameter(3088),ue=n.getParameter(2978),j=new tr().fromArray(ie),K=new tr().fromArray(ue);function we(ge,dt,ht){const Pt=new Uint8Array(4),vt=n.createTexture();n.bindTexture(ge,vt),n.texParameteri(ge,10241,9728),n.texParameteri(ge,10240,9728);for(let Ut=0;Ut<ht;Ut++)n.texImage2D(dt+Ut,0,6408,1,1,0,6408,5121,Pt);return vt}const Re={};Re[3553]=we(3553,3553,1),Re[34067]=we(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Pe(2929),l.setFunc(I1),O(!1),Te(iE),Pe(2884),Xe(yc);function Pe(ge){p[ge]!==!0&&(n.enable(ge),p[ge]=!0)}function ke(ge){p[ge]!==!1&&(n.disable(ge),p[ge]=!1)}function bt(ge,dt){return m[ge]!==dt?(n.bindFramebuffer(ge,dt),m[ge]=dt,r&&(ge===36009&&(m[36160]=dt),ge===36160&&(m[36009]=dt)),!0):!1}function rt(ge,dt){let ht=v,Pt=!1;if(ge)if(ht=d.get(dt),ht===void 0&&(ht=[],d.set(dt,ht)),ge.isWebGLMultipleRenderTargets){const vt=ge.texture;if(ht.length!==vt.length||ht[0]!==36064){for(let Ut=0,mt=vt.length;Ut<mt;Ut++)ht[Ut]=36064+Ut;ht.length=vt.length,Pt=!0}}else ht[0]!==36064&&(ht[0]=36064,Pt=!0);else ht[0]!==1029&&(ht[0]=1029,Pt=!0);Pt&&(t.isWebGL2?n.drawBuffers(ht):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ht))}function ut(ge){return _!==ge?(n.useProgram(ge),_=ge,!0):!1}const it={[wd]:32774,[xD]:32778,[wD]:32779};if(r)it[lE]=32775,it[uE]=32776;else{const ge=e.get("EXT_blend_minmax");ge!==null&&(it[lE]=ge.MIN_EXT,it[uE]=ge.MAX_EXT)}const Ct={[bD]:0,[SD]:1,[ED]:768,[MM]:770,[PD]:776,[CD]:774,[TD]:772,[MD]:769,[TM]:771,[RD]:775,[AD]:773};function Xe(ge,dt,ht,Pt,vt,Ut,mt,Gt){if(ge===yc){y===!0&&(ke(3042),y=!1);return}if(y===!1&&(Pe(3042),y=!0),ge!==_D){if(ge!==x||Gt!==z){if((w!==wd||T!==wd)&&(n.blendEquation(32774),w=wd,T=wd),Gt)switch(ge){case Id:n.blendFuncSeparate(1,771,1,771);break;case sE:n.blendFunc(1,1);break;case oE:n.blendFuncSeparate(0,769,0,1);break;case aE:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ge);break}else switch(ge){case Id:n.blendFuncSeparate(770,771,1,771);break;case sE:n.blendFunc(770,1);break;case oE:n.blendFuncSeparate(0,769,0,1);break;case aE:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ge);break}S=null,M=null,A=null,L=null,x=ge,z=Gt}return}vt=vt||dt,Ut=Ut||ht,mt=mt||Pt,(dt!==w||vt!==T)&&(n.blendEquationSeparate(it[dt],it[vt]),w=dt,T=vt),(ht!==S||Pt!==M||Ut!==A||mt!==L)&&(n.blendFuncSeparate(Ct[ht],Ct[Pt],Ct[Ut],Ct[mt]),S=ht,M=Pt,A=Ut,L=mt),x=ge,z=null}function $e(ge,dt){ge.side===oh?ke(2884):Pe(2884);let ht=ge.side===yo;dt&&(ht=!ht),O(ht),ge.blending===Id&&ge.transparent===!1?Xe(yc):Xe(ge.blending,ge.blendEquation,ge.blendSrc,ge.blendDst,ge.blendEquationAlpha,ge.blendSrcAlpha,ge.blendDstAlpha,ge.premultipliedAlpha),l.setFunc(ge.depthFunc),l.setTest(ge.depthTest),l.setMask(ge.depthWrite),a.setMask(ge.colorWrite);const Pt=ge.stencilWrite;c.setTest(Pt),Pt&&(c.setMask(ge.stencilWriteMask),c.setFunc(ge.stencilFunc,ge.stencilRef,ge.stencilFuncMask),c.setOp(ge.stencilFail,ge.stencilZFail,ge.stencilZPass)),ne(ge.polygonOffset,ge.polygonOffsetFactor,ge.polygonOffsetUnits),ge.alphaToCoverage===!0?Pe(32926):ke(32926)}function O(ge){C!==ge&&(ge?n.frontFace(2304):n.frontFace(2305),C=ge)}function Te(ge){ge!==vD?(Pe(2884),ge!==F&&(ge===iE?n.cullFace(1029):ge===yD?n.cullFace(1028):n.cullFace(1032))):ke(2884),F=ge}function ye(ge){ge!==H&&(I&&n.lineWidth(ge),H=ge)}function ne(ge,dt,ht){ge?(Pe(32823),(q!==dt||B!==ht)&&(n.polygonOffset(dt,ht),q=dt,B=ht)):ke(32823)}function J(ge){ge?Pe(3089):ke(3089)}function de(ge){ge===void 0&&(ge=33984+Y-1),le!==ge&&(n.activeTexture(ge),le=ge)}function We(ge,dt){le===null&&de();let ht=ae[le];ht===void 0&&(ht={type:void 0,texture:void 0},ae[le]=ht),(ht.type!==ge||ht.texture!==dt)&&(n.bindTexture(ge,dt||Re[ge]),ht.type=ge,ht.texture=dt)}function Be(){const ge=ae[le];ge!==void 0&&ge.type!==void 0&&(n.bindTexture(ge.type,null),ge.type=void 0,ge.texture=void 0)}function G(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function U(){try{n.texSubImage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function fe(){try{n.texSubImage3D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function Ee(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function Ue(){try{n.texStorage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function Ke(){try{n.texStorage3D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function at(){try{n.texImage2D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function He(){try{n.texImage3D.apply(n,arguments)}catch(ge){console.error("THREE.WebGLState:",ge)}}function Bt(ge){j.equals(ge)===!1&&(n.scissor(ge.x,ge.y,ge.z,ge.w),j.copy(ge))}function Ft(ge){K.equals(ge)===!1&&(n.viewport(ge.x,ge.y,ge.z,ge.w),K.copy(ge))}function _t(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},le=null,ae={},m={},d=new WeakMap,v=[],_=null,y=!1,x=null,w=null,S=null,M=null,T=null,A=null,L=null,z=!1,C=null,F=null,H=null,q=null,B=null,j.set(0,0,n.canvas.width,n.canvas.height),K.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Pe,disable:ke,bindFramebuffer:bt,drawBuffers:rt,useProgram:ut,setBlending:Xe,setMaterial:$e,setFlipSided:O,setCullFace:Te,setLineWidth:ye,setPolygonOffset:ne,setScissorTest:J,activeTexture:de,bindTexture:We,unbindTexture:Be,compressedTexImage2D:G,texImage2D:at,texImage3D:He,texStorage2D:Ue,texStorage3D:Ke,texSubImage2D:U,texSubImage3D:fe,compressedTexSubImage2D:Ee,scissor:Bt,viewport:Ft,reset:_t}}function cq(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let y;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(G,U){return w?new OffscreenCanvas(G,U):yv("canvas")}function M(G,U,fe,Ee){let Ue=1;if((G.width>Ee||G.height>Ee)&&(Ue=Ee/Math.max(G.width,G.height)),Ue<1||U===!0)if(typeof HTMLImageElement!="undefined"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&G instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&G instanceof ImageBitmap){const Ke=U?O1:Math.floor,at=Ke(Ue*G.width),He=Ke(Ue*G.height);y===void 0&&(y=S(at,He));const Bt=fe?S(at,He):y;return Bt.width=at,Bt.height=He,Bt.getContext("2d").drawImage(G,0,0,at,He),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+at+"x"+He+")."),Bt}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function T(G){return LE(G.width)&&LE(G.height)}function A(G){return a?!1:G.wrapS!==Hs||G.wrapT!==Hs||G.minFilter!==Mi&&G.minFilter!==hi}function L(G,U){return G.generateMipmaps&&U&&G.minFilter!==Mi&&G.minFilter!==hi}function z(G){n.generateMipmap(G)}function C(G,U,fe,Ee,Ue=!1){if(a===!1)return U;if(G!==null){if(n[G]!==void 0)return n[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let Ke=U;return U===6403&&(fe===5126&&(Ke=33326),fe===5131&&(Ke=33325),fe===5121&&(Ke=33321)),U===33319&&(fe===5126&&(Ke=33328),fe===5131&&(Ke=33327),fe===5121&&(Ke=33323)),U===6408&&(fe===5126&&(Ke=34836),fe===5131&&(Ke=34842),fe===5121&&(Ke=Ee===_r&&Ue===!1?35907:32856),fe===32819&&(Ke=32854),fe===32820&&(Ke=32855)),(Ke===33325||Ke===33326||Ke===33327||Ke===33328||Ke===34842||Ke===34836)&&e.get("EXT_color_buffer_float"),Ke}function F(G,U,fe){return L(G,fe)===!0||G.isFramebufferTexture&&G.minFilter!==Mi&&G.minFilter!==hi?Math.log2(Math.max(U.width,U.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?U.mipmaps.length:1}function H(G){return G===Mi||G===L1||G===k1?9728:9729}function q(G){const U=G.target;U.removeEventListener("dispose",q),Y(U),U.isVideoTexture&&_.delete(U)}function B(G){const U=G.target;U.removeEventListener("dispose",B),te(U)}function Y(G){const U=r.get(G);if(U.__webglInit===void 0)return;const fe=G.source,Ee=x.get(fe);if(Ee){const Ue=Ee[U.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&I(G),Object.keys(Ee).length===0&&x.delete(fe)}r.remove(G)}function I(G){const U=r.get(G);n.deleteTexture(U.__webglTexture);const fe=G.source,Ee=x.get(fe);delete Ee[U.__cacheKey],o.memory.textures--}function te(G){const U=G.texture,fe=r.get(G),Ee=r.get(U);if(Ee.__webglTexture!==void 0&&(n.deleteTexture(Ee.__webglTexture),o.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++)n.deleteFramebuffer(fe.__webglFramebuffer[Ue]),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[Ue]);else n.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer),fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer);if(G.isWebGLMultipleRenderTargets)for(let Ue=0,Ke=U.length;Ue<Ke;Ue++){const at=r.get(U[Ue]);at.__webglTexture&&(n.deleteTexture(at.__webglTexture),o.memory.textures--),r.remove(U[Ue])}r.remove(U),r.remove(G)}let ce=0;function le(){ce=0}function ae(){const G=ce;return G>=l&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+l),ce+=1,G}function ie(G){const U=[];return U.push(G.wrapS),U.push(G.wrapT),U.push(G.magFilter),U.push(G.minFilter),U.push(G.anisotropy),U.push(G.internalFormat),U.push(G.format),U.push(G.type),U.push(G.generateMipmaps),U.push(G.premultiplyAlpha),U.push(G.flipY),U.push(G.unpackAlignment),U.push(G.encoding),U.join()}function ue(G,U){const fe=r.get(G);if(G.isVideoTexture&&We(G),G.isRenderTargetTexture===!1&&G.version>0&&fe.__version!==G.version){const Ee=G.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{rt(fe,G,U);return}}t.activeTexture(33984+U),t.bindTexture(3553,fe.__webglTexture)}function j(G,U){const fe=r.get(G);if(G.version>0&&fe.__version!==G.version){rt(fe,G,U);return}t.activeTexture(33984+U),t.bindTexture(35866,fe.__webglTexture)}function K(G,U){const fe=r.get(G);if(G.version>0&&fe.__version!==G.version){rt(fe,G,U);return}t.activeTexture(33984+U),t.bindTexture(32879,fe.__webglTexture)}function we(G,U){const fe=r.get(G);if(G.version>0&&fe.__version!==G.version){ut(fe,G,U);return}t.activeTexture(33984+U),t.bindTexture(34067,fe.__webglTexture)}const Re={[hv]:10497,[Hs]:33071,[dv]:33648},Pe={[Mi]:9728,[L1]:9984,[k1]:9986,[hi]:9729,[CM]:9985,[sp]:9987};function ke(G,U,fe){if(fe?(n.texParameteri(G,10242,Re[U.wrapS]),n.texParameteri(G,10243,Re[U.wrapT]),(G===32879||G===35866)&&n.texParameteri(G,32882,Re[U.wrapR]),n.texParameteri(G,10240,Pe[U.magFilter]),n.texParameteri(G,10241,Pe[U.minFilter])):(n.texParameteri(G,10242,33071),n.texParameteri(G,10243,33071),(G===32879||G===35866)&&n.texParameteri(G,32882,33071),(U.wrapS!==Hs||U.wrapT!==Hs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(G,10240,H(U.magFilter)),n.texParameteri(G,10241,H(U.minFilter)),U.minFilter!==Mi&&U.minFilter!==hi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ee=e.get("EXT_texture_filter_anisotropic");if(U.type===gc&&e.has("OES_texture_float_linear")===!1||a===!1&&U.type===rg&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||r.get(U).__currentAnisotropy)&&(n.texParameterf(G,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy)}}function bt(G,U){let fe=!1;G.__webglInit===void 0&&(G.__webglInit=!0,U.addEventListener("dispose",q));const Ee=U.source;let Ue=x.get(Ee);Ue===void 0&&(Ue={},x.set(Ee,Ue));const Ke=ie(U);if(Ke!==G.__cacheKey){Ue[Ke]===void 0&&(Ue[Ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Ue[Ke].usedTimes++;const at=Ue[G.__cacheKey];at!==void 0&&(Ue[G.__cacheKey].usedTimes--,at.usedTimes===0&&I(U)),G.__cacheKey=Ke,G.__webglTexture=Ue[Ke].texture}return fe}function rt(G,U,fe){let Ee=3553;U.isDataArrayTexture&&(Ee=35866),U.isData3DTexture&&(Ee=32879);const Ue=bt(G,U),Ke=U.source;if(t.activeTexture(33984+fe),t.bindTexture(Ee,G.__webglTexture),Ke.version!==Ke.__currentVersion||Ue===!0){n.pixelStorei(37440,U.flipY),n.pixelStorei(37441,U.premultiplyAlpha),n.pixelStorei(3317,U.unpackAlignment),n.pixelStorei(37443,0);const at=A(U)&&T(U.image)===!1;let He=M(U.image,at,!1,p);He=Be(U,He);const Bt=T(He)||a,Ft=s.convert(U.format,U.encoding);let _t=s.convert(U.type),ge=C(U.internalFormat,Ft,_t,U.encoding,U.isVideoTexture);ke(Ee,U,Bt);let dt;const ht=U.mipmaps,Pt=a&&U.isVideoTexture!==!0,vt=G.__version===void 0||Ue===!0,Ut=F(U,He,Bt);if(U.isDepthTexture)ge=6402,a?U.type===gc?ge=36012:U.type===F0?ge=33190:U.type===Ld?ge=35056:ge=33189:U.type===gc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===Qf&&ge===6402&&U.type!==ng&&U.type!==F0&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=ng,_t=s.convert(U.type)),U.format===jd&&ge===6402&&(ge=34041,U.type!==Ld&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Ld,_t=s.convert(U.type))),vt&&(Pt?t.texStorage2D(3553,1,ge,He.width,He.height):t.texImage2D(3553,0,ge,He.width,He.height,0,Ft,_t,null));else if(U.isDataTexture)if(ht.length>0&&Bt){Pt&&vt&&t.texStorage2D(3553,Ut,ge,ht[0].width,ht[0].height);for(let mt=0,Gt=ht.length;mt<Gt;mt++)dt=ht[mt],Pt?t.texSubImage2D(3553,mt,0,0,dt.width,dt.height,Ft,_t,dt.data):t.texImage2D(3553,mt,ge,dt.width,dt.height,0,Ft,_t,dt.data);U.generateMipmaps=!1}else Pt?(vt&&t.texStorage2D(3553,Ut,ge,He.width,He.height),t.texSubImage2D(3553,0,0,0,He.width,He.height,Ft,_t,He.data)):t.texImage2D(3553,0,ge,He.width,He.height,0,Ft,_t,He.data);else if(U.isCompressedTexture){Pt&&vt&&t.texStorage2D(3553,Ut,ge,ht[0].width,ht[0].height);for(let mt=0,Gt=ht.length;mt<Gt;mt++)dt=ht[mt],U.format!==Vo?Ft!==null?Pt?t.compressedTexSubImage2D(3553,mt,0,0,dt.width,dt.height,Ft,dt.data):t.compressedTexImage2D(3553,mt,ge,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pt?t.texSubImage2D(3553,mt,0,0,dt.width,dt.height,Ft,_t,dt.data):t.texImage2D(3553,mt,ge,dt.width,dt.height,0,Ft,_t,dt.data)}else if(U.isDataArrayTexture)Pt?(vt&&t.texStorage3D(35866,Ut,ge,He.width,He.height,He.depth),t.texSubImage3D(35866,0,0,0,0,He.width,He.height,He.depth,Ft,_t,He.data)):t.texImage3D(35866,0,ge,He.width,He.height,He.depth,0,Ft,_t,He.data);else if(U.isData3DTexture)Pt?(vt&&t.texStorage3D(32879,Ut,ge,He.width,He.height,He.depth),t.texSubImage3D(32879,0,0,0,0,He.width,He.height,He.depth,Ft,_t,He.data)):t.texImage3D(32879,0,ge,He.width,He.height,He.depth,0,Ft,_t,He.data);else if(U.isFramebufferTexture){if(vt)if(Pt)t.texStorage2D(3553,Ut,ge,He.width,He.height);else{let mt=He.width,Gt=He.height;for(let Rn=0;Rn<Ut;Rn++)t.texImage2D(3553,Rn,ge,mt,Gt,0,Ft,_t,null),mt>>=1,Gt>>=1}}else if(ht.length>0&&Bt){Pt&&vt&&t.texStorage2D(3553,Ut,ge,ht[0].width,ht[0].height);for(let mt=0,Gt=ht.length;mt<Gt;mt++)dt=ht[mt],Pt?t.texSubImage2D(3553,mt,0,0,Ft,_t,dt):t.texImage2D(3553,mt,ge,Ft,_t,dt);U.generateMipmaps=!1}else Pt?(vt&&t.texStorage2D(3553,Ut,ge,He.width,He.height),t.texSubImage2D(3553,0,0,0,Ft,_t,He)):t.texImage2D(3553,0,ge,Ft,_t,He);L(U,Bt)&&z(Ee),Ke.__currentVersion=Ke.version,U.onUpdate&&U.onUpdate(U)}G.__version=U.version}function ut(G,U,fe){if(U.image.length!==6)return;const Ee=bt(G,U),Ue=U.source;if(t.activeTexture(33984+fe),t.bindTexture(34067,G.__webglTexture),Ue.version!==Ue.__currentVersion||Ee===!0){n.pixelStorei(37440,U.flipY),n.pixelStorei(37441,U.premultiplyAlpha),n.pixelStorei(3317,U.unpackAlignment),n.pixelStorei(37443,0);const Ke=U.isCompressedTexture||U.image[0].isCompressedTexture,at=U.image[0]&&U.image[0].isDataTexture,He=[];for(let mt=0;mt<6;mt++)!Ke&&!at?He[mt]=M(U.image[mt],!1,!0,c):He[mt]=at?U.image[mt].image:U.image[mt],He[mt]=Be(U,He[mt]);const Bt=He[0],Ft=T(Bt)||a,_t=s.convert(U.format,U.encoding),ge=s.convert(U.type),dt=C(U.internalFormat,_t,ge,U.encoding),ht=a&&U.isVideoTexture!==!0,Pt=G.__version===void 0;let vt=F(U,Bt,Ft);ke(34067,U,Ft);let Ut;if(Ke){ht&&Pt&&t.texStorage2D(34067,vt,dt,Bt.width,Bt.height);for(let mt=0;mt<6;mt++){Ut=He[mt].mipmaps;for(let Gt=0;Gt<Ut.length;Gt++){const Rn=Ut[Gt];U.format!==Vo?_t!==null?ht?t.compressedTexSubImage2D(34069+mt,Gt,0,0,Rn.width,Rn.height,_t,Rn.data):t.compressedTexImage2D(34069+mt,Gt,dt,Rn.width,Rn.height,0,Rn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ht?t.texSubImage2D(34069+mt,Gt,0,0,Rn.width,Rn.height,_t,ge,Rn.data):t.texImage2D(34069+mt,Gt,dt,Rn.width,Rn.height,0,_t,ge,Rn.data)}}}else{Ut=U.mipmaps,ht&&Pt&&(Ut.length>0&&vt++,t.texStorage2D(34067,vt,dt,He[0].width,He[0].height));for(let mt=0;mt<6;mt++)if(at){ht?t.texSubImage2D(34069+mt,0,0,0,He[mt].width,He[mt].height,_t,ge,He[mt].data):t.texImage2D(34069+mt,0,dt,He[mt].width,He[mt].height,0,_t,ge,He[mt].data);for(let Gt=0;Gt<Ut.length;Gt++){const rn=Ut[Gt].image[mt].image;ht?t.texSubImage2D(34069+mt,Gt+1,0,0,rn.width,rn.height,_t,ge,rn.data):t.texImage2D(34069+mt,Gt+1,dt,rn.width,rn.height,0,_t,ge,rn.data)}}else{ht?t.texSubImage2D(34069+mt,0,0,0,_t,ge,He[mt]):t.texImage2D(34069+mt,0,dt,_t,ge,He[mt]);for(let Gt=0;Gt<Ut.length;Gt++){const Rn=Ut[Gt];ht?t.texSubImage2D(34069+mt,Gt+1,0,0,_t,ge,Rn.image[mt]):t.texImage2D(34069+mt,Gt+1,dt,_t,ge,Rn.image[mt])}}}L(U,Ft)&&z(34067),Ue.__currentVersion=Ue.version,U.onUpdate&&U.onUpdate(U)}G.__version=U.version}function it(G,U,fe,Ee,Ue){const Ke=s.convert(fe.format,fe.encoding),at=s.convert(fe.type),He=C(fe.internalFormat,Ke,at,fe.encoding);r.get(U).__hasExternalTextures||(Ue===32879||Ue===35866?t.texImage3D(Ue,0,He,U.width,U.height,U.depth,0,Ke,at,null):t.texImage2D(Ue,0,He,U.width,U.height,0,Ke,at,null)),t.bindFramebuffer(36160,G),de(U)?d.framebufferTexture2DMultisampleEXT(36160,Ee,Ue,r.get(fe).__webglTexture,0,J(U)):n.framebufferTexture2D(36160,Ee,Ue,r.get(fe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ct(G,U,fe){if(n.bindRenderbuffer(36161,G),U.depthBuffer&&!U.stencilBuffer){let Ee=33189;if(fe||de(U)){const Ue=U.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===gc?Ee=36012:Ue.type===F0&&(Ee=33190));const Ke=J(U);de(U)?d.renderbufferStorageMultisampleEXT(36161,Ke,Ee,U.width,U.height):n.renderbufferStorageMultisample(36161,Ke,Ee,U.width,U.height)}else n.renderbufferStorage(36161,Ee,U.width,U.height);n.framebufferRenderbuffer(36160,36096,36161,G)}else if(U.depthBuffer&&U.stencilBuffer){const Ee=J(U);fe&&de(U)===!1?n.renderbufferStorageMultisample(36161,Ee,35056,U.width,U.height):de(U)?d.renderbufferStorageMultisampleEXT(36161,Ee,35056,U.width,U.height):n.renderbufferStorage(36161,34041,U.width,U.height),n.framebufferRenderbuffer(36160,33306,36161,G)}else{const Ee=U.isWebGLMultipleRenderTargets===!0?U.texture[0]:U.texture,Ue=s.convert(Ee.format,Ee.encoding),Ke=s.convert(Ee.type),at=C(Ee.internalFormat,Ue,Ke,Ee.encoding),He=J(U);fe&&de(U)===!1?n.renderbufferStorageMultisample(36161,He,at,U.width,U.height):de(U)?d.renderbufferStorageMultisampleEXT(36161,He,at,U.width,U.height):n.renderbufferStorage(36161,at,U.width,U.height)}n.bindRenderbuffer(36161,null)}function Xe(G,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,G),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),ue(U.depthTexture,0);const Ee=r.get(U.depthTexture).__webglTexture,Ue=J(U);if(U.depthTexture.format===Qf)de(U)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ee,0,Ue):n.framebufferTexture2D(36160,36096,3553,Ee,0);else if(U.depthTexture.format===jd)de(U)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ee,0,Ue):n.framebufferTexture2D(36160,33306,3553,Ee,0);else throw new Error("Unknown depthTexture format")}function $e(G){const U=r.get(G),fe=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!U.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Xe(U.__webglFramebuffer,G)}else if(fe){U.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)t.bindFramebuffer(36160,U.__webglFramebuffer[Ee]),U.__webglDepthbuffer[Ee]=n.createRenderbuffer(),Ct(U.__webglDepthbuffer[Ee],G,!1)}else t.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=n.createRenderbuffer(),Ct(U.__webglDepthbuffer,G,!1);t.bindFramebuffer(36160,null)}function O(G,U,fe){const Ee=r.get(G);U!==void 0&&it(Ee.__webglFramebuffer,G,G.texture,36064,3553),fe!==void 0&&$e(G)}function Te(G){const U=G.texture,fe=r.get(G),Ee=r.get(U);G.addEventListener("dispose",B),G.isWebGLMultipleRenderTargets!==!0&&(Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture()),Ee.__version=U.version,o.memory.textures++);const Ue=G.isWebGLCubeRenderTarget===!0,Ke=G.isWebGLMultipleRenderTargets===!0,at=T(G)||a;if(Ue){fe.__webglFramebuffer=[];for(let He=0;He<6;He++)fe.__webglFramebuffer[He]=n.createFramebuffer()}else if(fe.__webglFramebuffer=n.createFramebuffer(),Ke)if(i.drawBuffers){const He=G.texture;for(let Bt=0,Ft=He.length;Bt<Ft;Bt++){const _t=r.get(He[Bt]);_t.__webglTexture===void 0&&(_t.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&G.samples>0&&de(G)===!1){fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,fe.__webglColorRenderbuffer);const He=s.convert(U.format,U.encoding),Bt=s.convert(U.type),Ft=C(U.internalFormat,He,Bt,U.encoding),_t=J(G);n.renderbufferStorageMultisample(36161,_t,Ft,G.width,G.height),t.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,fe.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),G.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),Ct(fe.__webglDepthRenderbuffer,G,!0)),t.bindFramebuffer(36160,null)}if(Ue){t.bindTexture(34067,Ee.__webglTexture),ke(34067,U,at);for(let He=0;He<6;He++)it(fe.__webglFramebuffer[He],G,U,36064,34069+He);L(U,at)&&z(34067),t.unbindTexture()}else if(Ke){const He=G.texture;for(let Bt=0,Ft=He.length;Bt<Ft;Bt++){const _t=He[Bt],ge=r.get(_t);t.bindTexture(3553,ge.__webglTexture),ke(3553,_t,at),it(fe.__webglFramebuffer,G,_t,36064+Bt,3553),L(_t,at)&&z(3553)}t.unbindTexture()}else{let He=3553;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(a?He=G.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(He,Ee.__webglTexture),ke(He,U,at),it(fe.__webglFramebuffer,G,U,36064,He),L(U,at)&&z(He),t.unbindTexture()}G.depthBuffer&&$e(G)}function ye(G){const U=T(G)||a,fe=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Ee=0,Ue=fe.length;Ee<Ue;Ee++){const Ke=fe[Ee];if(L(Ke,U)){const at=G.isWebGLCubeRenderTarget?34067:3553,He=r.get(Ke).__webglTexture;t.bindTexture(at,He),z(at),t.unbindTexture()}}}function ne(G){if(a&&G.samples>0&&de(G)===!1){const U=G.width,fe=G.height;let Ee=16384;const Ue=[36064],Ke=G.stencilBuffer?33306:36096;G.depthBuffer&&Ue.push(Ke);const at=r.get(G),He=at.__ignoreDepthValues!==void 0?at.__ignoreDepthValues:!1;He===!1&&(G.depthBuffer&&(Ee|=256),G.stencilBuffer&&(Ee|=1024)),t.bindFramebuffer(36008,at.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,at.__webglFramebuffer),He===!0&&(n.invalidateFramebuffer(36008,[Ke]),n.invalidateFramebuffer(36009,[Ke])),n.blitFramebuffer(0,0,U,fe,0,0,U,fe,Ee,9728),v&&n.invalidateFramebuffer(36008,Ue),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,at.__webglMultisampledFramebuffer)}}function J(G){return Math.min(m,G.samples)}function de(G){const U=r.get(G);return a&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function We(G){const U=o.render.frame;_.get(G)!==U&&(_.set(G,U),G.update())}function Be(G,U){const fe=G.encoding,Ee=G.format,Ue=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||G.format===D1||fe!==vl&&(fe===_r?a===!1?e.has("EXT_sRGB")===!0&&Ee===Vo?(G.format=D1,G.minFilter=hi,G.generateMipmaps=!1):U=yh.sRGBToLinear(U):(Ee!==Vo||Ue!==uh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",fe)),U}this.allocateTextureUnit=ae,this.resetTextureUnits=le,this.setTexture2D=ue,this.setTexture2DArray=j,this.setTexture3D=K,this.setTextureCube=we,this.rebindTextures=O,this.setupRenderTarget=Te,this.updateRenderTargetMipmap=ye,this.updateMultisampleRenderTarget=ne,this.setupDepthRenderbuffer=$e,this.setupFrameBufferTexture=it,this.useMultisampledRTT=de}function OO(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===uh)return 5121;if(s===qD)return 32819;if(s===YD)return 32820;if(s===GD)return 5120;if(s===$D)return 5122;if(s===ng)return 5123;if(s===jD)return 5124;if(s===F0)return 5125;if(s===gc)return 5126;if(s===rg)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===XD)return 6406;if(s===Vo)return 6408;if(s===KD)return 6409;if(s===JD)return 6410;if(s===Qf)return 6402;if(s===jd)return 34041;if(s===QD)return 6403;if(s===ZD)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===D1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===eO)return 36244;if(s===tO)return 33319;if(s===nO)return 33320;if(s===rO)return 36249;if(s===Z_||s===K_||s===J_||s===Q_)if(o===_r)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Z_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===K_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===J_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Q_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Z_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===K_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===J_)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Q_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===cE||s===fE||s===hE||s===dE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===cE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===fE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===hE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===dE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===iO)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===pE||s===mE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===pE)return o===_r?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===mE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===gE||s===vE||s===yE||s===_E||s===xE||s===wE||s===bE||s===SE||s===EE||s===ME||s===TE||s===AE||s===CE||s===RE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===gE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===vE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===yE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===_E)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===xE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===wE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===bE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===SE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===EE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===ME)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===TE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===AE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===CE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===RE)return o===_r?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===PE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===PE)return o===_r?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Ld?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class LM extends Oi{constructor(e=[]){super(),this.cameras=e}}LM.prototype.isArrayCamera=!0;class Vf extends kn{constructor(){super(),this.type="Group"}}Vf.prototype.isGroup=!0;const fq={type:"move"};class Rb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(fq))),c&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,r);if(c.joints[y.jointName]===void 0){const S=new Vf;S.matrixAutoUpdate=!1,S.visible=!1,c.joints[y.jointName]=S,c.add(S)}const w=c.joints[y.jointName];x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const p=c.joints["index-finger-tip"],m=c.joints["thumb-tip"],d=p.position.distanceTo(m.position),v=.02,_=.005;c.inputState.pinching&&d>v+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=v-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class kM extends gi{constructor(e,t,r,i,s,o,a,l,c,p){if(p=p!==void 0?p:Qf,p!==Qf&&p!==jd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&p===Qf&&(r=ng),r===void 0&&p===jd&&(r=Ld),super(null,i,s,o,a,l,p,r,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mi,this.minFilter=l!==void 0?l:Mi,this.flipY=!1,this.generateMipmaps=!1}}kM.prototype.isDepthTexture=!0;class hq extends Ic{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,p=null,m=null,d=null,v=null;const _=t.getContextAttributes();let y=null,x=null;const w=[],S=new Map,M=new Oi;M.layers.enable(1),M.viewport=new tr;const T=new Oi;T.layers.enable(2),T.viewport=new tr;const A=[M,T],L=new LM;L.layers.enable(1),L.layers.enable(2);let z=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let ue=w[ie];return ue===void 0&&(ue=new Rb,w[ie]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(ie){let ue=w[ie];return ue===void 0&&(ue=new Rb,w[ie]=ue),ue.getGripSpace()},this.getHand=function(ie){let ue=w[ie];return ue===void 0&&(ue=new Rb,w[ie]=ue),ue.getHandSpace()};function F(ie){const ue=S.get(ie.inputSource);ue&&ue.dispatchEvent({type:ie.type,data:ie.inputSource})}function H(){S.forEach(function(ie,ue){ie.disconnect(ue)}),S.clear(),z=null,C=null,e.setRenderTarget(y),d=null,m=null,p=null,i=null,x=null,ae.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){s=ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){a=ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(ie){l=ie},this.getBaseLayer=function(){return m!==null?m:d},this.getBinding=function(){return p},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ie){if(i=ie,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",H),i.addEventListener("inputsourceschange",q),_.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ue={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,ue),i.updateRenderState({baseLayer:d}),x=new Gs(d.framebufferWidth,d.framebufferHeight,{format:Vo,type:uh,encoding:e.outputEncoding})}else{let ue=null,j=null,K=null;_.depth&&(K=_.stencil?35056:33190,ue=_.stencil?jd:Qf,j=_.stencil?Ld:ng);const we={colorFormat:e.outputEncoding===_r?35907:32856,depthFormat:K,scaleFactor:s};p=new XRWebGLBinding(i,t),m=p.createProjectionLayer(we),i.updateRenderState({layers:[m]}),x=new Gs(m.textureWidth,m.textureHeight,{format:Vo,type:uh,depthTexture:new kM(m.textureWidth,m.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:_.stencil,encoding:e.outputEncoding,samples:_.antialias?4:0});const Re=e.properties.get(x);Re.__ignoreDepthValues=m.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),ae.setContext(i),ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function q(ie){const ue=i.inputSources;for(let j=0;j<ue.length;j++){const K=ue[j].handedness==="right"?1:0;S.set(ue[j],w[K])}for(let j=0;j<ie.removed.length;j++){const K=ie.removed[j],we=S.get(K);we&&(we.dispatchEvent({type:"disconnected",data:K}),S.delete(K))}for(let j=0;j<ie.added.length;j++){const K=ie.added[j],we=S.get(K);we&&we.dispatchEvent({type:"connected",data:K})}}const B=new re,Y=new re;function I(ie,ue,j){B.setFromMatrixPosition(ue.matrixWorld),Y.setFromMatrixPosition(j.matrixWorld);const K=B.distanceTo(Y),we=ue.projectionMatrix.elements,Re=j.projectionMatrix.elements,Pe=we[14]/(we[10]-1),ke=we[14]/(we[10]+1),bt=(we[9]+1)/we[5],rt=(we[9]-1)/we[5],ut=(we[8]-1)/we[0],it=(Re[8]+1)/Re[0],Ct=Pe*ut,Xe=Pe*it,$e=K/(-ut+it),O=$e*-ut;ue.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(O),ie.translateZ($e),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert();const Te=Pe+$e,ye=ke+$e,ne=Ct-O,J=Xe+(K-O),de=bt*ke/ye*Te,We=rt*ke/ye*Te;ie.projectionMatrix.makePerspective(ne,J,de,We,Te,ye)}function te(ie,ue){ue===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(ue.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(i===null)return;L.near=T.near=M.near=ie.near,L.far=T.far=M.far=ie.far,(z!==L.near||C!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),z=L.near,C=L.far);const ue=ie.parent,j=L.cameras;te(L,ue);for(let we=0;we<j.length;we++)te(j[we],ue);L.matrixWorld.decompose(L.position,L.quaternion,L.scale),ie.position.copy(L.position),ie.quaternion.copy(L.quaternion),ie.scale.copy(L.scale),ie.matrix.copy(L.matrix),ie.matrixWorld.copy(L.matrixWorld);const K=ie.children;for(let we=0,Re=K.length;we<Re;we++)K[we].updateMatrixWorld(!0);j.length===2?I(L,M,T):L.projectionMatrix.copy(M.projectionMatrix)},this.getCamera=function(){return L},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(ie){m!==null&&(m.fixedFoveation=ie),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ie)};let ce=null;function le(ie,ue){if(c=ue.getViewerPose(l||o),v=ue,c!==null){const K=c.views;d!==null&&(e.setRenderTargetFramebuffer(x,d.framebuffer),e.setRenderTarget(x));let we=!1;K.length!==L.cameras.length&&(L.cameras.length=0,we=!0);for(let Re=0;Re<K.length;Re++){const Pe=K[Re];let ke=null;if(d!==null)ke=d.getViewport(Pe);else{const rt=p.getViewSubImage(m,Pe);ke=rt.viewport,Re===0&&(e.setRenderTargetTextures(x,rt.colorTexture,m.ignoreDepthValues?void 0:rt.depthStencilTexture),e.setRenderTarget(x))}const bt=A[Re];bt.matrix.fromArray(Pe.transform.matrix),bt.projectionMatrix.fromArray(Pe.projectionMatrix),bt.viewport.set(ke.x,ke.y,ke.width,ke.height),Re===0&&L.matrix.copy(bt.matrix),we===!0&&L.cameras.push(bt)}}const j=i.inputSources;for(let K=0;K<w.length;K++){const we=j[K],Re=S.get(we);Re!==void 0&&Re.update(we,ue,l||o)}ce&&ce(ie,ue),v=null}const ae=new AO;ae.setAnimationLoop(le),this.setAnimationLoop=function(ie){ce=ie},this.dispose=function(){}}}function dq(n,e){function t(y,x){y.fogColor.value.copy(x.color),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function r(y,x,w,S,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(y,x):x.isMeshToonMaterial?(i(y,x),p(y,x)):x.isMeshPhongMaterial?(i(y,x),c(y,x)):x.isMeshStandardMaterial?(i(y,x),m(y,x),x.isMeshPhysicalMaterial&&d(y,x,M)):x.isMeshMatcapMaterial?(i(y,x),v(y,x)):x.isMeshDepthMaterial?i(y,x):x.isMeshDistanceMaterial?(i(y,x),_(y,x)):x.isMeshNormalMaterial?i(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,w,S):x.isSpriteMaterial?l(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===yo&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===yo&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const T=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*T}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let S;x.map?S=x.map:x.specularMap?S=x.specularMap:x.displacementMap?S=x.displacementMap:x.normalMap?S=x.normalMap:x.bumpMap?S=x.bumpMap:x.roughnessMap?S=x.roughnessMap:x.metalnessMap?S=x.metalnessMap:x.alphaMap?S=x.alphaMap:x.emissiveMap?S=x.emissiveMap:x.clearcoatMap?S=x.clearcoatMap:x.clearcoatNormalMap?S=x.clearcoatNormalMap:x.clearcoatRoughnessMap?S=x.clearcoatRoughnessMap:x.specularIntensityMap?S=x.specularIntensityMap:x.specularColorMap?S=x.specularColorMap:x.transmissionMap?S=x.transmissionMap:x.thicknessMap?S=x.thicknessMap:x.sheenColorMap?S=x.sheenColorMap:x.sheenRoughnessMap&&(S=x.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix));let M;x.aoMap?M=x.aoMap:x.lightMap&&(M=x.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uv2Transform.value.copy(M.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,w,S){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*w,y.scale.value=S*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let M;x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uvTransform.value.copy(M.matrix))}function l(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function p(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function m(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function d(y,x,w){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===yo&&y.clearcoatNormalScale.value.negate())),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function v(y,x){x.matcap&&(y.matcap.value=x.matcap)}function _(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function pq(){const n=yv("canvas");return n.style.display="block",n}function nr(n={}){const e=n.canvas!==void 0?n.canvas:pq(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let p;t!==null?p=t.getContextAttributes().alpha:p=n.alpha!==void 0?n.alpha:!1;let m=null,d=null;const v=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=vl,this.physicallyCorrectLights=!1,this.toneMapping=pl,this.toneMappingExposure=1;const y=this;let x=!1,w=0,S=0,M=null,T=-1,A=null;const L=new tr,z=new tr;let C=null,F=e.width,H=e.height,q=1,B=null,Y=null;const I=new tr(0,0,F,H),te=new tr(0,0,F,H);let ce=!1;const le=new Vv;let ae=!1,ie=!1,ue=null;const j=new Et,K=new nt,we=new re,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Pe(){return M===null?q:1}let ke=t;function bt(oe,Fe){for(let qe=0;qe<oe.length;qe++){const Ve=oe[qe],Je=e.getContext(Ve,Fe);if(Je!==null)return Je}return null}try{const oe={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${_x}`),e.addEventListener("webglcontextlost",ge,!1),e.addEventListener("webglcontextrestored",dt,!1),ke===null){const Fe=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&Fe.shift(),ke=bt(Fe,oe),ke===null)throw bt(Fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ke.getShaderPrecisionFormat===void 0&&(ke.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let rt,ut,it,Ct,Xe,$e,O,Te,ye,ne,J,de,We,Be,G,U,fe,Ee,Ue,Ke,at,He,Bt;function Ft(){rt=new L$(ke),ut=new T$(ke,rt,n),rt.init(ut),He=new OO(ke,rt,ut),it=new uq(ke,rt,ut),Ct=new O$,Xe=new Jj,$e=new cq(ke,rt,it,Xe,ut,He,Ct),O=new C$(y),Te=new I$(y),ye=new XG(ke,ut),Bt=new E$(ke,rt,ye,ut),ne=new k$(ke,ye,Ct,Bt),J=new B$(ke,ne,ye,Ct),Ue=new N$(ke,ut,$e),U=new A$(Xe),de=new Kj(y,O,Te,rt,ut,Bt,U),We=new dq(y,Xe),Be=new eq,G=new oq(rt,ut),Ee=new S$(y,O,it,J,p,o),fe=new DO(y,J,ut),Ke=new M$(ke,rt,Ct,ut),at=new D$(ke,rt,Ct,ut),Ct.programs=de.programs,y.capabilities=ut,y.extensions=rt,y.properties=Xe,y.renderLists=Be,y.shadowMap=fe,y.state=it,y.info=Ct}Ft();const _t=new hq(y,ke);this.xr=_t,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){const oe=rt.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=rt.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(oe){oe!==void 0&&(q=oe,this.setSize(F,H,!1))},this.getSize=function(oe){return oe.set(F,H)},this.setSize=function(oe,Fe,qe){if(_t.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=oe,H=Fe,e.width=Math.floor(oe*q),e.height=Math.floor(Fe*q),qe!==!1&&(e.style.width=oe+"px",e.style.height=Fe+"px"),this.setViewport(0,0,oe,Fe)},this.getDrawingBufferSize=function(oe){return oe.set(F*q,H*q).floor()},this.setDrawingBufferSize=function(oe,Fe,qe){F=oe,H=Fe,q=qe,e.width=Math.floor(oe*qe),e.height=Math.floor(Fe*qe),this.setViewport(0,0,oe,Fe)},this.getCurrentViewport=function(oe){return oe.copy(L)},this.getViewport=function(oe){return oe.copy(I)},this.setViewport=function(oe,Fe,qe,Ve){oe.isVector4?I.set(oe.x,oe.y,oe.z,oe.w):I.set(oe,Fe,qe,Ve),it.viewport(L.copy(I).multiplyScalar(q).floor())},this.getScissor=function(oe){return oe.copy(te)},this.setScissor=function(oe,Fe,qe,Ve){oe.isVector4?te.set(oe.x,oe.y,oe.z,oe.w):te.set(oe,Fe,qe,Ve),it.scissor(z.copy(te).multiplyScalar(q).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(oe){it.setScissorTest(ce=oe)},this.setOpaqueSort=function(oe){B=oe},this.setTransparentSort=function(oe){Y=oe},this.getClearColor=function(oe){return oe.copy(Ee.getClearColor())},this.setClearColor=function(){Ee.setClearColor.apply(Ee,arguments)},this.getClearAlpha=function(){return Ee.getClearAlpha()},this.setClearAlpha=function(){Ee.setClearAlpha.apply(Ee,arguments)},this.clear=function(oe=!0,Fe=!0,qe=!0){let Ve=0;oe&&(Ve|=16384),Fe&&(Ve|=256),qe&&(Ve|=1024),ke.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ge,!1),e.removeEventListener("webglcontextrestored",dt,!1),Be.dispose(),G.dispose(),Xe.dispose(),O.dispose(),Te.dispose(),J.dispose(),Bt.dispose(),de.dispose(),_t.dispose(),_t.removeEventListener("sessionstart",Gt),_t.removeEventListener("sessionend",Rn),ue&&(ue.dispose(),ue=null),rn.stop()};function ge(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function dt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const oe=Ct.autoReset,Fe=fe.enabled,qe=fe.autoUpdate,Ve=fe.needsUpdate,Je=fe.type;Ft(),Ct.autoReset=oe,fe.enabled=Fe,fe.autoUpdate=qe,fe.needsUpdate=Ve,fe.type=Je}function ht(oe){const Fe=oe.target;Fe.removeEventListener("dispose",ht),Pt(Fe)}function Pt(oe){vt(oe),Xe.remove(oe)}function vt(oe){const Fe=Xe.get(oe).programs;Fe!==void 0&&(Fe.forEach(function(qe){de.releaseProgram(qe)}),oe.isShaderMaterial&&de.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,Fe,qe,Ve,Je,qt){Fe===null&&(Fe=Re);const tn=Je.isMesh&&Je.matrixWorld.determinant()<0,un=Bc(oe,Fe,qe,Ve,Je);it.setMaterial(Ve,tn);let an=qe.index;const Dn=qe.attributes.position;if(an===null){if(Dn===void 0||Dn.count===0)return}else if(an.count===0)return;let Mn=1;Ve.wireframe===!0&&(an=ne.getWireframeAttribute(qe),Mn=2),Bt.setup(Je,Ve,un,qe,an);let Tn,Gn=Ke;an!==null&&(Tn=ye.get(an),Gn=at,Gn.setIndex(Tn));const Es=an!==null?an.count:Dn.count,ss=qe.drawRange.start*Mn,Ks=qe.drawRange.count*Mn,kr=qt!==null?qt.start*Mn:0,cn=qt!==null?qt.count*Mn:1/0,Pn=Math.max(ss,kr),sn=Math.min(Es,ss+Ks,kr+cn)-1,zr=Math.max(0,sn-Pn+1);if(zr!==0){if(Je.isMesh)Ve.wireframe===!0?(it.setLineWidth(Ve.wireframeLinewidth*Pe()),Gn.setMode(1)):Gn.setMode(4);else if(Je.isLine){let rr=Ve.linewidth;rr===void 0&&(rr=1),it.setLineWidth(rr*Pe()),Je.isLineSegments?Gn.setMode(1):Je.isLineLoop?Gn.setMode(2):Gn.setMode(3)}else Je.isPoints?Gn.setMode(0):Je.isSprite&&Gn.setMode(4);if(Je.isInstancedMesh)Gn.renderInstances(Pn,zr,Je.count);else if(qe.isInstancedBufferGeometry){const rr=Math.min(qe.instanceCount,qe._maxInstanceCount);Gn.renderInstances(Pn,zr,rr)}else Gn.render(Pn,zr)}},this.compile=function(oe,Fe){d=G.get(oe),d.init(),_.push(d),oe.traverseVisible(function(qe){qe.isLight&&qe.layers.test(Fe.layers)&&(d.pushLight(qe),qe.castShadow&&d.pushShadow(qe))}),d.setupLights(y.physicallyCorrectLights),oe.traverse(function(qe){const Ve=qe.material;if(Ve)if(Array.isArray(Ve))for(let Je=0;Je<Ve.length;Je++){const qt=Ve[Je];Tl(qt,oe,qe)}else Tl(Ve,oe,qe)}),_.pop(),d=null};let Ut=null;function mt(oe){Ut&&Ut(oe)}function Gt(){rn.stop()}function Rn(){rn.start()}const rn=new AO;rn.setAnimationLoop(mt),typeof self!="undefined"&&rn.setContext(self),this.setAnimationLoop=function(oe){Ut=oe,_t.setAnimationLoop(oe),oe===null?rn.stop():rn.start()},_t.addEventListener("sessionstart",Gt),_t.addEventListener("sessionend",Rn),this.render=function(oe,Fe){if(Fe!==void 0&&Fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;oe.autoUpdate===!0&&oe.updateMatrixWorld(),Fe.parent===null&&Fe.updateMatrixWorld(),_t.enabled===!0&&_t.isPresenting===!0&&(_t.cameraAutoUpdate===!0&&_t.updateCamera(Fe),Fe=_t.getCamera()),oe.isScene===!0&&oe.onBeforeRender(y,oe,Fe,M),d=G.get(oe,_.length),d.init(),_.push(d),j.multiplyMatrices(Fe.projectionMatrix,Fe.matrixWorldInverse),le.setFromProjectionMatrix(j),ie=this.localClippingEnabled,ae=U.init(this.clippingPlanes,ie,Fe),m=Be.get(oe,v.length),m.init(),v.push(m),ni(oe,Fe,0,y.sortObjects),m.finish(),y.sortObjects===!0&&m.sort(B,Y),ae===!0&&U.beginShadows();const qe=d.state.shadowsArray;if(fe.render(qe,oe,Fe),ae===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ee.render(m,oe),d.setupLights(y.physicallyCorrectLights),Fe.isArrayCamera){const Ve=Fe.cameras;for(let Je=0,qt=Ve.length;Je<qt;Je++){const tn=Ve[Je];is(m,oe,tn,tn.viewport)}}else is(m,oe,Fe);M!==null&&($e.updateMultisampleRenderTarget(M),$e.updateRenderTargetMipmap(M)),oe.isScene===!0&&oe.onAfterRender(y,oe,Fe),Bt.resetDefaultState(),T=-1,A=null,_.pop(),_.length>0?d=_[_.length-1]:d=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function ni(oe,Fe,qe,Ve){if(oe.visible===!1)return;if(oe.layers.test(Fe.layers)){if(oe.isGroup)qe=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Fe);else if(oe.isLight)d.pushLight(oe),oe.castShadow&&d.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||le.intersectsSprite(oe)){Ve&&we.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(j);const tn=J.update(oe),un=oe.material;un.visible&&m.push(oe,tn,un,qe,we.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(oe.isSkinnedMesh&&oe.skeleton.frame!==Ct.render.frame&&(oe.skeleton.update(),oe.skeleton.frame=Ct.render.frame),!oe.frustumCulled||le.intersectsObject(oe))){Ve&&we.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(j);const tn=J.update(oe),un=oe.material;if(Array.isArray(un)){const an=tn.groups;for(let Dn=0,Mn=an.length;Dn<Mn;Dn++){const Tn=an[Dn],Gn=un[Tn.materialIndex];Gn&&Gn.visible&&m.push(oe,tn,Gn,qe,we.z,Tn)}}else un.visible&&m.push(oe,tn,un,qe,we.z,null)}}const qt=oe.children;for(let tn=0,un=qt.length;tn<un;tn++)ni(qt[tn],Fe,qe,Ve)}function is(oe,Fe,qe,Ve){const Je=oe.opaque,qt=oe.transmissive,tn=oe.transparent;d.setupLightsView(qe),qt.length>0&&fu(Je,Fe,qe),Ve&&it.viewport(L.copy(Ve)),Je.length>0&&Ml(Je,Fe,qe),qt.length>0&&Ml(qt,Fe,qe),tn.length>0&&Ml(tn,Fe,qe),it.buffers.depth.setTest(!0),it.buffers.depth.setMask(!0),it.buffers.color.setMask(!0),it.setPolygonOffset(!1)}function fu(oe,Fe,qe){const Ve=ut.isWebGL2;ue===null&&(ue=new Gs(1,1,{generateMipmaps:!0,type:rt.has("EXT_color_buffer_half_float")?rg:uh,minFilter:sp,samples:Ve&&s===!0?4:0})),y.getDrawingBufferSize(K),Ve?ue.setSize(K.x,K.y):ue.setSize(O1(K.x),O1(K.y));const Je=y.getRenderTarget();y.setRenderTarget(ue),y.clear();const qt=y.toneMapping;y.toneMapping=pl,Ml(oe,Fe,qe),y.toneMapping=qt,$e.updateMultisampleRenderTarget(ue),$e.updateRenderTargetMipmap(ue),y.setRenderTarget(Je)}function Ml(oe,Fe,qe){const Ve=Fe.isScene===!0?Fe.overrideMaterial:null;for(let Je=0,qt=oe.length;Je<qt;Je++){const tn=oe[Je],un=tn.object,an=tn.geometry,Dn=Ve===null?tn.material:Ve,Mn=tn.group;un.layers.test(qe.layers)&&hu(un,Fe,qe,an,Dn,Mn)}}function hu(oe,Fe,qe,Ve,Je,qt){oe.onBeforeRender(y,Fe,qe,Ve,Je,qt),oe.modelViewMatrix.multiplyMatrices(qe.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),Je.onBeforeRender(y,Fe,qe,Ve,oe,qt),Je.transparent===!0&&Je.side===oh?(Je.side=yo,Je.needsUpdate=!0,y.renderBufferDirect(qe,Fe,Ve,Je,oe,qt),Je.side=$d,Je.needsUpdate=!0,y.renderBufferDirect(qe,Fe,Ve,Je,oe,qt),Je.side=oh):y.renderBufferDirect(qe,Fe,Ve,Je,oe,qt),oe.onAfterRender(y,Fe,qe,Ve,Je,qt)}function Tl(oe,Fe,qe){Fe.isScene!==!0&&(Fe=Re);const Ve=Xe.get(oe),Je=d.state.lights,qt=d.state.shadowsArray,tn=Je.state.version,un=de.getParameters(oe,Je.state,qt,Fe,qe),an=de.getProgramCacheKey(un);let Dn=Ve.programs;Ve.environment=oe.isMeshStandardMaterial?Fe.environment:null,Ve.fog=Fe.fog,Ve.envMap=(oe.isMeshStandardMaterial?Te:O).get(oe.envMap||Ve.environment),Dn===void 0&&(oe.addEventListener("dispose",ht),Dn=new Map,Ve.programs=Dn);let Mn=Dn.get(an);if(Mn!==void 0){if(Ve.currentProgram===Mn&&Ve.lightsStateVersion===tn)return Nc(oe,un),Mn}else un.uniforms=de.getUniforms(oe),oe.onBuild(qe,un,y),oe.onBeforeCompile(un,y),Mn=de.acquireProgram(un,an),Dn.set(an,Mn),Ve.uniforms=un.uniforms;const Tn=Ve.uniforms;(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(Tn.clippingPlanes=U.uniform),Nc(oe,un),Ve.needsLights=du(oe),Ve.lightsStateVersion=tn,Ve.needsLights&&(Tn.ambientLightColor.value=Je.state.ambient,Tn.lightProbe.value=Je.state.probe,Tn.directionalLights.value=Je.state.directional,Tn.directionalLightShadows.value=Je.state.directionalShadow,Tn.spotLights.value=Je.state.spot,Tn.spotLightShadows.value=Je.state.spotShadow,Tn.rectAreaLights.value=Je.state.rectArea,Tn.ltc_1.value=Je.state.rectAreaLTC1,Tn.ltc_2.value=Je.state.rectAreaLTC2,Tn.pointLights.value=Je.state.point,Tn.pointLightShadows.value=Je.state.pointShadow,Tn.hemisphereLights.value=Je.state.hemi,Tn.directionalShadowMap.value=Je.state.directionalShadowMap,Tn.directionalShadowMatrix.value=Je.state.directionalShadowMatrix,Tn.spotShadowMap.value=Je.state.spotShadowMap,Tn.spotShadowMatrix.value=Je.state.spotShadowMatrix,Tn.pointShadowMap.value=Je.state.pointShadowMap,Tn.pointShadowMatrix.value=Je.state.pointShadowMatrix);const Gn=Mn.getUniforms(),Es=eh.seqWithValue(Gn.seq,Tn);return Ve.currentProgram=Mn,Ve.uniformsList=Es,Mn}function Nc(oe,Fe){const qe=Xe.get(oe);qe.outputEncoding=Fe.outputEncoding,qe.instancing=Fe.instancing,qe.skinning=Fe.skinning,qe.morphTargets=Fe.morphTargets,qe.morphNormals=Fe.morphNormals,qe.morphColors=Fe.morphColors,qe.morphTargetsCount=Fe.morphTargetsCount,qe.numClippingPlanes=Fe.numClippingPlanes,qe.numIntersection=Fe.numClipIntersection,qe.vertexAlphas=Fe.vertexAlphas,qe.vertexTangents=Fe.vertexTangents,qe.toneMapping=Fe.toneMapping}function Bc(oe,Fe,qe,Ve,Je){Fe.isScene!==!0&&(Fe=Re),$e.resetTextureUnits();const qt=Fe.fog,tn=Ve.isMeshStandardMaterial?Fe.environment:null,un=M===null?y.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:vl,an=(Ve.isMeshStandardMaterial?Te:O).get(Ve.envMap||tn),Dn=Ve.vertexColors===!0&&!!qe.attributes.color&&qe.attributes.color.itemSize===4,Mn=!!Ve.normalMap&&!!qe.attributes.tangent,Tn=!!qe.morphAttributes.position,Gn=!!qe.morphAttributes.normal,Es=!!qe.morphAttributes.color,ss=Ve.toneMapped?y.toneMapping:pl,Ks=qe.morphAttributes.position||qe.morphAttributes.normal||qe.morphAttributes.color,kr=Ks!==void 0?Ks.length:0,cn=Xe.get(Ve),Pn=d.state.lights;if(ae===!0&&(ie===!0||oe!==A)){const Yr=oe===A&&Ve.id===T;U.setState(Ve,oe,Yr)}let sn=!1;Ve.version===cn.__version?(cn.needsLights&&cn.lightsStateVersion!==Pn.state.version||cn.outputEncoding!==un||Je.isInstancedMesh&&cn.instancing===!1||!Je.isInstancedMesh&&cn.instancing===!0||Je.isSkinnedMesh&&cn.skinning===!1||!Je.isSkinnedMesh&&cn.skinning===!0||cn.envMap!==an||Ve.fog===!0&&cn.fog!==qt||cn.numClippingPlanes!==void 0&&(cn.numClippingPlanes!==U.numPlanes||cn.numIntersection!==U.numIntersection)||cn.vertexAlphas!==Dn||cn.vertexTangents!==Mn||cn.morphTargets!==Tn||cn.morphNormals!==Gn||cn.morphColors!==Es||cn.toneMapping!==ss||ut.isWebGL2===!0&&cn.morphTargetsCount!==kr)&&(sn=!0):(sn=!0,cn.__version=Ve.version);let zr=cn.currentProgram;sn===!0&&(zr=Tl(Ve,Fe,Je));let rr=!1,Er=!1,os=!1;const ir=zr.getUniforms(),sr=cn.uniforms;if(it.useProgram(zr.program)&&(rr=!0,Er=!0,os=!0),Ve.id!==T&&(T=Ve.id,Er=!0),rr||A!==oe){if(ir.setValue(ke,"projectionMatrix",oe.projectionMatrix),ut.logarithmicDepthBuffer&&ir.setValue(ke,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),A!==oe&&(A=oe,Er=!0,os=!0),Ve.isShaderMaterial||Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshStandardMaterial||Ve.envMap){const Yr=ir.map.cameraPosition;Yr!==void 0&&Yr.setValue(ke,we.setFromMatrixPosition(oe.matrixWorld))}(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&ir.setValue(ke,"isOrthographic",oe.isOrthographicCamera===!0),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial||Ve.isShadowMaterial||Je.isSkinnedMesh)&&ir.setValue(ke,"viewMatrix",oe.matrixWorldInverse)}if(Je.isSkinnedMesh){ir.setOptional(ke,Je,"bindMatrix"),ir.setOptional(ke,Je,"bindMatrixInverse");const Yr=Je.skeleton;Yr&&(ut.floatVertexTextures?(Yr.boneTexture===null&&Yr.computeBoneTexture(),ir.setValue(ke,"boneTexture",Yr.boneTexture,$e),ir.setValue(ke,"boneTextureSize",Yr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Js=qe.morphAttributes;return(Js.position!==void 0||Js.normal!==void 0||Js.color!==void 0&&ut.isWebGL2===!0)&&Ue.update(Je,qe,Ve,zr),(Er||cn.receiveShadow!==Je.receiveShadow)&&(cn.receiveShadow=Je.receiveShadow,ir.setValue(ke,"receiveShadow",Je.receiveShadow)),Er&&(ir.setValue(ke,"toneMappingExposure",y.toneMappingExposure),cn.needsLights&&Al(sr,os),qt&&Ve.fog===!0&&We.refreshFogUniforms(sr,qt),We.refreshMaterialUniforms(sr,Ve,q,H,ue),eh.upload(ke,cn.uniformsList,sr,$e)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(eh.upload(ke,cn.uniformsList,sr,$e),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&ir.setValue(ke,"center",Je.center),ir.setValue(ke,"modelViewMatrix",Je.modelViewMatrix),ir.setValue(ke,"normalMatrix",Je.normalMatrix),ir.setValue(ke,"modelMatrix",Je.matrixWorld),zr}function Al(oe,Fe){oe.ambientLightColor.needsUpdate=Fe,oe.lightProbe.needsUpdate=Fe,oe.directionalLights.needsUpdate=Fe,oe.directionalLightShadows.needsUpdate=Fe,oe.pointLights.needsUpdate=Fe,oe.pointLightShadows.needsUpdate=Fe,oe.spotLights.needsUpdate=Fe,oe.spotLightShadows.needsUpdate=Fe,oe.rectAreaLights.needsUpdate=Fe,oe.hemisphereLights.needsUpdate=Fe}function du(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(oe,Fe,qe){Xe.get(oe.texture).__webglTexture=Fe,Xe.get(oe.depthTexture).__webglTexture=qe;const Ve=Xe.get(oe);Ve.__hasExternalTextures=!0,Ve.__hasExternalTextures&&(Ve.__autoAllocateDepthBuffer=qe===void 0,Ve.__autoAllocateDepthBuffer||rt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(oe,Fe){const qe=Xe.get(oe);qe.__webglFramebuffer=Fe,qe.__useDefaultFramebuffer=Fe===void 0},this.setRenderTarget=function(oe,Fe=0,qe=0){M=oe,w=Fe,S=qe;let Ve=!0;if(oe){const an=Xe.get(oe);an.__useDefaultFramebuffer!==void 0?(it.bindFramebuffer(36160,null),Ve=!1):an.__webglFramebuffer===void 0?$e.setupRenderTarget(oe):an.__hasExternalTextures&&$e.rebindTextures(oe,Xe.get(oe.texture).__webglTexture,Xe.get(oe.depthTexture).__webglTexture)}let Je=null,qt=!1,tn=!1;if(oe){const an=oe.texture;(an.isData3DTexture||an.isDataArrayTexture)&&(tn=!0);const Dn=Xe.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Je=Dn[Fe],qt=!0):ut.isWebGL2&&oe.samples>0&&$e.useMultisampledRTT(oe)===!1?Je=Xe.get(oe).__webglMultisampledFramebuffer:Je=Dn,L.copy(oe.viewport),z.copy(oe.scissor),C=oe.scissorTest}else L.copy(I).multiplyScalar(q).floor(),z.copy(te).multiplyScalar(q).floor(),C=ce;if(it.bindFramebuffer(36160,Je)&&ut.drawBuffers&&Ve&&it.drawBuffers(oe,Je),it.viewport(L),it.scissor(z),it.setScissorTest(C),qt){const an=Xe.get(oe.texture);ke.framebufferTexture2D(36160,36064,34069+Fe,an.__webglTexture,qe)}else if(tn){const an=Xe.get(oe.texture),Dn=Fe||0;ke.framebufferTextureLayer(36160,36064,an.__webglTexture,qe||0,Dn)}T=-1},this.readRenderTargetPixels=function(oe,Fe,qe,Ve,Je,qt,tn){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let un=Xe.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&tn!==void 0&&(un=un[tn]),un){it.bindFramebuffer(36160,un);try{const an=oe.texture,Dn=an.format,Mn=an.type;if(Dn!==Vo&&He.convert(Dn)!==ke.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tn=Mn===rg&&(rt.has("EXT_color_buffer_half_float")||ut.isWebGL2&&rt.has("EXT_color_buffer_float"));if(Mn!==uh&&He.convert(Mn)!==ke.getParameter(35738)&&!(Mn===gc&&(ut.isWebGL2||rt.has("OES_texture_float")||rt.has("WEBGL_color_buffer_float")))&&!Tn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Fe>=0&&Fe<=oe.width-Ve&&qe>=0&&qe<=oe.height-Je&&ke.readPixels(Fe,qe,Ve,Je,He.convert(Dn),He.convert(Mn),qt)}finally{const an=M!==null?Xe.get(M).__webglFramebuffer:null;it.bindFramebuffer(36160,an)}}},this.copyFramebufferToTexture=function(oe,Fe,qe=0){if(Fe.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const Ve=Math.pow(2,-qe),Je=Math.floor(Fe.image.width*Ve),qt=Math.floor(Fe.image.height*Ve);$e.setTexture2D(Fe,0),ke.copyTexSubImage2D(3553,qe,0,0,oe.x,oe.y,Je,qt),it.unbindTexture()},this.copyTextureToTexture=function(oe,Fe,qe,Ve=0){const Je=Fe.image.width,qt=Fe.image.height,tn=He.convert(qe.format),un=He.convert(qe.type);$e.setTexture2D(qe,0),ke.pixelStorei(37440,qe.flipY),ke.pixelStorei(37441,qe.premultiplyAlpha),ke.pixelStorei(3317,qe.unpackAlignment),Fe.isDataTexture?ke.texSubImage2D(3553,Ve,oe.x,oe.y,Je,qt,tn,un,Fe.image.data):Fe.isCompressedTexture?ke.compressedTexSubImage2D(3553,Ve,oe.x,oe.y,Fe.mipmaps[0].width,Fe.mipmaps[0].height,tn,Fe.mipmaps[0].data):ke.texSubImage2D(3553,Ve,oe.x,oe.y,tn,un,Fe.image),Ve===0&&qe.generateMipmaps&&ke.generateMipmap(3553),it.unbindTexture()},this.copyTextureToTexture3D=function(oe,Fe,qe,Ve,Je=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qt=oe.max.x-oe.min.x+1,tn=oe.max.y-oe.min.y+1,un=oe.max.z-oe.min.z+1,an=He.convert(Ve.format),Dn=He.convert(Ve.type);let Mn;if(Ve.isData3DTexture)$e.setTexture3D(Ve,0),Mn=32879;else if(Ve.isDataArrayTexture)$e.setTexture2DArray(Ve,0),Mn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ke.pixelStorei(37440,Ve.flipY),ke.pixelStorei(37441,Ve.premultiplyAlpha),ke.pixelStorei(3317,Ve.unpackAlignment);const Tn=ke.getParameter(3314),Gn=ke.getParameter(32878),Es=ke.getParameter(3316),ss=ke.getParameter(3315),Ks=ke.getParameter(32877),kr=qe.isCompressedTexture?qe.mipmaps[0]:qe.image;ke.pixelStorei(3314,kr.width),ke.pixelStorei(32878,kr.height),ke.pixelStorei(3316,oe.min.x),ke.pixelStorei(3315,oe.min.y),ke.pixelStorei(32877,oe.min.z),qe.isDataTexture||qe.isData3DTexture?ke.texSubImage3D(Mn,Je,Fe.x,Fe.y,Fe.z,qt,tn,un,an,Dn,kr.data):qe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ke.compressedTexSubImage3D(Mn,Je,Fe.x,Fe.y,Fe.z,qt,tn,un,an,kr.data)):ke.texSubImage3D(Mn,Je,Fe.x,Fe.y,Fe.z,qt,tn,un,an,Dn,kr),ke.pixelStorei(3314,Tn),ke.pixelStorei(32878,Gn),ke.pixelStorei(3316,Es),ke.pixelStorei(3315,ss),ke.pixelStorei(32877,Ks),Je===0&&Ve.generateMipmaps&&ke.generateMipmap(Mn),it.unbindTexture()},this.initTexture=function(oe){$e.setTexture2D(oe,0),it.unbindTexture()},this.resetState=function(){w=0,S=0,M=null,it.reset(),Bt.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}nr.prototype.isWebGLRenderer=!0;class zO extends nr{}zO.prototype.isWebGL1Renderer=!0;class Gv{constructor(e,t=25e-5){this.name="",this.color=new St(e),this.density=t}clone(){return new Gv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Gv.prototype.isFogExp2=!0;class $v{constructor(e,t=1,r=1e3){this.name="",this.color=new St(e),this.near=t,this.far=r}clone(){return new $v(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}$v.prototype.isFog=!0;class jv extends kn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}jv.prototype.isScene=!0;class ap{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ig,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$o()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$o()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$o()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}ap.prototype.isInterleavedBuffer=!0;const Ds=new re;class ch{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ds.fromBufferAttribute(this,t),Ds.applyMatrix4(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ds.fromBufferAttribute(this,t),Ds.applyNormalMatrix(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ds.fromBufferAttribute(this,t),Ds.transformDirection(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Vn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ch(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ch.prototype.isInterleavedBufferAttribute=!0;class Rx extends vi{constructor(e){super(),this.type="SpriteMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}Rx.prototype.isSpriteMaterial=!0;let om;const f0=new re,am=new re,lm=new re,um=new nt,h0=new nt,FO=new Et,l_=new re,d0=new re,u_=new re,sR=new nt,Pb=new nt,oR=new nt;class Px extends kn{constructor(e){if(super(),this.type="Sprite",om===void 0){om=new jt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ap(t,5);om.setIndex([0,1,2,0,2,3]),om.setAttribute("position",new ch(r,3,0,!1)),om.setAttribute("uv",new ch(r,2,3,!1))}this.geometry=om,this.material=e!==void 0?e:new Rx,this.center=new nt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),am.setFromMatrixScale(this.matrixWorld),FO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&am.multiplyScalar(-lm.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;c_(l_.set(-.5,-.5,0),lm,o,am,i,s),c_(d0.set(.5,-.5,0),lm,o,am,i,s),c_(u_.set(.5,.5,0),lm,o,am,i,s),sR.set(0,0),Pb.set(1,0),oR.set(1,1);let a=e.ray.intersectTriangle(l_,d0,u_,!1,f0);if(a===null&&(c_(d0.set(-.5,.5,0),lm,o,am,i,s),Pb.set(0,1),a=e.ray.intersectTriangle(l_,u_,d0,!1,f0),a===null))return;const l=e.ray.origin.distanceTo(f0);l<e.near||l>e.far||t.push({distance:l,point:f0.clone(),uv:pi.getUV(f0,l_,d0,u_,sR,Pb,oR,new nt),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Px.prototype.isSprite=!0;function c_(n,e,t,r,i,s){um.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(h0.x=s*um.x-i*um.y,h0.y=i*um.x+s*um.y):h0.copy(um),n.copy(e),n.x+=h0.x,n.y+=h0.y,n.applyMatrix4(FO)}const f_=new re,aR=new re;class NO extends kn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){f_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(f_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){f_.setFromMatrixPosition(e.matrixWorld),aR.setFromMatrixPosition(this.matrixWorld);const r=f_.distanceTo(aR)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const lR=new re,uR=new tr,cR=new tr,mq=new re,fR=new Et;class Ix extends Ci{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Et,this.bindMatrixInverse=new Et}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new tr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;uR.fromBufferAttribute(i.attributes.skinIndex,e),cR.fromBufferAttribute(i.attributes.skinWeight,e),lR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=cR.getComponent(s);if(o!==0){const a=uR.getComponent(s);fR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(mq.copy(lR).applyMatrix4(fR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}Ix.prototype.isSkinnedMesh=!0;class Lx extends kn{constructor(){super(),this.type="Bone"}}Lx.prototype.isBone=!0;class zd extends gi{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Mi,p=Mi,m,d){super(null,o,a,l,c,p,i,s,m,d),this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}zd.prototype.isDataTexture=!0;const hR=new Et,gq=new Et;class kx{constructor(e=[],t=[]){this.uuid=$o(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Et)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Et;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:gq;hR.multiplyMatrices(a,t[s]),hR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new kx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=dO(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new zd(t,e,e,Vo,gc);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Lx),this.bones.push(o),this.boneInverses.push(new Et().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Xd extends Vn{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Xd.prototype.isInstancedBufferAttribute=!0;const dR=new Et,pR=new Et,h_=[],p0=new Ci;class DM extends Ci{constructor(e,t,r){super(e,t),this.instanceMatrix=new Xd(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(p0.geometry=this.geometry,p0.material=this.material,p0.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,dR),pR.multiplyMatrices(r,dR),p0.matrixWorld=pR,p0.raycast(e,h_);for(let o=0,a=h_.length;o<a;o++){const l=h_[o];l.instanceId=s,l.object=this,t.push(l)}h_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Xd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}DM.prototype.isInstancedMesh=!0;class mi extends vi{constructor(e){super(),this.type="LineBasicMaterial",this.color=new St(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}mi.prototype.isLineBasicMaterial=!0;const mR=new re,gR=new re,vR=new Et,Ib=new _h,d_=new Lc;class pa extends kn{constructor(e=new jt,t=new mi){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)mR.fromBufferAttribute(t,i-1),gR.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=mR.distanceTo(gR);e.setAttribute("lineDistance",new zt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),d_.copy(r.boundingSphere),d_.applyMatrix4(i),d_.radius+=s,e.ray.intersectsSphere(d_)===!1)return;vR.copy(i).invert(),Ib.copy(e.ray).applyMatrix4(vR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new re,p=new re,m=new re,d=new re,v=this.isLineSegments?2:1;if(r.isBufferGeometry){const _=r.index,x=r.attributes.position;if(_!==null){const w=Math.max(0,o.start),S=Math.min(_.count,o.start+o.count);for(let M=w,T=S-1;M<T;M+=v){const A=_.getX(M),L=_.getX(M+1);if(c.fromBufferAttribute(x,A),p.fromBufferAttribute(x,L),Ib.distanceSqToSegment(c,p,d,m)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||t.push({distance:C,point:m.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let M=w,T=S-1;M<T;M+=v){if(c.fromBufferAttribute(x,M),p.fromBufferAttribute(x,M+1),Ib.distanceSqToSegment(c,p,d,m)>l)continue;d.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(d);L<e.near||L>e.far||t.push({distance:L,point:m.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}pa.prototype.isLine=!0;const yR=new re,_R=new re;class _o extends pa{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)yR.fromBufferAttribute(t,i),_R.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+yR.distanceTo(_R);e.setAttribute("lineDistance",new zt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}_o.prototype.isLineSegments=!0;class OM extends pa{constructor(e,t){super(e,t),this.type="LineLoop"}}OM.prototype.isLineLoop=!0;class lp extends vi{constructor(e){super(),this.type="PointsMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}lp.prototype.isPointsMaterial=!0;const xR=new Et,OE=new _h,p_=new Lc,m_=new re;class qv extends kn{constructor(e=new jt,t=new lp){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),p_.copy(r.boundingSphere),p_.applyMatrix4(i),p_.radius+=s,e.ray.intersectsSphere(p_)===!1)return;xR.copy(i).invert(),OE.copy(e.ray).applyMatrix4(xR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const c=r.index,m=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let _=d,y=v;_<y;_++){const x=c.getX(_);m_.fromBufferAttribute(m,x),wR(m_,x,l,i,e,t,this)}}else{const d=Math.max(0,o.start),v=Math.min(m.count,o.start+o.count);for(let _=d,y=v;_<y;_++)m_.fromBufferAttribute(m,_),wR(m_,_,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}qv.prototype.isPoints=!0;function wR(n,e,t,r,i,s,o){const a=OE.distanceSqToPoint(n);if(a<t){const l=new re;OE.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class BO extends gi{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.minFilter=o!==void 0?o:hi,this.magFilter=s!==void 0?s:hi,this.generateMipmaps=!1;const p=this;function m(){p.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}BO.prototype.isVideoTexture=!0;class UO extends gi{constructor(e,t,r){super({width:e,height:t}),this.format=r,this.magFilter=Mi,this.minFilter=Mi,this.generateMipmaps=!1,this.needsUpdate=!0}}UO.prototype.isFramebufferTexture=!0;class zM extends gi{constructor(e,t,r,i,s,o,a,l,c,p,m,d){super(null,o,a,l,c,p,i,s,m,d),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}zM.prototype.isCompressedTexture=!0;class HO extends gi{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.needsUpdate=!0}}HO.prototype.isCanvasTexture=!0;class qo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const p=r[i],d=r[i+1]-p,v=(o-p)/d;return(i+v)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new nt:new re);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new re,i=[],s=[],o=[],a=new re,l=new Et;for(let v=0;v<=e;v++){const _=v/e;i[v]=this.getTangentAt(_,new re)}s[0]=new re,o[0]=new re;let c=Number.MAX_VALUE;const p=Math.abs(i[0].x),m=Math.abs(i[0].y),d=Math.abs(i[0].z);p<=c&&(c=p,r.set(1,0,0)),m<=c&&(c=m,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const _=Math.acos(di(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,_))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(di(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(i[_],v*_)),o[_].crossVectors(i[_],s[_])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class th extends qo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new nt,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const p=Math.cos(this.aRotation),m=Math.sin(this.aRotation),d=l-this.aX,v=c-this.aY;l=d*p-v*m+this.aX,c=d*m+v*p+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}th.prototype.isEllipseCurve=!0;class FM extends th{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.type="ArcCurve"}}FM.prototype.isArcCurve=!0;function NM(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,p,m){let d=(o-s)/c-(a-s)/(c+p)+(a-o)/p,v=(a-o)/p-(l-o)/(p+m)+(l-a)/m;d*=p,v*=p,i(o,a,d,v)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const g_=new re,Lb=new NM,kb=new NM,Db=new NM;class BM extends qo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new re){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,p;this.closed||a>0?c=i[(a-1)%s]:(g_.subVectors(i[0],i[1]).add(i[0]),c=g_);const m=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?p=i[(a+2)%s]:(g_.subVectors(i[s-1],i[s-2]).add(i[s-1]),p=g_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(c.distanceToSquared(m),v),y=Math.pow(m.distanceToSquared(d),v),x=Math.pow(d.distanceToSquared(p),v);y<1e-4&&(y=1),_<1e-4&&(_=y),x<1e-4&&(x=y),Lb.initNonuniformCatmullRom(c.x,m.x,d.x,p.x,_,y,x),kb.initNonuniformCatmullRom(c.y,m.y,d.y,p.y,_,y,x),Db.initNonuniformCatmullRom(c.z,m.z,d.z,p.z,_,y,x)}else this.curveType==="catmullrom"&&(Lb.initCatmullRom(c.x,m.x,d.x,p.x,this.tension),kb.initCatmullRom(c.y,m.y,d.y,p.y,this.tension),Db.initCatmullRom(c.z,m.z,d.z,p.z,this.tension));return r.set(Lb.calc(l),kb.calc(l),Db.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new re().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}BM.prototype.isCatmullRomCurve3=!0;function bR(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function vq(n,e){const t=1-n;return t*t*e}function yq(n,e){return 2*(1-n)*n*e}function _q(n,e){return n*n*e}function B0(n,e,t,r){return vq(n,e)+yq(n,t)+_q(n,r)}function xq(n,e){const t=1-n;return t*t*t*e}function wq(n,e){const t=1-n;return 3*t*t*n*e}function bq(n,e){return 3*(1-n)*n*n*e}function Sq(n,e){return n*n*n*e}function U0(n,e,t,r,i){return xq(n,e)+wq(n,t)+bq(n,r)+Sq(n,i)}class Dx extends qo{constructor(e=new nt,t=new nt,r=new nt,i=new nt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(U0(e,i.x,s.x,o.x,a.x),U0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Dx.prototype.isCubicBezierCurve=!0;class UM extends qo{constructor(e=new re,t=new re,r=new re,i=new re){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new re){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(U0(e,i.x,s.x,o.x,a.x),U0(e,i.y,s.y,o.y,a.y),U0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}UM.prototype.isCubicBezierCurve3=!0;class Yv extends qo{constructor(e=new nt,t=new nt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new nt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new nt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Yv.prototype.isLineCurve=!0;class WO extends qo{constructor(e=new re,t=new re){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new re){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ox extends qo{constructor(e=new nt,t=new nt,r=new nt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(B0(e,i.x,s.x,o.x),B0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ox.prototype.isQuadraticBezierCurve=!0;class zx extends qo{constructor(e=new re,t=new re,r=new re){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new re){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(B0(e,i.x,s.x,o.x),B0(e,i.y,s.y,o.y),B0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}zx.prototype.isQuadraticBezierCurve3=!0;class Fx extends qo{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new nt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],p=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return r.set(bR(a,l.x,c.x,p.x,m.x),bR(a,l.y,c.y,p.y,m.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new nt().fromArray(i))}return this}}Fx.prototype.isSplineCurve=!0;var HM=Object.freeze({__proto__:null,ArcCurve:FM,CatmullRomCurve3:BM,CubicBezierCurve:Dx,CubicBezierCurve3:UM,EllipseCurve:th,LineCurve:Yv,LineCurve3:WO,QuadraticBezierCurve:Ox,QuadraticBezierCurve3:zx,SplineCurve:Fx});class VO extends qo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Yv(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const p=l[c];r&&r.equals(p)||(t.push(p),r=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new HM[i.type]().fromJSON(i))}return this}}class ag extends VO{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Yv(this.currentPoint.clone(),new nt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Ox(this.currentPoint.clone(),new nt(e,t),new nt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new Dx(this.currentPoint.clone(),new nt(e,t),new nt(r,i),new nt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Fx(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+c,t+p,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new th(e,t,r,i,s,o,a,l);if(this.curves.length>0){const m=c.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(c);const p=c.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Zd extends jt{constructor(e=[new nt(0,.5),new nt(.5,0),new nt(0,-.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=di(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],p=1/t,m=new re,d=new nt,v=new re,_=new re,y=new re;let x=0,w=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,w=e[S+1].y-e[S].y,v.x=w*1,v.y=-x,v.z=w*0,y.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[S+1].x-e[S].x,w=e[S+1].y-e[S].y,v.x=w*1,v.y=-x,v.z=w*0,_.copy(v),v.x+=y.x,v.y+=y.y,v.z+=y.z,v.normalize(),l.push(v.x,v.y,v.z),y.copy(_)}for(let S=0;S<=t;S++){const M=r+S*p*i,T=Math.sin(M),A=Math.cos(M);for(let L=0;L<=e.length-1;L++){m.x=e[L].x*T,m.y=e[L].y,m.z=e[L].x*A,o.push(m.x,m.y,m.z),d.x=S/t,d.y=L/(e.length-1),a.push(d.x,d.y);const z=l[3*L+0]*T,C=l[3*L+1],F=l[3*L+0]*A;c.push(z,C,F)}}for(let S=0;S<t;S++)for(let M=0;M<e.length-1;M++){const T=M+S*e.length,A=T,L=T+e.length,z=T+e.length+1,C=T+1;s.push(A,L,C),s.push(z,C,L)}this.setIndex(s),this.setAttribute("position",new zt(o,3)),this.setAttribute("uv",new zt(a,2)),this.setAttribute("normal",new zt(c,3))}static fromJSON(e){return new Zd(e.points,e.segments,e.phiStart,e.phiLength)}}class lg extends Zd{constructor(e=1,t=1,r=4,i=8){const s=new ag;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new lg(e.radius,e.length,e.capSegments,e.radialSegments)}}class ug extends jt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new re,p=new nt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let m=0,d=3;m<=t;m++,d+=3){const v=r+m/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),p.x=(o[d]/e+1)/2,p.y=(o[d+1]/e+1)/2,l.push(p.x,p.y)}for(let m=1;m<=t;m++)s.push(m,m+1,0);this.setIndex(s),this.setAttribute("position",new zt(o,3)),this.setAttribute("normal",new zt(a,3)),this.setAttribute("uv",new zt(l,2))}static fromJSON(e){return new ug(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class fh extends jt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const p=[],m=[],d=[],v=[];let _=0;const y=[],x=r/2;let w=0;S(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(p),this.setAttribute("position",new zt(m,3)),this.setAttribute("normal",new zt(d,3)),this.setAttribute("uv",new zt(v,2));function S(){const T=new re,A=new re;let L=0;const z=(t-e)/r;for(let C=0;C<=s;C++){const F=[],H=C/s,q=H*(t-e)+e;for(let B=0;B<=i;B++){const Y=B/i,I=Y*l+a,te=Math.sin(I),ce=Math.cos(I);A.x=q*te,A.y=-H*r+x,A.z=q*ce,m.push(A.x,A.y,A.z),T.set(te,z,ce).normalize(),d.push(T.x,T.y,T.z),v.push(Y,1-H),F.push(_++)}y.push(F)}for(let C=0;C<i;C++)for(let F=0;F<s;F++){const H=y[F][C],q=y[F+1][C],B=y[F+1][C+1],Y=y[F][C+1];p.push(H,q,Y),p.push(q,B,Y),L+=6}c.addGroup(w,L,0),w+=L}function M(T){const A=_,L=new nt,z=new re;let C=0;const F=T===!0?e:t,H=T===!0?1:-1;for(let B=1;B<=i;B++)m.push(0,x*H,0),d.push(0,H,0),v.push(.5,.5),_++;const q=_;for(let B=0;B<=i;B++){const I=B/i*l+a,te=Math.cos(I),ce=Math.sin(I);z.x=F*ce,z.y=x*H,z.z=F*te,m.push(z.x,z.y,z.z),d.push(0,H,0),L.x=te*.5+.5,L.y=ce*.5*H+.5,v.push(L.x,L.y),_++}for(let B=0;B<i;B++){const Y=A+B,I=q+B;T===!0?p.push(I,I+1,Y):p.push(I+1,I,Y),C+=3}c.addGroup(w,C,T===!0?1:2),w+=C}}static fromJSON(e){return new fh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cg extends fh{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new cg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ou extends jt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),p(),this.setAttribute("position",new zt(s,3)),this.setAttribute("normal",new zt(s.slice(),3)),this.setAttribute("uv",new zt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const M=new re,T=new re,A=new re;for(let L=0;L<t.length;L+=3)v(t[L+0],M),v(t[L+1],T),v(t[L+2],A),l(M,T,A,S)}function l(S,M,T,A){const L=A+1,z=[];for(let C=0;C<=L;C++){z[C]=[];const F=S.clone().lerp(T,C/L),H=M.clone().lerp(T,C/L),q=L-C;for(let B=0;B<=q;B++)B===0&&C===L?z[C][B]=F:z[C][B]=F.clone().lerp(H,B/q)}for(let C=0;C<L;C++)for(let F=0;F<2*(L-C)-1;F++){const H=Math.floor(F/2);F%2===0?(d(z[C][H+1]),d(z[C+1][H]),d(z[C][H])):(d(z[C][H+1]),d(z[C+1][H+1]),d(z[C+1][H]))}}function c(S){const M=new re;for(let T=0;T<s.length;T+=3)M.x=s[T+0],M.y=s[T+1],M.z=s[T+2],M.normalize().multiplyScalar(S),s[T+0]=M.x,s[T+1]=M.y,s[T+2]=M.z}function p(){const S=new re;for(let M=0;M<s.length;M+=3){S.x=s[M+0],S.y=s[M+1],S.z=s[M+2];const T=x(S)/2/Math.PI+.5,A=w(S)/Math.PI+.5;o.push(T,1-A)}_(),m()}function m(){for(let S=0;S<o.length;S+=6){const M=o[S+0],T=o[S+2],A=o[S+4],L=Math.max(M,T,A),z=Math.min(M,T,A);L>.9&&z<.1&&(M<.2&&(o[S+0]+=1),T<.2&&(o[S+2]+=1),A<.2&&(o[S+4]+=1))}}function d(S){s.push(S.x,S.y,S.z)}function v(S,M){const T=S*3;M.x=e[T+0],M.y=e[T+1],M.z=e[T+2]}function _(){const S=new re,M=new re,T=new re,A=new re,L=new nt,z=new nt,C=new nt;for(let F=0,H=0;F<s.length;F+=9,H+=6){S.set(s[F+0],s[F+1],s[F+2]),M.set(s[F+3],s[F+4],s[F+5]),T.set(s[F+6],s[F+7],s[F+8]),L.set(o[H+0],o[H+1]),z.set(o[H+2],o[H+3]),C.set(o[H+4],o[H+5]),A.copy(S).add(M).add(T).divideScalar(3);const q=x(A);y(L,H+0,S,q),y(z,H+2,M,q),y(C,H+4,T,q)}}function y(S,M,T,A){A<0&&S.x===1&&(o[M]=S.x-1),T.x===0&&T.z===0&&(o[M]=A/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function w(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}static fromJSON(e){return new ou(e.vertices,e.indices,e.radius,e.details)}}class fg extends ou{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fg(e.radius,e.detail)}}const v_=new re,y_=new re,Ob=new re,__=new pi;class WM extends jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(kd*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],p=["a","b","c"],m=new Array(3),d={},v=[];for(let _=0;_<l;_+=3){o?(c[0]=o.getX(_),c[1]=o.getX(_+1),c[2]=o.getX(_+2)):(c[0]=_,c[1]=_+1,c[2]=_+2);const{a:y,b:x,c:w}=__;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),w.fromBufferAttribute(a,c[2]),__.getNormal(Ob),m[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,m[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,m[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let S=0;S<3;S++){const M=(S+1)%3,T=m[S],A=m[M],L=__[p[S]],z=__[p[M]],C=`${T}_${A}`,F=`${A}_${T}`;F in d&&d[F]?(Ob.dot(d[F].normal)<=s&&(v.push(L.x,L.y,L.z),v.push(z.x,z.y,z.z)),d[F]=null):C in d||(d[C]={index0:c[S],index1:c[M],normal:Ob.clone()})}}for(const _ in d)if(d[_]){const{index0:y,index1:x}=d[_];v_.fromBufferAttribute(a,y),y_.fromBufferAttribute(a,x),v.push(v_.x,v_.y,v_.z),v.push(y_.x,y_.y,y_.z)}this.setAttribute("position",new zt(v,3))}}}class iu extends ag{constructor(e){super(e),this.uuid=$o(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ag().fromJSON(i))}return this}}const Eq={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=GO(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,p,m,d,v;if(r&&(s=Rq(n,e,s,t)),n.length>80*t){a=c=n[0],l=p=n[1];for(let _=t;_<i;_+=t)m=n[_],d=n[_+1],m<a&&(a=m),d<l&&(l=d),m>c&&(c=m),d>p&&(p=d);v=Math.max(c-a,p-l),v=v!==0?1/v:0}return _v(s,o,t,a,l,v),o}};function GO(n,e,t,r,i){let s,o;if(i===Uq(n,e,t,r)>0)for(s=e;s<t;s+=r)o=SR(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=SR(s,n[s],n[s+1],o);return o&&Nx(o,o.next)&&(wv(o),o=o.next),o}function hh(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Nx(t,t.next)||Gr(t.prev,t,t.next)===0)){if(wv(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function _v(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Dq(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Tq(n,r,i,s):Mq(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),wv(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Aq(hh(n),e,t),_v(n,e,t,r,i,s,2)):o===2&&Cq(n,e,t,r,i,s):_v(hh(n),e,t,r,i,s,1);break}}}function Mq(n){const e=n.prev,t=n,r=n.next;if(Gr(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Dm(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Gr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Tq(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Gr(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,c=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,p=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,m=zE(a,l,e,t,r),d=zE(c,p,e,t,r);let v=n.prevZ,_=n.nextZ;for(;v&&v.z>=m&&_&&_.z<=d;){if(v!==n.prev&&v!==n.next&&Dm(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&Gr(v.prev,v,v.next)>=0||(v=v.prevZ,_!==n.prev&&_!==n.next&&Dm(i.x,i.y,s.x,s.y,o.x,o.y,_.x,_.y)&&Gr(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;v&&v.z>=m;){if(v!==n.prev&&v!==n.next&&Dm(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&Gr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;_&&_.z<=d;){if(_!==n.prev&&_!==n.next&&Dm(i.x,i.y,s.x,s.y,o.x,o.y,_.x,_.y)&&Gr(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Aq(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Nx(i,s)&&$O(i,r,r.next,s)&&xv(i,s)&&xv(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),wv(r),wv(r.next),r=n=s),r=r.next}while(r!==n);return hh(r)}function Cq(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Fq(o,a)){let l=jO(o,a);o=hh(o,o.next),l=hh(l,l.next),_v(o,e,t,r,i,s),_v(l,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function Rq(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=GO(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(zq(c));for(i.sort(Pq),s=0;s<i.length;s++)Iq(i[s],t),t=hh(t,t.next);return t}function Pq(n,e){return n.x-e.x}function Iq(n,e){if(e=Lq(n,e),e){const t=jO(e,n);hh(e,e.next),hh(t,t.next)}}function Lq(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const d=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=r&&d>s){if(s=d,d===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,c=o.y;let p=1/0,m;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Dm(i<c?r:s,i,l,c,i<c?s:r,i,t.x,t.y)&&(m=Math.abs(i-t.y)/(r-t.x),xv(t,n)&&(m<p||m===p&&(t.x>o.x||t.x===o.x&&kq(o,t)))&&(o=t,p=m)),t=t.next;while(t!==a);return o}function kq(n,e){return Gr(n.prev,n,e.prev)<0&&Gr(e.next,n,n.next)<0}function Dq(n,e,t,r){let i=n;do i.z===null&&(i.z=zE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Oq(i)}function Oq(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function zE(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function zq(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Dm(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function Fq(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Nq(n,e)&&(xv(n,e)&&xv(e,n)&&Bq(n,e)&&(Gr(n.prev,n,e.prev)||Gr(n,e.prev,e))||Nx(n,e)&&Gr(n.prev,n,n.next)>0&&Gr(e.prev,e,e.next)>0)}function Gr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Nx(n,e){return n.x===e.x&&n.y===e.y}function $O(n,e,t,r){const i=w_(Gr(n,e,t)),s=w_(Gr(n,e,r)),o=w_(Gr(t,r,n)),a=w_(Gr(t,r,e));return!!(i!==s&&o!==a||i===0&&x_(n,t,e)||s===0&&x_(n,r,e)||o===0&&x_(t,n,r)||a===0&&x_(t,e,r))}function x_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function w_(n){return n>0?1:n<0?-1:0}function Nq(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&$O(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function xv(n,e){return Gr(n.prev,n,n.next)<0?Gr(n,e,n.next)>=0&&Gr(n,n.prev,e)>=0:Gr(n,e,n.prev)<0||Gr(n,n.next,e)<0}function Bq(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function jO(n,e){const t=new FE(n.i,n.x,n.y),r=new FE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function SR(n,e,t,r){const i=new FE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function wv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function FE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Uq(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class su{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return su.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];ER(e),MR(r,e);let o=e.length;t.forEach(ER);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,MR(r,t[l]);const a=Eq.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ER(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function MR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class au extends jt{constructor(e=new iu([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new zt(i,3)),this.setAttribute("uv",new zt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1;let m=t.depth!==void 0?t.depth:1,d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:Hq;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=t.amount);let M,T=!1,A,L,z,C;w&&(M=w.getSpacedPoints(p),T=!0,d=!1,A=w.computeFrenetFrames(p,!1),L=new re,z=new re,C=new re),d||(x=0,v=0,_=0,y=0);const F=a.extractPoints(c);let H=F.shape;const q=F.holes;if(!su.isClockWise(H)){H=H.reverse();for(let Xe=0,$e=q.length;Xe<$e;Xe++){const O=q[Xe];su.isClockWise(O)&&(q[Xe]=O.reverse())}}const Y=su.triangulateShape(H,q),I=H;for(let Xe=0,$e=q.length;Xe<$e;Xe++){const O=q[Xe];H=H.concat(O)}function te(Xe,$e,O){return $e||console.error("THREE.ExtrudeGeometry: vec does not exist"),$e.clone().multiplyScalar(O).add(Xe)}const ce=H.length,le=Y.length;function ae(Xe,$e,O){let Te,ye,ne;const J=Xe.x-$e.x,de=Xe.y-$e.y,We=O.x-Xe.x,Be=O.y-Xe.y,G=J*J+de*de,U=J*Be-de*We;if(Math.abs(U)>Number.EPSILON){const fe=Math.sqrt(G),Ee=Math.sqrt(We*We+Be*Be),Ue=$e.x-de/fe,Ke=$e.y+J/fe,at=O.x-Be/Ee,He=O.y+We/Ee,Bt=((at-Ue)*Be-(He-Ke)*We)/(J*Be-de*We);Te=Ue+J*Bt-Xe.x,ye=Ke+de*Bt-Xe.y;const Ft=Te*Te+ye*ye;if(Ft<=2)return new nt(Te,ye);ne=Math.sqrt(Ft/2)}else{let fe=!1;J>Number.EPSILON?We>Number.EPSILON&&(fe=!0):J<-Number.EPSILON?We<-Number.EPSILON&&(fe=!0):Math.sign(de)===Math.sign(Be)&&(fe=!0),fe?(Te=-de,ye=J,ne=Math.sqrt(G)):(Te=J,ye=de,ne=Math.sqrt(G/2))}return new nt(Te/ne,ye/ne)}const ie=[];for(let Xe=0,$e=I.length,O=$e-1,Te=Xe+1;Xe<$e;Xe++,O++,Te++)O===$e&&(O=0),Te===$e&&(Te=0),ie[Xe]=ae(I[Xe],I[O],I[Te]);const ue=[];let j,K=ie.concat();for(let Xe=0,$e=q.length;Xe<$e;Xe++){const O=q[Xe];j=[];for(let Te=0,ye=O.length,ne=ye-1,J=Te+1;Te<ye;Te++,ne++,J++)ne===ye&&(ne=0),J===ye&&(J=0),j[Te]=ae(O[Te],O[ne],O[J]);ue.push(j),K=K.concat(j)}for(let Xe=0;Xe<x;Xe++){const $e=Xe/x,O=v*Math.cos($e*Math.PI/2),Te=_*Math.sin($e*Math.PI/2)+y;for(let ye=0,ne=I.length;ye<ne;ye++){const J=te(I[ye],ie[ye],Te);bt(J.x,J.y,-O)}for(let ye=0,ne=q.length;ye<ne;ye++){const J=q[ye];j=ue[ye];for(let de=0,We=J.length;de<We;de++){const Be=te(J[de],j[de],Te);bt(Be.x,Be.y,-O)}}}const we=_+y;for(let Xe=0;Xe<ce;Xe++){const $e=d?te(H[Xe],K[Xe],we):H[Xe];T?(z.copy(A.normals[0]).multiplyScalar($e.x),L.copy(A.binormals[0]).multiplyScalar($e.y),C.copy(M[0]).add(z).add(L),bt(C.x,C.y,C.z)):bt($e.x,$e.y,0)}for(let Xe=1;Xe<=p;Xe++)for(let $e=0;$e<ce;$e++){const O=d?te(H[$e],K[$e],we):H[$e];T?(z.copy(A.normals[Xe]).multiplyScalar(O.x),L.copy(A.binormals[Xe]).multiplyScalar(O.y),C.copy(M[Xe]).add(z).add(L),bt(C.x,C.y,C.z)):bt(O.x,O.y,m/p*Xe)}for(let Xe=x-1;Xe>=0;Xe--){const $e=Xe/x,O=v*Math.cos($e*Math.PI/2),Te=_*Math.sin($e*Math.PI/2)+y;for(let ye=0,ne=I.length;ye<ne;ye++){const J=te(I[ye],ie[ye],Te);bt(J.x,J.y,m+O)}for(let ye=0,ne=q.length;ye<ne;ye++){const J=q[ye];j=ue[ye];for(let de=0,We=J.length;de<We;de++){const Be=te(J[de],j[de],Te);T?bt(Be.x,Be.y+M[p-1].y,M[p-1].x+O):bt(Be.x,Be.y,m+O)}}}Re(),Pe();function Re(){const Xe=i.length/3;if(d){let $e=0,O=ce*$e;for(let Te=0;Te<le;Te++){const ye=Y[Te];rt(ye[2]+O,ye[1]+O,ye[0]+O)}$e=p+x*2,O=ce*$e;for(let Te=0;Te<le;Te++){const ye=Y[Te];rt(ye[0]+O,ye[1]+O,ye[2]+O)}}else{for(let $e=0;$e<le;$e++){const O=Y[$e];rt(O[2],O[1],O[0])}for(let $e=0;$e<le;$e++){const O=Y[$e];rt(O[0]+ce*p,O[1]+ce*p,O[2]+ce*p)}}r.addGroup(Xe,i.length/3-Xe,0)}function Pe(){const Xe=i.length/3;let $e=0;ke(I,$e),$e+=I.length;for(let O=0,Te=q.length;O<Te;O++){const ye=q[O];ke(ye,$e),$e+=ye.length}r.addGroup(Xe,i.length/3-Xe,1)}function ke(Xe,$e){let O=Xe.length;for(;--O>=0;){const Te=O;let ye=O-1;ye<0&&(ye=Xe.length-1);for(let ne=0,J=p+x*2;ne<J;ne++){const de=ce*ne,We=ce*(ne+1),Be=$e+Te+de,G=$e+ye+de,U=$e+ye+We,fe=$e+Te+We;ut(Be,G,U,fe)}}}function bt(Xe,$e,O){l.push(Xe),l.push($e),l.push(O)}function rt(Xe,$e,O){it(Xe),it($e),it(O);const Te=i.length/3,ye=S.generateTopUV(r,i,Te-3,Te-2,Te-1);Ct(ye[0]),Ct(ye[1]),Ct(ye[2])}function ut(Xe,$e,O,Te){it(Xe),it($e),it(Te),it($e),it(O),it(Te);const ye=i.length/3,ne=S.generateSideWallUV(r,i,ye-6,ye-3,ye-2,ye-1);Ct(ne[0]),Ct(ne[1]),Ct(ne[3]),Ct(ne[1]),Ct(ne[2]),Ct(ne[3])}function it(Xe){i.push(l[Xe*3+0]),i.push(l[Xe*3+1]),i.push(l[Xe*3+2])}function Ct(Xe){s.push(Xe.x),s.push(Xe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Wq(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new HM[i.type]().fromJSON(i)),new au(r,e.options)}}const Hq={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],p=e[i*3+1];return[new nt(s,o),new nt(a,l),new nt(c,p)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],p=e[r*3+1],m=e[r*3+2],d=e[i*3],v=e[i*3+1],_=e[i*3+2],y=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-p)<Math.abs(o-c)?[new nt(o,1-l),new nt(c,1-m),new nt(d,1-_),new nt(y,1-w)]:[new nt(a,1-l),new nt(p,1-m),new nt(v,1-_),new nt(x,1-w)]}};function Wq(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class hg extends ou{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hg(e.radius,e.detail)}}class Kd extends ou{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kd(e.radius,e.detail)}}class dg extends jt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],p=[];let m=e;const d=(t-e)/i,v=new re,_=new nt;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const w=s+x/r*o;v.x=m*Math.cos(w),v.y=m*Math.sin(w),l.push(v.x,v.y,v.z),c.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,p.push(_.x,_.y)}m+=d}for(let y=0;y<i;y++){const x=y*(r+1);for(let w=0;w<r;w++){const S=w+x,M=S,T=S+r+1,A=S+r+2,L=S+1;a.push(M,T,L),a.push(T,A,L)}}this.setIndex(a),this.setAttribute("position",new zt(l,3)),this.setAttribute("normal",new zt(c,3)),this.setAttribute("uv",new zt(p,2))}static fromJSON(e){return new dg(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Jd extends jt{constructor(e=new iu([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let p=0;p<e.length;p++)c(e[p]),this.addGroup(a,l,p),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new zt(i,3)),this.setAttribute("normal",new zt(s,3)),this.setAttribute("uv",new zt(o,2));function c(p){const m=i.length/3,d=p.extractPoints(t);let v=d.shape;const _=d.holes;su.isClockWise(v)===!1&&(v=v.reverse());for(let x=0,w=_.length;x<w;x++){const S=_[x];su.isClockWise(S)===!0&&(_[x]=S.reverse())}const y=su.triangulateShape(v,_);for(let x=0,w=_.length;x<w;x++){const S=_[x];v=v.concat(S)}for(let x=0,w=v.length;x<w;x++){const S=v[x];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,w=y.length;x<w;x++){const S=y[x],M=S[0]+m,T=S[1]+m,A=S[2]+m;r.push(M,T,A),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Vq(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Jd(r,e.curveSegments)}}function Vq(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Qd extends jt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const p=[],m=new re,d=new re,v=[],_=[],y=[],x=[];for(let w=0;w<=r;w++){const S=[],M=w/r;let T=0;w==0&&o==0?T=.5/t:w==r&&l==Math.PI&&(T=-.5/t);for(let A=0;A<=t;A++){const L=A/t;m.x=-e*Math.cos(i+L*s)*Math.sin(o+M*a),m.y=e*Math.cos(o+M*a),m.z=e*Math.sin(i+L*s)*Math.sin(o+M*a),_.push(m.x,m.y,m.z),d.copy(m).normalize(),y.push(d.x,d.y,d.z),x.push(L+T,1-M),S.push(c++)}p.push(S)}for(let w=0;w<r;w++)for(let S=0;S<t;S++){const M=p[w][S+1],T=p[w][S],A=p[w+1][S],L=p[w+1][S+1];(w!==0||o>0)&&v.push(M,T,L),(w!==r-1||l<Math.PI)&&v.push(T,A,L)}this.setIndex(v),this.setAttribute("position",new zt(_,3)),this.setAttribute("normal",new zt(y,3)),this.setAttribute("uv",new zt(x,2))}static fromJSON(e){return new Qd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class pg extends ou{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pg(e.radius,e.detail)}}class mg extends jt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],p=new re,m=new re,d=new re;for(let v=0;v<=r;v++)for(let _=0;_<=i;_++){const y=_/i*s,x=v/r*Math.PI*2;m.x=(e+t*Math.cos(x))*Math.cos(y),m.y=(e+t*Math.cos(x))*Math.sin(y),m.z=t*Math.sin(x),a.push(m.x,m.y,m.z),p.x=e*Math.cos(y),p.y=e*Math.sin(y),d.subVectors(m,p).normalize(),l.push(d.x,d.y,d.z),c.push(_/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let _=1;_<=i;_++){const y=(i+1)*v+_-1,x=(i+1)*(v-1)+_-1,w=(i+1)*(v-1)+_,S=(i+1)*v+_;o.push(y,x,S),o.push(x,w,S)}this.setIndex(o),this.setAttribute("position",new zt(a,3)),this.setAttribute("normal",new zt(l,3)),this.setAttribute("uv",new zt(c,2))}static fromJSON(e){return new mg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gg extends jt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],p=[],m=new re,d=new re,v=new re,_=new re,y=new re,x=new re,w=new re;for(let M=0;M<=r;++M){const T=M/r*s*Math.PI*2;S(T,s,o,e,v),S(T+.01,s,o,e,_),x.subVectors(_,v),w.addVectors(_,v),y.crossVectors(x,w),w.crossVectors(y,x),y.normalize(),w.normalize();for(let A=0;A<=i;++A){const L=A/i*Math.PI*2,z=-t*Math.cos(L),C=t*Math.sin(L);m.x=v.x+(z*w.x+C*y.x),m.y=v.y+(z*w.y+C*y.y),m.z=v.z+(z*w.z+C*y.z),l.push(m.x,m.y,m.z),d.subVectors(m,v).normalize(),c.push(d.x,d.y,d.z),p.push(M/r),p.push(A/i)}}for(let M=1;M<=r;M++)for(let T=1;T<=i;T++){const A=(i+1)*(M-1)+(T-1),L=(i+1)*M+(T-1),z=(i+1)*M+T,C=(i+1)*(M-1)+T;a.push(A,L,C),a.push(L,z,C)}this.setIndex(a),this.setAttribute("position",new zt(l,3)),this.setAttribute("normal",new zt(c,3)),this.setAttribute("uv",new zt(p,2));function S(M,T,A,L,z){const C=Math.cos(M),F=Math.sin(M),H=A/T*M,q=Math.cos(H);z.x=L*(2+q)*.5*C,z.y=L*(2+q)*F*.5,z.z=L*Math.sin(H)*.5}}static fromJSON(e){return new gg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class vg extends jt{constructor(e=new zx(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new re,l=new re,c=new nt;let p=new re;const m=[],d=[],v=[],_=[];y(),this.setIndex(_),this.setAttribute("position",new zt(m,3)),this.setAttribute("normal",new zt(d,3)),this.setAttribute("uv",new zt(v,2));function y(){for(let M=0;M<t;M++)x(M);x(s===!1?t:0),S(),w()}function x(M){p=e.getPointAt(M/t,p);const T=o.normals[M],A=o.binormals[M];for(let L=0;L<=i;L++){const z=L/i*Math.PI*2,C=Math.sin(z),F=-Math.cos(z);l.x=F*T.x+C*A.x,l.y=F*T.y+C*A.y,l.z=F*T.z+C*A.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=p.x+r*l.x,a.y=p.y+r*l.y,a.z=p.z+r*l.z,m.push(a.x,a.y,a.z)}}function w(){for(let M=1;M<=t;M++)for(let T=1;T<=i;T++){const A=(i+1)*(M-1)+(T-1),L=(i+1)*M+(T-1),z=(i+1)*M+T,C=(i+1)*(M-1)+T;_.push(A,L,C),_.push(L,z,C)}}function S(){for(let M=0;M<=t;M++)for(let T=0;T<=i;T++)c.x=M/t,c.y=T/i,v.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new vg(new HM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class VM extends jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new re,s=new re;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,p=l.length;c<p;++c){const m=l[c],d=m.start,v=m.count;for(let _=d,y=d+v;_<y;_+=3)for(let x=0;x<3;x++){const w=a.getX(_+x),S=a.getX(_+(x+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,S),TR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const p=3*a+c,m=3*a+(c+1)%3;i.fromBufferAttribute(o,p),s.fromBufferAttribute(o,m),TR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new zt(t,3))}}}function TR(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var AR=Object.freeze({__proto__:null,BoxGeometry:Ec,BoxBufferGeometry:Ec,CapsuleGeometry:lg,CapsuleBufferGeometry:lg,CircleGeometry:ug,CircleBufferGeometry:ug,ConeGeometry:cg,ConeBufferGeometry:cg,CylinderGeometry:fh,CylinderBufferGeometry:fh,DodecahedronGeometry:fg,DodecahedronBufferGeometry:fg,EdgesGeometry:WM,ExtrudeGeometry:au,ExtrudeBufferGeometry:au,IcosahedronGeometry:hg,IcosahedronBufferGeometry:hg,LatheGeometry:Zd,LatheBufferGeometry:Zd,OctahedronGeometry:Kd,OctahedronBufferGeometry:Kd,PlaneGeometry:Yd,PlaneBufferGeometry:Yd,PolyhedronGeometry:ou,PolyhedronBufferGeometry:ou,RingGeometry:dg,RingBufferGeometry:dg,ShapeGeometry:Jd,ShapeBufferGeometry:Jd,SphereGeometry:Qd,SphereBufferGeometry:Qd,TetrahedronGeometry:pg,TetrahedronBufferGeometry:pg,TorusGeometry:mg,TorusBufferGeometry:mg,TorusKnotGeometry:gg,TorusKnotBufferGeometry:gg,TubeGeometry:vg,TubeBufferGeometry:vg,WireframeGeometry:VM});class GM extends vi{constructor(e){super(),this.type="ShadowMaterial",this.color=new St(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}GM.prototype.isShadowMaterial=!0;class $M extends va{constructor(e){super(e),this.type="RawShaderMaterial"}}$M.prototype.isRawShaderMaterial=!0;class Bx extends vi{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new St(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=op,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}Bx.prototype.isMeshStandardMaterial=!0;class jM extends Bx{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return di(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new St(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new St(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new St(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}jM.prototype.isMeshPhysicalMaterial=!0;class qM extends vi{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new St(16777215),this.specular=new St(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=op,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}qM.prototype.isMeshPhongMaterial=!0;class YM extends vi{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new St(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=op,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}YM.prototype.isMeshToonMaterial=!0;class XM extends vi{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=op,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}XM.prototype.isMeshNormalMaterial=!0;class ZM extends vi{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}ZM.prototype.isMeshLambertMaterial=!0;class KM extends vi{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new St(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=op,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}KM.prototype.isMeshMatcapMaterial=!0;class JM extends mi{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}JM.prototype.isLineDashedMaterial=!0;const Gq={ShadowMaterial:GM,SpriteMaterial:Rx,RawShaderMaterial:$M,ShaderMaterial:va,PointsMaterial:lp,MeshPhysicalMaterial:jM,MeshStandardMaterial:Bx,MeshPhongMaterial:qM,MeshToonMaterial:YM,MeshNormalMaterial:XM,MeshLambertMaterial:ZM,MeshDepthMaterial:Ax,MeshDistanceMaterial:Cx,MeshBasicMaterial:kc,MeshMatcapMaterial:KM,LineDashedMaterial:JM,LineBasicMaterial:mi,Material:vi};vi.fromType=function(n){return new Gq[n]};const Pr={arraySlice:function(n,e,t){return Pr.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],p=c.getValueSize(),m=[],d=[];for(let v=0;v<c.times.length;++v){const _=c.times[v]*i;if(!(_<t||_>=r)){m.push(c.times[v]);for(let y=0;y<p;++y)d.push(c.values[v*p+y])}}m.length!==0&&(c.times=Pr.convertArray(m,c.times.constructor),c.values=Pr.convertArray(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(c===void 0)continue;let p=0;const m=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);let d=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=v/3);const _=a.times.length-1;let y;if(s<=a.times[0]){const w=p,S=m-p;y=Pr.arraySlice(a.values,w,S)}else if(s>=a.times[_]){const w=_*m+p,S=w+m-p;y=Pr.arraySlice(a.values,w,S)}else{const w=a.createInterpolant(),S=p,M=m-p;w.evaluate(s),y=Pr.arraySlice(w.resultBuffer,S,M)}l==="quaternion"&&new Yi().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let w=0;w<x;++w){const S=w*v+d;if(l==="quaternion")Yi.multiplyQuaternionsFlat(c.values,S,y,0,c.values,S);else{const M=v-d*2;for(let T=0;T<M;++T)c.values[S+T]-=y[T]}}}return n.blendMode=RM,n}};class Mc{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Mc.prototype.beforeStart_=Mc.prototype.copySampleValue_;Mc.prototype.afterEnd_=Mc.prototype.copySampleValue_;class qO extends Mc{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Td,endingEnd:Td}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ad:s=e,a=2*t-r;break;case gv:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ad:o=e,l=2*r-t;break;case gv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,p=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*p,this._offsetNext=o*p}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,p=this._offsetPrev,m=this._offsetNext,d=this._weightPrev,v=this._weightNext,_=(r-t)/(i-t),y=_*_,x=y*_,w=-d*x+2*d*y-d*_,S=(1+d)*x+(-1.5-2*d)*y+(-.5+d)*_+1,M=(-1-v)*x+(1.5+v)*y+.5*_,T=v*x-v*y;for(let A=0;A!==a;++A)s[A]=w*o[p+A]+S*o[c+A]+M*o[l+A]+T*o[m+A];return s}}class QM extends Mc{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,p=(r-t)/(i-t),m=1-p;for(let d=0;d!==a;++d)s[d]=o[c+d]*m+o[l+d]*p;return s}}class YO extends Mc{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class wl{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pr.convertArray(t,this.TimeBufferType),this.values=Pr.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Pr.convertArray(e.times,Array),values:Pr.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new YO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new QM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case pv:t=this.InterpolantFactoryMethodDiscrete;break;case mv:t=this.InterpolantFactoryMethodLinear;break;case e1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return pv;case this.InterpolantFactoryMethodLinear:return mv;case this.InterpolantFactoryMethodSmooth:return e1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Pr.arraySlice(r,s,o),this.values=Pr.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Pr.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Pr.arraySlice(this.times),t=Pr.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===e1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],p=e[a+1];if(c!==p&&(a!==1||c!==e[0]))if(i)l=!0;else{const m=a*r,d=m-r,v=m+r;for(let _=0;_!==r;++_){const y=t[m+_];if(y!==t[d+_]||y!==t[v+_]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const m=a*r,d=o*r;for(let v=0;v!==r;++v)t[d+v]=t[m+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Pr.arraySlice(e,0,o),this.values=Pr.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Pr.arraySlice(this.times,0),t=Pr.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}wl.prototype.TimeBufferType=Float32Array;wl.prototype.ValueBufferType=Float32Array;wl.prototype.DefaultInterpolation=mv;class up extends wl{}up.prototype.ValueTypeName="bool";up.prototype.ValueBufferType=Array;up.prototype.DefaultInterpolation=pv;up.prototype.InterpolantFactoryMethodLinear=void 0;up.prototype.InterpolantFactoryMethodSmooth=void 0;class eT extends wl{}eT.prototype.ValueTypeName="color";class bv extends wl{}bv.prototype.ValueTypeName="number";class XO extends Mc{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let p=c+a;c!==p;c+=4)Yi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Cg extends wl{InterpolantFactoryMethodLinear(e){return new XO(this.times,this.values,this.getValueSize(),e)}}Cg.prototype.ValueTypeName="quaternion";Cg.prototype.DefaultInterpolation=mv;Cg.prototype.InterpolantFactoryMethodSmooth=void 0;class cp extends wl{}cp.prototype.ValueTypeName="string";cp.prototype.ValueBufferType=Array;cp.prototype.DefaultInterpolation=pv;cp.prototype.InterpolantFactoryMethodLinear=void 0;cp.prototype.InterpolantFactoryMethodSmooth=void 0;class Sv extends wl{}Sv.prototype.ValueTypeName="vector";class Ev{constructor(e,t=-1,r,i=wx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=$o(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(jq(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(wl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const p=Pr.getKeyframeOrder(l);l=Pr.sortedArray(l,1,p),c=Pr.sortedArray(c,1,p),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new bv(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],p=c.name.match(s);if(p&&p.length>1){const m=p[1];let d=i[m];d||(i[m]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(m,d,v,_,y){if(v.length!==0){const x=[],w=[];Pr.flattenJSON(v,x,w,_),x.length!==0&&y.push(new m(d,x,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let m=0;m<c.length;m++){const d=c[m].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const v={};let _;for(_=0;_<d.length;_++)if(d[_].morphTargets)for(let y=0;y<d[_].morphTargets.length;y++)v[d[_].morphTargets[y]]=-1;for(const y in v){const x=[],w=[];for(let S=0;S!==d[_].morphTargets.length;++S){const M=d[_];x.push(M.time),w.push(M.morphTarget===y?1:0)}i.push(new bv(".morphTargetInfluence["+y+"]",x,w))}l=v.length*o}else{const v=".bones["+t[m].name+"]";r(Sv,v+".position",d,"pos",i),r(Cg,v+".quaternion",d,"rot",i),r(Sv,v+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function $q(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bv;case"vector":case"vector2":case"vector3":case"vector4":return Sv;case"color":return eT;case"quaternion":return Cg;case"bool":case"boolean":return up;case"string":return cp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function jq(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=$q(n.type);if(n.times===void 0){const t=[],r=[];Pr.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ep={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class tT{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(p){a++,s===!1&&i.onStart!==void 0&&i.onStart(p,o,a),s=!0},this.itemEnd=function(p){o++,i.onProgress!==void 0&&i.onProgress(p,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(p){i.onError!==void 0&&i.onError(p)},this.resolveURL=function(p){return l?l(p):p},this.setURLModifier=function(p){return l=p,this},this.addHandler=function(p,m){return c.push(p,m),this},this.removeHandler=function(p){const m=c.indexOf(p);return m!==-1&&c.splice(m,2),this},this.getHandler=function(p){for(let m=0,d=c.length;m<d;m+=2){const v=c[m],_=c[m+1];if(v.global&&(v.lastIndex=0),v.test(p))return _}return null}}}const ZO=new tT;class Zs{constructor(e){this.manager=e!==void 0?e:ZO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ac={};class lu extends Zs{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ep.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ac[e]!==void 0){ac[e].push({onLoad:t,onProgress:r,onError:i});return}ac[e]=[],ac[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body===void 0||c.body.getReader===void 0)return c;const p=ac[e],m=c.body.getReader(),d=c.headers.get("Content-Length"),v=d?parseInt(d):0,_=v!==0;let y=0;const x=new ReadableStream({start(w){S();function S(){m.read().then(({done:M,value:T})=>{if(M)w.close();else{y+=T.byteLength;const A=new ProgressEvent("progress",{lengthComputable:_,loaded:y,total:v});for(let L=0,z=p.length;L<z;L++){const C=p[L];C.onProgress&&C.onProgress(A)}w.enqueue(T),S()}})}}});return new Response(x)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(p=>new DOMParser().parseFromString(p,a));case"json":return c.json();default:if(a===void 0)return c.text();{const m=/charset="?([^;"\s]*)"?/i.exec(a),d=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(d);return c.arrayBuffer().then(_=>v.decode(_))}}}).then(c=>{ep.add(e,c);const p=ac[e];delete ac[e];for(let m=0,d=p.length;m<d;m++){const v=p[m];v.onLoad&&v.onLoad(c)}}).catch(c=>{const p=ac[e];if(p===void 0)throw this.manager.itemError(e),c;delete ac[e];for(let m=0,d=p.length;m<d;m++){const v=p[m];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class qq extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Ev.parse(e[r]);t.push(i)}return t}}class Yq extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new zM,l=new lu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function p(m){l.load(e[m],function(d){const v=s.parse(d,!0);o[m]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=hi),a.image=o,a.format=v.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let m=0,d=e.length;m<d;++m)p(m);else l.load(e,function(m){const d=s.parse(m,!0);if(d.isCubemap){const v=d.mipmaps.length/d.mipmapCount;for(let _=0;_<v;_++){o[_]={mipmaps:[]};for(let y=0;y<d.mipmapCount;y++)o[_].mipmaps.push(d.mipmaps[_*d.mipmapCount+y]),o[_].format=d.format,o[_].width=d.width,o[_].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=hi),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Mv extends Zs{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ep.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=yv("img");function l(){p(),ep.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(m){p(),i&&i(m),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class KO extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=new Mg,o=new Mv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(p){s.images[c]=p,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class JO extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new zd,a=new lu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Hs,o.wrapT=c.wrapT!==void 0?c.wrapT:Hs,o.magFilter=c.magFilter!==void 0?c.magFilter:hi,o.minFilter=c.minFilter!==void 0?c.minFilter:hi,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=sp),c.mipmapCount===1&&(o.minFilter=hi),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class QO extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=new gi,o=new Mv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class yl extends kn{constructor(e,t=1){super(),this.type="Light",this.color=new St(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}yl.prototype.isLight=!0;class nT extends yl{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(kn.DefaultUp),this.updateMatrix(),this.groundColor=new St(t)}copy(e){return yl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}nT.prototype.isHemisphereLight=!0;const CR=new Et,RR=new re,PR=new re;class rT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Et,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vv,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new tr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;RR.setFromMatrixPosition(e.matrixWorld),t.position.copy(RR),PR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(PR),t.updateMatrixWorld(),CR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CR),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ez extends rT{constructor(){super(new Oi(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=vv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}ez.prototype.isSpotLightShadow=!0;class iT extends yl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(kn.DefaultUp),this.updateMatrix(),this.target=new kn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new ez}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}iT.prototype.isSpotLight=!0;const IR=new Et,m0=new re,zb=new re;class tz extends rT{constructor(){super(new Oi(90,1,.5,500)),this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new tr(2,1,1,1),new tr(0,1,1,1),new tr(3,1,1,1),new tr(1,1,1,1),new tr(3,0,1,1),new tr(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),m0.setFromMatrixPosition(e.matrixWorld),r.position.copy(m0),zb.copy(r.position),zb.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(zb),r.updateMatrixWorld(),i.makeTranslation(-m0.x,-m0.y,-m0.z),IR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IR)}}tz.prototype.isPointLightShadow=!0;class sT extends yl{constructor(e,t,r=0,i=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new tz}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}sT.prototype.isPointLight=!0;class nz extends rT{constructor(){super(new Tg(-5,5,5,-5,.5,500))}}nz.prototype.isDirectionalLightShadow=!0;class oT extends yl{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(kn.DefaultUp),this.updateMatrix(),this.target=new kn,this.shadow=new nz}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}oT.prototype.isDirectionalLight=!0;class aT extends yl{constructor(e,t){super(e,t),this.type="AmbientLight"}}aT.prototype.isAmbientLight=!0;class lT extends yl{constructor(e,t,r=10,i=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}lT.prototype.isRectAreaLight=!0;class uT{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}uT.prototype.isSphericalHarmonics3=!0;class Xv extends yl{constructor(e=new uT,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Xv.prototype.isLightProbe=!0;class rz extends Zs{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new lu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=vi.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new St().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new St().setHex(o.value);break;case"v2":i.uniforms[s].value=new nt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new re().fromArray(o.value);break;case"v4":i.uniforms[s].value=new tr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Fi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Et().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new nt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new nt().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class z1{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class cT extends jt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}cT.prototype.isInstancedBufferGeometry=!0;class iz extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,_){if(t[_]!==void 0)return t[_];const x=v.interleavedBuffers[_],w=s(v,x.buffer),S=Lm(x.type,w),M=new ap(S,x.stride);return M.uuid=x.uuid,t[_]=M,M}function s(v,_){if(r[_]!==void 0)return r[_];const x=v.arrayBuffers[_],w=new Uint32Array(x).buffer;return r[_]=w,w}const o=e.isInstancedBufferGeometry?new cT:new jt,a=e.data.index;if(a!==void 0){const v=Lm(a.type,a.array);o.setIndex(new Vn(v,1))}const l=e.data.attributes;for(const v in l){const _=l[v];let y;if(_.isInterleavedBufferAttribute){const x=i(e.data,_.data);y=new ch(x,_.itemSize,_.offset,_.normalized)}else{const x=Lm(_.type,_.array),w=_.isInstancedBufferAttribute?Xd:Vn;y=new w(x,_.itemSize,_.normalized)}_.name!==void 0&&(y.name=_.name),_.usage!==void 0&&y.setUsage(_.usage),_.updateRange!==void 0&&(y.updateRange.offset=_.updateRange.offset,y.updateRange.count=_.updateRange.count),o.setAttribute(v,y)}const c=e.data.morphAttributes;if(c)for(const v in c){const _=c[v],y=[];for(let x=0,w=_.length;x<w;x++){const S=_[x];let M;if(S.isInterleavedBufferAttribute){const T=i(e.data,S.data);M=new ch(T,S.itemSize,S.offset,S.normalized)}else{const T=Lm(S.type,S.array);M=new Vn(T,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),y.push(M)}o.morphAttributes[v]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let v=0,_=m.length;v!==_;++v){const y=m[v];o.addGroup(y.start,y.count,y.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const v=new re;d.center!==void 0&&v.fromArray(d.center),o.boundingSphere=new Lc(v,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Xq extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?z1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new lu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const p=c.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?z1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new lu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),p=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,p),t!==void 0){let m=!1;for(const d in o)if(o[d]instanceof HTMLImageElement){m=!0;break}m===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new iu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new kx().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new iz;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in AR?a=AR[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new rz;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const c=[];for(let p=0;p<l.materials.length;p++){const m=l.materials[p];r[m.uuid]===void 0&&(r[m.uuid]=s.parse(m)),c.push(r[m.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Ev.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(p)}else return l.data?{data:Lm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new tT(t);s=new Mv(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,p=e.length;c<p;c++){const m=e[c],d=m.url;if(Array.isArray(d)){const v=[];for(let _=0,y=d.length;_<y;_++){const x=d[_],w=a(x);w!==null&&(w instanceof HTMLImageElement?v.push(w):v.push(new zd(w.data,w.width,w.height)))}i[m.uuid]=new Wf(v)}else{const v=a(m.url);i[m.uuid]=new Wf(v)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Lm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Mv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const p=[];for(let m=0,d=c.length;m<d;m++){const v=c[m],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new zd(_.data,_.width,_.height)))}r[l.uuid]=new Wf(p)}else{const p=await s(l.url);r[l.uuid]=new Wf(p)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let p;Array.isArray(c)?(p=new Mg,c.length===6&&(p.needsUpdate=!0)):(c&&c.data?p=new zd:p=new gi,c&&(p.needsUpdate=!0)),p.source=l,p.uuid=a.uuid,a.name!==void 0&&(p.name=a.name),a.mapping!==void 0&&(p.mapping=r(a.mapping,Zq)),a.offset!==void 0&&p.offset.fromArray(a.offset),a.repeat!==void 0&&p.repeat.fromArray(a.repeat),a.center!==void 0&&p.center.fromArray(a.center),a.rotation!==void 0&&(p.rotation=a.rotation),a.wrap!==void 0&&(p.wrapS=r(a.wrap[0],LR),p.wrapT=r(a.wrap[1],LR)),a.format!==void 0&&(p.format=a.format),a.type!==void 0&&(p.type=a.type),a.encoding!==void 0&&(p.encoding=a.encoding),a.minFilter!==void 0&&(p.minFilter=r(a.minFilter,kR)),a.magFilter!==void 0&&(p.magFilter=r(a.magFilter,kR)),a.anisotropy!==void 0&&(p.anisotropy=a.anisotropy),a.flipY!==void 0&&(p.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(p.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(p.userData=a.userData),i[a.uuid]=p}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const v=[];for(let _=0,y=d.length;_<y;_++){const x=d[_];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),v.push(r[x])}return v}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let p,m;switch(e.type){case"Scene":o=new jv,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new St(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new $v(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Gv(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Oi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Tg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new aT(e.color,e.intensity);break;case"DirectionalLight":o=new oT(e.color,e.intensity);break;case"PointLight":o=new sT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new lT(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new iT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new nT(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Xv().fromJSON(e);break;case"SkinnedMesh":p=a(e.geometry),m=l(e.material),o=new Ix(p,m),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":p=a(e.geometry),m=l(e.material),o=new Ci(p,m);break;case"InstancedMesh":p=a(e.geometry),m=l(e.material);const d=e.count,v=e.instanceMatrix,_=e.instanceColor;o=new DM(p,m,d),o.instanceMatrix=new Xd(new Float32Array(v.array),16),_!==void 0&&(o.instanceColor=new Xd(new Float32Array(_.array),_.itemSize));break;case"LOD":o=new NO;break;case"Line":o=new pa(a(e.geometry),l(e.material));break;case"LineLoop":o=new OM(a(e.geometry),l(e.material));break;case"LineSegments":o=new _o(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new qv(a(e.geometry),l(e.material));break;case"Sprite":o=new Px(l(e.material));break;case"Group":o=new Vf;break;case"Bone":o=new Lx;break;default:o=new kn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let v=0;v<d.length;v++)o.add(this.parseObject(d[v],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let v=0;v<d.length;v++){const _=d[v];o.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let v=0;v<d.length;v++){const _=d[v],y=o.getObjectByProperty("uuid",_.object);y!==void 0&&o.addLevel(y,_.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const Zq={UVMapping:xx,CubeReflectionMapping:ah,CubeRefractionMapping:lh,EquirectangularReflectionMapping:cv,EquirectangularRefractionMapping:fv,CubeUVReflectionMapping:Sg},LR={RepeatWrapping:hv,ClampToEdgeWrapping:Hs,MirroredRepeatWrapping:dv},kR={NearestFilter:Mi,NearestMipmapNearestFilter:L1,NearestMipmapLinearFilter:k1,LinearFilter:hi,LinearMipmapNearestFilter:CM,LinearMipmapLinearFilter:sp};class sz extends Zs{constructor(e){super(e),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ep.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ep.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}sz.prototype.isImageBitmapLoader=!0;let b_;const fT={getContext:function(){return b_===void 0&&(b_=new(window.AudioContext||window.webkitAudioContext)),b_},setContext:function(n){b_=n}};class oz extends Zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);fT.getContext().decodeAudioData(l,function(p){t(p)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class az extends Xv{constructor(e,t,r=1){super(void 0,r);const i=new St().set(e),s=new St().set(t),o=new re(i.r,i.g,i.b),a=new re(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}az.prototype.isHemisphereLightProbe=!0;class lz extends Xv{constructor(e,t=1){super(void 0,t);const r=new St().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}lz.prototype.isAmbientLightProbe=!0;const DR=new Et,OR=new Et,fd=new Et;class Kq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Oi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Oi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,fd.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(kd*t.fov*.5)/t.zoom;let a,l;OR.elements[12]=-i,DR.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,fd.elements[0]=2*t.near/(l-a),fd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(fd),a=-o*t.aspect-s,l=o*t.aspect-s,fd.elements[0]=2*t.near/(l-a),fd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(fd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(OR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(DR)}}class hT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=zR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=zR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function zR(){return(typeof performance=="undefined"?Date:performance).now()}const hd=new re,FR=new Yi,Jq=new re,dd=new re;class Qq extends kn{constructor(){super(),this.type="AudioListener",this.context=fT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new hT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hd,FR,Jq),dd.set(0,0,-1).applyQuaternion(FR),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hd.x,i),t.positionY.linearRampToValueAtTime(hd.y,i),t.positionZ.linearRampToValueAtTime(hd.z,i),t.forwardX.linearRampToValueAtTime(dd.x,i),t.forwardY.linearRampToValueAtTime(dd.y,i),t.forwardZ.linearRampToValueAtTime(dd.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(hd.x,hd.y,hd.z),t.setOrientation(dd.x,dd.y,dd.z,r.x,r.y,r.z)}}class dT extends kn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const pd=new re,NR=new Yi,eY=new re,md=new re;class tY extends dT{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(pd,NR,eY),md.set(0,0,1).applyQuaternion(NR);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(pd.x,r),t.positionY.linearRampToValueAtTime(pd.y,r),t.positionZ.linearRampToValueAtTime(pd.z,r),t.orientationX.linearRampToValueAtTime(md.x,r),t.orientationY.linearRampToValueAtTime(md.y,r),t.orientationZ.linearRampToValueAtTime(md.z,r)}else t.setPosition(pd.x,pd.y,pd.z),t.setOrientation(md.x,md.y,md.z)}}class uz{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class cz{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Yi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Yi.multiplyQuaternionsFlat(e,o,e,t,e,r),Yi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const pT="\\[\\]\\.:\\/",nY=new RegExp("["+pT+"]","g"),mT="[^"+pT+"]",rY="[^"+pT.replace("\\.","")+"]",iY=/((?:WC+[\/:])*)/.source.replace("WC",mT),sY=/(WCOD+)?/.source.replace("WCOD",rY),oY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mT),aY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mT),lY=new RegExp("^"+iY+sY+oY+aY+"$"),uY=["material","materials","bones"];class cY{constructor(e,t,r){const i=r||qn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class qn{constructor(e,t,r){this.path=t,this.parsedPath=r||qn.parseTrackName(t),this.node=qn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new qn.Composite(e,t,r):new qn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(nY,"")}static parseTrackName(e){const t=lY.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);uY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=qn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===c){c=p;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qn.Composite=cY;qn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qn.prototype.GetterByBindingType=[qn.prototype._getValue_direct,qn.prototype._getValue_array,qn.prototype._getValue_arrayElement,qn.prototype._getValue_toArray];qn.prototype.SetterByBindingTypeAndVersioning=[[qn.prototype._setValue_direct,qn.prototype._setValue_direct_setNeedsUpdate,qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_array,qn.prototype._setValue_array_setNeedsUpdate,qn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_arrayElement,qn.prototype._setValue_arrayElement_setNeedsUpdate,qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_fromArray,qn.prototype._setValue_fromArray_setNeedsUpdate,qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class fz{constructor(){this.uuid=$o(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let p=0,m=arguments.length;p!==m;++p){const d=arguments[p],v=d.uuid;let _=t[v];if(_===void 0){_=l++,t[v]=_,e.push(d);for(let y=0,x=o;y!==x;++y)s[y].push(new qn(d,r[y],i[y]))}else if(_<c){a=e[_];const y=--c,x=e[y];t[x.uuid]=_,e[_]=x,t[v]=y,e[y]=d;for(let w=0,S=o;w!==S;++w){const M=s[w],T=M[y];let A=M[_];M[_]=T,A===void 0&&(A=new qn(d,r[w],i[w])),M[y]=A}}else e[_]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,p=t[c];if(p!==void 0&&p>=s){const m=s++,d=e[m];t[d.uuid]=p,e[p]=d,t[c]=m,e[m]=l;for(let v=0,_=i;v!==_;++v){const y=r[v],x=y[m],w=y[p];y[p]=x,y[m]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],p=c.uuid,m=t[p];if(m!==void 0)if(delete t[p],m<s){const d=--s,v=e[d],_=--o,y=e[_];t[v.uuid]=m,e[m]=v,t[y.uuid]=d,e[d]=y,e.pop();for(let x=0,w=i;x!==w;++x){const S=r[x],M=S[d],T=S[_];S[m]=M,S[d]=T,S.pop()}}else{const d=--o,v=e[d];d>0&&(t[v.uuid]=m),e[m]=v,e.pop();for(let _=0,y=i;_!==y;++_){const x=r[_];x[m]=x[d],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,p=this.nCachedObjects_,m=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(m);for(let d=p,v=l.length;d!==v;++d){const _=l[d];m[d]=new qn(_,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}fz.prototype.isAnimationObjectGroup=!0;class fY{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Td,endingEnd:Td};for(let c=0;c!==o;++c){const p=s[c].createInterpolant(null);a[c]=p,p.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=oO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case RM:for(let p=0,m=l.length;p!==m;++p)l[p].evaluate(o),c[p].accumulateAdditive(a);break;case wx:default:for(let p=0,m=l.length;p!==m;++p)l[p].evaluate(o),c[p].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===aO;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===sO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ad,i.endingEnd=Ad):(e?i.endingStart=this.zeroSlopeAtStart?Ad:Td:i.endingStart=gv,t?i.endingEnd=this.zeroSlopeAtEnd?Ad:Td:i.endingEnd=gv)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}class hz extends Ic{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let p=c[l];p===void 0&&(p={},c[l]=p);for(let m=0;m!==s;++m){const d=i[m],v=d.name;let _=p[v];if(_!==void 0)++_.referenceCount,o[m]=_;else{if(_=o[m],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,v));continue}const y=t&&t._propertyBindings[m].binding.parsedPath;_=new cz(qn.create(r,v,y),d.ValueTypeName,d.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,v),o[m]=_}a[m].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],p=e._byClipCacheIndex;c._byClipCacheIndex=p,l[p]=c,l.pop(),e._byClipCacheIndex=null;const m=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete m[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new QM(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Ev.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=wx),l!==void 0){const m=l.actionByRoot[s];if(m!==void 0&&m.blendMode===r)return m;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const p=new fY(this,o,t,r);return this._bindAction(p,c),this._addInactiveAction(p,a,s),p}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Ev.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const p=c._cacheIndex,m=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,m._cacheIndex=p,t[p]=m,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}hz.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Ux{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Ux(this.value.clone===void 0?this.value:this.value.clone())}}class dz extends ap{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}dz.prototype.isInstancedInterleavedBuffer=!0;class pz{constructor(e,t,r,i,s){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}pz.prototype.isGLBufferAttribute=!0;class gT{constructor(e,t,r=0,i=1/0){this.ray=new _h(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Od,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return NE(e,this,r,t),r.sort(BR),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)NE(e[i],this,r,t);return r.sort(BR),r}}function BR(n,e){return n.distance-e.distance}function NE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)NE(i[s],e,t,!0)}}class hY{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(di(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class dY{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const UR=new nt;class Rg{constructor(e=new nt(1/0,1/0),t=new nt(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=UR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return UR.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Rg.prototype.isBox2=!0;const HR=new re,S_=new re;class mz{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){HR.subVectors(e,this.start),S_.subVectors(this.end,this.start);const r=S_.dot(S_);let s=S_.dot(HR)/r;return t&&(s=di(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const WR=new re;class pY extends kn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,p=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(p),Math.sin(p),1)}r.setAttribute("position",new zt(i,3));const s=new mi({fog:!1,toneMapped:!1});this.cone=new _o(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),WR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(WR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const kf=new re,E_=new Et,Fb=new Et;class gz extends _o{constructor(e){const t=vz(e),r=new jt,i=[],s=[],o=new St(0,0,1),a=new St(0,1,0);for(let c=0;c<t.length;c++){const p=t[c];p.parent&&p.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new zt(i,3)),r.setAttribute("color",new zt(s,3));const l=new mi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");Fb.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(E_.multiplyMatrices(Fb,a.matrixWorld),kf.setFromMatrixPosition(E_),i.setXYZ(o,kf.x,kf.y,kf.z),E_.multiplyMatrices(Fb,a.parent.matrixWorld),kf.setFromMatrixPosition(E_),i.setXYZ(o+1,kf.x,kf.y,kf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function vz(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,vz(n.children[t]));return e}class mY extends Ci{constructor(e,t,r){const i=new Qd(t,4,2),s=new kc({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const gY=new re,VR=new St,GR=new St;class vY extends kn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Kd(t);i.rotateY(Math.PI*.5),this.material=new kc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Vn(o,3)),this.add(new Ci(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");VR.copy(this.light.color),GR.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?VR:GR;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(gY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vT extends _o{constructor(e=10,t=10,r=4473924,i=8947848){r=new St(r),i=new St(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,v=0,_=-a;d<=t;d++,_+=o){l.push(-a,0,_,a,0,_),l.push(_,0,-a,_,0,a);const y=d===s?r:i;y.toArray(c,v),v+=3,y.toArray(c,v),v+=3,y.toArray(c,v),v+=3,y.toArray(c,v),v+=3}const p=new jt;p.setAttribute("position",new zt(l,3)),p.setAttribute("color",new zt(c,3));const m=new mi({vertexColors:!0,toneMapped:!1});super(p,m),this.type="GridHelper"}}class yY extends _o{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new St(s),o=new St(o);const a=[],l=[];for(let m=0;m<=t;m++){const d=m/t*(Math.PI*2),v=Math.sin(d)*e,_=Math.cos(d)*e;a.push(0,0,0),a.push(v,0,_);const y=m&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let m=0;m<=r;m++){const d=m&1?s:o,v=e-e/r*m;for(let _=0;_<i;_++){let y=_/i*(Math.PI*2),x=Math.sin(y)*v,w=Math.cos(y)*v;a.push(x,0,w),l.push(d.r,d.g,d.b),y=(_+1)/i*(Math.PI*2),x=Math.sin(y)*v,w=Math.cos(y)*v,a.push(x,0,w),l.push(d.r,d.g,d.b)}}const c=new jt;c.setAttribute("position",new zt(a,3)),c.setAttribute("color",new zt(l,3));const p=new mi({vertexColors:!0,toneMapped:!1});super(c,p),this.type="PolarGridHelper"}}const $R=new re,M_=new re,jR=new re;class _Y extends kn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new jt;i.setAttribute("position",new zt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new mi({fog:!1,toneMapped:!1});this.lightPlane=new pa(i,s),this.add(this.lightPlane),i=new jt,i.setAttribute("position",new zt([0,0,0,0,0,1],3)),this.targetLine=new pa(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){$R.setFromMatrixPosition(this.light.matrixWorld),M_.setFromMatrixPosition(this.light.target.matrixWorld),jR.subVectors(M_,$R),this.lightPlane.lookAt(M_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(M_),this.targetLine.scale.z=jR.length()}}const T_=new re,ei=new qd;class xY extends _o{constructor(e){const t=new jt,r=new mi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new St(16755200),l=new St(16711680),c=new St(43775),p=new St(16777215),m=new St(3355443);d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",l),d("p","n2",l),d("p","n3",l),d("p","n4",l),d("u1","u2",c),d("u2","u3",c),d("u3","u1",c),d("c","t",p),d("p","c",m),d("cn1","cn2",m),d("cn3","cn4",m),d("cf1","cf2",m),d("cf3","cf4",m);function d(_,y,x){v(_,x),v(y,x)}function v(_,y){i.push(0,0,0),s.push(y.r,y.g,y.b),o[_]===void 0&&(o[_]=[]),o[_].push(i.length/3-1)}t.setAttribute("position",new zt(i,3)),t.setAttribute("color",new zt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;ei.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ci("c",t,e,ei,0,0,-1),ci("t",t,e,ei,0,0,1),ci("n1",t,e,ei,-r,-i,-1),ci("n2",t,e,ei,r,-i,-1),ci("n3",t,e,ei,-r,i,-1),ci("n4",t,e,ei,r,i,-1),ci("f1",t,e,ei,-r,-i,1),ci("f2",t,e,ei,r,-i,1),ci("f3",t,e,ei,-r,i,1),ci("f4",t,e,ei,r,i,1),ci("u1",t,e,ei,r*.7,i*1.1,-1),ci("u2",t,e,ei,-r*.7,i*1.1,-1),ci("u3",t,e,ei,0,i*2,-1),ci("cf1",t,e,ei,-r,0,1),ci("cf2",t,e,ei,r,0,1),ci("cf3",t,e,ei,0,-i,1),ci("cf4",t,e,ei,0,i,1),ci("cn1",t,e,ei,-r,0,-1),ci("cn2",t,e,ei,r,0,-1),ci("cn3",t,e,ei,0,-i,-1),ci("cn4",t,e,ei,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ci(n,e,t,r,i,s,o){T_.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,p=a.length;c<p;c++)l.setXYZ(a[c],T_.x,T_.y,T_.z)}}const A_=new wo;class yz extends _o{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new jt;s.setIndex(new Vn(r,1)),s.setAttribute("position",new Vn(i,3)),super(s,new mi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&A_.setFromObject(this.object),A_.isEmpty())return;const t=A_.min,r=A_.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return _o.prototype.copy.call(this,e),this.object=e.object,this}}class wY extends _o{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new jt;s.setIndex(new Vn(r,1)),s.setAttribute("position",new zt(i,3)),super(s,new mi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class bY extends pa{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new jt;o.setAttribute("position",new zt(s,3)),o.computeBoundingSphere(),super(o,new mi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new jt;l.setAttribute("position",new zt(a,3)),l.computeBoundingSphere(),this.add(new Ci(l,new kc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?yo:$d,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const qR=new re;let C_,Nb;class SY extends kn{constructor(e=new re(0,0,1),t=new re(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",C_===void 0&&(C_=new jt,C_.setAttribute("position",new zt([0,0,0,0,1,0],3)),Nb=new fh(0,.5,1,5,1),Nb.translate(0,-.5,0)),this.position.copy(t),this.line=new pa(C_,new mi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ci(Nb,new kc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{qR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(qR,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class _z extends _o{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new jt;i.setAttribute("position",new zt(t,3)),i.setAttribute("color",new zt(r,3));const s=new mi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new St,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class EY{constructor(){this.type="ShapePath",this.color=new St,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ag,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(S){const M=[];for(let T=0,A=S.length;T<A;T++){const L=S[T],z=new iu;z.curves=L.curves,M.push(z)}return M}function i(S,M){const T=M.length;let A=!1;for(let L=T-1,z=0;z<T;L=z++){let C=M[L],F=M[z],H=F.x-C.x,q=F.y-C.y;if(Math.abs(q)>Number.EPSILON){if(q<0&&(C=M[z],H=-H,F=M[L],q=-q),S.y<C.y||S.y>F.y)continue;if(S.y===C.y){if(S.x===C.x)return!0}else{const B=q*(S.x-C.x)-H*(S.y-C.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(S.y!==C.y)continue;if(F.x<=S.x&&S.x<=C.x||C.x<=S.x&&S.x<=F.x)return!0}}return A}const s=su.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let a,l,c;const p=[];if(o.length===1)return l=o[0],c=new iu,c.curves=l.curves,p.push(c),p;let m=!s(o[0].getPoints());m=e?!m:m;const d=[],v=[];let _=[],y=0,x;v[y]=void 0,_[y]=[];for(let S=0,M=o.length;S<M;S++)l=o[S],x=l.getPoints(),a=s(x),a=e?!a:a,a?(!m&&v[y]&&y++,v[y]={s:new iu,p:x},v[y].s.curves=l.curves,m&&y++,_[y]=[]):_[y].push({h:l,p:x[0]});if(!v[0])return r(o);if(v.length>1){let S=!1,M=0;for(let T=0,A=v.length;T<A;T++)d[T]=[];for(let T=0,A=v.length;T<A;T++){const L=_[T];for(let z=0;z<L.length;z++){const C=L[z];let F=!0;for(let H=0;H<v.length;H++)i(C.p,v[H].p)&&(T!==H&&M++,F?(F=!1,d[H].push(C)):S=!0);F&&d[T].push(C)}}M>0&&S===!1&&(_=d)}let w;for(let S=0,M=v.length;S<M;S++){c=v[S].s,p.push(c),w=_[S];for(let T=0,A=w.length;T<A;T++)c.holes.push(w[T].h)}return p}}class MY{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=di(e,-65504,65504),YR[0]=e;const t=XR[0],r=t>>23&511;return tl[r]+((t&8388607)>>nl[r])}static fromHalfFloat(e){const t=e>>10;return XR[0]=yT[wz[t]+(e&1023)]+Pg[t],YR[0]}}const xz=new ArrayBuffer(4),YR=new Float32Array(xz),XR=new Uint32Array(xz),tl=new Uint32Array(512),nl=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(tl[n]=0,tl[n|256]=32768,nl[n]=24,nl[n|256]=24):e<-14?(tl[n]=1024>>-e-14,tl[n|256]=1024>>-e-14|32768,nl[n]=-e-1,nl[n|256]=-e-1):e<=15?(tl[n]=e+15<<10,tl[n|256]=e+15<<10|32768,nl[n]=13,nl[n|256]=13):e<128?(tl[n]=31744,tl[n|256]=64512,nl[n]=24,nl[n|256]=24):(tl[n]=31744,tl[n|256]=64512,nl[n]=13,nl[n|256]=13)}const yT=new Uint32Array(2048),Pg=new Uint32Array(64),wz=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,yT[n]=e|t}for(let n=1024;n<2048;++n)yT[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Pg[n]=n<<23;Pg[31]=1199570944;Pg[32]=2147483648;for(let n=33;n<63;++n)Pg[n]=2147483648+(n-32<<23);Pg[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(wz[n]=1024);const TY=0,AY=1,CY=0,RY=1,PY=2;function IY(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function LY(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}class kY extends qv{constructor(e,t){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(e,t)}}class DY extends Px{constructor(e){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(e)}}class OY extends qv{constructor(e,t){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(e,t)}}class zY extends lp{constructor(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class FY extends lp{constructor(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class NY extends lp{constructor(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class BY extends re{constructor(e,t,r){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(e,t,r)}}class UY extends Vn{constructor(e,t){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(e,t),this.setUsage(sg)}}class HY extends _O{constructor(e,t){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(e,t)}}class WY extends xO{constructor(e,t){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(e,t)}}class VY extends wO{constructor(e,t){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(e,t)}}class GY extends bO{constructor(e,t){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(e,t)}}class $Y extends bx{constructor(e,t){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(e,t)}}class jY extends SO{constructor(e,t){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(e,t)}}class qY extends Sx{constructor(e,t){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(e,t)}}class YY extends zt{constructor(e,t){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(e,t)}}class XY extends MO{constructor(e,t){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(e,t)}}qo.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(qo.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};ag.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};class ZY extends _z{constructor(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(e)}}class KY extends yz{constructor(e,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(e,t)}}class JY extends _o{constructor(e,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new WM(e.geometry),new mi({color:t!==void 0?t:16777215}))}}vT.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};gz.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class QY extends _o{constructor(e,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new VM(e.geometry),new mi({color:t!==void 0?t:16777215}))}}Zs.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),z1.extractUrlBase(n)};Zs.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class eX extends lu{constructor(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(e)}}class tX extends JO{constructor(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(e)}}Rg.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Rg.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Rg.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Rg.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};wo.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};wo.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};wo.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};wo.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};wo.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};xh.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Lc.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Vv.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};mz.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Fi.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Fi.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Fi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Fi.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Fi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Fi.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Et.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Et.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Et.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new re().setFromMatrixColumn(this,3)};Et.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Et.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Et.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Et.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Et.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Et.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Et.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Et.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Et.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Et.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Et.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Et.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Et.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Et.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Et.prototype.makeFrustum=function(n,e,t,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,s)};Et.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};al.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Yi.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Yi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};_h.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};_h.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};_h.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};pi.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};pi.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};pi.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};pi.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};pi.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};pi.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),pi.getBarycoord(n,e,t,r,i)};pi.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),pi.getNormal(n,e,t,r)};iu.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};iu.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new au(this,n)};iu.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jd(this,n)};nt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};nt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};nt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};re.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};re.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};re.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};re.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};re.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};re.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};re.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};re.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};re.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};tr.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};tr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};kn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};kn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};kn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};kn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};kn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(kn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Ci.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Ci.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),lO},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Ix.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Oi.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(yl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Vn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===sg},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(sg)}}});Vn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?sg:ig),this};Vn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Vn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};jt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};jt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Vn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};jt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};jt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};jt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};jt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};jt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(jt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});ap.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?sg:ig),this};ap.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};au.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};au.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};au.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};jv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Ux.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(vi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new St}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===EM}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(va.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});nr.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};nr.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};nr.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};nr.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};nr.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};nr.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};nr.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};nr.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};nr.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};nr.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};nr.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};nr.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};nr.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};nr.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};nr.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};nr.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};nr.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};nr.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};nr.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};nr.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};nr.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};nr.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};nr.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};nr.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};nr.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(nr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?_r:vl}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(DO.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class nX extends Mx{constructor(e,t,r){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(e,r)}}Object.defineProperties(Gs.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});dT.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new oz().load(n,function(r){e.setBuffer(r)}),this};uz.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Ex.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Ex.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};yh.crossOrigin=void 0;yh.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new QO;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};yh.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new KO;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};yh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};yh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function rX(){console.error("THREE.CanvasRenderer has been removed")}function iX(){console.error("THREE.JSONLoader has been removed.")}const sX={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function oX(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class aX extends jt{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class lX extends jt{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function uX(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function cX(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function fX(){console.error("THREE.ImmediateRenderObject has been removed.")}class hX extends Gs{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class dX extends Eg{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class pX extends Wv{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_x}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_x);var mX=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:AM,AddEquation:wd,AddOperation:BD,AdditiveAnimationBlendMode:RM,AdditiveBlending:sE,AlphaFormat:XD,AlwaysDepth:LD,AlwaysStencilFunc:hO,AmbientLight:aT,AmbientLightProbe:lz,AnimationClip:Ev,AnimationLoader:qq,AnimationMixer:hz,AnimationObjectGroup:fz,AnimationUtils:Pr,ArcCurve:FM,ArrayCamera:LM,ArrowHelper:SY,Audio:dT,AudioAnalyser:uz,AudioContext:fT,AudioListener:Qq,AudioLoader:oz,AxesHelper:_z,AxisHelper:ZY,BackSide:yo,BasicDepthPacking:uO,BasicShadowMap:HV,BinaryTextureLoader:tX,Bone:Lx,BooleanKeyframeTrack:up,BoundingBoxHelper:KY,Box2:Rg,Box3:wo,Box3Helper:wY,BoxBufferGeometry:Ec,BoxGeometry:Ec,BoxHelper:yz,BufferAttribute:Vn,BufferGeometry:jt,BufferGeometryLoader:iz,ByteType:GD,Cache:ep,Camera:qd,CameraHelper:xY,CanvasRenderer:rX,CanvasTexture:HO,CapsuleBufferGeometry:lg,CapsuleGeometry:lg,CatmullRomCurve3:BM,CineonToneMapping:WD,CircleBufferGeometry:ug,CircleGeometry:ug,ClampToEdgeWrapping:Hs,Clock:hT,Color:St,ColorKeyframeTrack:eT,ColorManagement:sa,CompressedTexture:zM,CompressedTextureLoader:Yq,ConeBufferGeometry:cg,ConeGeometry:cg,CubeCamera:Ex,CubeReflectionMapping:ah,CubeRefractionMapping:lh,CubeTexture:Mg,CubeTextureLoader:KO,CubeUVReflectionMapping:Sg,CubicBezierCurve:Dx,CubicBezierCurve3:UM,CubicInterpolant:qO,CullFaceBack:iE,CullFaceFront:yD,CullFaceFrontBack:UV,CullFaceNone:vD,Curve:qo,CurvePath:VO,CustomBlending:_D,CustomToneMapping:VD,CylinderBufferGeometry:fh,CylinderGeometry:fh,Cylindrical:dY,Data3DTexture:Wv,DataArrayTexture:Eg,DataTexture:zd,DataTexture2DArray:dX,DataTexture3D:pX,DataTextureLoader:JO,DataUtils:MY,DecrementStencilOp:QV,DecrementWrapStencilOp:tG,DefaultLoadingManager:ZO,DepthFormat:Qf,DepthStencilFormat:jd,DepthTexture:kM,DirectionalLight:oT,DirectionalLightHelper:_Y,DiscreteInterpolant:YO,DodecahedronBufferGeometry:fg,DodecahedronGeometry:fg,DoubleSide:oh,DstAlphaFactor:TD,DstColorFactor:CD,DynamicBufferAttribute:UY,DynamicCopyUsage:mG,DynamicDrawUsage:sg,DynamicReadUsage:hG,EdgesGeometry:WM,EdgesHelper:JY,EllipseCurve:th,EqualDepth:DD,EqualStencilFunc:sG,EquirectangularReflectionMapping:cv,EquirectangularRefractionMapping:fv,Euler:xh,EventDispatcher:Ic,ExtrudeBufferGeometry:au,ExtrudeGeometry:au,FaceColors:RY,FileLoader:lu,FlatShading:EM,Float16BufferAttribute:EO,Float32Attribute:YY,Float32BufferAttribute:zt,Float64Attribute:XY,Float64BufferAttribute:MO,FloatType:gc,Fog:$v,FogExp2:Gv,Font:cX,FontLoader:uX,FramebufferTexture:UO,FrontSide:$d,Frustum:Vv,GLBufferAttribute:pz,GLSL1:vG,GLSL3:IE,GreaterDepth:zD,GreaterEqualDepth:OD,GreaterEqualStencilFunc:uG,GreaterStencilFunc:aG,GridHelper:vT,Group:Vf,HalfFloatType:rg,HemisphereLight:nT,HemisphereLightHelper:vY,HemisphereLightProbe:az,IcosahedronBufferGeometry:hg,IcosahedronGeometry:hg,ImageBitmapLoader:sz,ImageLoader:Mv,ImageUtils:yh,ImmediateRenderObject:fX,IncrementStencilOp:JV,IncrementWrapStencilOp:eG,InstancedBufferAttribute:Xd,InstancedBufferGeometry:cT,InstancedInterleavedBuffer:dz,InstancedMesh:DM,Int16Attribute:GY,Int16BufferAttribute:bO,Int32Attribute:jY,Int32BufferAttribute:SO,Int8Attribute:HY,Int8BufferAttribute:_O,IntType:jD,InterleavedBuffer:ap,InterleavedBufferAttribute:ch,Interpolant:Mc,InterpolateDiscrete:pv,InterpolateLinear:mv,InterpolateSmooth:e1,InvertStencilOp:nG,JSONLoader:iX,KeepStencilOp:t1,KeyframeTrack:wl,LOD:NO,LatheBufferGeometry:Zd,LatheGeometry:Zd,Layers:Od,LensFlare:oX,LessDepth:kD,LessEqualDepth:I1,LessEqualStencilFunc:oG,LessStencilFunc:iG,Light:yl,LightProbe:Xv,Line:pa,Line3:mz,LineBasicMaterial:mi,LineCurve:Yv,LineCurve3:WO,LineDashedMaterial:JM,LineLoop:OM,LinePieces:AY,LineSegments:_o,LineStrip:TY,LinearEncoding:vl,LinearFilter:hi,LinearInterpolant:QM,LinearMipMapLinearFilter:jV,LinearMipMapNearestFilter:$V,LinearMipmapLinearFilter:sp,LinearMipmapNearestFilter:CM,LinearSRGBColorSpace:Hf,LinearToneMapping:UD,Loader:Zs,LoaderUtils:z1,LoadingManager:tT,LoopOnce:sO,LoopPingPong:aO,LoopRepeat:oO,LuminanceAlphaFormat:JD,LuminanceFormat:KD,MOUSE:NV,Material:vi,MaterialLoader:rz,Math:Dr,MathUtils:Dr,Matrix3:Fi,Matrix4:Et,MaxEquation:uE,Mesh:Ci,MeshBasicMaterial:kc,MeshDepthMaterial:Ax,MeshDistanceMaterial:Cx,MeshFaceMaterial:IY,MeshLambertMaterial:ZM,MeshMatcapMaterial:KM,MeshNormalMaterial:XM,MeshPhongMaterial:qM,MeshPhysicalMaterial:jM,MeshStandardMaterial:Bx,MeshToonMaterial:YM,MinEquation:lE,MirroredRepeatWrapping:dv,MixOperation:ND,MultiMaterial:LY,MultiplyBlending:aE,MultiplyOperation:Hv,NearestFilter:Mi,NearestMipMapLinearFilter:GV,NearestMipMapNearestFilter:VV,NearestMipmapLinearFilter:k1,NearestMipmapNearestFilter:L1,NeverDepth:ID,NeverStencilFunc:rG,NoBlending:yc,NoColorSpace:XV,NoColors:CY,NoToneMapping:pl,NormalAnimationBlendMode:wx,NormalBlending:Id,NotEqualDepth:FD,NotEqualStencilFunc:lG,NumberKeyframeTrack:bv,Object3D:kn,ObjectLoader:Xq,ObjectSpaceNormalMap:fO,OctahedronBufferGeometry:Kd,OctahedronGeometry:Kd,OneFactor:SD,OneMinusDstAlphaFactor:AD,OneMinusDstColorFactor:RD,OneMinusSrcAlphaFactor:TM,OneMinusSrcColorFactor:MD,OrthographicCamera:Tg,PCFShadowMap:bM,PCFSoftShadowMap:SM,PMREMGenerator:kE,ParametricGeometry:aX,Particle:DY,ParticleBasicMaterial:FY,ParticleSystem:OY,ParticleSystemMaterial:NY,Path:ag,PerspectiveCamera:Oi,Plane:al,PlaneBufferGeometry:Yd,PlaneGeometry:Yd,PlaneHelper:bY,PointCloud:kY,PointCloudMaterial:zY,PointLight:sT,PointLightHelper:mY,Points:qv,PointsMaterial:lp,PolarGridHelper:yY,PolyhedronBufferGeometry:ou,PolyhedronGeometry:ou,PositionalAudio:tY,PropertyBinding:qn,PropertyMixer:cz,QuadraticBezierCurve:Ox,QuadraticBezierCurve3:zx,Quaternion:Yi,QuaternionKeyframeTrack:Cg,QuaternionLinearInterpolant:XO,REVISION:_x,RGBADepthPacking:cO,RGBAFormat:Vo,RGBAIntegerFormat:rO,RGBA_ASTC_10x10_Format:AE,RGBA_ASTC_10x5_Format:EE,RGBA_ASTC_10x6_Format:ME,RGBA_ASTC_10x8_Format:TE,RGBA_ASTC_12x10_Format:CE,RGBA_ASTC_12x12_Format:RE,RGBA_ASTC_4x4_Format:gE,RGBA_ASTC_5x4_Format:vE,RGBA_ASTC_5x5_Format:yE,RGBA_ASTC_6x5_Format:_E,RGBA_ASTC_6x6_Format:xE,RGBA_ASTC_8x5_Format:wE,RGBA_ASTC_8x6_Format:bE,RGBA_ASTC_8x8_Format:SE,RGBA_BPTC_Format:PE,RGBA_ETC2_EAC_Format:mE,RGBA_PVRTC_2BPPV1_Format:dE,RGBA_PVRTC_4BPPV1_Format:hE,RGBA_S3TC_DXT1_Format:K_,RGBA_S3TC_DXT3_Format:J_,RGBA_S3TC_DXT5_Format:Q_,RGBFormat:ZD,RGB_ETC1_Format:iO,RGB_ETC2_Format:pE,RGB_PVRTC_2BPPV1_Format:fE,RGB_PVRTC_4BPPV1_Format:cE,RGB_S3TC_DXT1_Format:Z_,RGFormat:tO,RGIntegerFormat:nO,RawShaderMaterial:$M,Ray:_h,Raycaster:gT,RectAreaLight:lT,RedFormat:QD,RedIntegerFormat:eO,ReinhardToneMapping:HD,RepeatWrapping:hv,ReplaceStencilOp:KV,ReverseSubtractEquation:wD,RingBufferGeometry:dg,RingGeometry:dg,SRGBColorSpace:Kl,Scene:jv,SceneUtils:sX,ShaderChunk:Ln,ShaderLib:ll,ShaderMaterial:va,ShadowMaterial:GM,Shape:iu,ShapeBufferGeometry:Jd,ShapeGeometry:Jd,ShapePath:EY,ShapeUtils:su,ShortType:$D,Skeleton:kx,SkeletonHelper:gz,SkinnedMesh:Ix,SmoothShading:WV,Source:Wf,Sphere:Lc,SphereBufferGeometry:Qd,SphereGeometry:Qd,Spherical:hY,SphericalHarmonics3:uT,SplineCurve:Fx,SpotLight:iT,SpotLightHelper:pY,Sprite:Px,SpriteMaterial:Rx,SrcAlphaFactor:MM,SrcAlphaSaturateFactor:PD,SrcColorFactor:ED,StaticCopyUsage:pG,StaticDrawUsage:ig,StaticReadUsage:fG,StereoCamera:Kq,StreamCopyUsage:gG,StreamDrawUsage:cG,StreamReadUsage:dG,StringKeyframeTrack:cp,SubtractEquation:xD,SubtractiveBlending:oE,TOUCH:BV,TangentSpaceNormalMap:op,TetrahedronBufferGeometry:pg,TetrahedronGeometry:pg,TextGeometry:lX,Texture:gi,TextureLoader:QO,TorusBufferGeometry:mg,TorusGeometry:mg,TorusKnotBufferGeometry:gg,TorusKnotGeometry:gg,Triangle:pi,TriangleFanDrawMode:YV,TriangleStripDrawMode:qV,TrianglesDrawMode:lO,TubeBufferGeometry:vg,TubeGeometry:vg,UVMapping:xx,Uint16Attribute:$Y,Uint16BufferAttribute:bx,Uint32Attribute:qY,Uint32BufferAttribute:Sx,Uint8Attribute:WY,Uint8BufferAttribute:xO,Uint8ClampedAttribute:VY,Uint8ClampedBufferAttribute:wO,Uniform:Ux,UniformsLib:xt,UniformsUtils:TO,UnsignedByteType:uh,UnsignedInt248Type:Ld,UnsignedIntType:F0,UnsignedShort4444Type:qD,UnsignedShort5551Type:YD,UnsignedShortType:ng,VSMShadowMap:Im,Vector2:nt,Vector3:re,Vector4:tr,VectorKeyframeTrack:Sv,Vertex:BY,VertexColors:PY,VideoTexture:BO,WebGL1Renderer:zO,WebGL3DRenderTarget:vO,WebGLArrayRenderTarget:gO,WebGLCubeRenderTarget:Mx,WebGLMultipleRenderTargets:yO,WebGLMultisampleRenderTarget:hX,WebGLRenderTarget:Gs,WebGLRenderTargetCube:nX,WebGLRenderer:nr,WebGLUtils:OO,WireframeGeometry:VM,WireframeHelper:QY,WrapAroundEnding:gv,XHRLoader:eX,ZeroCurvatureEnding:Td,ZeroFactor:bD,ZeroSlopeEnding:Ad,ZeroStencilOp:ZV,_SRGBAFormat:D1,sRGBEncoding:_r},Symbol.toStringTag,{value:"Module"}));function gX(n){let e;const t=new Set,r=(c,p)=>{const m=typeof c=="function"?c(e):c;if(m!==e){const d=e;e=p?m:Object.assign({},e,m),t.forEach(v=>v(e,d))}},i=()=>e,s=(c,p=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=p(e);function v(){const _=p(e);if(!m(d,_)){const y=d;c(d=_,y)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,p,m)=>p||m?s(c,p,m):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const vX=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ZR=vX?Z.exports.useEffect:Z.exports.useLayoutEffect;function bz(n){const e=typeof n=="function"?gX(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Z.exports.useReducer(x=>x+1,0),o=e.getState(),a=Z.exports.useRef(o),l=Z.exports.useRef(r),c=Z.exports.useRef(i),p=Z.exports.useRef(!1),m=Z.exports.useRef();m.current===void 0&&(m.current=r(o));let d,v=!1;(a.current!==o||l.current!==r||c.current!==i||p.current)&&(d=r(o),v=!i(m.current,d)),ZR(()=>{v&&(m.current=d),a.current=o,l.current=r,c.current=i,p.current=!1});const _=Z.exports.useRef(o);ZR(()=>{const x=()=>{try{const S=e.getState(),M=l.current(S);c.current(m.current,M)||(a.current=S,m.current=M,s())}catch{p.current=!0,s()}},w=e.subscribe(x);return e.getState()!==_.current&&x(),w},[]);const y=v?d:m.current;return Z.exports.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var Sz={exports:{}},Ez={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var KR=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,_X=Object.prototype.propertyIsEnumerable;function xX(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function wX(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var bX=wX()?Object.assign:function(n,e){for(var t,r=xX(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)yX.call(t,o)&&(r[o]=t[o]);if(KR){i=KR(t);for(var a=0;a<i.length;a++)_X.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r},H0={exports:{}},Mz={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var e,t,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,c=null,p=function(){if(l!==null)try{var j=n.unstable_now();l(!0,j),l=null}catch(K){throw setTimeout(p,0),K}};e=function(j){l!==null?setTimeout(e,0,j):(l=j,setTimeout(p,0))},t=function(j,K){c=setTimeout(j,K)},r=function(){clearTimeout(c)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,d=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,y=null,x=-1,w=5,S=0;n.unstable_shouldYield=function(){return n.unstable_now()>=S},i=function(){},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5};var M=new MessageChannel,T=M.port2;M.port1.onmessage=function(){if(y!==null){var j=n.unstable_now();S=j+w;try{y(!0,j)?T.postMessage(null):(_=!1,y=null)}catch(K){throw T.postMessage(null),K}}else _=!1},e=function(j){y=j,_||(_=!0,T.postMessage(null))},t=function(j,K){x=m(function(){j(n.unstable_now())},K)},r=function(){d(x),x=-1}}function A(j,K){var we=j.length;j.push(K);e:for(;;){var Re=we-1>>>1,Pe=j[Re];if(Pe!==void 0&&0<C(Pe,K))j[Re]=K,j[we]=Pe,we=Re;else break e}}function L(j){return j=j[0],j===void 0?null:j}function z(j){var K=j[0];if(K!==void 0){var we=j.pop();if(we!==K){j[0]=we;e:for(var Re=0,Pe=j.length;Re<Pe;){var ke=2*(Re+1)-1,bt=j[ke],rt=ke+1,ut=j[rt];if(bt!==void 0&&0>C(bt,we))ut!==void 0&&0>C(ut,bt)?(j[Re]=ut,j[rt]=we,Re=rt):(j[Re]=bt,j[ke]=we,Re=ke);else if(ut!==void 0&&0>C(ut,we))j[Re]=ut,j[rt]=we,Re=rt;else break e}}return K}return null}function C(j,K){var we=j.sortIndex-K.sortIndex;return we!==0?we:j.id-K.id}var F=[],H=[],q=1,B=null,Y=3,I=!1,te=!1,ce=!1;function le(j){for(var K=L(H);K!==null;){if(K.callback===null)z(H);else if(K.startTime<=j)z(H),K.sortIndex=K.expirationTime,A(F,K);else break;K=L(H)}}function ae(j){if(ce=!1,le(j),!te)if(L(F)!==null)te=!0,e(ie);else{var K=L(H);K!==null&&t(ae,K.startTime-j)}}function ie(j,K){te=!1,ce&&(ce=!1,r()),I=!0;var we=Y;try{for(le(K),B=L(F);B!==null&&(!(B.expirationTime>K)||j&&!n.unstable_shouldYield());){var Re=B.callback;if(typeof Re=="function"){B.callback=null,Y=B.priorityLevel;var Pe=Re(B.expirationTime<=K);K=n.unstable_now(),typeof Pe=="function"?B.callback=Pe:B===L(F)&&z(F),le(K)}else z(F);B=L(F)}if(B!==null)var ke=!0;else{var bt=L(H);bt!==null&&t(ae,bt.startTime-K),ke=!1}return ke}finally{B=null,Y=we,I=!1}}var ue=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){te||I||(te=!0,e(ie))},n.unstable_getCurrentPriorityLevel=function(){return Y},n.unstable_getFirstCallbackNode=function(){return L(F)},n.unstable_next=function(j){switch(Y){case 1:case 2:case 3:var K=3;break;default:K=Y}var we=Y;Y=K;try{return j()}finally{Y=we}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=ue,n.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var we=Y;Y=j;try{return K()}finally{Y=we}},n.unstable_scheduleCallback=function(j,K,we){var Re=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Re+we:Re):we=Re,j){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=we+Pe,j={id:q++,callback:K,priorityLevel:j,startTime:we,expirationTime:Pe,sortIndex:-1},we>Re?(j.sortIndex=we,A(H,j),L(F)===null&&j===L(H)&&(ce?r():ce=!0,t(ae,we-Re))):(j.sortIndex=Pe,A(F,j),te||I||(te=!0,e(ie))),j},n.unstable_wrapCallback=function(j){var K=Y;return function(){var we=Y;Y=K;try{return j.apply(this,arguments)}finally{Y=we}}}})(Mz);H0.exports=Mz;/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(t){var r={},i=bX,s=Z.exports,o=H0.exports;function a(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,p=60106,m=60107,d=60108,v=60114,_=60109,y=60110,x=60112,w=60113,S=60120,M=60115,T=60116,A=60121,L=60129,z=60130,C=60131;if(typeof Symbol=="function"&&Symbol.for){var F=Symbol.for;c=F("react.element"),p=F("react.portal"),m=F("react.fragment"),d=F("react.strict_mode"),v=F("react.profiler"),_=F("react.provider"),y=F("react.context"),x=F("react.forward_ref"),w=F("react.suspense"),S=F("react.suspense_list"),M=F("react.memo"),T=F("react.lazy"),A=F("react.block"),F("react.scope"),L=F("react.debug_trace_mode"),z=F("react.offscreen"),C=F("react.legacy_hidden")}var H=typeof Symbol=="function"&&Symbol.iterator;function q(f){return f===null||typeof f!="object"?null:(f=H&&f[H]||f["@@iterator"],typeof f=="function"?f:null)}function B(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case m:return"Fragment";case p:return"Portal";case v:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case _:return(f._context.displayName||"Context")+".Provider";case x:var h=f.render;return h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case M:return B(f.type);case A:return B(f._render);case T:h=f._payload,f=f._init;try{return B(f(h))}catch{}}return null}function Y(f){var h=f,b=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&1026)!==0&&(b=h.return),f=h.return;while(f)}return h.tag===3?b:null}function I(f){if(Y(f)!==f)throw Error(a(188))}function te(f){var h=f.alternate;if(!h){if(h=Y(f),h===null)throw Error(a(188));return h!==f?null:f}for(var b=f,R=h;;){var D=b.return;if(D===null)break;var W=D.alternate;if(W===null){if(R=D.return,R!==null){b=R;continue}break}if(D.child===W.child){for(W=D.child;W;){if(W===b)return I(D),f;if(W===R)return I(D),h;W=W.sibling}throw Error(a(188))}if(b.return!==R.return)b=D,R=W;else{for(var se=!1,me=D.child;me;){if(me===b){se=!0,b=D,R=W;break}if(me===R){se=!0,R=D,b=W;break}me=me.sibling}if(!se){for(me=W.child;me;){if(me===b){se=!0,b=W,R=D;break}if(me===R){se=!0,R=W,b=D;break}me=me.sibling}if(!se)throw Error(a(189))}}if(b.alternate!==R)throw Error(a(190))}if(b.tag!==3)throw Error(a(188));return b.stateNode.current===b?f:h}function ce(f){if(f=te(f),!f)return null;for(var h=f;;){if(h.tag===5||h.tag===6)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===f)break;for(;!h.sibling;){if(!h.return||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}}return null}function le(f){if(f=te(f),!f)return null;for(var h=f;;){if(h.tag===5||h.tag===6)return h;if(h.child&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===f)break;for(;!h.sibling;){if(!h.return||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}}return null}function ae(f,h){for(var b=f.alternate;h!==null;){if(h===f||h===b)return!0;h=h.return}return!1}var ie=t.getPublicInstance,ue=t.getRootHostContext,j=t.getChildHostContext,K=t.prepareForCommit,we=t.resetAfterCommit,Re=t.createInstance,Pe=t.appendInitialChild,ke=t.finalizeInitialChildren,bt=t.prepareUpdate,rt=t.shouldSetTextContent,ut=t.createTextInstance,it=t.scheduleTimeout,Ct=t.cancelTimeout,Xe=t.noTimeout,$e=t.isPrimaryRenderer,O=t.supportsMutation,Te=t.supportsPersistence,ye=t.supportsHydration,ne=t.getInstanceFromNode,J=t.makeOpaqueHydratingObject,de=t.makeClientId,We=t.beforeActiveInstanceBlur,Be=t.afterActiveInstanceBlur,G=t.preparePortalMount,U=t.supportsTestSelectors,fe=t.findFiberRoot,Ee=t.getBoundingRect,Ue=t.getTextContent,Ke=t.isHiddenSubtree,at=t.matchAccessibilityRole,He=t.setFocusIfFocusable,Bt=t.setupIntersectionObserver,Ft=t.appendChild,_t=t.appendChildToContainer,ge=t.commitTextUpdate,dt=t.commitMount,ht=t.commitUpdate,Pt=t.insertBefore,vt=t.insertInContainerBefore,Ut=t.removeChild,mt=t.removeChildFromContainer,Gt=t.resetTextContent,Rn=t.hideInstance,rn=t.hideTextInstance,ni=t.unhideInstance,is=t.unhideTextInstance,fu=t.clearContainer,Ml=t.cloneInstance,hu=t.createContainerChildSet,Tl=t.appendChildToContainerChildSet,Nc=t.finalizeContainerChildren,Bc=t.replaceContainerChildren,Al=t.cloneHiddenInstance,du=t.cloneHiddenTextInstance,oe=t.canHydrateInstance,Fe=t.canHydrateTextInstance,qe=t.isSuspenseInstancePending,Ve=t.isSuspenseInstanceFallback,Je=t.getNextHydratableSibling,qt=t.getFirstHydratableChild,tn=t.hydrateInstance,un=t.hydrateTextInstance,an=t.getNextHydratableInstanceAfterSuspenseInstance,Dn=t.commitHydratedContainer,Mn=t.commitHydratedSuspenseInstance,Tn;function Gn(f){if(Tn===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);Tn=h&&h[1]||""}return`
`+Tn+f}var Es=!1;function ss(f,h){if(!f||Es)return"";Es=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ve){var R=ve}Reflect.construct(f,[],h)}else{try{h.call()}catch(ve){R=ve}f.call(h.prototype)}else{try{throw Error()}catch(ve){R=ve}f()}}catch(ve){if(ve&&R&&typeof ve.stack=="string"){for(var D=ve.stack.split(`
`),W=R.stack.split(`
`),se=D.length-1,me=W.length-1;1<=se&&0<=me&&D[se]!==W[me];)me--;for(;1<=se&&0<=me;se--,me--)if(D[se]!==W[me]){if(se!==1||me!==1)do if(se--,me--,0>me||D[se]!==W[me])return`
`+D[se].replace(" at new "," at ");while(1<=se&&0<=me);break}}}finally{Es=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?Gn(f):""}var Ks=[],kr=-1;function cn(f){return{current:f}}function Pn(f){0>kr||(f.current=Ks[kr],Ks[kr]=null,kr--)}function sn(f,h){kr++,Ks[kr]=f.current,f.current=h}var zr={},rr=cn(zr),Er=cn(!1),os=zr;function ir(f,h){var b=f.type.contextTypes;if(!b)return zr;var R=f.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===h)return R.__reactInternalMemoizedMaskedChildContext;var D={},W;for(W in b)D[W]=h[W];return R&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=D),D}function sr(f){return f=f.childContextTypes,f!=null}function Js(){Pn(Er),Pn(rr)}function Yr(f,h,b){if(rr.current!==zr)throw Error(a(168));sn(rr,h),sn(Er,b)}function fp(f,h,b){var R=f.stateNode;if(f=h.childContextTypes,typeof R.getChildContext!="function")return b;R=R.getChildContext();for(var D in R)if(!(D in f))throw Error(a(108,B(h)||"Unknown",D));return i({},b,R)}function pu(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||zr,os=rr.current,sn(rr,f),sn(Er,Er.current),!0}function Eh(f,h,b){var R=f.stateNode;if(!R)throw Error(a(169));b?(f=fp(f,h,os),R.__reactInternalMemoizedMergedChildContext=f,Pn(Er),Pn(rr),sn(rr,f)):Pn(Er),sn(Er,b)}var Uc=null,Eo=null,hp=o.unstable_now;hp();var Cl=0,$n=8;function Zo(f){if((1&f)!==0)return $n=15,1;if((2&f)!==0)return $n=14,2;if((4&f)!==0)return $n=13,4;var h=24&f;return h!==0?($n=12,h):(f&32)!==0?($n=11,32):(h=192&f,h!==0?($n=10,h):(f&256)!==0?($n=9,256):(h=3584&f,h!==0?($n=8,h):(f&4096)!==0?($n=7,4096):(h=4186112&f,h!==0?($n=6,h):(h=62914560&f,h!==0?($n=5,h):f&67108864?($n=4,67108864):(f&134217728)!==0?($n=3,134217728):(h=805306368&f,h!==0?($n=2,h):(1073741824&f)!==0?($n=1,1073741824):($n=8,f))))))}function Hg(f){switch(f){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function dp(f){switch(f){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,f))}}function xa(f,h){var b=f.pendingLanes;if(b===0)return $n=0;var R=0,D=0,W=f.expiredLanes,se=f.suspendedLanes,me=f.pingedLanes;if(W!==0)R=W,D=$n=15;else if(W=b&134217727,W!==0){var ve=W&~se;ve!==0?(R=Zo(ve),D=$n):(me&=W,me!==0&&(R=Zo(me),D=$n))}else W=b&~se,W!==0?(R=Zo(W),D=$n):me!==0&&(R=Zo(me),D=$n);if(R===0)return 0;if(R=31-Xi(R),R=b&((0>R?0:1<<R)<<1)-1,h!==0&&h!==R&&(h&se)===0){if(Zo(h),D<=$n)return h;$n=D}if(h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=R;0<h;)b=31-Xi(h),D=1<<b,R|=f[b],h&=~D;return R}function mu(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Hc(f,h){switch(f){case 15:return 1;case 14:return 2;case 12:return f=wa(24&~h),f===0?Hc(10,h):f;case 10:return f=wa(192&~h),f===0?Hc(8,h):f;case 8:return f=wa(3584&~h),f===0&&(f=wa(4186112&~h),f===0&&(f=512)),f;case 2:return h=wa(805306368&~h),h===0&&(h=268435456),h}throw Error(a(358,f))}function wa(f){return f&-f}function gu(f){for(var h=[],b=0;31>b;b++)h.push(f);return h}function Rl(f,h,b){f.pendingLanes|=h;var R=h-1;f.suspendedLanes&=R,f.pingedLanes&=R,f=f.eventTimes,h=31-Xi(h),f[h]=b}var Xi=Math.clz32?Math.clz32:Wg,pp=Math.log,mp=Math.LN2;function Wg(f){return f===0?32:31-(pp(f)/mp|0)|0}var gp=o.unstable_runWithPriority,Wc=o.unstable_scheduleCallback,Vc=o.unstable_cancelCallback,vp=o.unstable_shouldYield,yp=o.unstable_requestPaint,Gc=o.unstable_now,_p=o.unstable_getCurrentPriorityLevel,vu=o.unstable_ImmediatePriority,yu=o.unstable_UserBlockingPriority,ba=o.unstable_NormalPriority,xp=o.unstable_LowPriority,Mh=o.unstable_IdlePriority,_u={},Th=yp!==void 0?yp:function(){},Ms=null,$c=null,jc=!1,Sa=Gc(),ln=1e4>Sa?Gc:function(){return Gc()-Sa};function Nn(){switch(_p()){case vu:return 99;case yu:return 98;case ba:return 97;case xp:return 96;case Mh:return 95;default:throw Error(a(332))}}function wp(f){switch(f){case 99:return vu;case 98:return yu;case 97:return ba;case 96:return xp;case 95:return Mh;default:throw Error(a(332))}}function Ts(f,h){return f=wp(f),gp(f,h)}function Ea(f,h,b){return f=wp(f),Wc(f,h,b)}function Zi(){if($c!==null){var f=$c;$c=null,Vc(f)}bp()}function bp(){if(!jc&&Ms!==null){jc=!0;var f=0;try{var h=Ms;Ts(99,function(){for(;f<h.length;f++){var b=h[f];do b=b(!0);while(b!==null)}}),Ms=null}catch(b){throw Ms!==null&&(Ms=Ms.slice(f+1)),Wc(vu,Zi),b}finally{jc=!1}}}var Vg=l.ReactCurrentBatchConfig;function Sp(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Ki=typeof Object.is=="function"?Object.is:Sp,Xr=Object.prototype.hasOwnProperty;function Pl(f,h){if(Ki(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var b=Object.keys(f),R=Object.keys(h);if(b.length!==R.length)return!1;for(R=0;R<b.length;R++)if(!Xr.call(h,b[R])||!Ki(f[b[R]],h[b[R]]))return!1;return!0}function Ma(f){switch(f.tag){case 5:return Gn(f.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 2:case 15:return f=ss(f.type,!1),f;case 11:return f=ss(f.type.render,!1),f;case 22:return f=ss(f.type._render,!1),f;case 1:return f=ss(f.type,!0),f;default:return""}}function as(f,h){if(f&&f.defaultProps){h=i({},h),f=f.defaultProps;for(var b in f)h[b]===void 0&&(h[b]=f[b]);return h}return h}var Il=cn(null),Pi=null,Ta=null,xu=null;function wu(){xu=Ta=Pi=null}function Ah(f,h){f=f.type._context,$e?(sn(Il,f._currentValue),f._currentValue=h):(sn(Il,f._currentValue2),f._currentValue2=h)}function qc(f){var h=Il.current;Pn(Il),f=f.type._context,$e?f._currentValue=h:f._currentValue2=h}function Ch(f,h){for(;f!==null;){var b=f.alternate;if((f.childLanes&h)===h){if(b===null||(b.childLanes&h)===h)break;b.childLanes|=h}else f.childLanes|=h,b!==null&&(b.childLanes|=h);f=f.return}}function Zr(f,h){Pi=f,xu=Ta=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&h)!==0&&(cs=!0),f.firstContext=null)}function ls(f,h){if(xu!==f&&h!==!1&&h!==0)if((typeof h!="number"||h===1073741823)&&(xu=f,h=1073741823),h={context:f,observedBits:h,next:null},Ta===null){if(Pi===null)throw Error(a(308));Ta=h,Pi.dependencies={lanes:0,firstContext:h,responders:null}}else Ta=Ta.next=h;return $e?f._currentValue:f._currentValue2}var Fr=!1;function Rh(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ph(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ii(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function As(f,h){if(f=f.updateQueue,f!==null){f=f.shared;var b=f.pending;b===null?h.next=h:(h.next=b.next,b.next=h),f.pending=h}}function bu(f,h){var b=f.updateQueue,R=f.alternate;if(R!==null&&(R=R.updateQueue,b===R)){var D=null,W=null;if(b=b.firstBaseUpdate,b!==null){do{var se={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};W===null?D=W=se:W=W.next=se,b=b.next}while(b!==null);W===null?D=W=h:W=W.next=h}else D=W=h;b={baseState:R.baseState,firstBaseUpdate:D,lastBaseUpdate:W,shared:R.shared,effects:R.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=h:f.next=h,b.lastBaseUpdate=h}function Zn(f,h,b,R){var D=f.updateQueue;Fr=!1;var W=D.firstBaseUpdate,se=D.lastBaseUpdate,me=D.shared.pending;if(me!==null){D.shared.pending=null;var ve=me,je=ve.next;ve.next=null,se===null?W=je:se.next=je,se=ve;var lt=f.alternate;if(lt!==null){lt=lt.updateQueue;var ct=lt.lastBaseUpdate;ct!==se&&(ct===null?lt.firstBaseUpdate=je:ct.next=je,lt.lastBaseUpdate=ve)}}if(W!==null){ct=D.baseState,se=0,lt=je=ve=null;do{me=W.lane;var pt=W.eventTime;if((R&me)===me){lt!==null&&(lt=lt.next={eventTime:pt,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Dt=f,Ot=W;switch(me=h,pt=b,Ot.tag){case 1:if(Dt=Ot.payload,typeof Dt=="function"){ct=Dt.call(pt,ct,me);break e}ct=Dt;break e;case 3:Dt.flags=Dt.flags&-4097|64;case 0:if(Dt=Ot.payload,me=typeof Dt=="function"?Dt.call(pt,ct,me):Dt,me==null)break e;ct=i({},ct,me);break e;case 2:Fr=!0}}W.callback!==null&&(f.flags|=32,me=D.effects,me===null?D.effects=[W]:me.push(W))}else pt={eventTime:pt,lane:me,tag:W.tag,payload:W.payload,callback:W.callback,next:null},lt===null?(je=lt=pt,ve=ct):lt=lt.next=pt,se|=me;if(W=W.next,W===null){if(me=D.shared.pending,me===null)break;W=me.next,me.next=null,D.lastBaseUpdate=me,D.shared.pending=null}}while(1);lt===null&&(ve=ct),D.baseState=ve,D.firstBaseUpdate=je,D.lastBaseUpdate=lt,Hu|=se,f.lanes=se,f.memoizedState=ct}}function Mo(f,h,b){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var R=f[h],D=R.callback;if(D!==null){if(R.callback=null,R=b,typeof D!="function")throw Error(a(191,D));D.call(R)}}}var Yc=new s.Component().refs;function Xc(f,h,b,R){h=f.memoizedState,b=b(R,h),b=b==null?h:i({},h,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Aa={isMounted:function(f){return(f=f._reactInternals)?Y(f)===f:!1},enqueueSetState:function(f,h,b){f=f._reactInternals;var R=Li(),D=ai(f),W=Ii(R,D);W.payload=h,b!=null&&(W.callback=b),As(f,W),Ps(f,D,R)},enqueueReplaceState:function(f,h,b){f=f._reactInternals;var R=Li(),D=ai(f),W=Ii(R,D);W.tag=1,W.payload=h,b!=null&&(W.callback=b),As(f,W),Ps(f,D,R)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var b=Li(),R=ai(f),D=Ii(b,R);D.tag=2,h!=null&&(D.callback=h),As(f,D),Ps(f,R,b)}};function Ep(f,h,b,R,D,W,se){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(R,W,se):h.prototype&&h.prototype.isPureReactComponent?!Pl(b,R)||!Pl(D,W):!0}function Mp(f,h,b){var R=!1,D=zr,W=h.contextType;return typeof W=="object"&&W!==null?W=ls(W):(D=sr(h)?os:rr.current,R=h.contextTypes,W=(R=R!=null)?ir(f,D):zr),h=new h(b,W),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Aa,f.stateNode=h,h._reactInternals=f,R&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=D,f.__reactInternalMemoizedMaskedChildContext=W),h}function Tp(f,h,b,R){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,R),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,R),h.state!==f&&Aa.enqueueReplaceState(h,h.state,null)}function Zc(f,h,b,R){var D=f.stateNode;D.props=b,D.state=f.memoizedState,D.refs=Yc,Rh(f);var W=h.contextType;typeof W=="object"&&W!==null?D.context=ls(W):(W=sr(h)?os:rr.current,D.context=ir(f,W)),Zn(f,b,D,R),D.state=f.memoizedState,W=h.getDerivedStateFromProps,typeof W=="function"&&(Xc(f,h,W,b),D.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(h=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),h!==D.state&&Aa.enqueueReplaceState(D,D.state,null),Zn(f,b,D,R),D.state=f.memoizedState),typeof D.componentDidMount=="function"&&(f.flags|=4)}var Ca=Array.isArray;function Qs(f,h,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(a(309));var R=b.stateNode}if(!R)throw Error(a(147,f));var D=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===D?h.ref:(h=function(W){var se=R.refs;se===Yc&&(se=R.refs={}),W===null?delete se[D]:se[D]=W},h._stringRef=D,h)}if(typeof f!="string")throw Error(a(284));if(!b._owner)throw Error(a(290,f))}return f}function Su(f,h){if(f.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(h)==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":h))}function Ll(f){function h(Ce,be){if(f){var Ge=Ce.lastEffect;Ge!==null?(Ge.nextEffect=be,Ce.lastEffect=be):Ce.firstEffect=Ce.lastEffect=be,be.nextEffect=null,be.flags=8}}function b(Ce,be){if(!f)return null;for(;be!==null;)h(Ce,be),be=be.sibling;return null}function R(Ce,be){for(Ce=new Map;be!==null;)be.key!==null?Ce.set(be.key,be):Ce.set(be.index,be),be=be.sibling;return Ce}function D(Ce,be){return Ce=Q(Ce,be),Ce.index=0,Ce.sibling=null,Ce}function W(Ce,be,Ge){return Ce.index=Ge,f?(Ge=Ce.alternate,Ge!==null?(Ge=Ge.index,Ge<be?(Ce.flags=2,be):Ge):(Ce.flags=2,be)):be}function se(Ce){return f&&Ce.alternate===null&&(Ce.flags=2),Ce}function me(Ce,be,Ge,gt){return be===null||be.tag!==6?(be=Le(Ge,Ce.mode,gt),be.return=Ce,be):(be=D(be,Ge),be.return=Ce,be)}function ve(Ce,be,Ge,gt){return be!==null&&be.elementType===Ge.type?(gt=D(be,Ge.props),gt.ref=Qs(Ce,be,Ge),gt.return=Ce,gt):(gt=xe(Ge.type,Ge.key,Ge.props,null,Ce.mode,gt),gt.ref=Qs(Ce,be,Ge),gt.return=Ce,gt)}function je(Ce,be,Ge,gt){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ge.containerInfo||be.stateNode.implementation!==Ge.implementation?(be=Oe(Ge,Ce.mode,gt),be.return=Ce,be):(be=D(be,Ge.children||[]),be.return=Ce,be)}function lt(Ce,be,Ge,gt,It){return be===null||be.tag!==7?(be=Me(Ge,Ce.mode,gt,It),be.return=Ce,be):(be=D(be,Ge),be.return=Ce,be)}function ct(Ce,be,Ge){if(typeof be=="string"||typeof be=="number")return be=Le(""+be,Ce.mode,Ge),be.return=Ce,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case c:return Ge=xe(be.type,be.key,be.props,null,Ce.mode,Ge),Ge.ref=Qs(Ce,null,be),Ge.return=Ce,Ge;case p:return be=Oe(be,Ce.mode,Ge),be.return=Ce,be}if(Ca(be)||q(be))return be=Me(be,Ce.mode,Ge,null),be.return=Ce,be;Su(Ce,be)}return null}function pt(Ce,be,Ge,gt){var It=be!==null?be.key:null;if(typeof Ge=="string"||typeof Ge=="number")return It!==null?null:me(Ce,be,""+Ge,gt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case c:return Ge.key===It?Ge.type===m?lt(Ce,be,Ge.props.children,gt,It):ve(Ce,be,Ge,gt):null;case p:return Ge.key===It?je(Ce,be,Ge,gt):null}if(Ca(Ge)||q(Ge))return It!==null?null:lt(Ce,be,Ge,gt,null);Su(Ce,Ge)}return null}function Dt(Ce,be,Ge,gt,It){if(typeof gt=="string"||typeof gt=="number")return Ce=Ce.get(Ge)||null,me(be,Ce,""+gt,It);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case c:return Ce=Ce.get(gt.key===null?Ge:gt.key)||null,gt.type===m?lt(be,Ce,gt.props.children,It,gt.key):ve(be,Ce,gt,It);case p:return Ce=Ce.get(gt.key===null?Ge:gt.key)||null,je(be,Ce,gt,It)}if(Ca(gt)||q(gt))return Ce=Ce.get(Ge)||null,lt(be,Ce,gt,It,null);Su(be,gt)}return null}function Ot(Ce,be,Ge,gt){for(var It=null,zn=null,$t=be,gn=be=0,Jn=null;$t!==null&&gn<Ge.length;gn++){$t.index>gn?(Jn=$t,$t=null):Jn=$t.sibling;var Wt=pt(Ce,$t,Ge[gn],gt);if(Wt===null){$t===null&&($t=Jn);break}f&&$t&&Wt.alternate===null&&h(Ce,$t),be=W(Wt,be,gn),zn===null?It=Wt:zn.sibling=Wt,zn=Wt,$t=Jn}if(gn===Ge.length)return b(Ce,$t),It;if($t===null){for(;gn<Ge.length;gn++)$t=ct(Ce,Ge[gn],gt),$t!==null&&(be=W($t,be,gn),zn===null?It=$t:zn.sibling=$t,zn=$t);return It}for($t=R(Ce,$t);gn<Ge.length;gn++)Jn=Dt($t,Ce,gn,Ge[gn],gt),Jn!==null&&(f&&Jn.alternate!==null&&$t.delete(Jn.key===null?gn:Jn.key),be=W(Jn,be,gn),zn===null?It=Jn:zn.sibling=Jn,zn=Jn);return f&&$t.forEach(function(yr){return h(Ce,yr)}),It}function on(Ce,be,Ge,gt){var It=q(Ge);if(typeof It!="function")throw Error(a(150));if(Ge=It.call(Ge),Ge==null)throw Error(a(151));for(var zn=It=null,$t=be,gn=be=0,Jn=null,Wt=Ge.next();$t!==null&&!Wt.done;gn++,Wt=Ge.next()){$t.index>gn?(Jn=$t,$t=null):Jn=$t.sibling;var yr=pt(Ce,$t,Wt.value,gt);if(yr===null){$t===null&&($t=Jn);break}f&&$t&&yr.alternate===null&&h(Ce,$t),be=W(yr,be,gn),zn===null?It=yr:zn.sibling=yr,zn=yr,$t=Jn}if(Wt.done)return b(Ce,$t),It;if($t===null){for(;!Wt.done;gn++,Wt=Ge.next())Wt=ct(Ce,Wt.value,gt),Wt!==null&&(be=W(Wt,be,gn),zn===null?It=Wt:zn.sibling=Wt,zn=Wt);return It}for($t=R(Ce,$t);!Wt.done;gn++,Wt=Ge.next())Wt=Dt($t,Ce,gn,Wt.value,gt),Wt!==null&&(f&&Wt.alternate!==null&&$t.delete(Wt.key===null?gn:Wt.key),be=W(Wt,be,gn),zn===null?It=Wt:zn.sibling=Wt,zn=Wt);return f&&$t.forEach(function(id){return h(Ce,id)}),It}return function(Ce,be,Ge,gt){var It=typeof Ge=="object"&&Ge!==null&&Ge.type===m&&Ge.key===null;It&&(Ge=Ge.props.children);var zn=typeof Ge=="object"&&Ge!==null;if(zn)switch(Ge.$$typeof){case c:e:{for(zn=Ge.key,It=be;It!==null;){if(It.key===zn){switch(It.tag){case 7:if(Ge.type===m){b(Ce,It.sibling),be=D(It,Ge.props.children),be.return=Ce,Ce=be;break e}break;default:if(It.elementType===Ge.type){b(Ce,It.sibling),be=D(It,Ge.props),be.ref=Qs(Ce,It,Ge),be.return=Ce,Ce=be;break e}}b(Ce,It);break}else h(Ce,It);It=It.sibling}Ge.type===m?(be=Me(Ge.props.children,Ce.mode,gt,Ge.key),be.return=Ce,Ce=be):(gt=xe(Ge.type,Ge.key,Ge.props,null,Ce.mode,gt),gt.ref=Qs(Ce,be,Ge),gt.return=Ce,Ce=gt)}return se(Ce);case p:e:{for(It=Ge.key;be!==null;){if(be.key===It)if(be.tag===4&&be.stateNode.containerInfo===Ge.containerInfo&&be.stateNode.implementation===Ge.implementation){b(Ce,be.sibling),be=D(be,Ge.children||[]),be.return=Ce,Ce=be;break e}else{b(Ce,be);break}else h(Ce,be);be=be.sibling}be=Oe(Ge,Ce.mode,gt),be.return=Ce,Ce=be}return se(Ce)}if(typeof Ge=="string"||typeof Ge=="number")return Ge=""+Ge,be!==null&&be.tag===6?(b(Ce,be.sibling),be=D(be,Ge),be.return=Ce,Ce=be):(b(Ce,be),be=Le(Ge,Ce.mode,gt),be.return=Ce,Ce=be),se(Ce);if(Ca(Ge))return Ot(Ce,be,Ge,gt);if(q(Ge))return on(Ce,be,Ge,gt);if(zn&&Su(Ce,Ge),typeof Ge=="undefined"&&!It)switch(Ce.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,B(Ce.type)||"Component"))}return b(Ce,be)}}var Ra=Ll(!0),Eu=Ll(!1),Pa={},Ni=cn(Pa),Mu=cn(Pa),To=cn(Pa);function us(f){if(f===Pa)throw Error(a(174));return f}function Ia(f,h){sn(To,h),sn(Mu,f),sn(Ni,Pa),f=ue(h),Pn(Ni),sn(Ni,f)}function La(){Pn(Ni),Pn(Mu),Pn(To)}function Bi(f){var h=us(To.current),b=us(Ni.current);h=j(b,f.type,h),b!==h&&(sn(Mu,f),sn(Ni,h))}function Tu(f){Mu.current===f&&(Pn(Ni),Pn(Mu))}var Qn=cn(0);function Au(f){for(var h=f;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||qe(b)||Ve(b)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&64)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var eo=null,ka=null,to=!1;function Ap(f,h){var b=P(5,null,null,0);b.elementType="DELETED",b.type="DELETED",b.stateNode=h,b.return=f,b.flags=8,f.lastEffect!==null?(f.lastEffect.nextEffect=b,f.lastEffect=b):f.firstEffect=f.lastEffect=b}function Ih(f,h){switch(f.tag){case 5:return h=oe(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,!0):!1;case 6:return h=Fe(h,f.pendingProps),h!==null?(f.stateNode=h,!0):!1;case 13:return!1;default:return!1}}function Kc(f){if(to){var h=ka;if(h){var b=h;if(!Ih(f,h)){if(h=Je(b),!h||!Ih(f,h)){f.flags=f.flags&-1025|2,to=!1,eo=f;return}Ap(eo,b)}eo=f,ka=qt(h)}else f.flags=f.flags&-1025|2,to=!1,eo=f}}function Da(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;eo=f}function Jc(f){if(!ye||f!==eo)return!1;if(!to)return Da(f),to=!0,!1;var h=f.type;if(f.tag!==5||h!=="head"&&h!=="body"&&!rt(h,f.memoizedProps))for(h=ka;h;)Ap(f,h),h=Je(h);if(Da(f),f.tag===13){if(!ye)throw Error(a(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));ka=an(f)}else ka=eo?Je(f.stateNode):null;return!0}function Lh(){ye&&(ka=eo=null,to=!1)}var no=[];function Cu(){for(var f=0;f<no.length;f++){var h=no[f];$e?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}no.length=0}var Ji=l.ReactCurrentDispatcher,yi=l.ReactCurrentBatchConfig,kl=0,hr=null,_i=null,gr=null,Ui=!1,Dl=!1;function Hi(){throw Error(a(321))}function kh(f,h){if(h===null)return!1;for(var b=0;b<h.length&&b<f.length;b++)if(!Ki(f[b],h[b]))return!1;return!0}function Dh(f,h,b,R,D,W){if(kl=W,hr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ji.current=f===null||f.memoizedState===null?Gg:nf,f=b(R,D),Dl){W=0;do{if(Dl=!1,!(25>W))throw Error(a(301));W+=1,gr=_i=null,h.updateQueue=null,Ji.current=Ko,f=b(R,D)}while(Dl)}if(Ji.current=tf,h=_i!==null&&_i.next!==null,kl=0,gr=_i=hr=null,Ui=!1,h)throw Error(a(300));return f}function Ao(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?hr.memoizedState=gr=f:gr=gr.next=f,gr}function ro(){if(_i===null){var f=hr.alternate;f=f!==null?f.memoizedState:null}else f=_i.next;var h=gr===null?hr.memoizedState:gr.next;if(h!==null)gr=h,_i=f;else{if(f===null)throw Error(a(310));_i=f,f={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},gr===null?hr.memoizedState=gr=f:gr=gr.next=f}return gr}function ri(f,h){return typeof h=="function"?h(f):h}function Ae(f){var h=ro(),b=h.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=f;var R=_i,D=R.baseQueue,W=b.pending;if(W!==null){if(D!==null){var se=D.next;D.next=W.next,W.next=se}R.baseQueue=D=W,b.pending=null}if(D!==null){D=D.next,R=R.baseState;var me=se=W=null,ve=D;do{var je=ve.lane;if((kl&je)===je)me!==null&&(me=me.next={lane:0,action:ve.action,eagerReducer:ve.eagerReducer,eagerState:ve.eagerState,next:null}),R=ve.eagerReducer===f?ve.eagerState:f(R,ve.action);else{var lt={lane:je,action:ve.action,eagerReducer:ve.eagerReducer,eagerState:ve.eagerState,next:null};me===null?(se=me=lt,W=R):me=me.next=lt,hr.lanes|=je,Hu|=je}ve=ve.next}while(ve!==null&&ve!==D);me===null?W=R:me.next=se,Ki(R,h.memoizedState)||(cs=!0),h.memoizedState=R,h.baseState=W,h.baseQueue=me,b.lastRenderedState=R}return[h.memoizedState,b.dispatch]}function Ye(f){var h=ro(),b=h.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=f;var R=b.dispatch,D=b.pending,W=h.memoizedState;if(D!==null){b.pending=null;var se=D=D.next;do W=f(W,se.action),se=se.next;while(se!==D);Ki(W,h.memoizedState)||(cs=!0),h.memoizedState=W,h.baseQueue===null&&(h.baseState=W),b.lastRenderedState=W}return[W,R]}function Ne(f,h,b){var R=h._getVersion;R=R(h._source);var D=$e?h._workInProgressVersionPrimary:h._workInProgressVersionSecondary;if(D!==null?f=D===R:(f=f.mutableReadLanes,(f=(kl&f)===f)&&($e?h._workInProgressVersionPrimary=R:h._workInProgressVersionSecondary=R,no.push(h))),f)return b(h._source);throw no.push(h),Error(a(350))}function Mt(f,h,b,R){var D=ar;if(D===null)throw Error(a(349));var W=h._getVersion,se=W(h._source),me=Ji.current,ve=me.useState(function(){return Ne(D,h,b)}),je=ve[1],lt=ve[0];ve=gr;var ct=f.memoizedState,pt=ct.refs,Dt=pt.getSnapshot,Ot=ct.source;ct=ct.subscribe;var on=hr;return f.memoizedState={refs:pt,source:h,subscribe:R},me.useEffect(function(){pt.getSnapshot=b,pt.setSnapshot=je;var Ce=W(h._source);if(!Ki(se,Ce)){Ce=b(h._source),Ki(lt,Ce)||(je(Ce),Ce=ai(on),D.mutableReadLanes|=Ce&D.pendingLanes),Ce=D.mutableReadLanes,D.entangledLanes|=Ce;for(var be=D.entanglements,Ge=Ce;0<Ge;){var gt=31-Xi(Ge),It=1<<gt;be[gt]|=Ce,Ge&=~It}}},[b,h,R]),me.useEffect(function(){return R(h._source,function(){var Ce=pt.getSnapshot,be=pt.setSnapshot;try{be(Ce(h._source));var Ge=ai(on);D.mutableReadLanes|=Ge&D.pendingLanes}catch(gt){be(function(){throw gt})}})},[h,R]),Ki(Dt,b)&&Ki(Ot,h)&&Ki(ct,R)||(f={pending:null,dispatch:null,lastRenderedReducer:ri,lastRenderedState:lt},f.dispatch=je=zh.bind(null,hr,f),ve.queue=f,ve.baseQueue=null,lt=Ne(D,h,b),ve.memoizedState=ve.baseState=lt),lt}function Qt(f,h,b){var R=ro();return Mt(R,f,h,b)}function In(f){var h=Ao();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f=h.queue={pending:null,dispatch:null,lastRenderedReducer:ri,lastRenderedState:f},f=f.dispatch=zh.bind(null,hr,f),[h.memoizedState,f]}function vr(f,h,b,R){return f={tag:f,create:h,destroy:b,deps:R,next:null},h=hr.updateQueue,h===null?(h={lastEffect:null},hr.updateQueue=h,h.lastEffect=f.next=f):(b=h.lastEffect,b===null?h.lastEffect=f.next=f:(R=b.next,b.next=f,f.next=R,h.lastEffect=f)),f}function Wn(f){var h=Ao();return f={current:f},h.memoizedState=f}function Ol(){return ro().memoizedState}function zl(f,h,b,R){var D=Ao();hr.flags|=f,D.memoizedState=vr(1|h,b,void 0,R===void 0?null:R)}function Wi(f,h,b,R){var D=ro();R=R===void 0?null:R;var W=void 0;if(_i!==null){var se=_i.memoizedState;if(W=se.destroy,R!==null&&kh(R,se.deps)){vr(h,b,W,R);return}}hr.flags|=f,D.memoizedState=vr(1|h,b,W,R)}function Ru(f,h){return zl(516,4,f,h)}function Pu(f,h){return Wi(516,4,f,h)}function Co(f,h){return Wi(4,2,f,h)}function Iu(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function Lu(f,h,b){return b=b!=null?b.concat([f]):null,Wi(4,2,Iu.bind(null,h,f),b)}function Bn(){}function Oh(f,h){var b=ro();h=h===void 0?null:h;var R=b.memoizedState;return R!==null&&h!==null&&kh(h,R[1])?R[0]:(b.memoizedState=[f,h],f)}function Qc(f,h){var b=ro();h=h===void 0?null:h;var R=b.memoizedState;return R!==null&&h!==null&&kh(h,R[1])?R[0]:(f=f(),b.memoizedState=[f,h],f)}function ef(f,h){var b=Nn();Ts(98>b?98:b,function(){f(!0)}),Ts(97<b?97:b,function(){var R=yi.transition;yi.transition=1;try{f(!1),h()}finally{yi.transition=R}})}function zh(f,h,b){var R=Li(),D=ai(f),W={lane:D,action:b,eagerReducer:null,eagerState:null,next:null},se=h.pending;if(se===null?W.next=W:(W.next=se.next,se.next=W),h.pending=W,se=f.alternate,f===hr||se!==null&&se===hr)Dl=Ui=!0;else{if(f.lanes===0&&(se===null||se.lanes===0)&&(se=h.lastRenderedReducer,se!==null))try{var me=h.lastRenderedState,ve=se(me,b);if(W.eagerReducer=se,W.eagerState=ve,Ki(ve,me))return}catch{}finally{}Ps(f,D,R)}}var tf={readContext:ls,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useOpaqueIdentifier:Hi,unstable_isNewReconciler:!1},Gg={readContext:ls,useCallback:function(f,h){return Ao().memoizedState=[f,h===void 0?null:h],f},useContext:ls,useEffect:Ru,useImperativeHandle:function(f,h,b){return b=b!=null?b.concat([f]):null,zl(4,2,Iu.bind(null,h,f),b)},useLayoutEffect:function(f,h){return zl(4,2,f,h)},useMemo:function(f,h){var b=Ao();return h=h===void 0?null:h,f=f(),b.memoizedState=[f,h],f},useReducer:function(f,h,b){var R=Ao();return h=b!==void 0?b(h):h,R.memoizedState=R.baseState=h,f=R.queue={pending:null,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},f=f.dispatch=zh.bind(null,hr,f),[R.memoizedState,f]},useRef:Wn,useState:In,useDebugValue:Bn,useDeferredValue:function(f){var h=In(f),b=h[0],R=h[1];return Ru(function(){var D=yi.transition;yi.transition=1;try{R(f)}finally{yi.transition=D}},[f]),b},useTransition:function(){var f=In(!1),h=f[0];return f=ef.bind(null,f[1]),Wn(f),[f,h]},useMutableSource:function(f,h,b){var R=Ao();return R.memoizedState={refs:{getSnapshot:h,setSnapshot:null},source:f,subscribe:b},Mt(R,f,h,b)},useOpaqueIdentifier:function(){if(to){var f=!1,h=J(function(){throw f||(f=!0,b(de())),Error(a(355))}),b=In(h)[1];return(hr.mode&2)===0&&(hr.flags|=516,vr(5,function(){b(de())},void 0,null)),h}return h=de(),In(h),h},unstable_isNewReconciler:!1},nf={readContext:ls,useCallback:Oh,useContext:ls,useEffect:Pu,useImperativeHandle:Lu,useLayoutEffect:Co,useMemo:Qc,useReducer:Ae,useRef:Ol,useState:function(){return Ae(ri)},useDebugValue:Bn,useDeferredValue:function(f){var h=Ae(ri),b=h[0],R=h[1];return Pu(function(){var D=yi.transition;yi.transition=1;try{R(f)}finally{yi.transition=D}},[f]),b},useTransition:function(){var f=Ae(ri)[0];return[Ol().current,f]},useMutableSource:Qt,useOpaqueIdentifier:function(){return Ae(ri)[0]},unstable_isNewReconciler:!1},Ko={readContext:ls,useCallback:Oh,useContext:ls,useEffect:Pu,useImperativeHandle:Lu,useLayoutEffect:Co,useMemo:Qc,useReducer:Ye,useRef:Ol,useState:function(){return Ye(ri)},useDebugValue:Bn,useDeferredValue:function(f){var h=Ye(ri),b=h[0],R=h[1];return Pu(function(){var D=yi.transition;yi.transition=1;try{R(f)}finally{yi.transition=D}},[f]),b},useTransition:function(){var f=Ye(ri)[0];return[Ol().current,f]},useMutableSource:Qt,useOpaqueIdentifier:function(){return Ye(ri)[0]},unstable_isNewReconciler:!1},rf=l.ReactCurrentOwner,cs=!1;function ii(f,h,b,R){h.child=f===null?Eu(h,null,b,R):Ra(h,f.child,b,R)}function Fh(f,h,b,R,D){b=b.render;var W=h.ref;return Zr(h,D),R=Dh(f,h,b,R,W,D),f!==null&&!cs?(h.updateQueue=f.updateQueue,h.flags&=-517,f.lanes&=~D,Kn(f,h,D)):(h.flags|=1,ii(f,h,R,D),h.child)}function Nh(f,h,b,R,D,W){if(f===null){var se=b.type;return typeof se=="function"&&!N(se)&&se.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(h.tag=15,h.type=se,ku(f,h,se,R,D,W)):(f=xe(b.type,null,R,h,h.mode,W),f.ref=h.ref,f.return=h,h.child=f)}return se=f.child,(D&W)===0&&(D=se.memoizedProps,b=b.compare,b=b!==null?b:Pl,b(D,R)&&f.ref===h.ref)?Kn(f,h,W):(h.flags|=1,f=Q(se,R),f.ref=h.ref,f.return=h,h.child=f)}function ku(f,h,b,R,D,W){if(f!==null&&Pl(f.memoizedProps,R)&&f.ref===h.ref)if(cs=!1,(W&D)!==0)(f.flags&16384)!==0&&(cs=!0);else return h.lanes=f.lanes,Kn(f,h,W);return io(f,h,b,R,W)}function sf(f,h,b){var R=h.pendingProps,D=R.children,W=f!==null?f.memoizedState:null;if(R.mode==="hidden"||R.mode==="unstable-defer-without-hiding")if((h.mode&4)===0)h.memoizedState={baseLanes:0},ja(h,b);else if((b&1073741824)!==0)h.memoizedState={baseLanes:0},ja(h,W!==null?W.baseLanes:b);else return f=W!==null?W.baseLanes|b:b,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f},ja(h,f),null;else W!==null?(R=W.baseLanes|b,h.memoizedState=null):R=b,ja(h,R);return ii(f,h,D,b),h.child}function Fl(f,h){var b=h.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(h.flags|=128)}function io(f,h,b,R,D){var W=sr(b)?os:rr.current;return W=ir(h,W),Zr(h,D),b=Dh(f,h,b,R,W,D),f!==null&&!cs?(h.updateQueue=f.updateQueue,h.flags&=-517,f.lanes&=~D,Kn(f,h,D)):(h.flags|=1,ii(f,h,b,D),h.child)}function Nl(f,h,b,R,D){if(sr(b)){var W=!0;pu(h)}else W=!1;if(Zr(h,D),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),Mp(h,b,R),Zc(h,b,R,D),R=!0;else if(f===null){var se=h.stateNode,me=h.memoizedProps;se.props=me;var ve=se.context,je=b.contextType;typeof je=="object"&&je!==null?je=ls(je):(je=sr(b)?os:rr.current,je=ir(h,je));var lt=b.getDerivedStateFromProps,ct=typeof lt=="function"||typeof se.getSnapshotBeforeUpdate=="function";ct||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(me!==R||ve!==je)&&Tp(h,se,R,je),Fr=!1;var pt=h.memoizedState;se.state=pt,Zn(h,R,se,D),ve=h.memoizedState,me!==R||pt!==ve||Er.current||Fr?(typeof lt=="function"&&(Xc(h,b,lt,R),ve=h.memoizedState),(me=Fr||Ep(h,b,me,R,pt,ve,je))?(ct||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(h.flags|=4)):(typeof se.componentDidMount=="function"&&(h.flags|=4),h.memoizedProps=R,h.memoizedState=ve),se.props=R,se.state=ve,se.context=je,R=me):(typeof se.componentDidMount=="function"&&(h.flags|=4),R=!1)}else{se=h.stateNode,Ph(f,h),me=h.memoizedProps,je=h.type===h.elementType?me:as(h.type,me),se.props=je,ct=h.pendingProps,pt=se.context,ve=b.contextType,typeof ve=="object"&&ve!==null?ve=ls(ve):(ve=sr(b)?os:rr.current,ve=ir(h,ve));var Dt=b.getDerivedStateFromProps;(lt=typeof Dt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(me!==ct||pt!==ve)&&Tp(h,se,R,ve),Fr=!1,pt=h.memoizedState,se.state=pt,Zn(h,R,se,D);var Ot=h.memoizedState;me!==ct||pt!==Ot||Er.current||Fr?(typeof Dt=="function"&&(Xc(h,b,Dt,R),Ot=h.memoizedState),(je=Fr||Ep(h,b,je,R,pt,Ot,ve))?(lt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(R,Ot,ve),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(R,Ot,ve)),typeof se.componentDidUpdate=="function"&&(h.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(h.flags|=256)):(typeof se.componentDidUpdate!="function"||me===f.memoizedProps&&pt===f.memoizedState||(h.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||me===f.memoizedProps&&pt===f.memoizedState||(h.flags|=256),h.memoizedProps=R,h.memoizedState=Ot),se.props=R,se.state=Ot,se.context=ve,R=je):(typeof se.componentDidUpdate!="function"||me===f.memoizedProps&&pt===f.memoizedState||(h.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||me===f.memoizedProps&&pt===f.memoizedState||(h.flags|=256),R=!1)}return Bh(f,h,b,R,W,D)}function Bh(f,h,b,R,D,W){Fl(f,h);var se=(h.flags&64)!==0;if(!R&&!se)return D&&Eh(h,b,!1),Kn(f,h,W);R=h.stateNode,rf.current=h;var me=se&&typeof b.getDerivedStateFromError!="function"?null:R.render();return h.flags|=1,f!==null&&se?(h.child=Ra(h,f.child,null,W),h.child=Ra(h,null,me,W)):ii(f,h,me,W),h.memoizedState=R.state,D&&Eh(h,b,!0),h.child}function Uh(f){var h=f.stateNode;h.pendingContext?Yr(f,h.pendingContext,h.pendingContext!==h.context):h.context&&Yr(f,h.context,!1),Ia(f,h.containerInfo)}var of={dehydrated:null,retryLane:0};function Du(f,h,b){var R=h.pendingProps,D=Qn.current,W=!1,se;return(se=(h.flags&64)!==0)||(se=f!==null&&f.memoizedState===null?!1:(D&2)!==0),se?(W=!0,h.flags&=-65):f!==null&&f.memoizedState===null||R.fallback===void 0||R.unstable_avoidThisFallback===!0||(D|=1),sn(Qn,D&1),f===null?(R.fallback!==void 0&&Kc(h),f=R.children,D=R.fallback,W?(f=Cs(h,f,D,b),h.child.memoizedState={baseLanes:b},h.memoizedState=of,f):typeof R.unstable_expectedLoadTime=="number"?(f=Cs(h,f,D,b),h.child.memoizedState={baseLanes:b},h.memoizedState=of,h.lanes=33554432,f):(b=pe({mode:"visible",children:f},h.mode,b,null),b.return=h,h.child=b)):f.memoizedState!==null?W?(R=Cp(f,h,R.children,R.fallback,b),W=h.child,D=f.child.memoizedState,W.memoizedState=D===null?{baseLanes:b}:{baseLanes:D.baseLanes|b},W.childLanes=f.childLanes&~b,h.memoizedState=of,R):(b=af(f,h,R.children,b),h.memoizedState=null,b):W?(R=Cp(f,h,R.children,R.fallback,b),W=h.child,D=f.child.memoizedState,W.memoizedState=D===null?{baseLanes:b}:{baseLanes:D.baseLanes|b},W.childLanes=f.childLanes&~b,h.memoizedState=of,R):(b=af(f,h,R.children,b),h.memoizedState=null,b)}function Cs(f,h,b,R){var D=f.mode,W=f.child;return h={mode:"hidden",children:h},(D&2)===0&&W!==null?(W.childLanes=0,W.pendingProps=h):W=pe(h,D,0,null),b=Me(b,D,R,null),W.return=f,b.return=f,W.sibling=b,f.child=W,b}function af(f,h,b,R){var D=f.child;return f=D.sibling,b=Q(D,{mode:"visible",children:b}),(h.mode&2)===0&&(b.lanes=R),b.return=h,b.sibling=null,f!==null&&(f.nextEffect=null,f.flags=8,h.firstEffect=h.lastEffect=f),h.child=b}function Cp(f,h,b,R,D){var W=h.mode,se=f.child;f=se.sibling;var me={mode:"hidden",children:b};return(W&2)===0&&h.child!==se?(b=h.child,b.childLanes=0,b.pendingProps=me,se=b.lastEffect,se!==null?(h.firstEffect=b.firstEffect,h.lastEffect=se,se.nextEffect=null):h.firstEffect=h.lastEffect=null):b=Q(se,me),f!==null?R=Q(f,R):(R=Me(R,W,D,null),R.flags|=2),R.return=h,b.return=h,b.sibling=R,h.child=b,R}function Jo(f,h){f.lanes|=h;var b=f.alternate;b!==null&&(b.lanes|=h),Ch(f.return,h)}function Hh(f,h,b,R,D,W){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:R,tail:b,tailMode:D,lastEffect:W}:(se.isBackwards=h,se.rendering=null,se.renderingStartTime=0,se.last=R,se.tail=b,se.tailMode=D,se.lastEffect=W)}function Rp(f,h,b){var R=h.pendingProps,D=R.revealOrder,W=R.tail;if(ii(f,h,R.children,b),R=Qn.current,(R&2)!==0)R=R&1|2,h.flags|=64;else{if(f!==null&&(f.flags&64)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Jo(f,b);else if(f.tag===19)Jo(f,b);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}R&=1}if(sn(Qn,R),(h.mode&2)===0)h.memoizedState=null;else switch(D){case"forwards":for(b=h.child,D=null;b!==null;)f=b.alternate,f!==null&&Au(f)===null&&(D=b),b=b.sibling;b=D,b===null?(D=h.child,h.child=null):(D=b.sibling,b.sibling=null),Hh(h,!1,D,b,W,h.lastEffect);break;case"backwards":for(b=null,D=h.child,h.child=null;D!==null;){if(f=D.alternate,f!==null&&Au(f)===null){h.child=D;break}f=D.sibling,D.sibling=b,b=D,D=f}Hh(h,!0,b,null,W,h.lastEffect);break;case"together":Hh(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function Kn(f,h,b){if(f!==null&&(h.dependencies=f.dependencies),Hu|=h.lanes,(b&h.childLanes)!==0){if(f!==null&&h.child!==f.child)throw Error(a(153));if(h.child!==null){for(f=h.child,b=Q(f,f.pendingProps),h.child=b,b.return=h;f.sibling!==null;)f=f.sibling,b=b.sibling=Q(f,f.pendingProps),b.return=h;b.sibling=null}return h.child}return null}function or(f){f.flags|=4}var Ou,Oa,si,zu;if(O)Ou=function(f,h){for(var b=h.child;b!==null;){if(b.tag===5||b.tag===6)Pe(f,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Oa=function(){},si=function(f,h,b,R,D){if(f=f.memoizedProps,f!==R){var W=h.stateNode,se=us(Ni.current);b=bt(W,b,f,R,D,se),(h.updateQueue=b)&&or(h)}},zu=function(f,h,b,R){b!==R&&or(h)};else if(Te){Ou=function(f,h,b,R){for(var D=h.child;D!==null;){if(D.tag===5){var W=D.stateNode;b&&R&&(W=Al(W,D.type,D.memoizedProps,D)),Pe(f,W)}else if(D.tag===6)W=D.stateNode,b&&R&&(W=du(W,D.memoizedProps,D)),Pe(f,W);else if(D.tag!==4){if(D.tag===13&&(D.flags&4)!==0&&(W=D.memoizedState!==null)){var se=D.child;if(se!==null&&(se.child!==null&&(se.child.return=se,Ou(f,se,!0,W)),W=se.sibling,W!==null)){W.return=D,D=W;continue}}if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===h)break;for(;D.sibling===null;){if(D.return===null||D.return===h)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var Fu=function(f,h,b,R){for(var D=h.child;D!==null;){if(D.tag===5){var W=D.stateNode;b&&R&&(W=Al(W,D.type,D.memoizedProps,D)),Tl(f,W)}else if(D.tag===6)W=D.stateNode,b&&R&&(W=du(W,D.memoizedProps,D)),Tl(f,W);else if(D.tag!==4){if(D.tag===13&&(D.flags&4)!==0&&(W=D.memoizedState!==null)){var se=D.child;if(se!==null&&(se.child!==null&&(se.child.return=se,Fu(f,se,!0,W)),W=se.sibling,W!==null)){W.return=D,D=W;continue}}if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===h)break;for(;D.sibling===null;){if(D.return===null||D.return===h)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};Oa=function(f){var h=f.stateNode;if(f.firstEffect!==null){var b=h.containerInfo,R=hu(b);Fu(R,f,!1,!1),h.pendingChildren=R,or(f),Nc(b,R)}},si=function(f,h,b,R,D){var W=f.stateNode,se=f.memoizedProps;if((f=h.firstEffect===null)&&se===R)h.stateNode=W;else{var me=h.stateNode,ve=us(Ni.current),je=null;se!==R&&(je=bt(me,b,se,R,D,ve)),f&&je===null?h.stateNode=W:(W=Ml(W,je,b,se,R,h,f,me),ke(W,b,R,D,ve)&&or(h),h.stateNode=W,f?or(h):Ou(W,h,!1,!1))}},zu=function(f,h,b,R){b!==R?(f=us(To.current),b=us(Ni.current),h.stateNode=ut(R,f,b,h),or(h)):h.stateNode=f.stateNode}}else Oa=function(){},si=function(){},zu=function(){};function fs(f,h){if(!to)switch(f.tailMode){case"hidden":h=f.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var R=null;b!==null;)b.alternate!==null&&(R=b),b=b.sibling;R===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:R.sibling=null}}function lf(f,h,b){var R=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return sr(h.type)&&Js(),null;case 3:return La(),Pn(Er),Pn(rr),Cu(),R=h.stateNode,R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(f===null||f.child===null)&&(Jc(h)?or(h):R.hydrate||(h.flags|=256)),Oa(h),null;case 5:Tu(h);var D=us(To.current);if(b=h.type,f!==null&&h.stateNode!=null)si(f,h,b,R,D),f.ref!==h.ref&&(h.flags|=128);else{if(!R){if(h.stateNode===null)throw Error(a(166));return null}if(f=us(Ni.current),Jc(h)){if(!ye)throw Error(a(175));f=tn(h.stateNode,h.type,h.memoizedProps,D,f,h),h.updateQueue=f,f!==null&&or(h)}else{var W=Re(b,R,D,f,h);Ou(W,h,!1,!1),h.stateNode=W,ke(W,b,R,D,f)&&or(h)}h.ref!==null&&(h.flags|=128)}return null;case 6:if(f&&h.stateNode!=null)zu(f,h,f.memoizedProps,R);else{if(typeof R!="string"&&h.stateNode===null)throw Error(a(166));if(f=us(To.current),D=us(Ni.current),Jc(h)){if(!ye)throw Error(a(176));un(h.stateNode,h.memoizedProps,h)&&or(h)}else h.stateNode=ut(R,f,D,h)}return null;case 13:return Pn(Qn),R=h.memoizedState,(h.flags&64)!==0?(h.lanes=b,h):(R=R!==null,D=!1,f===null?h.memoizedProps.fallback!==void 0&&Jc(h):D=f.memoizedState!==null,R&&!D&&(h.mode&2)!==0&&(f===null&&h.memoizedProps.unstable_avoidThisFallback!==!0||(Qn.current&1)!==0?oi===0&&(oi=3):((oi===0||oi===3)&&(oi=4),ar===null||(Hu&134217727)===0&&(Vl&134217727)===0||Tr(ar,Mr))),Te&&R&&(h.flags|=4),O&&(R||D)&&(h.flags|=4),null);case 4:return La(),Oa(h),f===null&&G(h.stateNode.containerInfo),null;case 10:return qc(h),null;case 17:return sr(h.type)&&Js(),null;case 19:if(Pn(Qn),R=h.memoizedState,R===null)return null;if(D=(h.flags&64)!==0,W=R.rendering,W===null)if(D)fs(R,!1);else{if(oi!==0||f!==null&&(f.flags&64)!==0)for(f=h.child;f!==null;){if(W=Au(f),W!==null){for(h.flags|=64,fs(R,!1),f=W.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),R.lastEffect===null&&(h.firstEffect=null),h.lastEffect=R.lastEffect,f=b,R=h.child;R!==null;)D=R,b=f,D.flags&=2,D.nextEffect=null,D.firstEffect=null,D.lastEffect=null,W=D.alternate,W===null?(D.childLanes=0,D.lanes=b,D.child=null,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=W.childLanes,D.lanes=W.lanes,D.child=W.child,D.memoizedProps=W.memoizedProps,D.memoizedState=W.memoizedState,D.updateQueue=W.updateQueue,D.type=W.type,b=W.dependencies,D.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),R=R.sibling;return sn(Qn,Qn.current&1|2),h.child}f=f.sibling}R.tail!==null&&ln()>oo&&(h.flags|=64,D=!0,fs(R,!1),h.lanes=33554432)}else{if(!D)if(f=Au(W),f!==null){if(h.flags|=64,D=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),fs(R,!0),R.tail===null&&R.tailMode==="hidden"&&!W.alternate&&!to)return h=h.lastEffect=R.lastEffect,h!==null&&(h.nextEffect=null),null}else 2*ln()-R.renderingStartTime>oo&&b!==1073741824&&(h.flags|=64,D=!0,fs(R,!1),h.lanes=33554432);R.isBackwards?(W.sibling=h.child,h.child=W):(f=R.last,f!==null?f.sibling=W:h.child=W,R.last=W)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.lastEffect=h.lastEffect,R.renderingStartTime=ln(),f.sibling=null,h=Qn.current,sn(Qn,D?h&1|2:h&1),f):null;case 23:case 24:return gf(),f!==null&&f.memoizedState!==null!=(h.memoizedState!==null)&&R.mode!=="unstable-defer-without-hiding"&&(h.flags|=4),null}throw Error(a(156,h.tag))}function za(f){switch(f.tag){case 1:sr(f.type)&&Js();var h=f.flags;return h&4096?(f.flags=h&-4097|64,f):null;case 3:if(La(),Pn(Er),Pn(rr),Cu(),h=f.flags,(h&64)!==0)throw Error(a(285));return f.flags=h&-4097|64,f;case 5:return Tu(f),null;case 13:return Pn(Qn),h=f.flags,h&4096?(f.flags=h&-4097|64,f):null;case 19:return Pn(Qn),null;case 4:return La(),null;case 10:return qc(f),null;case 23:case 24:return gf(),null;default:return null}}function Fa(f,h){try{var b="",R=h;do b+=Ma(R),R=R.return;while(R);var D=b}catch(W){D=`
Error generating stack: `+W.message+`
`+W.stack}return{value:f,source:h,stack:D}}function Qo(f,h){try{console.error(h.value)}catch(b){setTimeout(function(){throw b})}}var Bl=typeof WeakMap=="function"?WeakMap:Map;function Na(f,h,b){b=Ii(-1,b),b.tag=3,b.payload={element:null};var R=h.value;return b.callback=function(){ps||(ps=!0,Vu=R),Qo(f,h)},b}function Wh(f,h,b){b=Ii(-1,b),b.tag=3;var R=f.type.getDerivedStateFromError;if(typeof R=="function"){var D=h.value;b.payload=function(){return Qo(f,h),R(D)}}var W=f.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(b.callback=function(){typeof R!="function"&&(bi===null?bi=new Set([this]):bi.add(this),Qo(f,h));var se=h.stack;this.componentDidCatch(h.value,{componentStack:se!==null?se:""})}),b}var Pp=typeof WeakSet=="function"?WeakSet:Set;function Ip(f){var h=f.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(b){Do(f,b)}else h.current=null}function $g(f,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(h.flags&256&&f!==null){var b=f.memoizedProps,R=f.memoizedState;f=h.stateNode,h=f.getSnapshotBeforeUpdate(h.elementType===h.type?b:as(h.type,b),R),f.__reactInternalSnapshotBeforeUpdate=h}return;case 3:O&&h.flags&256&&fu(h.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Lp(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&f)===f){var R=b.destroy;b.destroy=void 0,R!==void 0&&R()}b=b.next}while(b!==h)}}function Ul(f,h,b){switch(b.tag){case 0:case 11:case 15:case 22:if(h=b.updateQueue,h=h!==null?h.lastEffect:null,h!==null){f=h=h.next;do{if((f.tag&3)===3){var R=f.create;f.destroy=R()}f=f.next}while(f!==h)}if(h=b.updateQueue,h=h!==null?h.lastEffect:null,h!==null){f=h=h.next;do{var D=f;R=D.next,D=D.tag,(D&4)!==0&&(D&1)!==0&&(yf(b,f),nd(b,f)),f=R}while(f!==h)}return;case 1:f=b.stateNode,b.flags&4&&(h===null?f.componentDidMount():(R=b.elementType===b.type?h.memoizedProps:as(b.type,h.memoizedProps),f.componentDidUpdate(R,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate))),h=b.updateQueue,h!==null&&Mo(b,h,f);return;case 3:if(h=b.updateQueue,h!==null){if(f=null,b.child!==null)switch(b.child.tag){case 5:f=ie(b.child.stateNode);break;case 1:f=b.child.stateNode}Mo(b,h,f)}return;case 5:f=b.stateNode,h===null&&b.flags&4&&dt(f,b.type,b.memoizedProps,b);return;case 6:return;case 4:return;case 12:return;case 13:ye&&b.memoizedState===null&&(b=b.alternate,b!==null&&(b=b.memoizedState,b!==null&&(b=b.dehydrated,b!==null&&Mn(b))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function Rs(f,h){if(O)for(var b=f;;){if(b.tag===5){var R=b.stateNode;h?Rn(R):ni(b.stateNode,b.memoizedProps)}else if(b.tag===6)R=b.stateNode,h?rn(R):is(R,b.memoizedProps);else if((b.tag!==23&&b.tag!==24||b.memoizedState===null||b===f)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}}function Vh(f,h){if(Eo&&typeof Eo.onCommitFiberUnmount=="function")try{Eo.onCommitFiberUnmount(Uc,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:case 22:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var b=f=f.next;do{var R=b,D=R.destroy;if(R=R.tag,D!==void 0)if((R&4)!==0)yf(h,b);else{R=h;try{D()}catch(W){Do(R,W)}}b=b.next}while(b!==f)}break;case 1:if(Ip(h),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(W){Do(h,W)}break;case 5:Ip(h);break;case 4:O?kp(f,h):Te&&Te&&(h=h.stateNode.containerInfo,f=hu(h),Bc(h,f))}}function X(f,h){for(var b=h;;)if(Vh(f,b),b.child===null||O&&b.tag===4){if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function Ba(f){f.alternate=null,f.child=null,f.dependencies=null,f.firstEffect=null,f.lastEffect=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.return=null,f.updateQueue=null}function Hl(f){return f.tag===5||f.tag===3||f.tag===4}function Kr(f){if(O){e:{for(var h=f.return;h!==null;){if(Hl(h))break e;h=h.return}throw Error(a(160))}var b=h;switch(h=b.stateNode,b.tag){case 5:var R=!1;break;case 3:h=h.containerInfo,R=!0;break;case 4:h=h.containerInfo,R=!0;break;default:throw Error(a(161))}b.flags&16&&(Gt(h),b.flags&=-17);e:t:for(b=f;;){for(;b.sibling===null;){if(b.return===null||Hl(b.return)){b=null;break e}b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue t;b.child.return=b,b=b.child}if(!(b.flags&2)){b=b.stateNode;break e}}R?wn(f,b,h):uf(f,b,h)}}function wn(f,h,b){var R=f.tag,D=R===5||R===6;if(D)f=D?f.stateNode:f.stateNode.instance,h?vt(b,f,h):_t(b,f);else if(R!==4&&(f=f.child,f!==null))for(wn(f,h,b),f=f.sibling;f!==null;)wn(f,h,b),f=f.sibling}function uf(f,h,b){var R=f.tag,D=R===5||R===6;if(D)f=D?f.stateNode:f.stateNode.instance,h?Pt(b,f,h):Ft(b,f);else if(R!==4&&(f=f.child,f!==null))for(uf(f,h,b),f=f.sibling;f!==null;)uf(f,h,b),f=f.sibling}function kp(f,h){for(var b=h,R=!1,D,W;;){if(!R){R=b.return;e:for(;;){if(R===null)throw Error(a(160));switch(D=R.stateNode,R.tag){case 5:W=!1;break e;case 3:D=D.containerInfo,W=!0;break e;case 4:D=D.containerInfo,W=!0;break e}R=R.return}R=!0}if(b.tag===5||b.tag===6)X(f,b),W?mt(D,b.stateNode):Ut(D,b.stateNode);else if(b.tag===4){if(b.child!==null){D=b.stateNode.containerInfo,W=!0,b.child.return=b,b=b.child;continue}}else if(Vh(f,b),b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return,b.tag===4&&(R=!1)}b.sibling.return=b.return,b=b.sibling}}function Gh(f,h){if(O){switch(h.tag){case 0:case 11:case 14:case 15:case 22:Lp(3,h);return;case 1:return;case 5:var b=h.stateNode;if(b!=null){var R=h.memoizedProps;f=f!==null?f.memoizedProps:R;var D=h.type,W=h.updateQueue;h.updateQueue=null,W!==null&&ht(b,W,D,f,R,h)}return;case 6:if(h.stateNode===null)throw Error(a(162));b=h.memoizedProps,ge(h.stateNode,f!==null?f.memoizedProps:b,b);return;case 3:ye&&(h=h.stateNode,h.hydrate&&(h.hydrate=!1,Dn(h.containerInfo)));return;case 12:return;case 13:ea(h),cf(h);return;case 19:cf(h);return;case 17:return;case 23:case 24:Rs(h,h.memoizedState!==null);return}throw Error(a(163))}switch(h.tag){case 0:case 11:case 14:case 15:case 22:Lp(3,h);return;case 12:return;case 13:ea(h),cf(h);return;case 19:cf(h);return;case 3:ye&&(b=h.stateNode,b.hydrate&&(b.hydrate=!1,Dn(b.containerInfo)));break;case 23:case 24:return}e:if(Te){switch(h.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:h=h.stateNode,Bc(h.containerInfo,h.pendingChildren);break e}throw Error(a(163))}}function ea(f){f.memoizedState!==null&&(xi=ln(),O&&Rs(f.child,!0))}function cf(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new Pp),h.forEach(function(R){var D=rd.bind(null,f,R);b.has(R)||(b.add(R),R.then(D,D))})}}function jg(f,h){return f!==null&&(f=f.memoizedState,f===null||f.dehydrated!==null)?(h=h.memoizedState,h!==null&&h.dehydrated===null):!1}var ff=0,hf=1,df=2,hs=3,pf=4;if(typeof Symbol=="function"&&Symbol.for){var Nu=Symbol.for;ff=Nu("selector.component"),hf=Nu("selector.has_pseudo_class"),df=Nu("selector.role"),hs=Nu("selector.test_id"),pf=Nu("selector.text")}function $h(f){var h=ne(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(f=fe(f),f===null)throw Error(a(362));return f.stateNode.current}function jh(f,h){switch(h.$$typeof){case ff:if(f.type===h.value)return!0;break;case hf:e:{h=h.value,f=[f,0];for(var b=0;b<f.length;){var R=f[b++],D=f[b++],W=h[D];if(R.tag!==5||!Ke(R)){for(;W!=null&&jh(R,W);)D++,W=h[D];if(D===h.length){h=!0;break e}else for(R=R.child;R!==null;)f.push(R,D),R=R.sibling}}h=!1}return h;case df:if(f.tag===5&&at(f.stateNode,h.value))return!0;break;case pf:if((f.tag===5||f.tag===6)&&(f=Ue(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case hs:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365,h))}return!1}function qh(f){switch(f.$$typeof){case ff:return"<"+(B(f.value)||"Unknown")+">";case hf:return":has("+(qh(f)||"")+")";case df:return'[role="'+f.value+'"]';case pf:return'"'+f.value+'"';case hs:return'[data-testname="'+f.value+'"]';default:throw Error(a(365,f))}}function ds(f,h){var b=[];f=[f,0];for(var R=0;R<f.length;){var D=f[R++],W=f[R++],se=h[W];if(D.tag!==5||!Ke(D)){for(;se!=null&&jh(D,se);)W++,se=h[W];if(W===h.length)b.push(D);else for(D=D.child;D!==null;)f.push(D,W),D=D.sibling}}return b}function Yh(f,h){if(!U)throw Error(a(363));f=$h(f),f=ds(f,h),h=[],f=Array.from(f);for(var b=0;b<f.length;){var R=f[b++];if(R.tag===5)Ke(R)||h.push(R.stateNode);else for(R=R.child;R!==null;)f.push(R),R=R.sibling}return h}var Wl=null;function Xh(f){if(Wl===null)try{var h=("require"+Math.random()).slice(0,7);Wl=(n&&n[h]).call(n,"timers").setImmediate}catch{Wl=function(R){var D=new MessageChannel;D.port1.onmessage=R,D.port2.postMessage(void 0)}}return Wl(f)}var Zh=Math.ceil,Bu=l.ReactCurrentDispatcher,so=l.ReactCurrentOwner,Kh=l.IsSomeRendererActing,Ht=0,ar=null,jn=null,Mr=0,Ua=0,Uu=cn(0),oi=0,Ro=null,Ha=0,Hu=0,Vl=0,Wu=0,Po=null,xi=0,oo=1/0;function wi(){oo=ln()+500}var Rt=null,ps=!1,Vu=null,bi=null,Nr=!1,Gu=null,Gl=90,mf=[],Wa=[],Jr=null,$l=0,Jh=null,Va=-1,Io=0,$u=0,wr=null,Ga=!1;function Li(){return(Ht&48)!==0?ln():Va!==-1?Va:Va=ln()}function ai(f){if(f=f.mode,(f&2)===0)return 1;if((f&4)===0)return Nn()===99?1:2;if(Io===0&&(Io=Ha),Vg.transition!==0){$u!==0&&($u=Po!==null?Po.pendingLanes:0),f=Io;var h=4186112&~$u;return h&=-h,h===0&&(f=4186112&~f,h=f&-f,h===0&&(h=8192)),h}return f=Nn(),(Ht&4)!==0&&f===98?f=Hc(12,Io):(f=Hg(f),f=Hc(f,Io)),f}function Ps(f,h,b){if(50<$l)throw $l=0,Jh=null,Error(a(185));if(f=$a(f,h),f===null)return null;Rl(f,h,b),f===ar&&(Vl|=h,oi===4&&Tr(f,Mr));var R=Nn();h===1?(Ht&8)!==0&&(Ht&48)===0?qu(f):(Br(f,b),Ht===0&&(wi(),Zi())):((Ht&4)===0||R!==98&&R!==99||(Jr===null?Jr=new Set([f]):Jr.add(f)),Br(f,b)),Po=f}function $a(f,h){f.lanes|=h;var b=f.alternate;for(b!==null&&(b.lanes|=h),b=f,f=f.return;f!==null;)f.childLanes|=h,b=f.alternate,b!==null&&(b.childLanes|=h),b=f,f=f.return;return b.tag===3?b.stateNode:null}function Br(f,h){for(var b=f.callbackNode,R=f.suspendedLanes,D=f.pingedLanes,W=f.expirationTimes,se=f.pendingLanes;0<se;){var me=31-Xi(se),ve=1<<me,je=W[me];if(je===-1){if((ve&R)===0||(ve&D)!==0){je=h,Zo(ve);var lt=$n;W[me]=10<=lt?je+250:6<=lt?je+5e3:-1}}else je<=h&&(f.expiredLanes|=ve);se&=~ve}if(R=xa(f,f===ar?Mr:0),h=$n,R===0)b!==null&&(b!==_u&&Vc(b),f.callbackNode=null,f.callbackPriority=0);else{if(b!==null){if(f.callbackPriority===h)return;b!==_u&&Vc(b)}h===15?(b=qu.bind(null,f),Ms===null?(Ms=[b],$c=Wc(vu,bp)):Ms.push(b),b=_u):h===14?b=Ea(99,qu.bind(null,f)):(b=dp(h),b=Ea(b,ju.bind(null,f))),f.callbackPriority=h,f.callbackNode=b}}function ju(f){if(Va=-1,$u=Io=0,(Ht&48)!==0)throw Error(a(327));var h=f.callbackNode;if(ko()&&f.callbackNode!==h)return null;var b=xa(f,f===ar?Mr:0);if(b===0)return null;var R=b,D=Ht;Ht|=16;var W=td();(ar!==f||Mr!==R)&&(wi(),Is(f,R));do try{Yg();break}catch(me){ed(f,me)}while(1);if(wu(),Bu.current=W,Ht=D,jn!==null?R=0:(ar=null,Mr=0,R=oi),(Ha&Vl)!==0)Is(f,0);else if(R!==0){if(R===2&&(Ht|=64,f.hydrate&&(f.hydrate=!1,fu(f.containerInfo)),b=mu(f),b!==0&&(R=Qi(f,b))),R===1)throw h=Ro,Is(f,0),Tr(f,b),Br(f,ln()),h;switch(f.finishedWork=f.current.alternate,f.finishedLanes=b,R){case 0:case 1:throw Error(a(345));case 2:Lo(f);break;case 3:if(Tr(f,b),(b&62914560)===b&&(R=xi+500-ln(),10<R)){if(xa(f,0)!==0)break;if(D=f.suspendedLanes,(D&b)!==b){Li(),f.pingedLanes|=f.suspendedLanes&D;break}f.timeoutHandle=it(Lo.bind(null,f),R);break}Lo(f);break;case 4:if(Tr(f,b),(b&4186112)===b)break;for(R=f.eventTimes,D=-1;0<b;){var se=31-Xi(b);W=1<<se,se=R[se],se>D&&(D=se),b&=~W}if(b=D,b=ln()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Zh(b/1960))-b,10<b){f.timeoutHandle=it(Lo.bind(null,f),b);break}Lo(f);break;case 5:Lo(f);break;default:throw Error(a(329))}}return Br(f,ln()),f.callbackNode===h?ju.bind(null,f):null}function Tr(f,h){for(h&=~Wu,h&=~Vl,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var b=31-Xi(h),R=1<<b;f[b]=-1,h&=~R}}function qu(f){if((Ht&48)!==0)throw Error(a(327));if(ko(),f===ar&&(f.expiredLanes&Mr)!==0){var h=Mr,b=Qi(f,h);(Ha&Vl)!==0&&(h=xa(f,h),b=Qi(f,h))}else h=xa(f,0),b=Qi(f,h);if(f.tag!==0&&b===2&&(Ht|=64,f.hydrate&&(f.hydrate=!1,fu(f.containerInfo)),h=mu(f),h!==0&&(b=Qi(f,h))),b===1)throw b=Ro,Is(f,0),Tr(f,h),Br(f,ln()),b;return f.finishedWork=f.current.alternate,f.finishedLanes=h,Lo(f),Br(f,ln()),null}function qg(){if(Jr!==null){var f=Jr;Jr=null,f.forEach(function(h){h.expiredLanes|=24&h.pendingLanes,Br(h,ln())})}Zi()}function Dp(f,h){var b=Ht;Ht|=1;try{return f(h)}finally{Ht=b,Ht===0&&(wi(),Zi())}}function Qh(f,h){var b=Ht;if((b&48)!==0)return f(h);Ht|=1;try{if(f)return Ts(99,f.bind(null,h))}finally{Ht=b,Zi()}}function ja(f,h){sn(Uu,Ua),Ua|=h,Ha|=h}function gf(){Ua=Uu.current,Pn(Uu)}function Is(f,h){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==Xe&&(f.timeoutHandle=Xe,Ct(b)),jn!==null)for(b=jn.return;b!==null;){var R=b;switch(R.tag){case 1:R=R.type.childContextTypes,R!=null&&Js();break;case 3:La(),Pn(Er),Pn(rr),Cu();break;case 5:Tu(R);break;case 4:La();break;case 13:Pn(Qn);break;case 19:Pn(Qn);break;case 10:qc(R);break;case 23:case 24:gf()}b=b.return}ar=f,jn=Q(f.current,null),Mr=Ua=Ha=h,oi=0,Ro=null,Wu=Vl=Hu=0}function ed(f,h){do{var b=jn;try{if(wu(),Ji.current=tf,Ui){for(var R=hr.memoizedState;R!==null;){var D=R.queue;D!==null&&(D.pending=null),R=R.next}Ui=!1}if(kl=0,gr=_i=hr=null,Dl=!1,so.current=null,b===null||b.return===null){oi=1,Ro=h,jn=null;break}e:{var W=f,se=b.return,me=b,ve=h;if(h=Mr,me.flags|=2048,me.firstEffect=me.lastEffect=null,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var je=ve;if((me.mode&2)===0){var lt=me.alternate;lt?(me.updateQueue=lt.updateQueue,me.memoizedState=lt.memoizedState,me.lanes=lt.lanes):(me.updateQueue=null,me.memoizedState=null)}var ct=(Qn.current&1)!==0,pt=se;do{var Dt;if(Dt=pt.tag===13){var Ot=pt.memoizedState;if(Ot!==null)Dt=Ot.dehydrated!==null;else{var on=pt.memoizedProps;Dt=on.fallback===void 0?!1:on.unstable_avoidThisFallback!==!0?!0:!ct}}if(Dt){var Ce=pt.updateQueue;if(Ce===null){var be=new Set;be.add(je),pt.updateQueue=be}else Ce.add(je);if((pt.mode&2)===0){if(pt.flags|=64,me.flags|=16384,me.flags&=-2981,me.tag===1)if(me.alternate===null)me.tag=17;else{var Ge=Ii(-1,1);Ge.tag=2,As(me,Ge)}me.lanes|=1;break e}ve=void 0,me=h;var gt=W.pingCache;if(gt===null?(gt=W.pingCache=new Bl,ve=new Set,gt.set(je,ve)):(ve=gt.get(je),ve===void 0&&(ve=new Set,gt.set(je,ve))),!ve.has(me)){ve.add(me);var It=Np.bind(null,W,je,me);je.then(It,It)}pt.flags|=4096,pt.lanes=h;break e}pt=pt.return}while(pt!==null);ve=Error((B(me.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}oi!==5&&(oi=2),ve=Fa(ve,me),pt=se;do{switch(pt.tag){case 3:W=ve,pt.flags|=4096,h&=-h,pt.lanes|=h;var zn=Na(pt,W,h);bu(pt,zn);break e;case 1:W=ve;var $t=pt.type,gn=pt.stateNode;if((pt.flags&64)===0&&(typeof $t.getDerivedStateFromError=="function"||gn!==null&&typeof gn.componentDidCatch=="function"&&(bi===null||!bi.has(gn)))){pt.flags|=4096,h&=-h,pt.lanes|=h;var Jn=Wh(pt,W,h);bu(pt,Jn);break e}}pt=pt.return}while(pt!==null)}Yu(b)}catch(Wt){h=Wt,jn===b&&b!==null&&(jn=b=b.return);continue}break}while(1)}function td(){var f=Bu.current;return Bu.current=tf,f===null?tf:f}function Qi(f,h){var b=Ht;Ht|=16;var R=td();ar===f&&Mr===h||Is(f,h);do try{dr();break}catch(D){ed(f,D)}while(1);if(wu(),Ht=b,Bu.current=R,jn!==null)throw Error(a(261));return ar=null,Mr=0,oi}function dr(){for(;jn!==null;)Op(jn)}function Yg(){for(;jn!==null&&!vp();)Op(jn)}function Op(f){var h=jl(f.alternate,f,Ua);f.memoizedProps=f.pendingProps,h===null?Yu(f):jn=h,so.current=null}function Yu(f){var h=f;do{var b=h.alternate;if(f=h.return,(h.flags&2048)===0){if(b=lf(b,h,Ua),b!==null){jn=b;return}if(b=h,b.tag!==24&&b.tag!==23||b.memoizedState===null||(Ua&1073741824)!==0||(b.mode&4)===0){for(var R=0,D=b.child;D!==null;)R|=D.lanes|D.childLanes,D=D.sibling;b.childLanes=R}f!==null&&(f.flags&2048)===0&&(f.firstEffect===null&&(f.firstEffect=h.firstEffect),h.lastEffect!==null&&(f.lastEffect!==null&&(f.lastEffect.nextEffect=h.firstEffect),f.lastEffect=h.lastEffect),1<h.flags&&(f.lastEffect!==null?f.lastEffect.nextEffect=h:f.firstEffect=h,f.lastEffect=h))}else{if(b=za(h),b!==null){b.flags&=2047,jn=b;return}f!==null&&(f.firstEffect=f.lastEffect=null,f.flags|=2048)}if(h=h.sibling,h!==null){jn=h;return}jn=h=f}while(h!==null);oi===0&&(oi=5)}function Lo(f){var h=Nn();return Ts(99,vf.bind(null,f,h)),null}function vf(f,h){do ko();while(Gu!==null);if((Ht&48)!==0)throw Error(a(327));var b=f.finishedWork;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(a(177));f.callbackNode=null;var R=b.lanes|b.childLanes,D=R,W=f.pendingLanes&~D;f.pendingLanes=D,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=D,f.mutableReadLanes&=D,f.entangledLanes&=D,D=f.entanglements;for(var se=f.eventTimes,me=f.expirationTimes;0<W;){var ve=31-Xi(W),je=1<<ve;D[ve]=0,se[ve]=-1,me[ve]=-1,W&=~je}if(Jr!==null&&(R&24)===0&&Jr.has(f)&&Jr.delete(f),f===ar&&(jn=ar=null,Mr=0),1<b.flags?b.lastEffect!==null?(b.lastEffect.nextEffect=b,R=b.firstEffect):R=b:R=b.firstEffect,R!==null){D=Ht,Ht|=32,so.current=null,wr=K(f.containerInfo),Ga=!1,Rt=R;do try{zp()}catch(be){if(Rt===null)throw Error(a(330));Do(Rt,be),Rt=Rt.nextEffect}while(Rt!==null);wr=null,Rt=R;do try{for(se=f;Rt!==null;){var lt=Rt.flags;if(lt&16&&O&&Gt(Rt.stateNode),lt&128){var ct=Rt.alternate;if(ct!==null){var pt=ct.ref;pt!==null&&(typeof pt=="function"?pt(null):pt.current=null)}}switch(lt&1038){case 2:Kr(Rt),Rt.flags&=-3;break;case 6:Kr(Rt),Rt.flags&=-3,Gh(Rt.alternate,Rt);break;case 1024:Rt.flags&=-1025;break;case 1028:Rt.flags&=-1025,Gh(Rt.alternate,Rt);break;case 4:Gh(Rt.alternate,Rt);break;case 8:me=se,W=Rt,O?kp(me,W):X(me,W);var Dt=W.alternate;Ba(W),Dt!==null&&Ba(Dt)}Rt=Rt.nextEffect}}catch(be){if(Rt===null)throw Error(a(330));Do(Rt,be),Rt=Rt.nextEffect}while(Rt!==null);Ga&&Be(),we(f.containerInfo),f.current=b,Rt=R;do try{for(lt=f;Rt!==null;){var Ot=Rt.flags;if(Ot&36&&Ul(lt,Rt.alternate,Rt),Ot&128){ct=void 0;var on=Rt.ref;if(on!==null){var Ce=Rt.stateNode;switch(Rt.tag){case 5:ct=ie(Ce);break;default:ct=Ce}typeof on=="function"?on(ct):on.current=ct}}Rt=Rt.nextEffect}}catch(be){if(Rt===null)throw Error(a(330));Do(Rt,be),Rt=Rt.nextEffect}while(Rt!==null);Rt=null,Th(),Ht=D}else f.current=b;if(Nr)Nr=!1,Gu=f,Gl=h;else for(Rt=R;Rt!==null;)h=Rt.nextEffect,Rt.nextEffect=null,Rt.flags&8&&(Ot=Rt,Ot.sibling=null,Ot.stateNode=null),Rt=h;if(R=f.pendingLanes,R===0&&(bi=null),R===1?f===Jh?$l++:($l=0,Jh=f):$l=0,b=b.stateNode,Eo&&typeof Eo.onCommitFiberRoot=="function")try{Eo.onCommitFiberRoot(Uc,b,void 0,(b.current.flags&64)===64)}catch{}if(Br(f,ln()),ps)throw ps=!1,f=Vu,Vu=null,f;return(Ht&8)!==0||Zi(),null}function zp(){for(;Rt!==null;){var f=Rt.alternate;Ga||wr===null||((Rt.flags&8)!==0?ae(Rt,wr)&&(Ga=!0,We()):Rt.tag===13&&jg(f,Rt)&&ae(Rt,wr)&&(Ga=!0,We()));var h=Rt.flags;(h&256)!==0&&$g(f,Rt),(h&512)===0||Nr||(Nr=!0,Ea(97,function(){return ko(),null})),Rt=Rt.nextEffect}}function ko(){if(Gl!==90){var f=97<Gl?97:Gl;return Gl=90,Ts(f,Fp)}return!1}function nd(f,h){mf.push(h,f),Nr||(Nr=!0,Ea(97,function(){return ko(),null}))}function yf(f,h){Wa.push(h,f),Nr||(Nr=!0,Ea(97,function(){return ko(),null}))}function Fp(){if(Gu===null)return!1;var f=Gu;if(Gu=null,(Ht&48)!==0)throw Error(a(331));var h=Ht;Ht|=32;var b=Wa;Wa=[];for(var R=0;R<b.length;R+=2){var D=b[R],W=b[R+1],se=D.destroy;if(D.destroy=void 0,typeof se=="function")try{se()}catch(ve){if(W===null)throw Error(a(330));Do(W,ve)}}for(b=mf,mf=[],R=0;R<b.length;R+=2){D=b[R],W=b[R+1];try{var me=D.create;D.destroy=me()}catch(ve){if(W===null)throw Error(a(330));Do(W,ve)}}for(me=f.current.firstEffect;me!==null;)f=me.nextEffect,me.nextEffect=null,me.flags&8&&(me.sibling=null,me.stateNode=null),me=f;return Ht=h,Zi(),!0}function _f(f,h,b){h=Fa(b,h),h=Na(f,h,1),As(f,h),h=Li(),f=$a(f,1),f!==null&&(Rl(f,1,h),Br(f,h))}function Do(f,h){if(f.tag===3)_f(f,f,h);else for(var b=f.return;b!==null;){if(b.tag===3){_f(b,f,h);break}else if(b.tag===1){var R=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(bi===null||!bi.has(R))){f=Fa(h,f);var D=Wh(b,f,1);if(As(b,D),D=Li(),b=$a(b,1),b!==null)Rl(b,1,D),Br(b,D);else if(typeof R.componentDidCatch=="function"&&(bi===null||!bi.has(R)))try{R.componentDidCatch(h,f)}catch{}break}}b=b.return}}function Np(f,h,b){var R=f.pingCache;R!==null&&R.delete(h),h=Li(),f.pingedLanes|=f.suspendedLanes&b,ar===f&&(Mr&b)===b&&(oi===4||oi===3&&(Mr&62914560)===Mr&&500>ln()-xi?Is(f,0):Wu|=b),Br(f,h)}function rd(f,h){var b=f.stateNode;b!==null&&b.delete(h),h=0,h===0&&(h=f.mode,(h&2)===0?h=1:(h&4)===0?h=Nn()===99?1:2:(Io===0&&(Io=Ha),h=wa(62914560&~Io),h===0&&(h=4194304))),b=Li(),f=$a(f,h),f!==null&&(Rl(f,h,b),Br(f,b))}var jl;jl=function(f,h,b){var R=h.lanes;if(f!==null)if(f.memoizedProps!==h.pendingProps||Er.current)cs=!0;else if((b&R)!==0)cs=(f.flags&16384)!==0;else{switch(cs=!1,h.tag){case 3:Uh(h),Lh();break;case 5:Bi(h);break;case 1:sr(h.type)&&pu(h);break;case 4:Ia(h,h.stateNode.containerInfo);break;case 10:Ah(h,h.memoizedProps.value);break;case 13:if(h.memoizedState!==null)return(b&h.child.childLanes)!==0?Du(f,h,b):(sn(Qn,Qn.current&1),h=Kn(f,h,b),h!==null?h.sibling:null);sn(Qn,Qn.current&1);break;case 19:if(R=(b&h.childLanes)!==0,(f.flags&64)!==0){if(R)return Rp(f,h,b);h.flags|=64}var D=h.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),sn(Qn,Qn.current),R)break;return null;case 23:case 24:return h.lanes=0,sf(f,h,b)}return Kn(f,h,b)}else cs=!1;switch(h.lanes=0,h.tag){case 2:if(R=h.type,f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,D=ir(h,rr.current),Zr(h,b),D=Dh(null,h,R,f,D,b),h.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0){if(h.tag=1,h.memoizedState=null,h.updateQueue=null,sr(R)){var W=!0;pu(h)}else W=!1;h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Rh(h);var se=R.getDerivedStateFromProps;typeof se=="function"&&Xc(h,R,se,f),D.updater=Aa,h.stateNode=D,D._reactInternals=h,Zc(h,R,f,b),h=Bh(null,h,R,!0,W,b)}else h.tag=0,ii(null,h,D,b),h=h.child;return h;case 16:D=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,W=D._init,D=W(D._payload),h.type=D,W=h.tag=$(D),f=as(D,f),W){case 0:h=io(null,h,D,f,b);break e;case 1:h=Nl(null,h,D,f,b);break e;case 11:h=Fh(null,h,D,f,b);break e;case 14:h=Nh(null,h,D,as(D.type,f),R,b);break e}throw Error(a(306,D,""))}return h;case 0:return R=h.type,D=h.pendingProps,D=h.elementType===R?D:as(R,D),io(f,h,R,D,b);case 1:return R=h.type,D=h.pendingProps,D=h.elementType===R?D:as(R,D),Nl(f,h,R,D,b);case 3:if(Uh(h),R=h.updateQueue,f===null||R===null)throw Error(a(282));if(R=h.pendingProps,D=h.memoizedState,D=D!==null?D.element:null,Ph(f,h),Zn(h,R,null,b),R=h.memoizedState.element,R===D)Lh(),h=Kn(f,h,b);else{if(D=h.stateNode,(W=D.hydrate)&&(ye?(ka=qt(h.stateNode.containerInfo),eo=h,W=to=!0):W=!1),W){if(ye&&(f=D.mutableSourceEagerHydrationData,f!=null))for(D=0;D<f.length;D+=2)W=f[D],se=f[D+1],$e?W._workInProgressVersionPrimary=se:W._workInProgressVersionSecondary=se,no.push(W);for(b=Eu(h,null,R,b),h.child=b;b;)b.flags=b.flags&-3|1024,b=b.sibling}else ii(f,h,R,b),Lh();h=h.child}return h;case 5:return Bi(h),f===null&&Kc(h),R=h.type,D=h.pendingProps,W=f!==null?f.memoizedProps:null,se=D.children,rt(R,D)?se=null:W!==null&&rt(R,W)&&(h.flags|=16),Fl(f,h),ii(f,h,se,b),h.child;case 6:return f===null&&Kc(h),null;case 13:return Du(f,h,b);case 4:return Ia(h,h.stateNode.containerInfo),R=h.pendingProps,f===null?h.child=Ra(h,null,R,b):ii(f,h,R,b),h.child;case 11:return R=h.type,D=h.pendingProps,D=h.elementType===R?D:as(R,D),Fh(f,h,R,D,b);case 7:return ii(f,h,h.pendingProps,b),h.child;case 8:return ii(f,h,h.pendingProps.children,b),h.child;case 12:return ii(f,h,h.pendingProps.children,b),h.child;case 10:e:{if(R=h.type._context,D=h.pendingProps,se=h.memoizedProps,W=D.value,Ah(h,W),se!==null){var me=se.value;if(W=Ki(me,W)?0:(typeof R._calculateChangedBits=="function"?R._calculateChangedBits(me,W):1073741823)|0,W===0){if(se.children===D.children&&!Er.current){h=Kn(f,h,b);break e}}else for(me=h.child,me!==null&&(me.return=h);me!==null;){var ve=me.dependencies;if(ve!==null){se=me.child;for(var je=ve.firstContext;je!==null;){if(je.context===R&&(je.observedBits&W)!==0){me.tag===1&&(je=Ii(-1,b&-b),je.tag=2,As(me,je)),me.lanes|=b,je=me.alternate,je!==null&&(je.lanes|=b),Ch(me.return,b),ve.lanes|=b;break}je=je.next}}else se=me.tag===10&&me.type===h.type?null:me.child;if(se!==null)se.return=me;else for(se=me;se!==null;){if(se===h){se=null;break}if(me=se.sibling,me!==null){me.return=se.return,se=me;break}se=se.return}me=se}}ii(f,h,D.children,b),h=h.child}return h;case 9:return D=h.type,W=h.pendingProps,R=W.children,Zr(h,b),D=ls(D,W.unstable_observedBits),R=R(D),h.flags|=1,ii(f,h,R,b),h.child;case 14:return D=h.type,W=as(D,h.pendingProps),W=as(D.type,W),Nh(f,h,D,W,R,b);case 15:return ku(f,h,h.type,h.pendingProps,R,b);case 17:return R=h.type,D=h.pendingProps,D=h.elementType===R?D:as(R,D),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,sr(R)?(f=!0,pu(h)):f=!1,Zr(h,b),Mp(h,R,D),Zc(h,R,D,b),Bh(null,h,R,!0,f,b);case 19:return Rp(f,h,b);case 23:return sf(f,h,b);case 24:return sf(f,h,b)}throw Error(a(156,h.tag))};var xf={current:!1},qa=o.unstable_flushAllWithoutAsserting,Xu=typeof qa=="function";function wf(){if(qa!==void 0)return qa();for(var f=!1;ko();)f=!0;return f}function bf(f){try{wf(),Xh(function(){wf()?bf(f):f()})}catch(h){f(h)}}var Sf=0,Ar=!1;function Bp(f,h,b,R){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function P(f,h,b,R){return new Bp(f,h,b,R)}function N(f){return f=f.prototype,!(!f||!f.isReactComponent)}function $(f){if(typeof f=="function")return N(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===M)return 14}return 2}function Q(f,h){var b=f.alternate;return b===null?(b=P(f.tag,h,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=h,b.type=f.type,b.flags=0,b.nextEffect=null,b.firstEffect=null,b.lastEffect=null),b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,h=f.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function xe(f,h,b,R,D,W){var se=2;if(R=f,typeof f=="function")N(f)&&(se=1);else if(typeof f=="string")se=5;else e:switch(f){case m:return Me(b.children,D,W,h);case L:se=8,D|=16;break;case d:se=8,D|=1;break;case v:return f=P(12,b,h,D|8),f.elementType=v,f.type=v,f.lanes=W,f;case w:return f=P(13,b,h,D),f.type=w,f.elementType=w,f.lanes=W,f;case S:return f=P(19,b,h,D),f.elementType=S,f.lanes=W,f;case z:return pe(b,D,W,h);case C:return f=P(24,b,h,D),f.elementType=C,f.lanes=W,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case _:se=10;break e;case y:se=9;break e;case x:se=11;break e;case M:se=14;break e;case T:se=16,R=null;break e;case A:se=22;break e}throw Error(a(130,f==null?f:typeof f,""))}return h=P(se,b,h,D),h.elementType=f,h.type=R,h.lanes=W,h}function Me(f,h,b,R){return f=P(7,f,R,h),f.lanes=b,f}function pe(f,h,b,R){return f=P(23,f,R,h),f.elementType=z,f.lanes=b,f}function Le(f,h,b){return f=P(6,f,null,h),f.lanes=b,f}function Oe(f,h,b){return h=P(4,f.children!==null?f.children:[],f.key,h),h.lanes=b,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Ze(f,h,b){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xe,this.pendingContext=this.context=null,this.hydrate=b,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),ye&&(this.mutableSourceEagerHydrationData=null)}function Qe(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(a(188)):Error(a(268,Object.keys(f)));return f=ce(h),f===null?null:f.stateNode}function yt(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<h?b:h}}function st(f,h){yt(f,h),(f=f.alternate)&&yt(f,h)}function Tt(f){return f=ce(f),f===null?null:f.stateNode}function At(){return null}return r.IsThisRendererActing=xf,r.act=function(f){function h(){Sf--,Kh.current=b,xf.current=R}Ar===!1&&(Ar=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Sf++;var b=Kh.current,R=xf.current;Kh.current=!0,xf.current=!0;try{var D=Dp(f)}catch(W){throw h(),W}if(D!==null&&typeof D=="object"&&typeof D.then=="function")return{then:function(W,se){D.then(function(){1<Sf||Xu===!0&&b===!0?(h(),W()):bf(function(me){h(),me?se(me):W()})},function(me){h(),se(me)})}};try{Sf!==1||Xu!==!1&&b!==!1||wf(),h()}catch(W){throw h(),W}return{then:function(W){W()}}},r.attemptContinuousHydration=function(f){if(f.tag===13){var h=Li();Ps(f,67108864,h),st(f,67108864)}},r.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=Li(),b=ai(f);Ps(f,b,h),st(f,b)}},r.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.hydrate){var b=Zo(h.pendingLanes);h.expiredLanes|=b&h.pendingLanes,Br(h,ln()),(Ht&48)===0&&(wi(),Zi())}break;case 13:var R=Li();Qh(function(){return Ps(f,1,R)}),st(f,4)}},r.attemptUserBlockingHydration=function(f){if(f.tag===13){var h=Li();Ps(f,4,h),st(f,4)}},r.batchedEventUpdates=function(f,h){var b=Ht;Ht|=2;try{return f(h)}finally{Ht=b,Ht===0&&(wi(),Zi())}},r.batchedUpdates=Dp,r.createComponentSelector=function(f){return{$$typeof:ff,value:f}},r.createContainer=function(f,h,b){return f=new Ze(f,h,b),h=P(3,null,null,h===2?7:h===1?3:0),f.current=h,h.stateNode=f,Rh(h),f},r.createHasPsuedoClassSelector=function(f){return{$$typeof:hf,value:f}},r.createPortal=function(f,h,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:R==null?null:""+R,children:f,containerInfo:h,implementation:b}},r.createRoleSelector=function(f){return{$$typeof:df,value:f}},r.createTestNameSelector=function(f){return{$$typeof:hs,value:f}},r.createTextSelector=function(f){return{$$typeof:pf,value:f}},r.deferredUpdates=function(f){return Ts(97,f)},r.discreteUpdates=function(f,h,b,R,D){var W=Ht;Ht|=4;try{return Ts(98,f.bind(null,h,b,R,D))}finally{Ht=W,Ht===0&&(wi(),Zi())}},r.findAllNodes=Yh,r.findBoundingRects=function(f,h){if(!U)throw Error(a(363));h=Yh(f,h),f=[];for(var b=0;b<h.length;b++)f.push(Ee(h[b]));for(h=f.length-1;0<h;h--){b=f[h];for(var R=b.x,D=R+b.width,W=b.y,se=W+b.height,me=h-1;0<=me;me--)if(h!==me){var ve=f[me],je=ve.x,lt=je+ve.width,ct=ve.y,pt=ct+ve.height;if(R>=je&&W>=ct&&D<=lt&&se<=pt){f.splice(h,1);break}else if(R!==je||b.width!==ve.width||pt<W||ct>se){if(!(W!==ct||b.height!==ve.height||lt<R||je>D)){je>R&&(ve.width+=je-R,ve.x=R),lt<D&&(ve.width=D-je),f.splice(h,1);break}}else{ct>W&&(ve.height+=ct-W,ve.y=W),pt<se&&(ve.height=se-ct),f.splice(h,1);break}}}return f},r.findHostInstance=Qe,r.findHostInstanceWithNoPortals=function(f){return f=le(f),f===null?null:f.tag===20?f.stateNode.instance:f.stateNode},r.findHostInstanceWithWarning=function(f){return Qe(f)},r.flushControlled=function(f){var h=Ht;Ht|=1;try{Ts(99,f)}finally{Ht=h,Ht===0&&(wi(),Zi())}},r.flushDiscreteUpdates=function(){(Ht&49)===0&&(qg(),ko())},r.flushPassiveEffects=ko,r.flushSync=Qh,r.focusWithin=function(f,h){if(!U)throw Error(a(363));for(f=$h(f),h=ds(f,h),h=Array.from(h),f=0;f<h.length;){var b=h[f++];if(!Ke(b)){if(b.tag===5&&He(b.stateNode))return!0;for(b=b.child;b!==null;)h.push(b),b=b.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return Cl},r.getFindAllNodesFailureDescription=function(f,h){if(!U)throw Error(a(363));var b=0,R=[];f=[$h(f),0];for(var D=0;D<f.length;){var W=f[D++],se=f[D++],me=h[se];if((W.tag!==5||!Ke(W))&&(jh(W,me)&&(R.push(qh(me)),se++,se>b&&(b=se)),se<h.length))for(W=W.child;W!==null;)f.push(W,se),W=W.sibling}if(b<h.length){for(f=[];b<h.length;b++)f.push(qh(h[b]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},r.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return ie(f.child.stateNode);default:return f.child.stateNode}},r.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Tt,findFiberByHostInstance:f.findFiberByHostInstance||At,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h.isDisabled&&h.supportsFiber)try{Uc=h.inject(f),Eo=h}catch{}f=!0}return f},r.observeVisibleRects=function(f,h,b,R){if(!U)throw Error(a(363));f=Yh(f,h);var D=Bt(f,b,R).disconnect;return{disconnect:function(){D()}}},r.registerMutableSourceForHydration=function(f,h){var b=h._getVersion;b=b(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,b]:f.mutableSourceEagerHydrationData.push(h,b)},r.runWithPriority=function(f,h){var b=Cl;try{return Cl=f,h()}finally{Cl=b}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(f,h){var b=Ht;Ht&=-2,Ht|=8;try{return f(h)}finally{Ht=b,Ht===0&&(wi(),Zi())}},r.updateContainer=function(f,h,b,R){var D=h.current,W=Li(),se=ai(D);e:if(b){b=b._reactInternals;t:{if(Y(b)!==b||b.tag!==1)throw Error(a(170));var me=b;do{switch(me.tag){case 3:me=me.stateNode.context;break t;case 1:if(sr(me.type)){me=me.stateNode.__reactInternalMemoizedMergedChildContext;break t}}me=me.return}while(me!==null);throw Error(a(171))}if(b.tag===1){var ve=b.type;if(sr(ve)){b=fp(b,ve,me);break e}}b=me}else b=zr;return h.context===null?h.context=b:h.pendingContext=b,h=Ii(W,se),h.payload={element:f},R=R===void 0?null:R,R!==null&&(h.callback=R),As(D,h),Ps(D,se,W),se},r}})(Ez);Sz.exports=Ez.exports;var SX=Sz.exports;function Tz(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function BE(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var p=Date.now()-o;p<e&&p>=0?r=setTimeout(l,e-p):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var p=t&&!r;return r||(r=setTimeout(l,e)),p&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}BE.debounce=BE;var JR=BE;function EX(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Z.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Z.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,p=e?typeof e=="number"?e:e.resize:null,m=Z.exports.useRef(!1);Z.exports.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[d,v,_]=Z.exports.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:M,top:T,width:A,height:L,bottom:z,right:C,x:F,y:H}=l.current.element.getBoundingClientRect(),q={left:M,top:T,width:A,height:L,bottom:z,right:C,x:F,y:H};l.current.element instanceof HTMLElement&&i&&(q.height=l.current.element.offsetHeight,q.width=l.current.element.offsetWidth),Object.freeze(q),m.current&&!CX(l.current.lastBounds,q)&&a(l.current.lastBounds=q)};return[S,p?JR(S,p):S,c?JR(S,c):S]},[a,i,c,p]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){!l.current.element||(l.current.resizeObserver=new s(_),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",_,{capture:!0,passive:!0})))}const w=S=>{!S||S===l.current.element||(y(),l.current.element=S,l.current.scrollContainers=Az(S),x())};return TX(_,Boolean(t)),MX(v),Z.exports.useEffect(()=>{y(),x()},[t,_,v]),Z.exports.useEffect(()=>y,[]),[w,o,d]}function MX(n){Z.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function TX(n,e){Z.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Az(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Az(n.parentElement)]}const AX=["x","y","top","bottom","left","right","width","height"],CX=(n,e)=>AX.every(t=>n[t]===e[t]),xr={obj:n=>n===Object(n)&&!xr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e){if(typeof n!=typeof e||!!n!=!!e)return!1;if(xr.str(n)||xr.num(n)||xr.obj(n))return n===e;if(xr.arr(n)&&n==e)return!0;let t;for(t in n)if(!(t in e))return!1;for(t in e)if(n[t]!==e[t])return!1;return xr.und(t)?n===e:!0}};function Bb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Cz(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function RX(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Cz(t.capturedMap,e,r,i)})}function PX(n){const e=new re;function t(m){var d,v,_,y;const x=n.getState(),{raycaster:w,mouse:S,camera:M,size:T}=x,A=w.computeOffsets==null?void 0:w.computeOffsets(m,x),L=(d=A==null?void 0:A.offsetX)!=null?d:m.offsetX,z=(v=A==null?void 0:A.offsetY)!=null?v:m.offsetY,C=(_=A==null?void 0:A.width)!=null?_:T.width,F=(y=A==null?void 0:A.height)!=null?y:T.height;S.set(L/C*2-1,-(z/F)*2+1),w.setFromCamera(S,M)}function r(m){const{internal:d}=n.getState(),v=m.offsetX-d.initialClick[0],_=m.offsetY-d.initialClick[1];return Math.round(Math.sqrt(v*v+_*_))}function i(m){return m.filter(d=>["Move","Over","Enter","Out","Leave"].some(v=>{var _;return(_=d.__r3f)==null?void 0:_.handlers["onPointer"+v]}))}function s(m){const d=n.getState(),{raycaster:v,internal:_}=d;if(!v.enabled)return[];const y=new Set,x=[],w=m?m(_.interaction):_.interaction;let S=v.intersectObjects(w,!0).filter(T=>{const A=Bb(T);return y.has(A)?!1:(y.add(A),!0)});v.filter&&(S=v.filter(S,d));for(const T of S){let A=T.object;for(;A;){var M;(M=A.__r3f)!=null&&M.eventCount&&x.push({...T,eventObject:A}),A=A.parent}}return x}function o(m,d){const{internal:v}=n.getState();if("pointerId"in d&&v.capturedMap.has(d.pointerId))for(let _ of v.capturedMap.get(d.pointerId).values())m.push(_.intersection);return m}function a(m,d,v,_){const{raycaster:y,mouse:x,camera:w,internal:S}=n.getState();if(m.length){const M=e.set(x.x,x.y,0).unproject(w),T={stopped:!1};for(const A of m){const L=q=>{var B,Y;return(B=(Y=S.capturedMap.get(q))==null?void 0:Y.has(A.eventObject))!=null?B:!1},z=q=>{const B={intersection:A,target:d.target};S.capturedMap.has(q)?S.capturedMap.get(q).set(A.eventObject,B):S.capturedMap.set(q,new Map([[A.eventObject,B]])),d.target.setPointerCapture(q)},C=q=>{const B=S.capturedMap.get(q);B&&Cz(S.capturedMap,A.eventObject,B,q)};let F={};for(let q in d){let B=d[q];typeof B!="function"&&(F[q]=B)}let H={...A,...F,spaceX:x.x,spaceY:x.y,intersections:m,stopped:T.stopped,delta:v,unprojectedPoint:M,ray:y.ray,camera:w,stopPropagation:()=>{const q="pointerId"in d&&S.capturedMap.get(d.pointerId);if((!q||q.has(A.eventObject))&&(H.stopped=T.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(B=>B.eventObject===A.eventObject))){const B=m.slice(0,m.indexOf(A));l([...B,A])}},target:{hasPointerCapture:L,setPointerCapture:z,releasePointerCapture:C},currentTarget:{hasPointerCapture:L,setPointerCapture:z,releasePointerCapture:C},sourceEvent:d,nativeEvent:d};if(_(H),T.stopped===!0)break}}return m}function l(m){const{internal:d}=n.getState();Array.from(d.hovered.values()).forEach(v=>{if(!m.length||!m.find(_=>_.object===v.object&&_.index===v.index&&_.instanceId===v.instanceId)){const y=v.eventObject.__r3f,x=y==null?void 0:y.handlers;if(d.hovered.delete(Bb(v)),y!=null&&y.eventCount){const w={...v,intersections:m||[]};x.onPointerOut==null||x.onPointerOut(w),x.onPointerLeave==null||x.onPointerLeave(w)}}})}const c=m=>{switch(m){case"onPointerLeave":case"onPointerCancel":return()=>l([]);case"onLostPointerCapture":return d=>{const{internal:v}=n.getState();"pointerId"in d&&!v.capturedMap.has(d.pointerId)&&(v.capturedMap.delete(d.pointerId),l([]))}}return d=>{const{onPointerMissed:v,internal:_}=n.getState();t(d),_.lastEvent.current=d;const y=m==="onPointerMove",x=m==="onClick"||m==="onContextMenu"||m==="onDoubleClick",S=o(s(y?i:void 0),d),M=x?r(d):0;m==="onPointerDown"&&(_.initialClick=[d.offsetX,d.offsetY],_.initialHits=S.map(T=>T.eventObject)),x&&!S.length&&M<=2&&(p(d,_.interaction),v&&v(d)),y&&l(S),a(S,d,M,T=>{const A=T.eventObject,L=A.__r3f,z=L==null?void 0:L.handlers;if(!!(L!=null&&L.eventCount))if(y){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const C=Bb(T),F=_.hovered.get(C);F?F.stopped&&T.stopPropagation():(_.hovered.set(C,T),z.onPointerOver==null||z.onPointerOver(T),z.onPointerEnter==null||z.onPointerEnter(T))}z.onPointerMove==null||z.onPointerMove(T)}else{const C=z[m];C?(!x||_.initialHits.includes(A))&&(p(d,_.interaction.filter(F=>!_.initialHits.includes(F))),C(T)):x&&_.initialHits.includes(A)&&p(d,_.interaction.filter(F=>!_.initialHits.includes(F)))}})}};function p(m,d){d.forEach(v=>{var _;return(_=v.__r3f)==null||_.handlers.onPointerMissed==null?void 0:_.handlers.onPointerMissed(m)})}return{handlePointer:c}}const IX=n=>n&&!!n.memoized&&!!n.changes,F1=n=>n&&!!n.getState,Ub=(n,e)=>{var t,r;return{root:F1(n)?n:(t=(r=n.__r3f)==null?void 0:r.root)!=null?t:e.__r3f.root,container:F1(n)?n.getState().scene:n}},QR="__default",LX={};let kX={};function DX(n,e){return!!(xr.arr(n)&&xr.equ(n,e)||n===e)}function vm(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function OX(n){function e(d,{children:v,key:_,ref:y,...x},{children:w,key:S,ref:M,...T}={},A=!1){var L;const z=(L=d==null?void 0:d.__r3f)!=null?L:{},C=Object.entries(x),F=[];if(A){const q=Object.keys(T);for(let B=0;B<q.length;B++)x.hasOwnProperty(q[B])||C.unshift([q[B],QR+"remove"])}C.forEach(([q,B])=>{var Y;if((Y=d.__r3f)!=null&&Y.primitive&&q==="object"||DX(B,T[q]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(q))return F.push([q,B,!0,[]]);let I=[];q.includes("-")&&(I=q.split("-")),F.push([q,B,!1,I])});const H={...x};return z.memoizedProps&&z.memoizedProps.args&&(H.args=z.memoizedProps.args),z.memoizedProps&&z.memoizedProps.attach&&(H.attach=z.memoizedProps.attach),{accumulative:A,memoized:H,changes:F}}function t(d,v){var _,y,x;const w=(_=d==null?void 0:d.__r3f)!=null?_:{},S=w.root,M=(y=S==null||S.getState==null?void 0:S.getState())!=null?y:{},{memoized:T,changes:A}=IX(v)?v:e(d,v),L=w.eventCount;if(d.__r3f&&(d.__r3f.memoizedProps=T),A.forEach(([z,C,F,H])=>{var q;let B=d,Y=B[z];if(H.length&&(Y=H.reduce((te,ce)=>te[ce],d),!(Y&&Y.set))){const[te,...ce]=H.reverse();B=ce.reverse().reduce((le,ae)=>le[ae],d),z=te}if(C===QR+"remove")if(Y&&Y.constructor)C=new Y.constructor(T.args);else if(B.constructor){const te=new B.constructor(B.__r3f.memoizedProps.args);C=te[Y],te.dispose&&te.dispose()}else C=0;const I=(M==null||(q=M.gl)==null?void 0:q.outputEncoding)===vl;if(F)C?w.handlers[z]=C:delete w.handlers[z],w.eventCount=Object.keys(w.handlers).length;else if(Y&&Y.set&&(Y.copy||Y instanceof Od)){if(Array.isArray(C))Y.fromArray?Y.fromArray(C):Y.set(...C);else if(Y.copy&&C&&C.constructor&&Y.constructor.name===C.constructor.name)Y.copy(C);else if(C!==void 0){const te=Y instanceof St;!te&&Y.setScalar?Y.setScalar(C):Y instanceof Od&&C instanceof Od?Y.mask=C.mask:Y.set(C),!I&&te&&Y.convertSRGBToLinear()}}else B[z]=C,!I&&B[z]instanceof gi&&(B[z].encoding=_r);r(d)}),w.parent&&M.internal&&d.raycast&&L!==w.eventCount){const z=M.internal.interaction.indexOf(d);z>-1&&M.internal.interaction.splice(z,1),w.eventCount&&M.internal.interaction.push(d)}return A.length&&(x=d.__r3f)!=null&&x.parent&&i(d),d}function r(d){var v,_;const y=(v=d.__r3f)==null||(_=v.root)==null||_.getState==null?void 0:_.getState();y&&y.internal.frames===0&&y.invalidate()}function i(d){d.onUpdate==null||d.onUpdate(d)}function s(d,{args:v=[],..._},y,x,w){let S=`${d[0].toUpperCase()}${d.slice(1)}`,M;if(!F1(y)&&w){const T=A=>A.return?T(A.return):A.stateNode&&A.stateNode.containerInfo;y=T(w)}if(!y||!F1(y))throw`No valid root for ${S}!`;if(d==="primitive"){if(_.object===void 0)throw"Primitives without 'object' are invalid!";const T=_.object;M=vm(T,{root:y,primitive:!0})}else{const T=kX[S]||mX[S];if(!T)throw`${S} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(v))throw"The args prop must be an array!";M=vm(new T(...v),{root:y,memoizedProps:{args:v.length===0?null:v}})}return"attachFns"in _||(S.endsWith("Geometry")?_={attach:"geometry",..._}:S.endsWith("Material")&&(_={attach:"material",..._})),t(M,_),M}function o(d,v){let _=!1;if(v){if(v.attachArray)xr.arr(d[v.attachArray])||(d[v.attachArray]=[]),d[v.attachArray].push(v);else if(v.attachObject)xr.obj(d[v.attachObject[0]])||(d[v.attachObject[0]]={}),d[v.attachObject[0]][v.attachObject[1]]=v;else if(v.attach&&!xr.fun(v.attach))d[v.attach]=v;else if(xr.arr(v.attachFns)){const[y]=v.attachFns;xr.str(y)&&xr.fun(d[y])?d[y](v):xr.fun(y)&&y(v,d)}else v.isObject3D&&d.isObject3D&&(d.add(v),_=!0);_||d.__r3f.objects.push(v),v.__r3f||vm(v,{}),v.__r3f.parent=d,i(v),r(v)}}function a(d,v,_){let y=!1;if(v){if(v.attachArray){const x=d[v.attachArray];xr.arr(x)||(d[v.attachArray]=[]),x.splice(x.indexOf(_),0,v)}else{if(v.attachObject||v.attach&&!xr.fun(v.attach))return o(d,v);if(v.isObject3D&&d.isObject3D){v.parent=d,v.dispatchEvent({type:"added"});const x=d.children.filter(S=>S!==v),w=x.indexOf(_);d.children=[...x.slice(0,w),v,...x.slice(w)],y=!0}}y||d.__r3f.objects.push(v),v.__r3f||vm(v,{}),v.__r3f.parent=d,i(v),r(v)}}function l(d,v,_=!1){d&&[...d].forEach(y=>c(v,y,_))}function c(d,v,_){if(v){var y,x;if(v.__r3f&&(v.__r3f.parent=null),(y=d.__r3f)!=null&&y.objects&&(d.__r3f.objects=d.__r3f.objects.filter(A=>A!==v)),v.attachArray)d[v.attachArray]=d[v.attachArray].filter(A=>A!==v);else if(v.attachObject)delete d[v.attachObject[0]][v.attachObject[1]];else if(v.attach&&!xr.fun(v.attach)&&d[v.attach]===v)d[v.attach]=null;else if(xr.arr(v.attachFns)){const[,A]=v.attachFns;xr.str(A)&&xr.fun(d[A])?d[A](v):xr.fun(A)&&A(v,d)}else if(v.isObject3D&&d.isObject3D){var w;d.remove(v),(w=v.__r3f)!=null&&w.root&&RX(v.__r3f.root,v)}const M=(x=v.__r3f)==null?void 0:x.primitive,T=_===void 0?v.dispose!==null&&!M:_;if(!M){var S;l((S=v.__r3f)==null?void 0:S.objects,v,T),l(v.children,v,T)}v.__r3f&&(delete v.__r3f.root,delete v.__r3f.objects,delete v.__r3f.handlers,delete v.__r3f.memoizedProps,M||delete v.__r3f),T&&v.dispose&&v.type!=="Scene"&&H0.exports.unstable_runWithPriority(H0.exports.unstable_IdlePriority,()=>{try{v.dispose()}catch{}}),r(d)}}function p(d,v,_,y){var x;const w=(x=d.__r3f)==null?void 0:x.parent;if(!w)return;const S=s(v,_,d.__r3f.root);v!=="primitive"&&d.children&&(d.children.forEach(M=>o(S,M)),d.children=[]),d.__r3f.objects.forEach(M=>o(S,M)),d.__r3f.objects=[],c(w,d),o(w,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[y,y.alternate].forEach(M=>{M!==null&&(M.stateNode=S,M.ref&&(typeof M.ref=="function"?M.ref(S):M.ref.current=S))})}return{reconciler:SX({now:H0.exports.unstable_now,createInstance:s,removeChild:c,appendChild:o,appendInitialChild:o,insertBefore:a,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:xr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xr.fun(clearTimeout)?clearTimeout:void 0,setTimeout:xr.fun(setTimeout)?setTimeout:void 0,clearTimeout:xr.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(d,v)=>{const{container:_,root:y}=Ub(d,v);_.__r3f.root=y,o(_,v)},removeChildFromContainer:(d,v)=>c(Ub(d,v).container,v),insertInContainerBefore:(d,v,_)=>a(Ub(d,v).container,v,_),prepareUpdate(d,v,_,y){if(d.__r3f.primitive&&y.object&&y.object!==d)return[!0];{const{args:x=[],children:w,...S}=y,{args:M=[],children:T,...A}=_;if(!Array.isArray(x))throw"The args prop must be an array!";if(x.some((z,C)=>z!==M[C]))return[!0];const L=e(d,S,A,!0);if(L.changes.length)return[!1,L];if(d.attach&&typeof d.attach!="function"){const C=d.__r3f.parent;C&&C[d.attach]!==d&&o(C,d)}return null}},commitUpdate(d,[v,_],y,x,w,S){v?p(d,y,w,S):t(d,_)},hideInstance(d){d.isObject3D&&(d.visible=!1,r(d))},unhideInstance(d,v){(d.isObject3D&&v.visible==null||v.visible)&&(d.visible=!0,r(d))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(d){return d},getRootHostContext(d){return LX},getChildHostContext(d){return d},createTextInstance(){},finalizeInitialChildren(d){var v;return!!((v=d==null?void 0:d.__r3f)!=null?v:{}).handlers},commitMount(d){var v;const _=(v=d==null?void 0:d.__r3f)!=null?v:{};d.raycast&&_.handlers&&_.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(d){vm(d)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}const zX=n=>!!(n!=null&&n.render),eP=n=>n&&n.isOrthographicCamera;function UE(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const Rz=Z.exports.createContext(null),FX=(n,e,t,r)=>{const{gl:i,size:s,shadows:o=!1,linear:a=!1,flat:l=!1,vr:c=!1,orthographic:p=!1,frameloop:m="always",dpr:d=1,performance:v,clock:_=new hT,raycaster:y,camera:x,onPointerMissed:w}=r;o&&(i.shadowMap.enabled=!0,typeof o=="object"?Object.assign(i.shadowMap,o):i.shadowMap.type=SM),a&&(i.outputEncoding=vl),l&&(i.toneMapping=pl),m==="never"&&(_.stop(),_.elapsedTime=0);const S=bz((L,z)=>{const C=new gT,{params:F,...H}=y||{};n(C,{enabled:!0,...H,params:{...C.params,...F}});const q=x instanceof qd,B=q?x:p?new Tg(0,0,0,0,.1,1e3):new Oi(75,0,.1,1e3);q||(B.position.z=5,x&&n(B,x),x!=null&&x.rotation||B.lookAt(0,0,0));const Y=UE(d),I=new re,te=new re,ce=new re;function le(ue=z().camera,j=te,K=z().size){const{width:we,height:Re}=K,Pe=we/Re;j instanceof re?ce.copy(j):ce.set(...j);const ke=ue.getWorldPosition(I).distanceTo(ce);if(eP(ue))return{width:we/ue.zoom,height:Re/ue.zoom,factor:1,distance:ke,aspect:Pe};{const bt=ue.fov*Math.PI/180,rt=2*Math.tan(bt/2)*ke,ut=rt*(we/Re);return{width:ut,height:rt,factor:we/ut,distance:ke,aspect:Pe}}}let ae;const ie=ue=>L(j=>({performance:{...j.performance,current:ue}}));return{gl:i,set:L,get:z,invalidate:()=>e(z()),advance:(ue,j)=>t(ue,j,z()),linear:a,flat:l,scene:vm(new jv),camera:B,controls:null,raycaster:C,clock:_,mouse:new nt,vr:c,frameloop:m,onPointerMissed:w,performance:{current:1,min:.5,max:1,debounce:200,...v,regress:()=>{const ue=z();ae&&clearTimeout(ae),ue.performance.current!==ue.performance.min&&ie(ue.performance.min),ae=setTimeout(()=>ie(z().performance.max),ue.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:Y,dpr:Y,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:le},setSize:(ue,j)=>{const K={width:ue,height:j};L(we=>({size:K,viewport:{...we.viewport,...le(B,te,K)}}))},setDpr:ue=>L(j=>({viewport:{...j.viewport,dpr:UE(ue)}})),setFrameloop:(ue="always")=>L(()=>({frameloop:ue})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:Z.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(ue,j=0)=>(L(({internal:K})=>({internal:{...K,priority:K.priority+(j>0?1:0),subscribers:[...K.subscribers,{ref:ue,priority:j}].sort((we,Re)=>we.priority-Re.priority)}})),()=>{L(({internal:K})=>({internal:{...K,priority:K.priority-(j>0?1:0),subscribers:K.subscribers.filter(we=>we.ref!==ue)}}))})}}}),M=S.getState();let T=M.size,A=M.viewport.dpr;return S.subscribe(()=>{const{camera:L,size:z,viewport:C,internal:F}=S.getState();(z!==T||C.dpr!==A)&&(!L.manual&&!(F.lastProps.camera instanceof qd)&&(eP(L)?(L.left=z.width/-2,L.right=z.width/2,L.top=z.height/2,L.bottom=z.height/-2):L.aspect=z.width/z.height,L.updateProjectionMatrix(),L.updateMatrixWorld()),i.setPixelRatio(C.dpr),i.setSize(z.width,z.height),T=z,A=C.dpr)}),s&&M.setSize(s.width,s.height),S.subscribe(L=>e(L)),S};function Pz(n,e){const t=e.length;return e.push(n),()=>void e.splice(t,1)}let Gf,HE=[],WE=[],NX=[];const BX=n=>Pz(n,HE),UX=n=>Pz(n,WE);function g0(n,e){for(Gf=0;Gf<n.length;Gf++)n[Gf](e)}function Hb(n,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(t=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Gf=0;Gf<e.internal.subscribers.length;Gf++)e.internal.subscribers[Gf].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function HX(n){let e=!1,t;function r(o){if(e=!0,t=0,g0(HE,o),n.forEach(a=>{const l=a.store.getState();l.internal.active&&(l.frameloop==="always"||l.internal.frames>0)&&(t+=Hb(o,l))}),g0(WE,o),t>0)return requestAnimationFrame(r);g0(NX,o),e=!1}function i(o){if(!o)return n.forEach(a=>i(a.store.getState()));o.vr||!o.internal.active||o.frameloop==="never"||(o.internal.frames=Math.min(60,o.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function s(o,a=!0,l){a&&g0(HE,o),l?Hb(o,l):n.forEach(c=>Hb(o,c.store.getState())),a&&g0(WE,o)}return{loop:r,invalidate:i,advance:s}}function WX(n){const{handlePointer:e}=PX(n),t={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(t).reduce((r,i)=>({...r,[i]:e(i)}),{}),connect:r=>{var i;const{set:s,events:o}=n.getState();o.disconnect==null||o.disconnect(),s(a=>({events:{...a.events,connected:r}})),Object.entries((i=o==null?void 0:o.handlers)!=null?i:[]).forEach(([a,l])=>{const[c,p]=t[a];r.addEventListener(c,l,{passive:p})})},disconnect:()=>{const{set:r,events:i}=n.getState();if(i.connected){var s;Object.entries((s=i.handlers)!=null?s:[]).forEach(([o,a])=>{if(i&&i.connected instanceof HTMLElement){const[l]=t[o];i.connected.removeEventListener(l,a)}}),r(o=>({events:{...o.events,connected:!1}}))}}}}const VE=typeof window!="undefined"?Z.exports.useLayoutEffect:Z.exports.useEffect;function VX({set:n}){return VE(()=>(n(new Promise(()=>null)),()=>n(!1)),[]),null}class Iz extends Z.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Iz.getDerivedStateFromError=()=>({error:!0});const GX=Z.exports.forwardRef(function({children:e,fallback:t,tabIndex:r,resize:i,id:s,style:o,className:a,events:l,...c},p){const[m,{width:d,height:v}]=EX({scroll:!0,debounce:{scroll:50,resize:0},...i}),_=Z.exports.useRef(null),[y,x]=Z.exports.useState(!1),[w,S]=Z.exports.useState(!1);if(y)throw y;if(w)throw w;return VE(()=>{d>0&&v>0&&YX(Z.exports.createElement(Iz,{set:S},Z.exports.createElement(Z.exports.Suspense,{fallback:Z.exports.createElement(VX,{set:x})},e)),_.current,{...c,size:{width:d,height:v},events:l||WX})},[d,v,e]),VE(()=>{const M=_.current;return()=>Dz(M)},[]),Z.exports.createElement("div",{ref:m,id:s,className:a,tabIndex:r,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...o}},Z.exports.createElement("canvas",{ref:Tz([_,p]),style:{display:"block"}},t))});function Lz(){const n=Z.exports.useContext(Rz);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function Jl(n=t=>t,e){return Lz()(n,e)}function $X(n,e=0){const t=Lz().getState().internal.subscribe,r=Z.exports.useRef(n);return Z.exports.useLayoutEffect(()=>void(r.current=n),[n]),Z.exports.useLayoutEffect(()=>t(r,e),[e,t]),null}const Tv=new Map,tP=["legacy","blocking","concurrent"],{invalidate:jX,advance:nP}=HX(Tv),{reconciler:Av,applyProps:kz}=OX(),qX=(n,e)=>{const t=typeof n=="function"?n(e):n;if(zX(t))return t;const r=new nr({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n});return r.outputEncoding=_r,r.toneMapping=AM,n&&kz(r,n),r};function YX(n,e,{gl:t,size:r,mode:i=tP[1],events:s,onCreated:o,...a}={}){var l;if(!r){var c,p,m,d;r={width:(c=(p=e.parentElement)==null?void 0:p.clientWidth)!=null?c:0,height:(m=(d=e.parentElement)==null?void 0:d.clientHeight)!=null?m:0}}let v=Tv.get(e),_=v==null?void 0:v.fiber,y=v==null?void 0:v.store,x=(l=y)==null?void 0:l.getState();if(_&&x&&(a.dpr!==void 0&&!xr.equ(x.viewport.dpr,UE(a.dpr))&&x.setDpr(a.dpr),(x.size.width!==r.width||x.size.height!==r.height)&&x.setSize(r.width,r.height),x.frameloop!==a.frameloop&&x.setFrameloop(a.frameloop),a.linear!==x.internal.lastProps.linear&&(Dz(e),_=void 0)),!_){const w=qX(t,e);a.vr&&(w.xr.enabled=!0,w.setAnimationLoop(M=>nP(M,!0))),y=FX(kz,jX,nP,{gl:w,size:r,...a});const S=y.getState();_=Av.createContainer(y,tP.indexOf(i),!1,null),Tv.set(e,{fiber:_,store:y}),s&&S.set({events:s(y)})}if(y&&_)return Av.updateContainer(Z.exports.createElement(XX,{store:y,element:n,onCreated:o,target:e}),_,null,()=>{}),y;throw"Error creating root!"}function XX({store:n,element:e,onCreated:t,target:r}){return Z.exports.useEffect(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),i.events.connect==null||i.events.connect(r),t&&t(i)},[]),Z.exports.createElement(Rz.Provider,{value:n},e)}function Dz(n,e){const t=Tv.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Av.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var s,o,a;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),ZX(i),Tv.delete(n),e&&e(n)},500)})}}function ZX(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const r in n){var e,t;(e=(t=r).dispose)==null||e.call(t),delete n[r]}}Av.act;Av.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Ri(){return Ri=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ri.apply(this,arguments)}function KX(n,e,t){return Math.max(e,Math.min(n,t))}const xs={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function rP(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function iP(n,e,t,r=.15){return r===0?KX(n,e,t):n<e?-rP(e-n,t-e,r)+e:n>t?+rP(n-t,t-e,r)+t:n}function JX(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[iP(e,s,o,r),iP(t,a,l,i)]}function co(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $r(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(t),!0).forEach(function(r){co(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Oz={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function oP(n){return n?n[0].toUpperCase()+n.slice(1):""}const QX=["enter","leave"];function eZ(n=!1,e){return n&&!QX.includes(e)}function tZ(n,e="",t=!1){const r=Oz[n],i=r&&r[e]||e;return"on"+oP(n)+oP(i)+(eZ(t,i)?"Capture":"")}const nZ=["gotpointercapture","lostpointercapture"];function rZ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=nZ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function iZ(n,e=""){const t=Oz[n],r=t&&t[e]||e;return n+r}function Hx(n){return"touches"in n}function zz(n){return Hx(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function sZ(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function oZ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Fz(n){return Hx(n)?oZ(n)[0]:n}function aZ(n){return sZ(n).map(e=>e.identifier)}function Wb(n){const e=Fz(n);return Hx(n)?e.identifier:e.pointerId}function aP(n){const e=Fz(n);return[e.clientX,e.clientY]}function lZ(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function N1(n,...e){return typeof n=="function"?n(...e):n}function uZ(){}function cZ(...n){return n.length===0?uZ:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function lP(n,e){return Object.assign({},e,n||{})}const fZ=32;class hZ{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?N1(r.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,lZ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const L=t._delta.map(Math.abs);xs.addTo(t._distance,L)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:p,values:m}=t;if(r.hasCustomTransform?(p[0]===!1&&(p[0]=Math.abs(o)>=l&&m[0]),p[1]===!1&&(p[1]=Math.abs(a)>=c&&m[1])):(p[0]===!1&&(p[0]=Math.abs(o)>=l&&Math.sign(o)*l),p[1]===!1&&(p[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=p[0]!==!1||p[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[L,z]=m;d[0]=p[0]!==!1?L-p[0]:0,d[1]=p[1]!==!1?z-p[1]:0}else d[0]=p[0]!==!1?o-p[0]:0,d[1]=p[1]!==!1?a-p[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const v=t.offset,_=t._active&&!t._blocked||t.active;_&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=N1(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[y,x]=t.offset,[[w,S],[M,T]]=t._bounds;t.overflow=[y<w?-1:y>S?1:0,x<M?-1:x>T?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const A=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=JX(t._bounds,t.offset,A),t.delta=xs.sub(t.offset,v),this.computeMovement(),_&&(!t.last||s>fZ)){t.delta=xs.sub(t.offset,v);const L=t.delta.map(Math.abs);xs.addTo(t.distance,L),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[L[0]/s,L[1]/s])}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler($r($r($r({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function dZ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class pZ extends hZ{constructor(...e){super(...e),co(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=xs.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=xs.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[zz(e)]:r.axisThreshold;t.axis=dZ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const mZ=n=>n,uP=.15,Nz={enabled(n=!0){return n},eventOptions(n,e,t){return $r($r({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[uP,uP];case!1:return[0,0];default:return xs.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return xs.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||mZ},threshold(n){return xs.toVector(n,0)}},gZ=0,Zv=$r($r({},Nz),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=gZ){return n},bounds(n={}){if(typeof n=="function")return s=>Zv.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),R_=10,cP={ArrowRight:(n=1)=>[R_*n,0],ArrowLeft:(n=1)=>[-R_*n,0],ArrowUp:(n=1)=>[0,-R_*n],ArrowDown:(n=1)=>[0,R_*n]};class vZ extends pZ{constructor(...e){super(...e),co(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Zv.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Wb(e),r._pointerActive=!0,this.computeValues(aP(e)),this.computeInitial(),t.preventScrollAxis&&zz(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;const i=Wb(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=aP(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=xs.sub(s,t._values),this.computeValues(s)),xs.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=Wb(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t.direction,[c,p]=t.velocity,[m,d]=t.movement,[v,_]=r.swipe.velocity,[y,x]=r.swipe.distance,w=r.swipe.duration;t.elapsedTime<w&&(Math.abs(c)>v&&Math.abs(m)>y&&(t.swipe[0]=a),Math.abs(p)>_&&Math.abs(d)>x&&(t.swipe[1]=l))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,yZ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=cP[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(i),r._keyboardActive=!0,xs.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in cP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function yZ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Kv=typeof window!="undefined"&&window.document&&window.document.createElement;function _Z(){return Kv&&"ontouchstart"in window}function fP(){return _Z()||Kv&&window.navigator.maxTouchPoints>1}function xZ(){return Kv&&"onpointerdown"in window}function wZ(){return Kv&&"exitPointerLock"in window.document}function bZ(){try{return"constructor"in GestureEvent}catch{return!1}}const ua={isBrowser:Kv,gesture:bZ(),touch:fP(),touchscreen:fP(),pointer:xZ(),pointerLock:wZ()},SZ=250,EZ=180,MZ=.5,TZ=50,AZ=250,hP={mouse:0,touch:0,pen:8},CZ=$r($r({},Zv),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ua.pointerLock,ua.touch&&t?"touch":this.pointerLock?"mouse":ua.pointer&&!i?"pointer":ua.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?SZ:void 0,!(!ua.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&t},keys(n=!0){return n},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=xs.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=MZ,distance:e=TZ,duration:t=AZ}={}){return{velocity:this.transform(xs.toVector(n)),distance:this.transform(xs.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return EZ;case!1:return 0;default:return n}},axisThreshold(n){return n?$r($r({},hP),n):hP}});$r($r({},Nz),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!ua.touch&&ua.gesture)return"gesture";if(ua.touch&&r)return"touch";if(ua.touchscreen){if(ua.pointer)return"pointer";if(ua.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=lP(N1(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=lP(N1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",xs.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n}});$r($r({},Zv),{},{mouseOnly:(n=!0)=>n});$r($r({},Zv),{},{mouseOnly:(n=!0)=>n});const Bz=new Map,GE=new Map;function RZ(n){Bz.set(n.key,n.engine),GE.set(n.key,n.resolver)}const PZ={key:"drag",engine:vZ,resolver:CZ};function IZ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function LZ(n,e){if(n==null)return{};var t=IZ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}const kZ={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=ua.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},DZ=["target","eventOptions","window","enabled","transform"];function r1(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=r1(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function OZ(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=LZ(r,DZ);if(t.shared=r1({target:i,eventOptions:s,window:o,enabled:a,transform:l},kZ),e){const p=GE.get(e);t[e]=r1($r({shared:t.shared},c),p)}else for(const p in c){const m=GE.get(p);m&&(t[p]=r1($r({shared:t.shared},c[p]),m))}return t}class Uz{constructor(e,t){co(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=iZ(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=$r($r({},l),s);e.addEventListener(a,i,c);const p=()=>{e.removeEventListener(a,i,c),o.delete(p)};return o.add(p),p}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class zZ{constructor(){co(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class FZ{constructor(e){co(this,"gestures",new Set),co(this,"_targetEventStore",new Uz(this)),co(this,"gestureEventStores",{}),co(this,"gestureTimeoutStores",{}),co(this,"handlers",{}),co(this,"config",{}),co(this,"pointerIds",new Set),co(this,"touchIds",new Set),co(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),NZ(this,e)}setEventIds(e){if(Hx(e))return this.touchIds=new Set(aZ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=OZ(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=dP(r,a.eventOptions,!!i);if(a.enabled){const c=Bz.get(o);new c(this,e,o).bind(l)}}const s=dP(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o]($r($r({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=cZ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=rZ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function cm(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Uz(n,e),n.gestureTimeoutStores[e]=new zZ}function NZ(n,e){e.drag&&cm(n,"drag"),e.wheel&&cm(n,"wheel"),e.scroll&&cm(n,"scroll"),e.move&&cm(n,"move"),e.pinch&&cm(n,"pinch"),e.hover&&cm(n,"hover")}const dP=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const p=(l=o.capture)!==null&&l!==void 0?l:e.capture,m=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:tZ(r,i,p);t&&m&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function BZ(n,e={},t,r){const i=Jt.useMemo(()=>new FZ(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),Jt.useEffect(i.effect.bind(i)),Jt.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function UZ(n,e){return RZ(PZ),BZ({drag:n},e||{},"drag")}function _e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Vt={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},lr={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()},bn={x:0,y:0},Uo={camera:new Et,gizmos:new Et},Cr={type:"change"},el={type:"start"},ia={type:"end"};class HZ extends Ic{constructor(e,t=null,r=null){super(),_e(this,"camera",void 0),_e(this,"domElement",void 0),_e(this,"scene",void 0),_e(this,"mouseActions",void 0),_e(this,"_mouseOp",void 0),_e(this,"_v2_1",void 0),_e(this,"_v3_1",void 0),_e(this,"_v3_2",void 0),_e(this,"_m4_1",void 0),_e(this,"_m4_2",void 0),_e(this,"_quat",void 0),_e(this,"_translationMatrix",void 0),_e(this,"_rotationMatrix",void 0),_e(this,"_scaleMatrix",void 0),_e(this,"_rotationAxis",void 0),_e(this,"_cameraMatrixState",void 0),_e(this,"_cameraProjectionState",void 0),_e(this,"_fovState",void 0),_e(this,"_upState",void 0),_e(this,"_zoomState",void 0),_e(this,"_nearPos",void 0),_e(this,"_farPos",void 0),_e(this,"_gizmoMatrixState",void 0),_e(this,"_up0",void 0),_e(this,"_zoom0",void 0),_e(this,"_fov0",void 0),_e(this,"_initialNear",void 0),_e(this,"_nearPos0",void 0),_e(this,"_initialFar",void 0),_e(this,"_farPos0",void 0),_e(this,"_cameraMatrixState0",void 0),_e(this,"_gizmoMatrixState0",void 0),_e(this,"_button",void 0),_e(this,"_touchStart",void 0),_e(this,"_touchCurrent",void 0),_e(this,"_input",void 0),_e(this,"_switchSensibility",void 0),_e(this,"_startFingerDistance",void 0),_e(this,"_currentFingerDistance",void 0),_e(this,"_startFingerRotation",void 0),_e(this,"_currentFingerRotation",void 0),_e(this,"_devPxRatio",void 0),_e(this,"_downValid",void 0),_e(this,"_nclicks",void 0),_e(this,"_downEvents",void 0),_e(this,"_clickStart",void 0),_e(this,"_maxDownTime",void 0),_e(this,"_maxInterval",void 0),_e(this,"_posThreshold",void 0),_e(this,"_movementThreshold",void 0),_e(this,"_currentCursorPosition",void 0),_e(this,"_startCursorPosition",void 0),_e(this,"_grid",void 0),_e(this,"_gridPosition",void 0),_e(this,"_gizmos",void 0),_e(this,"_curvePts",void 0),_e(this,"_timeStart",void 0),_e(this,"_animationId",void 0),_e(this,"focusAnimationTime",void 0),_e(this,"_timePrev",void 0),_e(this,"_timeCurrent",void 0),_e(this,"_anglePrev",void 0),_e(this,"_angleCurrent",void 0),_e(this,"_cursorPosPrev",void 0),_e(this,"_cursorPosCurr",void 0),_e(this,"_wPrev",void 0),_e(this,"_wCurr",void 0),_e(this,"adjustNearFar",void 0),_e(this,"scaleFactor",void 0),_e(this,"dampingFactor",void 0),_e(this,"wMax",void 0),_e(this,"enableAnimations",void 0),_e(this,"enableGrid",void 0),_e(this,"cursorZoom",void 0),_e(this,"minFov",void 0),_e(this,"maxFov",void 0),_e(this,"enabled",void 0),_e(this,"enablePan",void 0),_e(this,"enableRotate",void 0),_e(this,"enableZoom",void 0),_e(this,"minDistance",void 0),_e(this,"maxDistance",void 0),_e(this,"minZoom",void 0),_e(this,"maxZoom",void 0),_e(this,"target",void 0),_e(this,"_currentTarget",void 0),_e(this,"_tbRadius",void 0),_e(this,"_state",void 0),_e(this,"onWindowResize",()=>{const i=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3;if(this.camera){const c=this.calculateTbRadius(this.camera);c!==void 0&&(this._tbRadius=c)}const s=this._tbRadius/i,a=new th(0,0,s,s).getPoints(this._curvePts),l=new jt().setFromPoints(a);for(const c in this._gizmos.children){const p=this._gizmos.children[c];p.geometry=l}this.dispatchEvent(Cr)}),_e(this,"onContextMenu",i=>{if(!!this.enabled){for(let s=0;s<this.mouseActions.length;s++)if(this.mouseActions[s].mouse==2){i.preventDefault();break}}}),_e(this,"onPointerCancel",()=>{this._touchStart.splice(0,this._touchStart.length),this._touchCurrent.splice(0,this._touchCurrent.length),this._input=lr.NONE}),_e(this,"onPointerDown",i=>{if(i.button==0&&i.isPrimary?(this._downValid=!0,this._downEvents.push(i)):this._downValid=!1,i.pointerType=="touch"&&this._input!=lr.CURSOR)switch(this._touchStart.push(i),this._touchCurrent.push(i),this._input){case lr.NONE:this._input=lr.ONE_FINGER,this.onSinglePanStart(i,"ROTATE"),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp);break;case lr.ONE_FINGER:case lr.ONE_FINGER_SWITCHED:this._input=lr.TWO_FINGER,this.onRotateStart(),this.onPinchStart(),this.onDoublePanStart();break;case lr.TWO_FINGER:this._input=lr.MULT_FINGER,this.onTriplePanStart();break}else if(i.pointerType!="touch"&&this._input==lr.NONE){let s=null;i.ctrlKey||i.metaKey?s="CTRL":i.shiftKey&&(s="SHIFT"),this._mouseOp=this.getOpFromAction(i.button,s),this._mouseOp&&(window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),this._input=lr.CURSOR,this._button=i.button,this.onSinglePanStart(i,this._mouseOp))}}),_e(this,"onPointerMove",i=>{if(i.pointerType=="touch"&&this._input!=lr.CURSOR)switch(this._input){case lr.ONE_FINGER:this.updateTouchEvent(i),this.onSinglePanMove(i,Vt.ROTATE);break;case lr.ONE_FINGER_SWITCHED:if(this.calculatePointersDistance(this._touchCurrent[0],i)*this._devPxRatio>=this._switchSensibility){this._input=lr.ONE_FINGER,this.updateTouchEvent(i),this.onSinglePanStart(i,"ROTATE");break}break;case lr.TWO_FINGER:this.updateTouchEvent(i),this.onRotateMove(),this.onPinchMove(),this.onDoublePanMove();break;case lr.MULT_FINGER:this.updateTouchEvent(i),this.onTriplePanMove();break}else if(i.pointerType!="touch"&&this._input==lr.CURSOR){let s=null;i.ctrlKey||i.metaKey?s="CTRL":i.shiftKey&&(s="SHIFT");const o=this.getOpStateFromAction(this._button,s);o&&this.onSinglePanMove(i,o)}this._downValid&&this.calculatePointersDistance(this._downEvents[this._downEvents.length-1],i)*this._devPxRatio>this._movementThreshold&&(this._downValid=!1)}),_e(this,"onPointerUp",i=>{if(i.pointerType=="touch"&&this._input!=lr.CURSOR){const s=this._touchCurrent.length;for(let o=0;o<s;o++)if(this._touchCurrent[o].pointerId==i.pointerId){this._touchCurrent.splice(o,1),this._touchStart.splice(o,1);break}switch(this._input){case lr.ONE_FINGER:case lr.ONE_FINGER_SWITCHED:window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=lr.NONE,this.onSinglePanEnd();break;case lr.TWO_FINGER:this.onDoublePanEnd(),this.onPinchEnd(),this.onRotateEnd(),this._input=lr.ONE_FINGER_SWITCHED;break;case lr.MULT_FINGER:this._touchCurrent.length==0&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=lr.NONE,this.onTriplePanEnd());break}}else i.pointerType!="touch"&&this._input==lr.CURSOR&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=lr.NONE,this.onSinglePanEnd(),this._button=-1);if(i.isPrimary)if(this._downValid)if(i.timeStamp-this._downEvents[this._downEvents.length-1].timeStamp<=this._maxDownTime)if(this._nclicks==0)this._nclicks=1,this._clickStart=performance.now();else{const o=i.timeStamp-this._clickStart,a=this.calculatePointersDistance(this._downEvents[1],this._downEvents[0])*this._devPxRatio;o<=this._maxInterval&&a<=this._posThreshold?(this._nclicks=0,this._downEvents.splice(0,this._downEvents.length),this.onDoubleTap(i)):(this._nclicks=1,this._downEvents.shift(),this._clickStart=performance.now())}else this._downValid=!1,this._nclicks=0,this._downEvents.splice(0,this._downEvents.length);else this._nclicks=0,this._downEvents.splice(0,this._downEvents.length)}),_e(this,"onWheel",i=>{var s;if(this.enabled&&this.enableZoom&&this.domElement){let p=null;i.ctrlKey||i.metaKey?p="CTRL":i.shiftKey&&(p="SHIFT");const m=this.getOpFromAction("WHEEL",p);if(m){i.preventDefault(),this.dispatchEvent(el);const d=125;let v=i.deltaY/d,_=1;switch(v>0?_=1/this.scaleFactor:v<0&&(_=this.scaleFactor),m){case"ZOOM":if(this.updateTbState(Vt.SCALE,!0),v>0?_=1/Math.pow(this.scaleFactor,v):v<0&&(_=Math.pow(this.scaleFactor,-v)),this.cursorZoom&&this.enablePan){var o,a;let y;if(((o=this.camera)===null||o===void 0?void 0:o.type)==="OrthographicCamera"){var l;y=(l=this.unprojectOnTbPlane(this.camera,i.clientX,i.clientY,this.domElement))===null||l===void 0?void 0:l.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position)}if(((a=this.camera)===null||a===void 0?void 0:a.type)==="PerspectiveCamera"){var c;y=(c=this.unprojectOnTbPlane(this.camera,i.clientX,i.clientY,this.domElement))===null||c===void 0?void 0:c.applyQuaternion(this.camera.quaternion).add(this._gizmos.position)}y!==void 0&&this.applyTransformMatrix(this.applyScale(_,y))}else this.applyTransformMatrix(this.applyScale(_,this._gizmos.position));this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(Cr),this.dispatchEvent(ia);break;case"FOV":if(((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"){this.updateTbState(Vt.FOV,!0),i.deltaX!=0&&(v=i.deltaX/d,_=1,v>0?_=1/Math.pow(this.scaleFactor,v):v<0&&(_=Math.pow(this.scaleFactor,-v))),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const y=this._v3_1.distanceTo(this._gizmos.position);let x=y/_;x=Dr.clamp(x,this.minDistance,this.maxDistance);const w=y*Math.tan(Dr.DEG2RAD*this.camera.fov*.5);let S=Dr.RAD2DEG*(Math.atan(w/x)*2);S>this.maxFov?S=this.maxFov:S<this.minFov&&(S=this.minFov);const M=w/Math.tan(Dr.DEG2RAD*(S/2));_=y/M,this.setFov(S),this.applyTransformMatrix(this.applyScale(_,this._gizmos.position,!1))}this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(Cr),this.dispatchEvent(ia);break}}}}),_e(this,"onSinglePanStart",(i,s)=>{var o;if(this.enabled&&this.domElement)switch(this.dispatchEvent(el),this.setCenter(i.clientX,i.clientY),s){case"PAN":if(!this.enablePan)return;if(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(Cr)),this.camera){this.updateTbState(Vt.PAN,!0);const a=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement);a!==void 0&&this._startCursorPosition.copy(a),this.enableGrid&&(this.drawGrid(),this.dispatchEvent(Cr))}break;case"ROTATE":if(!this.enableRotate)return;if(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1),this.camera){this.updateTbState(Vt.ROTATE,!0);const a=this.unprojectOnTbSurface(this.camera,bn.x,bn.y,this.domElement,this._tbRadius);a!==void 0&&this._startCursorPosition.copy(a),this.activateGizmos(!0),this.enableAnimations&&(this._timePrev=this._timeCurrent=performance.now(),this._angleCurrent=this._anglePrev=0,this._cursorPosPrev.copy(this._startCursorPosition),this._cursorPosCurr.copy(this._cursorPosPrev),this._wCurr=0,this._wPrev=this._wCurr)}this.dispatchEvent(Cr);break;case"FOV":if(!this.enableZoom)return;((o=this.camera)===null||o===void 0?void 0:o.type)==="PerspectiveCamera"&&(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(Cr)),this.updateTbState(Vt.FOV,!0),this._startCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition));break;case"ZOOM":if(!this.enableZoom)return;this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(Cr)),this.updateTbState(Vt.SCALE,!0),this._startCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition);break}}),_e(this,"onSinglePanMove",(i,s)=>{var o;if(this.enabled&&this.domElement){const a=s!=this._state;switch(this.setCenter(i.clientX,i.clientY),s){case Vt.PAN:if(this.enablePan&&this.camera)if(a){this.dispatchEvent(ia),this.dispatchEvent(el),this.updateTbState(s,!0);const l=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement);l!==void 0&&this._startCursorPosition.copy(l),this.enableGrid&&this.drawGrid(),this.activateGizmos(!1)}else{const l=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement);l!==void 0&&this._currentCursorPosition.copy(l),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition))}break;case Vt.ROTATE:if(this.enableRotate&&this.camera)if(a){this.dispatchEvent(ia),this.dispatchEvent(el),this.updateTbState(s,!0);const l=this.unprojectOnTbSurface(this.camera,bn.x,bn.y,this.domElement,this._tbRadius);l!==void 0&&this._startCursorPosition.copy(l),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!0)}else{const l=this.unprojectOnTbSurface(this.camera,bn.x,bn.y,this.domElement,this._tbRadius);l!==void 0&&this._currentCursorPosition.copy(l);const c=this._startCursorPosition.distanceTo(this._currentCursorPosition),p=this._startCursorPosition.angleTo(this._currentCursorPosition),m=Math.max(c/this._tbRadius,p);this.applyTransformMatrix(this.rotate(this.calculateRotationAxis(this._startCursorPosition,this._currentCursorPosition),m)),this.enableAnimations&&(this._timePrev=this._timeCurrent,this._timeCurrent=performance.now(),this._anglePrev=this._angleCurrent,this._angleCurrent=m,this._cursorPosPrev.copy(this._cursorPosCurr),this._cursorPosCurr.copy(this._currentCursorPosition),this._wPrev=this._wCurr,this._wCurr=this.calculateAngularSpeed(this._anglePrev,this._angleCurrent,this._timePrev,this._timeCurrent))}break;case Vt.SCALE:if(this.enableZoom)if(a)this.dispatchEvent(ia),this.dispatchEvent(el),this.updateTbState(s,!0),this._startCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{this._currentCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5);const c=this._currentCursorPosition.y-this._startCursorPosition.y;let p=1;c<0?p=1/Math.pow(this.scaleFactor,-c*8):c>0&&(p=Math.pow(this.scaleFactor,c*8)),this.applyTransformMatrix(this.applyScale(p,this._gizmos.position))}break;case Vt.FOV:if(this.enableZoom&&((o=this.camera)===null||o===void 0?void 0:o.type)==="PerspectiveCamera")if(a)this.dispatchEvent(ia),this.dispatchEvent(el),this.updateTbState(s,!0),this._startCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{this._currentCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5);const c=this._currentCursorPosition.y-this._startCursorPosition.y;let p=1;c<0?p=1/Math.pow(this.scaleFactor,-c*8):c>0&&(p=Math.pow(this.scaleFactor,c*8)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const m=this._v3_1.distanceTo(this._gizmos.position);let d=m/p;d=Dr.clamp(d,this.minDistance,this.maxDistance);const v=m*Math.tan(Dr.DEG2RAD*this._fovState*.5);let _=Dr.RAD2DEG*(Math.atan(v/d)*2);_=Dr.clamp(_,this.minFov,this.maxFov);const y=v/Math.tan(Dr.DEG2RAD*(_/2));p=m/y,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(_),this.applyTransformMatrix(this.applyScale(p,this._v3_2,!1));const x=this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(y/m);this._m4_1.makeTranslation(x.x,x.y,x.z)}break}this.dispatchEvent(Cr)}}),_e(this,"onSinglePanEnd",()=>{if(this._state==Vt.ROTATE){if(!this.enableRotate)return;if(this.enableAnimations)if(performance.now()-this._timeCurrent<120){const s=Math.abs((this._wPrev+this._wCurr)/2),o=this;this._animationId=window.requestAnimationFrame(function(a){o.updateTbState(Vt.ANIMATION_ROTATE,!0);const l=o.calculateRotationAxis(o._cursorPosPrev,o._cursorPosCurr);o.onRotationAnim(a,l,Math.min(s,o.wMax))})}else this.updateTbState(Vt.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Cr);else this.updateTbState(Vt.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Cr)}else(this._state==Vt.PAN||this._state==Vt.IDLE)&&(this.updateTbState(Vt.IDLE,!1),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1),this.dispatchEvent(Cr));this.dispatchEvent(ia)}),_e(this,"onDoubleTap",i=>{if(this.enabled&&this.enablePan&&this.scene&&this.camera&&this.domElement){this.dispatchEvent(el),this.setCenter(i.clientX,i.clientY);const s=this.unprojectOnObj(this.getCursorNDC(bn.x,bn.y,this.domElement),this.camera);if(s&&this.enableAnimations){const o=this;this._animationId!=-1&&window.cancelAnimationFrame(this._animationId),this._timeStart=-1,this._animationId=window.requestAnimationFrame(function(a){o.updateTbState(Vt.ANIMATION_FOCUS,!0),o.onFocusAnim(a,s,o._cameraMatrixState,o._gizmoMatrixState)})}else s&&!this.enableAnimations&&(this.updateTbState(Vt.FOCUS,!0),this.focus(s,this.scaleFactor),this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(Cr))}this.dispatchEvent(ia)}),_e(this,"onDoublePanStart",()=>{if(this.enabled&&this.enablePan&&this.camera&&this.domElement){this.dispatchEvent(el),this.updateTbState(Vt.PAN,!0),this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);const i=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement,!0);i!==void 0&&this._startCursorPosition.copy(i),this._currentCursorPosition.copy(this._startCursorPosition),this.activateGizmos(!1)}}),_e(this,"onDoublePanMove",()=>{if(this.enabled&&this.enablePan&&this.camera&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2),this._state!=Vt.PAN&&(this.updateTbState(Vt.PAN,!0),this._startCursorPosition.copy(this._currentCursorPosition));const i=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement,!0);i!==void 0&&this._currentCursorPosition.copy(i),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition,!0)),this.dispatchEvent(Cr)}}),_e(this,"onDoublePanEnd",()=>{this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(ia)}),_e(this,"onRotateStart",()=>{if(this.enabled&&this.enableRotate){var i;this.dispatchEvent(el),this.updateTbState(Vt.ZROTATE,!0),this._startFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),this._currentFingerRotation=this._startFingerRotation,(i=this.camera)===null||i===void 0||i.getWorldDirection(this._rotationAxis),!this.enablePan&&!this.enableZoom&&this.activateGizmos(!0)}}),_e(this,"onRotateMove",()=>{if(this.enabled&&this.enableRotate&&this.camera&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);let s;if(this._state!=Vt.ZROTATE&&(this.updateTbState(Vt.ZROTATE,!0),this._startFingerRotation=this._currentFingerRotation),this._currentFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),!this.enablePan)s=new re().setFromMatrixPosition(this._gizmoMatrixState);else if(this.camera){var i;this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),s=(i=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement))===null||i===void 0?void 0:i.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._v3_2)}const o=Dr.DEG2RAD*(this._startFingerRotation-this._currentFingerRotation);s!==void 0&&this.applyTransformMatrix(this.zRotate(s,o)),this.dispatchEvent(Cr)}}),_e(this,"onRotateEnd",()=>{this.updateTbState(Vt.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(ia)}),_e(this,"onPinchStart",()=>{this.enabled&&this.enableZoom&&(this.dispatchEvent(el),this.updateTbState(Vt.SCALE,!0),this._startFingerDistance=this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),this._currentFingerDistance=this._startFingerDistance,this.activateGizmos(!1))}),_e(this,"onPinchMove",()=>{if(this.enabled&&this.enableZoom&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);const l=12;this._state!=Vt.SCALE&&(this._startFingerDistance=this._currentFingerDistance,this.updateTbState(Vt.SCALE,!0)),this._currentFingerDistance=Math.max(this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),l*this._devPxRatio);const c=this._currentFingerDistance/this._startFingerDistance;let p;if(!this.enablePan)p=this._gizmos.position;else{var i,s;if(((i=this.camera)===null||i===void 0?void 0:i.type)==="OrthographicCamera"){var o;p=(o=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement))===null||o===void 0?void 0:o.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position)}else if(((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"){var a;p=(a=this.unprojectOnTbPlane(this.camera,bn.x,bn.y,this.domElement))===null||a===void 0?void 0:a.applyQuaternion(this.camera.quaternion).add(this._gizmos.position)}}p!==void 0&&this.applyTransformMatrix(this.applyScale(c,p)),this.dispatchEvent(Cr)}}),_e(this,"onPinchEnd",()=>{this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(ia)}),_e(this,"onTriplePanStart",()=>{if(this.enabled&&this.enableZoom&&this.domElement){this.dispatchEvent(el),this.updateTbState(Vt.SCALE,!0);let i=0,s=0;const o=this._touchCurrent.length;for(let a=0;a<o;a++)i+=this._touchCurrent[a].clientX,s+=this._touchCurrent[a].clientY;this.setCenter(i/o,s/o),this._startCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition)}}),_e(this,"onTriplePanMove",()=>{if(this.enabled&&this.enableZoom&&this.camera&&this.domElement){let i=0,s=0;const o=this._touchCurrent.length;for(let x=0;x<o;x++)i+=this._touchCurrent[x].clientX,s+=this._touchCurrent[x].clientY;this.setCenter(i/o,s/o);const a=8;this._currentCursorPosition.setY(this.getCursorNDC(bn.x,bn.y,this.domElement).y*.5);const l=this._currentCursorPosition.y-this._startCursorPosition.y;let c=1;l<0?c=1/Math.pow(this.scaleFactor,-l*a):l>0&&(c=Math.pow(this.scaleFactor,l*a)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const p=this._v3_1.distanceTo(this._gizmos.position);let m=p/c;m=Dr.clamp(m,this.minDistance,this.maxDistance);const d=p*Math.tan(Dr.DEG2RAD*this._fovState*.5);let v=Dr.RAD2DEG*(Math.atan(d/m)*2);v=Dr.clamp(v,this.minFov,this.maxFov);const _=d/Math.tan(Dr.DEG2RAD*(v/2));c=p/_,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(v),this.applyTransformMatrix(this.applyScale(c,this._v3_2,!1));const y=this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(_/p);this._m4_1.makeTranslation(y.x,y.y,y.z),this.dispatchEvent(Cr)}}),_e(this,"onTriplePanEnd",()=>{this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(ia)}),_e(this,"setCenter",(i,s)=>{bn.x=i,bn.y=s}),_e(this,"initializeMouseActions",()=>{this.setMouseAction("PAN",0,"CTRL"),this.setMouseAction("PAN",2),this.setMouseAction("ROTATE",0),this.setMouseAction("ZOOM","WHEEL"),this.setMouseAction("ZOOM",1),this.setMouseAction("FOV","WHEEL","SHIFT"),this.setMouseAction("FOV",1,"SHIFT")}),_e(this,"setMouseAction",(i,s,o=null)=>{const a=["PAN","ROTATE","ZOOM","FOV"],l=[0,1,2,"WHEEL"],c=["CTRL","SHIFT",null];let p;if(!a.includes(i)||!l.includes(s)||!c.includes(o)||s=="WHEEL"&&i!="ZOOM"&&i!="FOV")return!1;switch(i){case"PAN":p=Vt.PAN;break;case"ROTATE":p=Vt.ROTATE;break;case"ZOOM":p=Vt.SCALE;break;case"FOV":p=Vt.FOV;break}const m={operation:i,mouse:s,key:o,state:p};for(let d=0;d<this.mouseActions.length;d++)if(this.mouseActions[d].mouse==m.mouse&&this.mouseActions[d].key==m.key)return this.mouseActions.splice(d,1,m),!0;return this.mouseActions.push(m),!0}),_e(this,"getOpFromAction",(i,s)=>{let o;for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==s)return o.operation;if(s){for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==null)return o.operation}return null}),_e(this,"getOpStateFromAction",(i,s)=>{let o;for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==s)return o.state;if(s){for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==null)return o.state}return null}),_e(this,"getAngle",(i,s)=>Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX)*180/Math.PI),_e(this,"updateTouchEvent",i=>{for(let s=0;s<this._touchCurrent.length;s++)if(this._touchCurrent[s].pointerId==i.pointerId){this._touchCurrent.splice(s,1,i);break}}),_e(this,"calculateAngularSpeed",(i,s,o,a)=>{const l=s-i,c=(a-o)/1e3;return c==0?0:l/c}),_e(this,"calculatePointersDistance",(i,s)=>Math.sqrt(Math.pow(s.clientX-i.clientX,2)+Math.pow(s.clientY-i.clientY,2))),_e(this,"calculateRotationAxis",(i,s)=>(this._rotationMatrix.extractRotation(this._cameraMatrixState),this._quat.setFromRotationMatrix(this._rotationMatrix),this._rotationAxis.crossVectors(i,s).applyQuaternion(this._quat),this._rotationAxis.normalize().clone())),_e(this,"calculateTbRadius",i=>{const o=i.position.distanceTo(this._gizmos.position);if(i.type=="PerspectiveCamera"){const a=Dr.DEG2RAD*i.fov*.5,l=Math.atan(i.aspect*Math.tan(a));return Math.tan(Math.min(a,l))*o*.67}else if(i.type=="OrthographicCamera")return Math.min(i.top,i.right)*.67}),_e(this,"focus",(i,s,o=1)=>{if(this.camera){const a=i.clone();a.sub(this._gizmos.position).multiplyScalar(o),this._translationMatrix.makeTranslation(a.x,a.y,a.z);const l=this._gizmoMatrixState.clone();this._gizmoMatrixState.premultiply(this._translationMatrix),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale);const c=this._cameraMatrixState.clone();this._cameraMatrixState.premultiply(this._translationMatrix),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.enableZoom&&this.applyTransformMatrix(this.applyScale(s,this._gizmos.position)),this._gizmoMatrixState.copy(l),this._cameraMatrixState.copy(c)}}),_e(this,"drawGrid",()=>{if(this.scene){var i,s;let l,c,p,m;if(((i=this.camera)===null||i===void 0?void 0:i.type)==="OrthographicCamera"){const d=this.camera.right-this.camera.left,v=this.camera.bottom-this.camera.top;p=Math.max(d,v),m=p/20,l=p/this.camera.zoom*3,c=l/m*this.camera.zoom}else if(((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"){const d=this.camera.position.distanceTo(this._gizmos.position),v=Dr.DEG2RAD*this.camera.fov*.5,_=Math.atan(this.camera.aspect*Math.tan(v));p=Math.tan(Math.max(v,_))*d*2,m=p/20,l=p*3,c=l/m}this._grid==null&&this.camera&&(this._grid=new vT(l,c,8947848,8947848),this._grid.position.copy(this._gizmos.position),this._gridPosition.copy(this._grid.position),this._grid.quaternion.copy(this.camera.quaternion),this._grid.rotateX(Math.PI*.5),this.scene.add(this._grid))}}),_e(this,"connect",i=>{i===document&&console.error('THREE.ArcballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=i,this.domElement.style.touchAction="none",this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onWheel)}),_e(this,"dispose",()=>{var i,s,o,a,l;this._animationId!=-1&&window.cancelAnimationFrame(this._animationId),(i=this.domElement)===null||i===void 0||i.removeEventListener("pointerdown",this.onPointerDown),(s=this.domElement)===null||s===void 0||s.removeEventListener("pointercancel",this.onPointerCancel),(o=this.domElement)===null||o===void 0||o.removeEventListener("wheel",this.onWheel),(a=this.domElement)===null||a===void 0||a.removeEventListener("contextmenu",this.onContextMenu),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("resize",this.onWindowResize),(l=this.scene)===null||l===void 0||l.remove(this._gizmos),this.disposeGrid()}),_e(this,"disposeGrid",()=>{this._grid&&this.scene&&(this.scene.remove(this._grid),this._grid=null)}),_e(this,"easeOutCubic",i=>1-Math.pow(1-i,3)),_e(this,"activateGizmos",i=>{for(const s of this._gizmos.children)s.material.setValues({opacity:i?1:.6})}),_e(this,"getCursorNDC",(i,s,o)=>{const a=o.getBoundingClientRect();return this._v2_1.setX((i-a.left)/a.width*2-1),this._v2_1.setY((a.bottom-s)/a.height*2-1),this._v2_1.clone()}),_e(this,"getCursorPosition",(i,s,o)=>{var a;return this._v2_1.copy(this.getCursorNDC(i,s,o)),((a=this.camera)===null||a===void 0?void 0:a.type)==="OrthographicCamera"&&(this._v2_1.x*=(this.camera.right-this.camera.left)*.5,this._v2_1.y*=(this.camera.top-this.camera.bottom)*.5),this._v2_1.clone()}),_e(this,"setCamera",i=>{if(i){i.lookAt(this.target),i.updateMatrix(),(i==null?void 0:i.type)=="PerspectiveCamera"&&(this._fov0=i.fov,this._fovState=i.fov),this._cameraMatrixState0.copy(i.matrix),this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraProjectionState.copy(i.projectionMatrix),this._zoom0=i.zoom,this._zoomState=this._zoom0,this._initialNear=i.near,this._nearPos0=i.position.distanceTo(this.target)-i.near,this._nearPos=this._initialNear,this._initialFar=i.far,this._farPos0=i.position.distanceTo(this.target)-i.far,this._farPos=this._initialFar,this._up0.copy(i.up),this._upState.copy(i.up),this.camera=i,this.camera.updateProjectionMatrix();const s=this.calculateTbRadius(i);s!==void 0&&(this._tbRadius=s),this.makeGizmos(this.target,this._tbRadius)}}),_e(this,"makeGizmos",(i,s)=>{const a=new th(0,0,s,s).getPoints(this._curvePts),l=new jt().setFromPoints(a),c=new mi({color:16744576,fog:!1,transparent:!0,opacity:.6}),p=new mi({color:8454016,fog:!1,transparent:!0,opacity:.6}),m=new mi({color:8421631,fog:!1,transparent:!0,opacity:.6}),d=new pa(l,c),v=new pa(l,p),_=new pa(l,m),y=Math.PI*.5;if(d.rotation.x=y,v.rotation.y=y,this._gizmoMatrixState0.identity().setPosition(i),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this.camera&&this.camera.zoom!=1){const x=1/this.camera.zoom;this._scaleMatrix.makeScale(x,x,x),this._translationMatrix.makeTranslation(-i.x,-i.y,-i.z),this._gizmoMatrixState.premultiply(this._translationMatrix).premultiply(this._scaleMatrix),this._translationMatrix.makeTranslation(i.x,i.y,i.z),this._gizmoMatrixState.premultiply(this._translationMatrix)}this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.clear(),this._gizmos.add(d),this._gizmos.add(v),this._gizmos.add(_)}),_e(this,"onFocusAnim",(i,s,o,a)=>{if(this._timeStart==-1&&(this._timeStart=i),this._state==Vt.ANIMATION_FOCUS){const c=(i-this._timeStart)/this.focusAnimationTime;if(this._gizmoMatrixState.copy(a),c>=1)this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(s,this.scaleFactor),this._timeStart=-1,this.updateTbState(Vt.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Cr);else{const p=this.easeOutCubic(c),m=1-p+this.scaleFactor*p;this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(s,m,p),this.dispatchEvent(Cr);const d=this;this._animationId=window.requestAnimationFrame(function(v){d.onFocusAnim(v,s,o,a.clone())})}}else this._animationId=-1,this._timeStart=-1}),_e(this,"onRotationAnim",(i,s,o)=>{if(this._timeStart==-1&&(this._anglePrev=0,this._angleCurrent=0,this._timeStart=i),this._state==Vt.ANIMATION_ROTATE){const a=(i-this._timeStart)/1e3;if(o+-this.dampingFactor*a>0){this._angleCurrent=.5*-this.dampingFactor*Math.pow(a,2)+o*a+0,this.applyTransformMatrix(this.rotate(s,this._angleCurrent)),this.dispatchEvent(Cr);const c=this;this._animationId=window.requestAnimationFrame(function(p){c.onRotationAnim(p,s,o)})}else this._animationId=-1,this._timeStart=-1,this.updateTbState(Vt.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Cr)}else this._animationId=-1,this._timeStart=-1,this._state!=Vt.ROTATE&&(this.activateGizmos(!1),this.dispatchEvent(Cr))}),_e(this,"pan",(i,s,o=!1)=>{if(this.camera){const a=i.clone().sub(s);if(this.camera.type==="OrthographicCamera"&&a.multiplyScalar(1/this.camera.zoom),this.camera.type==="PerspectiveCamera"&&o){this._v3_1.setFromMatrixPosition(this._cameraMatrixState0),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0);const l=this._v3_1.distanceTo(this._v3_2)/this.camera.position.distanceTo(this._gizmos.position);a.multiplyScalar(1/l)}this._v3_1.set(a.x,a.y,0).applyQuaternion(this.camera.quaternion),this._m4_1.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z),this.setTransformationMatrices(this._m4_1,this._m4_1)}return Uo}),_e(this,"reset",()=>{if(this.camera){this.camera.zoom=this._zoom0,this.camera.type==="PerspectiveCamera"&&(this.camera.fov=this._fov0),this.camera.near=this._nearPos,this.camera.far=this._farPos,this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(this._up0),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this._gizmoMatrixState0.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix();const i=this.calculateTbRadius(this.camera);i!==void 0&&(this._tbRadius=i),this.makeGizmos(this._gizmos.position,this._tbRadius),this.camera.lookAt(this._gizmos.position),this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(Cr)}}),_e(this,"rotate",(i,s)=>{const o=this._gizmos.position;return this._translationMatrix.makeTranslation(-o.x,-o.y,-o.z),this._rotationMatrix.makeRotationAxis(i,-s),this._m4_1.makeTranslation(o.x,o.y,o.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1),Uo}),_e(this,"copyState",()=>{if(this.camera){var i;const s=JSON.stringify(((i=this.camera)===null||i===void 0?void 0:i.type)==="OrthographicCamera"?{arcballState:{cameraFar:this.camera.far,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}}:{arcballState:{cameraFar:this.camera.far,cameraFov:this.camera.fov,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}});navigator.clipboard.writeText(s)}}),_e(this,"pasteState",()=>{const i=this;navigator.clipboard.readText().then(function(o){i.setStateFromJSON(o)})}),_e(this,"saveState",()=>{!this.camera||(this._cameraMatrixState0.copy(this.camera.matrix),this._gizmoMatrixState0.copy(this._gizmos.matrix),this._nearPos=this.camera.near,this._farPos=this.camera.far,this._zoom0=this.camera.zoom,this._up0.copy(this.camera.up),this.camera.type==="PerspectiveCamera"&&(this._fov0=this.camera.fov))}),_e(this,"applyScale",(i,s,o=!0)=>{if(!this.camera)return;const a=s.clone();let l=1/i;if(this.camera.type==="OrthographicCamera"){this.camera.zoom=this._zoomState,this.camera.zoom*=i,this.camera.zoom>this.maxZoom?(this.camera.zoom=this.maxZoom,l=this._zoomState/this.maxZoom):this.camera.zoom<this.minZoom&&(this.camera.zoom=this.minZoom,l=this._zoomState/this.minZoom),this.camera.updateProjectionMatrix(),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState),this._scaleMatrix.makeScale(l,l,l),this._translationMatrix.makeTranslation(-this._v3_1.x,-this._v3_1.y,-this._v3_1.z),this._m4_2.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z).multiply(this._scaleMatrix),this._m4_2.multiply(this._translationMatrix),a.sub(this._v3_1);const c=a.clone().multiplyScalar(l);return a.sub(c),this._m4_1.makeTranslation(a.x,a.y,a.z),this._m4_2.premultiply(this._m4_1),this.setTransformationMatrices(this._m4_1,this._m4_2),Uo}if(this.camera.type==="PerspectiveCamera"){this._v3_1.setFromMatrixPosition(this._cameraMatrixState),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);let c=this._v3_1.distanceTo(a),p=c-c*l;const m=c-p;m<this.minDistance?(l=this.minDistance/c,p=c-c*l):m>this.maxDistance&&(l=this.maxDistance/c,p=c-c*l);let d=a.clone().sub(this._v3_1).normalize().multiplyScalar(p);if(this._m4_1.makeTranslation(d.x,d.y,d.z),o){const v=this._v3_2;c=v.distanceTo(a),p=c-c*l,d=a.clone().sub(this._v3_2).normalize().multiplyScalar(p),this._translationMatrix.makeTranslation(v.x,v.y,v.z),this._scaleMatrix.makeScale(l,l,l),this._m4_2.makeTranslation(d.x,d.y,d.z).multiply(this._translationMatrix),this._m4_2.multiply(this._scaleMatrix),this._translationMatrix.makeTranslation(-v.x,-v.y,-v.z),this._m4_2.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1,this._m4_2)}else this.setTransformationMatrices(this._m4_1);return Uo}}),_e(this,"setFov",i=>{var s;((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"&&(this.camera.fov=Dr.clamp(i,this.minFov,this.maxFov),this.camera.updateProjectionMatrix())}),_e(this,"setTarget",(i,s,o)=>{if(this.camera){this.target.set(i,s,o),this._gizmos.position.set(i,s,o);const a=this.calculateTbRadius(this.camera);a!==void 0&&(this._tbRadius=a),this.makeGizmos(this.target,this._tbRadius),this.camera.lookAt(this.target)}}),_e(this,"zRotate",(i,s)=>(this._rotationMatrix.makeRotationAxis(this._rotationAxis,s),this._translationMatrix.makeTranslation(-i.x,-i.y,-i.z),this._m4_1.makeTranslation(i.x,i.y,i.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState).sub(i),this._v3_2.copy(this._v3_1).applyAxisAngle(this._rotationAxis,s),this._v3_2.sub(this._v3_1),this._m4_2.makeTranslation(this._v3_2.x,this._v3_2.y,this._v3_2.z),this.setTransformationMatrices(this._m4_1,this._m4_2),Uo)),_e(this,"unprojectOnObj",(i,s)=>{if(!this.scene)return null;const o=new gT;o.near=s.near,o.far=s.far,o.setFromCamera(i,s);const a=o.intersectObjects(this.scene.children,!0);for(let l=0;l<a.length;l++)if(a[l].object.uuid!=this._gizmos.uuid&&a[l].face)return a[l].point.clone();return null}),_e(this,"unprojectOnTbSurface",(i,s,o,a,l)=>{if(i.type=="OrthographicCamera"){this._v2_1.copy(this.getCursorPosition(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0);const c=Math.pow(this._v2_1.x,2),p=Math.pow(this._v2_1.y,2),m=Math.pow(this._tbRadius,2);return c+p<=m*.5?this._v3_1.setZ(Math.sqrt(m-(c+p))):this._v3_1.setZ(m*.5/Math.sqrt(c+p)),this._v3_1}if(i.type=="PerspectiveCamera"){this._v2_1.copy(this.getCursorNDC(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(i.projectionMatrixInverse);const c=this._v3_1.clone().normalize(),p=i.position.distanceTo(this._gizmos.position),m=Math.pow(l,2),d=this._v3_1.z,v=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));if(v==0)return c.set(this._v3_1.x,this._v3_1.y,l),c;const _=d/v,y=p;let x=Math.pow(_,2)+1,w=2*_*y,S=Math.pow(y,2)-m,M=Math.pow(w,2)-4*x*S;if(M>=0&&(this._v2_1.setX((-w-Math.sqrt(M))/(2*x)),this._v2_1.setY(_*this._v2_1.x+y),Dr.RAD2DEG*this._v2_1.angle()>=45)){const L=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(p-this._v2_1.y,2));return c.multiplyScalar(L),c.z+=p,c}x=_,w=y,S=-m*.5,M=Math.pow(w,2)-4*x*S,this._v2_1.setX((-w-Math.sqrt(M))/(2*x)),this._v2_1.setY(_*this._v2_1.x+y);const T=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(p-this._v2_1.y,2));return c.multiplyScalar(T),c.z+=p,c}}),_e(this,"unprojectOnTbPlane",(i,s,o,a,l=!1)=>{if(i.type=="OrthographicCamera")return this._v2_1.copy(this.getCursorPosition(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0),this._v3_1.clone();if(i.type=="PerspectiveCamera"){this._v2_1.copy(this.getCursorNDC(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(i.projectionMatrixInverse);const c=this._v3_1.clone().normalize(),p=this._v3_1.z,m=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));let d;if(l?d=this._v3_1.setFromMatrixPosition(this._cameraMatrixState0).distanceTo(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0)):d=i.position.distanceTo(this._gizmos.position),m==0)return c.set(0,0,0),c;const v=p/m,_=d,y=-_/v,x=Math.sqrt(Math.pow(_,2)+Math.pow(y,2));return c.multiplyScalar(x),c.z=0,c}}),_e(this,"updateMatrixState",()=>{!this.camera||(this._cameraMatrixState.copy(this.camera.matrix),this._gizmoMatrixState.copy(this._gizmos.matrix),this.camera.type==="OrthographicCamera"&&(this._cameraProjectionState.copy(this.camera.projectionMatrix),this.camera.updateProjectionMatrix(),this._zoomState=this.camera.zoom),this.camera.type==="PerspectiveCamera"&&(this._fovState=this.camera.fov))}),_e(this,"updateTbState",(i,s)=>{this._state=i,s&&this.updateMatrixState()}),_e(this,"update",()=>{if(!this.target.equals(this._currentTarget)&&this.camera){this._gizmos.position.set(this.target.x,this.target.y,this.target.z);const s=this.calculateTbRadius(this.camera);s!==void 0&&(this._tbRadius=s),this.makeGizmos(this.target,this._tbRadius),this._currentTarget.copy(this.target)}if(!!this.camera){if(this.camera.type==="OrthographicCamera"&&(this.camera.zoom>this.maxZoom||this.camera.zoom<this.minZoom)){const s=Dr.clamp(this.camera.zoom,this.minZoom,this.maxZoom);this.applyTransformMatrix(this.applyScale(s/this.camera.zoom,this._gizmos.position,!0))}if(this.camera.type==="PerspectiveCamera"){const s=this.camera.position.distanceTo(this._gizmos.position);if(s>this.maxDistance+1e-6||s<this.minDistance-1e-6){const l=Dr.clamp(s,this.minDistance,this.maxDistance);this.applyTransformMatrix(this.applyScale(l/s,this._gizmos.position)),this.updateMatrixState()}(this.camera.fov<this.minFov||this.camera.fov>this.maxFov)&&(this.camera.fov=Dr.clamp(this.camera.fov,this.minFov,this.maxFov),this.camera.updateProjectionMatrix());const o=this._tbRadius,a=this.calculateTbRadius(this.camera);if(a!==void 0&&(this._tbRadius=a),o<this._tbRadius-1e-6||o>this._tbRadius+1e-6){const l=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3,c=this._tbRadius/l,m=new th(0,0,c,c).getPoints(this._curvePts),d=new jt().setFromPoints(m);for(const v in this._gizmos.children){const _=this._gizmos.children[v];_.geometry=d}}}this.camera.lookAt(this._gizmos.position)}}),_e(this,"setStateFromJSON",i=>{const s=JSON.parse(i);if(s.arcballState&&this.camera){this._cameraMatrixState.fromArray(s.arcballState.cameraMatrix.elements),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(s.arcballState.cameraUp),this.camera.near=s.arcballState.cameraNear,this.camera.far=s.arcballState.cameraFar,this.camera.zoom=s.arcballState.cameraZoom,this.camera.type==="PerspectiveCamera"&&(this.camera.fov=s.arcballState.cameraFov),this._gizmoMatrixState.fromArray(s.arcballState.gizmoMatrix.elements),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmos.updateMatrix();const o=this.calculateTbRadius(this.camera);o!==void 0&&(this._tbRadius=o);const a=new Et().copy(this._gizmoMatrixState0);this.makeGizmos(this._gizmos.position,this._tbRadius),this._gizmoMatrixState0.copy(a),this.camera.lookAt(this._gizmos.position),this.updateTbState(Vt.IDLE,!1),this.dispatchEvent(Cr)}}),this.camera=null,this.domElement=t,this.scene=r,this.mouseActions=[],this._mouseOp=null,this._v2_1=new nt,this._v3_1=new re,this._v3_2=new re,this._m4_1=new Et,this._m4_2=new Et,this._quat=new Yi,this._translationMatrix=new Et,this._rotationMatrix=new Et,this._scaleMatrix=new Et,this._rotationAxis=new re,this._cameraMatrixState=new Et,this._cameraProjectionState=new Et,this._fovState=1,this._upState=new re,this._zoomState=1,this._nearPos=0,this._farPos=0,this._gizmoMatrixState=new Et,this._up0=new re,this._zoom0=1,this._fov0=0,this._initialNear=0,this._nearPos0=0,this._initialFar=0,this._farPos0=0,this._cameraMatrixState0=new Et,this._gizmoMatrixState0=new Et,this._button=-1,this._touchStart=[],this._touchCurrent=[],this._input=lr.NONE,this._switchSensibility=32,this._startFingerDistance=0,this._currentFingerDistance=0,this._startFingerRotation=0,this._currentFingerRotation=0,this._devPxRatio=0,this._downValid=!0,this._nclicks=0,this._downEvents=[],this._clickStart=0,this._maxDownTime=250,this._maxInterval=300,this._posThreshold=24,this._movementThreshold=24,this._currentCursorPosition=new re,this._startCursorPosition=new re,this._grid=null,this._gridPosition=new re,this._gizmos=new Vf,this._curvePts=128,this._timeStart=-1,this._animationId=-1,this.focusAnimationTime=500,this._timePrev=0,this._timeCurrent=0,this._anglePrev=0,this._angleCurrent=0,this._cursorPosPrev=new re,this._cursorPosCurr=new re,this._wPrev=0,this._wCurr=0,this.adjustNearFar=!1,this.scaleFactor=1.1,this.dampingFactor=25,this.wMax=20,this.enableAnimations=!0,this.enableGrid=!1,this.cursorZoom=!1,this.minFov=5,this.maxFov=90,this.enabled=!0,this.enablePan=!0,this.enableRotate=!0,this.enableZoom=!0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.target=new re(0,0,0),this._currentTarget=new re(0,0,0),this._tbRadius=1,this._state=Vt.IDLE,this.setCamera(e),this.scene&&this.scene.add(this._gizmos),this._devPxRatio=window.devicePixelRatio,this.initializeMouseActions(),this.domElement&&this.connect(this.domElement),window.addEventListener("resize",this.onWindowResize)}applyTransformMatrix(e){if(e!=null&&e.camera&&this.camera&&(this._m4_1.copy(this._cameraMatrixState).premultiply(e.camera),this._m4_1.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.updateMatrix(),(this._state==Vt.ROTATE||this._state==Vt.ZROTATE||this._state==Vt.ANIMATION_ROTATE)&&this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)),e!=null&&e.gizmos&&(this._m4_1.copy(this._gizmoMatrixState).premultiply(e.gizmos),this._m4_1.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix()),(this._state==Vt.SCALE||this._state==Vt.FOCUS||this._state==Vt.ANIMATION_FOCUS)&&this.camera){const t=this.calculateTbRadius(this.camera);if(t!==void 0&&(this._tbRadius=t),this.adjustNearFar){const r=this.camera.position.distanceTo(this._gizmos.position),i=new wo;i.setFromObject(this._gizmos);const s=new Lc;i.getBoundingSphere(s);const o=Math.max(this._nearPos0,s.radius+s.center.length()),a=r-this._initialNear,l=Math.min(o,a);this.camera.near=r-l;const c=Math.min(this._farPos0,-s.radius+s.center.length()),p=r-this._initialFar,m=Math.min(c,p);this.camera.far=r-m,this.camera.updateProjectionMatrix()}else{let r=!1;this.camera.near!=this._initialNear&&(this.camera.near=this._initialNear,r=!0),this.camera.far!=this._initialFar&&(this.camera.far=this._initialFar,r=!0),r&&this.camera.updateProjectionMatrix()}}}setGizmosVisible(e){this._gizmos.visible=e,this.dispatchEvent(Cr)}setTransformationMatrices(e=null,t=null){e?Uo.camera?Uo.camera.copy(e):Uo.camera=e.clone():Uo.camera=null,t?Uo.gizmos?Uo.gizmos.copy(t):Uo.gizmos=t.clone():Uo.gizmos=null}}function Jv(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}const WZ=Z.exports.forwardRef(({makeDefault:n,...e},t)=>{const r=Jl(({set:a})=>a),i=Jl(({camera:a})=>a),s=Jl(({size:a})=>a),o=Z.exports.useRef();return Z.exports.useLayoutEffect(()=>{const{current:a}=o;a&&!e.manual&&(a.aspect=s.width/s.height,a.updateProjectionMatrix())},[s,e]),Z.exports.useLayoutEffect(()=>{if(n&&o.current){const a=i;return r(()=>({camera:o.current})),()=>r(()=>({camera:a}))}},[i,o,n,r]),Z.exports.createElement("perspectiveCamera",Ri({ref:Tz([o,t])},e))}),VZ=Z.exports.forwardRef(({camera:n,makeDefault:e,regress:t,domElement:r,onChange:i,onStart:s,onEnd:o,...a},l)=>{const c=Jl(({invalidate:M})=>M),p=Jl(({camera:M})=>M),m=Jl(({gl:M})=>M),d=Jl(({events:M})=>M),v=Jl(({set:M})=>M),_=Jl(({get:M})=>M),y=Jl(({performance:M})=>M),x=n||p,w=r||(typeof d.connected!="boolean"?d.connected:m.domElement),S=Z.exports.useMemo(()=>new HZ(x),[x]);return $X(()=>{S.enabled&&S.update()}),Z.exports.useEffect(()=>{const M=T=>{c(),t&&y.regress(),i&&i(T)};return S.connect(w),S.addEventListener("change",M),s&&S.addEventListener("start",s),o&&S.addEventListener("end",o),()=>{S.removeEventListener("change",M),s&&S.removeEventListener("start",s),o&&S.removeEventListener("end",o),S.dispose()}},[w,i,s,o,t,S,c]),Z.exports.useEffect(()=>{if(e){const M=_().controls;return v({controls:S}),()=>v({controls:M})}},[e,S]),Z.exports.createElement("primitive",Ri({ref:l,object:S},a))});var Hz={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(cl,function(){var t=function(){function r(v){return o.appendChild(v.dom),v}function i(v){for(var _=0;_<o.children.length;_++)o.children[_].style.display=_===v?"block":"none";s=v}var s=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(v){v.preventDefault(),i(++s%o.children.length)},!1);var a=(performance||Date).now(),l=a,c=0,p=r(new t.Panel("FPS","#0ff","#002")),m=r(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=r(new t.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:o,addPanel:r,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){c++;var v=(performance||Date).now();if(m.update(v-a,200),v>l+1e3&&(p.update(1e3*c/(v-l),100),l=v,c=0,d)){var _=performance.memory;d.update(_.usedJSHeapSize/1048576,_.jsHeapSizeLimit/1048576)}return v},update:function(){a=this.end()},domElement:o,setMode:i}};return t.Panel=function(r,i,s){var o=1/0,a=0,l=Math.round,c=l(window.devicePixelRatio||1),p=80*c,m=48*c,d=3*c,v=2*c,_=3*c,y=15*c,x=74*c,w=30*c,S=document.createElement("canvas");S.width=p,S.height=m,S.style.cssText="width:80px;height:48px";var M=S.getContext("2d");return M.font="bold "+9*c+"px Helvetica,Arial,sans-serif",M.textBaseline="top",M.fillStyle=s,M.fillRect(0,0,p,m),M.fillStyle=i,M.fillText(r,d,v),M.fillRect(_,y,x,w),M.fillStyle=s,M.globalAlpha=.9,M.fillRect(_,y,x,w),{dom:S,update:function(T,A){o=Math.min(o,T),a=Math.max(a,T),M.fillStyle=s,M.globalAlpha=1,M.fillRect(0,0,p,y),M.fillStyle=i,M.fillText(l(T)+" "+r+" ("+l(o)+"-"+l(a)+")",d,v),M.drawImage(S,_+c,y,x-c,w,_,y,x-c,w),M.fillRect(_+x-c,y,c,w),M.fillStyle=s,M.globalAlpha=.9,M.fillRect(_+x-c,y,c,l((1-T/A)*w))}}},t})})(Hz);var GZ=Hz.exports;function pP(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function $Z(n,e=[],t){const[r,i]=Z.exports.useState();return Z.exports.useLayoutEffect(()=>{const s=n();return i(s),pP(t,s),()=>pP(t,null)},e),r}function jZ({showPanel:n=0,className:e,parent:t}){const r=$Z(()=>new GZ,[]);return Z.exports.useEffect(()=>{if(r){const i=t&&t.current||document.body;r.showPanel(n),i==null||i.appendChild(r.dom),e&&r.dom.classList.add(e);const s=BX(()=>r.begin()),o=UX(()=>r.end());return()=>{i==null||i.removeChild(r.dom),s(),o()}}},[t,r,e,n]),null}var Wz={exports:{}},qZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YZ=qZ,XZ=YZ;function Vz(){}function Gz(){}Gz.resetWarningCache=Vz;var ZZ=function(){function n(r,i,s,o,a,l){if(l!==XZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Gz,resetWarningCache:Vz};return t.PropTypes=t,t};Wz.exports=ZZ();var br=Wz.exports;function mP(n,e){if(!n)throw new Error(e||"loader assertion failed.")}const $z=Boolean(typeof process!="object"||String(process)!=="[object process]"||process.browser),gP=typeof process!="undefined"&&process.version&&/v([0-9]*)/.exec(process.version);gP&&parseFloat(gP[1]);const KZ="3.2.10";function Tc(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const i1=typeof process!="object"||String(process)!=="[object process]"||process.browser,JZ=typeof window!="undefined"&&typeof window.orientation!="undefined",vP=typeof process!="undefined"&&process.version&&/v([0-9]*)/.exec(process.version);vP&&parseFloat(vP[1]);class QZ{constructor(e,t){_e(this,"name",void 0),_e(this,"workerThread",void 0),_e(this,"isRunning",!0),_e(this,"result",void 0),_e(this,"_resolve",()=>{}),_e(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Tc(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Tc(this.isRunning),this.isRunning=!1,this._reject(e)}}class Vb{}const Gb=new Map;function eK(n){Tc(n.source&&!n.url||!n.source&&n.url);let e=Gb.get(n.source||n.url);return e||(n.url&&(e=tK(n.url),Gb.set(n.url,e)),n.source&&(e=jz(n.source),Gb.set(n.source,e))),Tc(e),e}function tK(n){if(!n.startsWith("http"))return n;const e=nK(n);return jz(e)}function jz(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function nK(n){return`try {
  importScripts('`.concat(n,`');
} catch (error) {
  console.error(error);
  throw error;
}`)}function qz(n,e=!0,t){const r=t||new Set;if(n){if(yP(n))r.add(n);else if(yP(n.buffer))r.add(n.buffer);else if(!ArrayBuffer.isView(n)){if(e&&typeof n=="object")for(const i in n)qz(n[i],e,r)}}return t===void 0?Array.from(r):[]}function yP(n){return n?n instanceof ArrayBuffer||typeof MessagePort!="undefined"&&n instanceof MessagePort||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas:!1}const $b=()=>{};class $E{static isSupported(){return typeof Worker!="undefined"&&i1||typeof Vb!="undefined"&&!i1}constructor(e){_e(this,"name",void 0),_e(this,"source",void 0),_e(this,"url",void 0),_e(this,"terminated",!1),_e(this,"worker",void 0),_e(this,"onMessage",void 0),_e(this,"onError",void 0),_e(this,"_loadableURL","");const{name:t,source:r,url:i}=e;Tc(r||i),this.name=t,this.source=r,this.url=i,this.onMessage=$b,this.onError=s=>console.log(s),this.worker=i1?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=$b,this.onError=$b,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||qz(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=eK({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new Vb(r,{eval:!1})}else if(this.source)e=new Vb(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class rK{static isSupported(){return $E.isSupported()}constructor(e){_e(this,"name","unnamed"),_e(this,"source",void 0),_e(this,"url",void 0),_e(this,"maxConcurrency",1),_e(this,"maxMobileConcurrency",1),_e(this,"onDebug",()=>{}),_e(this,"reuseWorkers",!0),_e(this,"props",{}),_e(this,"jobQueue",[]),_e(this,"idleQueue",[]),_e(this,"count",0),_e(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,t=(i,s,o)=>i.done(o),r=(i,s)=>i.error(s)){const i=new Promise(s=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:s}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const r=new QZ(t.name,e);e.onMessage=i=>t.onMessage(r,i.type,i.payload),e.onError=i=>t.onError(r,i),t.onStart(r);try{await r.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new $E({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return JZ?this.maxMobileConcurrency:this.maxConcurrency}}const iK={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class hc{static isSupported(){return $E.isSupported()}static getWorkerFarm(e={}){return hc._workerFarm=hc._workerFarm||new hc({}),hc._workerFarm.setProps(e),hc._workerFarm}constructor(e){_e(this,"props",void 0),_e(this,"workerPools",new Map),this.props={...iK},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:r,url:i}=e;let s=this.workerPools.get(t);return s||(s=new rK({name:t,source:r,url:i}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}_e(hc,"_workerFarm",void 0);const sK="latest";function oK(n,e={}){const t=e[n.id]||{},r="".concat(n.id,"-worker.js");let i=t.workerUrl;if(!i&&n.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(i="modules/".concat(n.module,"/dist/").concat(r)),!i){let s=n.version;s==="latest"&&(s=sK);const o=s?"@".concat(s):"";i="https://unpkg.com/@loaders.gl/".concat(n.module).concat(o,"/dist/").concat(r)}return Tc(i),i}function aK(n,e=KZ){Tc(n,"no worker provided");const t=n.version;return!(!e||!t)}function lK(n,e){return!hc.isSupported()||!i1&&!(e!=null&&e._nodeWorkers)?!1:n.worker&&(e==null?void 0:e.worker)}async function uK(n,e,t,r,i){const s=n.id,o=oK(n,t),l=hc.getWorkerFarm(t).getWorkerPool({name:s,url:o});t=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(r||{}));const c=await l.startJob("process-on-worker",cK.bind(null,i));return c.postMessage("process",{input:e,options:t,context:r}),await(await c.result).result}async function cK(n,e,t,r){switch(t){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:i,input:s,options:o}=r;try{const a=await n(s,o);e.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:i,error:l})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}function Yz(n){return n&&typeof n=="object"&&n.isBuffer}function fK(n){return Yz(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}function Xz(n){if(Yz(n))return fK(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if(typeof n=="string"){const e=n;return new TextEncoder().encode(e).buffer}if(n&&typeof n=="object"&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function hK(n,e,t){if(t=t||n.byteLength,n.byteLength<t||e.byteLength<t)return!1;const r=new Uint8Array(n),i=new Uint8Array(e);for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}function dK(...n){const e=n.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),t=e.reduce((s,o)=>s+o.byteLength,0),r=new Uint8Array(t);let i=0;for(const s of e)r.set(s,i),i+=s.byteLength;return r.buffer}async function pK(n){const e=[];for await(const t of n)e.push(t);return dK(...e)}let mK="";const _P={};function gK(n){for(const e in _P)if(n.startsWith(e)){const t=_P[e];n=n.replace(e,t)}return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(mK).concat(n)),n}function vK(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}const yK=n=>typeof n=="boolean",W0=n=>typeof n=="function",Qv=n=>n!==null&&typeof n=="object",xP=n=>Qv(n)&&n.constructor==={}.constructor,_K=n=>n&&typeof n[Symbol.iterator]=="function",xK=n=>n&&typeof n[Symbol.asyncIterator]=="function",Ig=n=>typeof Response!="undefined"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,Lg=n=>typeof Blob!="undefined"&&n instanceof Blob,wK=n=>n&&typeof n=="object"&&n.isBuffer,bK=n=>typeof ReadableStream!="undefined"&&n instanceof ReadableStream||Qv(n)&&W0(n.tee)&&W0(n.cancel)&&W0(n.getReader),SK=n=>Qv(n)&&W0(n.read)&&W0(n.pipe)&&yK(n.readable),Zz=n=>bK(n)||SK(n),EK=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,MK=/^([-\w.]+\/[-\w.+]+)/;function TK(n){const e=MK.exec(n);return e?e[1]:n}function wP(n){const e=EK.exec(n);return e?e[1]:""}const AK=/\?.*/;function Wx(n){if(Ig(n)){const e=jb(n.url||""),t=n.headers.get("content-type")||"";return{url:e,type:TK(t)||wP(e)}}return Lg(n)?{url:jb(n.name||""),type:n.type||""}:typeof n=="string"?{url:jb(n),type:wP(n)}:{url:"",type:""}}function CK(n){return Ig(n)?n.headers["content-length"]||-1:Lg(n)?n.size:typeof n=="string"?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}function jb(n){return n.replace(AK,"")}async function Kz(n){if(Ig(n))return n;const e={},t=CK(n);t>=0&&(e["content-length"]=String(t));const{url:r,type:i}=Wx(n);i&&(e["content-type"]=i);const s=await IK(n);s&&(e["x-first-bytes"]=s),typeof n=="string"&&(n=new TextEncoder().encode(n));const o=new Response(n,{headers:e});return Object.defineProperty(o,"url",{value:r}),o}async function RK(n){if(!n.ok){const e=await PK(n);throw new Error(e)}}async function PK(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let r=n.statusText;t.includes("application/json")&&(r+=" ".concat(await n.text())),e+=r,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}async function IK(n){if(typeof n=="string")return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=s=>{var o;return r(s==null||(o=s.target)===null||o===void 0?void 0:o.result)},i.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const t=n.slice(0,5),r=LK(t);return"data:base64,".concat(r)}return null}function LK(n){let e="";const t=new Uint8Array(n);for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return btoa(e)}async function bP(n,e){if(typeof n=="string"){n=gK(n);let t=e;return e!=null&&e.fetch&&typeof(e==null?void 0:e.fetch)!="function"&&(t=e.fetch),await fetch(n,t)}return await Kz(n)}function kK(n){if(typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&Boolean(process.versions.electron))return!0;const e=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function ey(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser)||kK()}const s1={self:typeof self!="undefined"&&self,window:typeof window!="undefined"&&window,global:typeof global!="undefined"&&global,document:typeof document!="undefined"&&document,process:typeof process=="object"&&process},P_=s1.window||s1.self||s1.global,v0=s1.process||{},Jz=typeof __VERSION__!="undefined"?__VERSION__:"untranspiled source";ey();function DK(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}class OK{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";_e(this,"storage",void 0),_e(this,"id",void 0),_e(this,"config",{}),this.storage=DK(r),this.id=e,this.config={},Object.assign(this.config,t),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){return this.config={},this.updateConfiguration(e)}updateConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function zK(n){let e;return n<10?e="".concat(n.toFixed(2),"ms"):n<100?e="".concat(n.toFixed(1),"ms"):n<1e3?e="".concat(n.toFixed(0),"ms"):e="".concat((n/1e3).toFixed(2),"s"),e}function FK(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const t=Math.max(e-n.length,0);return"".concat(" ".repeat(t)).concat(n)}function qb(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const i=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>r&&(t=Math.min(t,r/n.width));const s=n.width*t,o=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(o/2),"px ").concat(Math.floor(s/2),"px;"),"line-height:".concat(o,"px;"),"background:url(".concat(i,");"),"background-size:".concat(s,"px ").concat(o,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let B1;(function(n){n[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(B1||(B1={}));function SP(n){return typeof n=="string"?B1[n.toUpperCase()]||B1.WHITE:n}function NK(n,e,t){return!ey&&typeof n=="string"&&(e&&(e=SP(e),n="\x1B[".concat(e,"m").concat(n,"\x1B[39m")),t&&(e=SP(t),n="\x1B[".concat(t+10,"m").concat(n,"\x1B[49m"))),n}function BK(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),r=Object.getOwnPropertyNames(t);for(const i of r)typeof n[i]=="function"&&(e.find(s=>i===s)||(n[i]=n[i].bind(n)))}function U1(n,e){if(!n)throw new Error(e||"Assertion failed")}function fm(){let n;if(ey&&"performance"in P_){var e,t;n=P_==null||(e=P_.performance)===null||e===void 0||(t=e.now)===null||t===void 0?void 0:t.call(e)}else if("hrtime"in v0){var r;const i=v0==null||(r=v0.hrtime)===null||r===void 0?void 0:r.call(v0);n=i[0]*1e3+i[1]/1e6}else n=Date.now();return n}const hm={debug:ey&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},UK={enabled:!0,level:0};function oa(){}const EP={},MP={once:!0};class _T{constructor(){let{id:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};_e(this,"id",void 0),_e(this,"VERSION",Jz),_e(this,"_startTs",fm()),_e(this,"_deltaTs",fm()),_e(this,"_storage",void 0),_e(this,"userData",{}),_e(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this._storage=new OK("__probe-".concat(this.id,"__"),UK),this.userData={},this.timeStamp("".concat(this.id," started")),BK(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((fm()-this._startTs).toPrecision(10))}getDelta(){return Number((fm()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.updateConfiguration({enabled:e}),this}setLevel(e){return this._storage.updateConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.updateConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){U1(e,t)}warn(e){return this._getLogFunction(0,e,hm.warn,arguments,MP)}error(e){return this._getLogFunction(0,e,hm.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,hm.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,hm.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return this._getLogFunction(e,t,hm.debug||hm.info,arguments,MP)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||oa,r&&[r],{tag:GK(t)}):oa}image(e){let{logLevel:t,priority:r,image:i,message:s="",scale:o=1}=e;return this._shouldLog(t||r)?ey?VK({image:i,message:s,scale:o}):WK({image:i,message:s,scale:o}):oa}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||oa)}group(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const i=TP({logLevel:e,message:t,opts:r}),{collapsed:s}=r;return i.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||oa)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=Qz(e)}_getLogFunction(e,t,r,i,s){if(this._shouldLog(e)){s=TP({logLevel:e,message:t,args:i,opts:s}),r=r||s.method,U1(r),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=fm();const o=s.tag||s.message;if(s.once)if(!EP[o])EP[o]=fm();else return oa;return t=HK(this.id,s.message,s),r.bind(console,t,...s.args)}return oa}}_e(_T,"VERSION",Jz);function Qz(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return U1(Number.isFinite(e)&&e>=0),e}function TP(n){const{logLevel:e,message:t}=n;n.logLevel=Qz(e);const r=n.args?Array.from(n.args):[];for(;r.length&&r.shift()!==t;);switch(typeof e){case"string":case"function":t!==void 0&&r.unshift(t),n.message=e;break;case"object":Object.assign(n,e);break}typeof n.message=="function"&&(n.message=n.message());const i=typeof n.message;return U1(i==="string"||i==="object"),Object.assign(n,{args:r},n.opts)}function HK(n,e,t){if(typeof e=="string"){const r=t.time?FK(zK(t.total)):"";e=t.time?"".concat(n,": ").concat(r,"  ").concat(e):"".concat(n,": ").concat(e),e=NK(e,t.color,t.background)}return e}function WK(n){let{image:e,message:t="",scale:r=1}=n;return(void 0)({image:e,message:t,scale:r}),oa}function VK(n){let{image:e,message:t="",scale:r=1}=n;if(typeof e=="string"){const s=new Image;return s.onload=()=>{const o=qb(s,t,r);console.log(...o)},s.src=e,oa}const i=e.nodeName||"";if(i.toLowerCase()==="img")return console.log(...qb(e,t,r)),oa;if(i.toLowerCase()==="canvas"){const s=new Image;return s.onload=()=>console.log(...qb(s,t,r)),s.src=e.toDataURL(),oa}return oa}function GK(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}const AP=new _T({id:"loaders.gl"});class $K{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class jK{constructor(){_e(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const e4={fetch:null,mimeType:void 0,nothrow:!1,log:new jK,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:$z,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},qK={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function t4(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const n4=()=>{const n=t4();return n.globalOptions=n.globalOptions||{...e4},n.globalOptions};function YK(n,e,t,r){return t=t||[],t=Array.isArray(t)?t:[t],XK(n,t),KK(e,n,r)}function r4(n,e){const t=n4(),r=n||t;return typeof r.fetch=="function"?r.fetch:Qv(r.fetch)?i=>bP(i,r):e!=null&&e.fetch?e==null?void 0:e.fetch:bP}function XK(n,e){CP(n,null,e4,qK,e);for(const t of e){const r=n&&n[t.id]||{},i=t.options&&t.options[t.id]||{},s=t.deprecatedOptions&&t.deprecatedOptions[t.id]||{};CP(r,t.id,i,s,e)}}function CP(n,e,t,r,i){const s=e||"Top level",o=e?"".concat(e,"."):"";for(const a in n){const l=!e&&Qv(n[a]),c=a==="baseUri"&&!e,p=a==="workerUrl"&&e;if(!(a in t)&&!c&&!p){if(a in r)AP.warn("".concat(s," loader option '").concat(o).concat(a,"' no longer supported, use '").concat(r[a],"'"))();else if(!l){const m=ZK(a,i);AP.warn("".concat(s," loader option '").concat(o).concat(a,"' not recognized. ").concat(m))()}}}}function ZK(n,e){const t=n.toLowerCase();let r="";for(const i of e)for(const s in i.options){if(n===s)return"Did you mean '".concat(i.id,".").concat(s,"'?");const o=s.toLowerCase();(t.startsWith(o)||o.startsWith(t))&&(r=r||"Did you mean '".concat(i.id,".").concat(s,"'?"))}return r}function KK(n,e,t){const i={...n.options||{}};return JK(i,t),i.log===null&&(i.log=new $K),RP(i,n4()),RP(i,e),i}function RP(n,e){for(const t in e)if(t in e){const r=e[t];xP(r)&&xP(n[t])?n[t]={...n[t],...e[t]}:n[t]=e[t]}}function JK(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}function xT(n){var e;return n?(Array.isArray(n)&&(n=n[0]),Array.isArray((e=n)===null||e===void 0?void 0:e.extensions)):!1}function i4(n){var e,t;mP(n,"null loader"),mP(xT(n),"invalid loader");let r;return Array.isArray(n)&&(r=n[1],n=n[0],n={...n,options:{...n.options,...r}}),((e=n)!==null&&e!==void 0&&e.parseTextSync||(t=n)!==null&&t!==void 0&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}const QK=()=>{const n=t4();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function eJ(){return QK()}const tJ=new _T({id:"loaders.gl"}),nJ=/\.([^.]+)$/;async function rJ(n,e=[],t,r){if(!s4(n))return null;let i=PP(n,e,{...t,nothrow:!0},r);if(i)return i;if(Lg(n)&&(n=await n.slice(0,10).arrayBuffer(),i=PP(n,e,t,r)),!i&&!(t!=null&&t.nothrow))throw new Error(o4(n));return i}function PP(n,e=[],t,r){if(!s4(n))return null;if(e&&!Array.isArray(e))return i4(e);let i=[];e&&(i=i.concat(e)),t!=null&&t.ignoreRegisteredLoaders||i.push(...eJ()),sJ(i);const s=iJ(n,i,t,r);if(!s&&!(t!=null&&t.nothrow))throw new Error(o4(n));return s}function iJ(n,e,t,r){const{url:i,type:s}=Wx(n),o=i||(r==null?void 0:r.url);let a=null,l="";if(t!=null&&t.mimeType&&(a=Yb(e,t==null?void 0:t.mimeType),l="match forced by supplied MIME type ".concat(t==null?void 0:t.mimeType)),a=a||oJ(e,o),l=l||(a?"matched url ".concat(o):""),a=a||Yb(e,s),l=l||(a?"matched MIME type ".concat(s):""),a=a||lJ(e,n),l=l||(a?"matched initial data ".concat(a4(n)):""),a=a||Yb(e,t==null?void 0:t.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(s):""),l){var c;tJ.log(1,"selectLoader selected ".concat((c=a)===null||c===void 0?void 0:c.name,": ").concat(l,"."))}return a}function s4(n){return!(n instanceof Response&&n.status===204)}function o4(n){const{url:e,type:t}=Wx(n);let r="No valid loader found (";r+=e?"".concat(vK(e),", "):"no url provided, ",r+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const i=n?a4(n):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function sJ(n){for(const e of n)i4(e)}function oJ(n,e){const t=e&&nJ.exec(e),r=t&&t[1];return r?aJ(n,r):null}function aJ(n,e){e=e.toLowerCase();for(const t of n)for(const r of t.extensions)if(r.toLowerCase()===e)return t;return null}function Yb(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function lJ(n,e){if(!e)return null;for(const t of n)if(typeof e=="string"){if(uJ(e,t))return t}else if(ArrayBuffer.isView(e)){if(IP(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&IP(e,0,t))return t;return null}function uJ(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>n.startsWith(r))}function IP(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(i=>cJ(n,e,t,i))}function cJ(n,e,t,r){if(r instanceof ArrayBuffer)return hK(r,n,r.byteLength);switch(typeof r){case"function":return r(n,t);case"string":const i=jE(n,e,r.length);return r===i;default:return!1}}function a4(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?jE(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?jE(n,0,e):""}function jE(n,e,t){if(n.byteLength<e+t)return"";const r=new DataView(n);let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(r.getUint8(e+s));return i}const fJ=256*1024;function*hJ(n,e){const t=(e==null?void 0:e.chunkSize)||fJ;let r=0;const i=new TextEncoder;for(;r<n.length;){const s=Math.min(n.length-r,t),o=n.slice(r,r+s);r+=s,yield i.encode(o)}}const dJ=256*1024;function*pJ(n,e={}){const{chunkSize:t=dJ}=e;let r=0;for(;r<n.byteLength;){const i=Math.min(n.byteLength-r,t),s=new ArrayBuffer(i),o=new Uint8Array(n,r,i);new Uint8Array(s).set(o),r+=i,yield s}}const mJ=1024*1024;async function*gJ(n,e){const t=(e==null?void 0:e.chunkSize)||mJ;let r=0;for(;r<n.size;){const i=r+t,s=await n.slice(r,i).arrayBuffer();r=i,yield s}}function LP(n,e){return $z?vJ(n,e):yJ(n)}async function*vJ(n,e){const t=n.getReader();let r;try{for(;;){const i=r||t.read();e!=null&&e._streamReadAhead&&(r=t.read());const{done:s,value:o}=await i;if(s)return;yield Xz(o)}}catch{t.releaseLock()}}async function*yJ(n,e){for await(const t of n)yield Xz(t)}function _J(n,e){if(typeof n=="string")return hJ(n,e);if(n instanceof ArrayBuffer)return pJ(n,e);if(Lg(n))return gJ(n,e);if(Zz(n))return LP(n,e);if(Ig(n))return LP(n.body,e);throw new Error("makeIterator")}const l4="Cannot convert supplied data type";function xJ(n,e,t){if(e.text&&typeof n=="string")return n;if(wK(n)&&(n=n.buffer),n instanceof ArrayBuffer){const r=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let r=n.buffer;const i=n.byteLength||n.length;return(n.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(n.byteOffset,n.byteOffset+i)),r}throw new Error(l4)}async function wJ(n,e,t){const r=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if(typeof n=="string"||r)return xJ(n,e);if(Lg(n)&&(n=await Kz(n)),Ig(n)){const i=n;return await RK(i),e.binary?await i.arrayBuffer():await i.text()}if(Zz(n)&&(n=_J(n,t)),_K(n)||xK(n))return pK(n);throw new Error(l4)}function bJ(n,e,t=null){if(t)return t;const r={fetch:r4(e,n),...n};return Array.isArray(r.loaders)||(r.loaders=null),r}function SJ(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const r=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...r]:r}return t&&t.length?t:null}async function Vx(n,e,t,r){Tc(!r||typeof r=="object"),e&&!Array.isArray(e)&&!xT(e)&&(r=void 0,t=e,e=void 0),n=await n,t=t||{};const{url:i}=Wx(n),o=SJ(e,r),a=await rJ(n,o,t);return a?(t=YK(t,a,o,i),r=bJ({url:i,parse:Vx,loaders:o},t,r),await EJ(a,n,t,r)):null}async function EJ(n,e,t,r){if(aK(n),Ig(e)){const i=e,{ok:s,redirected:o,status:a,statusText:l,type:c,url:p}=i,m=Object.fromEntries(i.headers.entries());r.response={headers:m,ok:s,redirected:o,status:a,statusText:l,type:c,url:p}}if(e=await wJ(e,n,t),n.parseTextSync&&typeof e=="string")return t.dataType="text",n.parseTextSync(e,t,r,n);if(lK(n,t))return await uK(n,e,t,r,Vx);if(n.parseText&&typeof e=="string")return await n.parseText(e,t,r,n);if(n.parse)return await n.parse(e,t,r,n);throw Tc(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}async function u4(n,e,t,r){!Array.isArray(e)&&!xT(e)&&(t=e,e=void 0);const i=r4(t);let s=n;return typeof n=="string"&&(s=await i(n)),Lg(n)&&(s=await i(n)),await Vx(s,e,t)}const kP=100;class MJ{constructor(e,t){if(_e(this,"schema",void 0),_e(this,"options",void 0),_e(this,"length",0),_e(this,"rows",null),_e(this,"cursor",0),_e(this,"_headers",[]),this.options=t,this.schema=e,!Array.isArray(e)){this._headers=[];for(const r in e)this._headers[e[r].index]=e[r].name}}rowCount(){return this.length}addArrayRow(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(kP),this.rows[this.length]=e,this.length++}addObjectRow(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(kP),this.rows[this.length]=e,this.length++}getBatch(){let e=this.rows;return e?(e=e.slice(0,this.length),this.rows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function c4(n,e){if(!n)throw new Error("null row");if(!e)throw new Error("no headers");const t={};for(let r=0;r<e.length;r++)t[e[r]]=n[r];return t}function f4(n,e){if(!n)throw new Error("null row");if(!e)throw new Error("no headers");const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=n[e[r]];return t}const DP=100;class TJ{constructor(e,t){if(_e(this,"schema",void 0),_e(this,"options",void 0),_e(this,"length",0),_e(this,"objectRows",null),_e(this,"arrayRows",null),_e(this,"cursor",0),_e(this,"_headers",[]),this.options=t,this.schema=e,!Array.isArray(e)){this._headers=[];for(const r in e)this._headers[e[r].index]=e[r].name}}rowCount(){return this.length}addArrayRow(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"object-row-table":const r=c4(e,this._headers);this.addObjectRow(r,t);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(DP),this.arrayRows[this.length]=e,this.length++;break}}addObjectRow(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"array-row-table":const r=f4(e,this._headers);this.addArrayRow(r,t);break;case"object-row-table":this.objectRows=this.objectRows||new Array(DP),this.objectRows[this.length]=e,this.length++;break}}getBatch(){let e=this.arrayRows||this.objectRows;return e?(e=e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const AJ=100;class CJ{constructor(e,t){_e(this,"schema",void 0),_e(this,"length",0),_e(this,"allocated",0),_e(this,"columns",{}),this.schema=e,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(e){this._reallocateColumns();let t=0;for(const r in this.columns)this.columns[r][this.length]=e[t++];this.length++}addObjectRow(e){this._reallocateColumns();for(const t in e)this.columns[t][this.length]=e[t];this.length++}getBatch(){this._pruneColumns();const e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const r in this.schema){const i=this.schema[r];e[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:AJ,this.columns={};for(const e in this.schema){const t=this.schema[e],r=t.type||Float32Array,i=this.columns[t.index];if(i&&ArrayBuffer.isView(i)){const s=new r(this.allocated);s.set(i),this.columns[t.index]=s}else i?(i.length=this.allocated,this.columns[t.index]=i):this.columns[t.index]=new r(this.allocated)}}}_pruneColumns(){for(const[e,t]of Object.entries(this.columns))this.columns[e]=t.slice(0,this.length)}}const RJ={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},OP="TableBatchBuilder";class Cv{constructor(e,t){_e(this,"schema",void 0),_e(this,"options",void 0),_e(this,"aggregator",null),_e(this,"batchCount",0),_e(this,"bytesUsed",0),_e(this,"isChunkComplete",!1),_e(this,"lastBatchEmittedMs",Date.now()),_e(this,"totalLength",0),_e(this,"totalBytes",0),_e(this,"rowBytes",0),this.schema=e,this.options={...RJ,...t}}limitReached(){var e,t;return!!(Boolean((e=this.options)===null||e===void 0?void 0:e.limit)&&this.totalLength>=this.options.limit||Boolean((t=this.options)===null||t===void 0?void 0:t._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}addRow(e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(e),this.totalBytes+=this.rowBytes,Array.isArray(e)?this.addArrayRow(e):this.addObjectRow(e))}addArrayRow(e){if(!this.aggregator){const t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addArrayRow(e)}addObjectRow(e){if(!this.aggregator){const t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addObjectRow(e)}chunkComplete(e){e instanceof ArrayBuffer&&(this.bytesUsed+=e.byteLength),typeof e=="string"&&(this.bytesUsed+=e.length),this.isChunkComplete=!0}getFullBatch(e){return this._isFull()?this._getBatch(e):null}getFinalBatch(e){return this._getBatch(e)}_estimateRowMB(e){return Array.isArray(e)?e.length*8:Object.keys(e).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(e){if(!this.aggregator)return null;e!=null&&e.bytesUsed&&(this.bytesUsed=e.bytesUsed);const t=this.aggregator.getBatch();return t.count=this.batchCount,t.bytesUsed=this.bytesUsed,Object.assign(t,e),this.batchCount++,this.aggregator=null,t}_getTableBatchType(){switch(this.options.shape){case"row-table":return MJ;case"array-row-table":case"object-row-table":return TJ;case"columnar-table":return CJ;case"arrow-table":if(!Cv.ArrowBatch)throw new Error(OP);return Cv.ArrowBatch;default:throw new Error(OP)}}}_e(Cv,"ArrowBatch",void 0);let h4;class zP extends Array{enqueue(e){return this.push(e)}dequeue(){return this.shift()}}h4=Symbol.asyncIterator;class PJ{constructor(){_e(this,"_values",void 0),_e(this,"_settlers",void 0),_e(this,"_closed",void 0),this._values=new zP,this._settlers=new zP,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[h4](){return this}enqueue(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const t=this._settlers.dequeue();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.enqueue(e)}next(){if(this._values.length>0){const e=this._values.dequeue();return e instanceof Error?Promise.reject(e):Promise.resolve({value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((e,t)=>{this._settlers.enqueue({resolve:e,reject:t})})}}/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const FP="\uFEFF",tu={parse:IJ,unparse:LJ,RECORD_SEP:String.fromCharCode(30),UNIT_SEP:String.fromCharCode(31),BYTE_ORDER_MARK:FP,BAD_DELIMITERS:["\r",`
`,'"',FP],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:qE,ParserHandle:p4,ChunkStreamer:d4,StringStreamer:yg};var Gx=tu;function IJ(n,e,t){e=e||{};var r=e.dynamicTyping||!1;if(Bs(r)&&(e.dynamicTypingFunction=r,r={}),e.dynamicTyping=r,e.transform=Bs(e.transform)?e.transform:!1,e.worker&&tu.WORKERS_SUPPORTED){var i=newWorker();i.userStep=e.step,i.userChunk=e.chunk,i.userComplete=e.complete,i.userError=e.error,e.step=Bs(e.step),e.chunk=Bs(e.chunk),e.complete=Bs(e.complete),e.error=Bs(e.error),delete e.worker,i.postMessage({input:n,config:e,workerId:i.id});return}var s=null;return typeof n=="string"&&(s=new yg(e)),s||(s=new t(e)),s.stream(n)}function LJ(n,e){var t=!1,r=!0,i=",",s=`\r
`,o='"',a=o+o,l=!1,c=null;m();var p=new RegExp(Rv(o),"g");if(typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)){if(!n.length||Array.isArray(n[0]))return v(null,n,l);if(typeof n[0]=="object")return v(c||d(n[0]),n,l)}else if(typeof n=="object")return typeof n.data=="string"&&(n.data=JSON.parse(n.data)),Array.isArray(n.data)&&(n.fields||(n.fields=n.meta&&n.meta.fields),n.fields||(n.fields=Array.isArray(n.data[0])?n.fields:d(n.data[0])),!Array.isArray(n.data[0])&&typeof n.data[0]!="object"&&(n.data=[n.data])),v(n.fields||[],n.data||[],l);throw new Error("Unable to serialize unrecognized input");function m(){if(typeof e=="object"){if(typeof e.delimiter=="string"&&!tu.BAD_DELIMITERS.filter(function(x){return e.delimiter.indexOf(x)!==-1}).length&&(i=e.delimiter),(typeof e.quotes=="boolean"||Array.isArray(e.quotes))&&(t=e.quotes),(typeof e.skipEmptyLines=="boolean"||typeof e.skipEmptyLines=="string")&&(l=e.skipEmptyLines),typeof e.newline=="string"&&(s=e.newline),typeof e.quoteChar=="string"&&(o=e.quoteChar),typeof e.header=="boolean"&&(r=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");c=e.columns}e.escapeChar!==void 0&&(a=e.escapeChar+o)}}function d(x){if(typeof x!="object")return[];var w=[];for(var S in x)w.push(S);return w}function v(x,w,S){var M="";typeof x=="string"&&(x=JSON.parse(x)),typeof w=="string"&&(w=JSON.parse(w));var T=Array.isArray(x)&&x.length>0,A=!Array.isArray(w[0]);if(T&&r){for(var L=0;L<x.length;L++)L>0&&(M+=i),M+=_(x[L],L);w.length>0&&(M+=s)}for(var z=0;z<w.length;z++){var C=T?x.length:w[z].length,F=!1,H=T?Object.keys(w[z]).length===0:w[z].length===0;if(S&&!T&&(F=S==="greedy"?w[z].join("").trim()==="":w[z].length===1&&w[z][0].length===0),S==="greedy"&&T){for(var q=[],B=0;B<C;B++){var Y=A?x[B]:B;q.push(w[z][Y])}F=q.join("").trim()===""}if(!F){for(var I=0;I<C;I++){I>0&&!H&&(M+=i);var te=T&&A?x[I]:I;M+=_(w[z][te],I)}z<w.length-1&&(!S||C>0&&!H)&&(M+=s)}}return M}function _(x,w){if(typeof x=="undefined"||x===null)return"";if(x.constructor===Date)return JSON.stringify(x).slice(1,25);x=x.toString().replace(p,a);var S=typeof t=="boolean"&&t||Array.isArray(t)&&t[w]||y(x,tu.BAD_DELIMITERS)||x.indexOf(i)>-1||x.charAt(0)===" "||x.charAt(x.length-1)===" ";return S?o+x+o:x}function y(x,w){for(var S=0;S<w.length;S++)if(x.indexOf(w[S])>-1)return!0;return!1}}function d4(n){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},e.call(this,n),this.parseChunk=function(t,r){if(this.isFirstChunk&&Bs(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);i!==void 0&&(t=i)}this.isFirstChunk=!1;var s=this._partialLine+t;this._partialLine="";var o=this._handle.parse(s,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var a=o.meta.cursor;this._finished||(this._partialLine=s.substring(a-this._baseIndex),this._baseIndex=a),o&&o.data&&(this._rowCount+=o.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Bs(this._config.chunk)&&!r){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return;o=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),!this._completed&&l&&Bs(this._config.complete)&&(!o||!o.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!l&&(!o||!o.meta.paused)&&this._nextChunk(),o}},this._sendError=function(t){Bs(this._config.error)&&this._config.error(t)};function e(t){var r=wT(t);r.chunkSize=parseInt(r.chunkSize),!t.step&&!t.chunk&&(r.chunkSize=null),this._handle=new p4(r),this._handle.streamer=this,this._config=r}}function yg(n){n=n||{},d4.call(this,n);var e;this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,r=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(r)}}}yg.prototype=Object.create(yg.prototype);yg.prototype.constructor=yg;function p4(n){var e=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,t=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,r=this,i=0,s=0,o,a,l=!1,c=!1,p,m=[],d={data:[],errors:[],meta:{}};if(Bs(n.step)){var v=n.step;n.step=function(C){if(d=C,x())y();else{if(y(),!d.data||d.data.length===0)return;i+=C.data.length,n.preview&&i>n.preview?a.abort():v(d,r)}}}this.parse=function(C,F,H){var q=n.quoteChar||'"';if(n.newline||(n.newline=L(C,q)),p=!1,n.delimiter)Bs(n.delimiter)&&(n.delimiter=n.delimiter(C),d.meta.delimiter=n.delimiter);else{var B=A(C,n.newline,n.skipEmptyLines,n.comments,n.delimitersToGuess);B.successful?n.delimiter=B.bestDelimiter:(p=!0,n.delimiter=tu.DefaultDelimiter),d.meta.delimiter=n.delimiter}var Y=wT(n);return n.preview&&n.header&&Y.preview++,o=C,a=new qE(Y),d=a.parse(o,F,H),y(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,a.abort(),o=o.substr(a.getCharIndex())},this.resume=function(){l=!1,r.streamer.parseChunk(o,!0)},this.aborted=function(){return c},this.abort=function(){c=!0,a.abort(),d.meta.aborted=!0,Bs(n.complete)&&n.complete(d),o=""};function _(C){return n.skipEmptyLines==="greedy"?C.join("").trim()==="":C.length===1&&C[0].length===0}function y(){if(d&&p&&(z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+tu.DefaultDelimiter+"'"),p=!1),n.skipEmptyLines)for(var C=0;C<d.data.length;C++)_(d.data[C])&&d.data.splice(C--,1);return x()&&w(),T()}function x(){return n.header&&m.length===0}function w(){if(!d)return;function C(H){Bs(n.transformHeader)&&(H=n.transformHeader(H)),m.push(H)}if(Array.isArray(d.data[0])){for(var F=0;x()&&F<d.data.length;F++)d.data[F].forEach(C);d.data.splice(0,1)}else d.data.forEach(C)}function S(C){return n.dynamicTypingFunction&&n.dynamicTyping[C]===void 0&&(n.dynamicTyping[C]=n.dynamicTypingFunction(C)),(n.dynamicTyping[C]||n.dynamicTyping)===!0}function M(C,F){return S(C)?F==="true"||F==="TRUE"?!0:F==="false"||F==="FALSE"?!1:e.test(F)?parseFloat(F):t.test(F)?new Date(F):F===""?null:F:F}function T(){if(!d||!d.data||!n.header&&!n.dynamicTyping&&!n.transform)return d;function C(H,q){var B=n.header?{}:[],Y;for(Y=0;Y<H.length;Y++){var I=Y,te=H[Y];n.header&&(I=Y>=m.length?"__parsed_extra":m[Y]),n.transform&&(te=n.transform(te,I)),te=M(I,te),I==="__parsed_extra"?(B[I]=B[I]||[],B[I].push(te)):B[I]=te}return n.header&&(Y>m.length?z("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+Y,s+q):Y<m.length&&z("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+Y,s+q)),B}var F=1;return!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(C),F=d.data.length):d.data=C(d.data,0),n.header&&d.meta&&(d.meta.fields=m),s+=F,d}function A(C,F,H,q,B){var Y,I,te;B=B||[",","	","|",";",tu.RECORD_SEP,tu.UNIT_SEP];for(var ce=0;ce<B.length;ce++){var le=B[ce],ae=0,ie=0,ue=0;te=void 0;for(var j=new qE({comments:q,delimiter:le,newline:F,preview:10}).parse(C),K=0;K<j.data.length;K++){if(H&&_(j.data[K])){ue++;continue}var we=j.data[K].length;if(ie+=we,typeof te=="undefined"){te=0;continue}else we>1&&(ae+=Math.abs(we-te),te=we)}j.data.length>0&&(ie/=j.data.length-ue),(typeof I=="undefined"||ae>I)&&ie>1.99&&(I=ae,Y=le)}return n.delimiter=Y,{successful:!!Y,bestDelimiter:Y}}function L(C,F){C=C.substr(0,1024*1024);var H=new RegExp(Rv(F)+"([^]*?)"+Rv(F),"gm");C=C.replace(H,"");var q=C.split("\r"),B=C.split(`
`),Y=B.length>1&&B[0].length<q[0].length;if(q.length===1||Y)return`
`;for(var I=0,te=0;te<q.length;te++)q[te][0]===`
`&&I++;return I>=q.length/2?`\r
`:"\r"}function z(C,F,H,q){d.errors.push({type:C,code:F,message:H,row:q})}}function Rv(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qE(n){n=n||{};var e=n.delimiter,t=n.newline,r=n.comments,i=n.step,s=n.preview,o=n.fastMode,a;n.quoteChar===void 0?a='"':a=n.quoteChar;var l=a;if(n.escapeChar!==void 0&&(l=n.escapeChar),(typeof e!="string"||tu.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||tu.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),t!==`
`&&t!=="\r"&&t!==`\r
`&&(t=`
`);var c=0,p=!1;this.parse=function(m,d,v){if(typeof m!="string")throw new Error("Input must be a string");var _=m.length,y=e.length,x=t.length,w=r.length,S=Bs(i);c=0;var M=[],T=[],A=[],L=0;if(!m)return j();if(o||o!==!1&&m.indexOf(a)===-1){for(var z=m.split(t),C=0;C<z.length;C++){if(A=z[C],c+=A.length,C!==z.length-1)c+=t.length;else if(v)return j();if(!(r&&A.substr(0,w)===r)){if(S){if(M=[],le(A.split(e)),K(),p)return j()}else le(A.split(e));if(s&&C>=s)return M=M.slice(0,s),j(!0)}}return j()}for(var F=m.indexOf(e,c),H=m.indexOf(t,c),q=new RegExp(Rv(l)+Rv(a),"g"),B;;){if(m[c]===a){for(B=c,c++;;){if(B=m.indexOf(a,B+1),B===-1)return v||T.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:M.length,index:c}),ie();if(B===_-1){var Y=m.substring(c,B).replace(q,a);return ie(Y)}if(a===l&&m[B+1]===l){B++;continue}if(!(a!==l&&B!==0&&m[B-1]===l)){var I=H===-1?F:Math.min(F,H),te=ae(I);if(m[B+1+te]===e){if(A.push(m.substring(c,B).replace(q,a)),c=B+1+te+y,F=m.indexOf(e,c),H=m.indexOf(t,c),S&&(K(),p))return j();if(s&&M.length>=s)return j(!0);break}var ce=ae(H);if(m.substr(B+1+ce,x)===t){if(A.push(m.substring(c,B).replace(q,a)),ue(B+1+ce+x),F=m.indexOf(e,c),S&&(K(),p))return j();if(s&&M.length>=s)return j(!0);break}T.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:M.length,index:c}),B++}}if(S&&(K(),p))return j();if(s&&M.length>=s)return j(!0);continue}if(r&&A.length===0&&m.substr(c,w)===r){if(H===-1)return j();c=H+x,H=m.indexOf(t,c),F=m.indexOf(e,c);continue}if(F!==-1&&(F<H||H===-1)){A.push(m.substring(c,F)),c=F+y,F=m.indexOf(e,c);continue}if(H!==-1){if(A.push(m.substring(c,H)),ue(H+x),S&&(K(),p))return j();if(s&&M.length>=s)return j(!0);continue}break}return ie();function le(we){M.push(we),L=c}function ae(we){var Re=0;if(we!==-1){var Pe=m.substring(B+1,we);Pe&&Pe.trim()===""&&(Re=Pe.length)}return Re}function ie(we){return v||(typeof we=="undefined"&&(we=m.substr(c)),A.push(we),c=_,le(A),S&&K()),j()}function ue(we){c=we,le(A),A=[],H=m.indexOf(t,c)}function j(we,Re){var Pe=Re||!1;return{data:Pe?M[0]:M,errors:T,meta:{delimiter:e,linebreak:t,aborted:p,truncated:!!we,cursor:L+(d||0)}}}function K(){i(j(void 0,!0)),M=[],T=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return c}}function wT(n){if(typeof n!="object"||n===null)return n;var e=Array.isArray(n)?[]:{};for(var t in n)e[t]=wT(n[t]);return e}function Bs(n){return typeof n=="function"}const{ChunkStreamer:m4}=Gx;function H1(n){n=n||{},m4.call(this,n),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(e){this._input=e;try{for await(const t of e)this.parseChunk(this.getStringChunk(t));this._finished=!0,this.parseChunk("")}catch(t){this._sendError(t)}},this._nextChunk=function(){},this.getStringChunk=function(e){return typeof e=="string"?e:this.textDecoder.decode(e,{stream:!0})}}H1.prototype=Object.create(m4.prototype);H1.prototype.constructor=H1;const kJ="3.2.10",bT={csv:{shape:"object-row-table",optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}},g4={id:"csv",module:"csv",name:"CSV",version:kJ,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(n,e)=>NP(new TextDecoder().decode(n),e),parseText:(n,e)=>NP(n,e),parseInBatches:DJ,options:bT};async function NP(n,e){const t={...bT.csv,...e==null?void 0:e.csv},r=OJ(n),s=t.header==="auto"?v4(r):Boolean(t.header),o={...t,header:s,download:!1,transformHeader:s?y4():void 0,error:p=>{throw new Error(p)}},a=Gx.parse(n,o);let{data:l}=a;const c=a.meta.fields||_4(t.columnPrefix,r.length);switch(t.shape){case"object-row-table":l=l.map(p=>Array.isArray(p)?c4(p,c):p);break;case"array-row-table":l=l.map(p=>Array.isArray(p)?p:f4(p,c));break}return l}function DJ(n,e){var t;e={...e},e.batchSize==="auto"&&(e.batchSize=4e3);const r={...bT.csv,...(t=e)===null||t===void 0?void 0:t.csv},i=new PJ;let s=!0,o=null,a=null,l=null;const c={...r,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(p){let m=p.data;if(r.skipEmptyLines&&m.flat().join("").trim()==="")return;const d=p.meta.cursor;if(s&&!o&&(r.header==="auto"?v4(m):Boolean(r.header))){o=m.map(y4());return}s&&(s=!1,o||(o=_4(r.columnPrefix,m.length)),l=zJ(m,o)),r.optimizeMemoryUsage&&(m=JSON.parse(JSON.stringify(m))),a=a||new Cv(l,{shape:r.shape||"array-row-table",...e});try{a.addRow(m);const v=a&&a.getFullBatch({bytesUsed:d});v&&i.enqueue(v)}catch(v){i.enqueue(v)}},complete(p){try{const m=p.meta.cursor,d=a&&a.getFinalBatch({bytesUsed:m});d&&i.enqueue(d)}catch(m){i.enqueue(m)}i.close()}};return Gx.parse(n,c,H1),i}function v4(n){return n&&n.every(e=>typeof e=="string")}function OJ(n){return Gx.parse(n,{download:!1,dynamicTyping:!0,preview:1}).data[0]}function y4(){const n=new Set;return e=>{let t=e,r=1;for(;n.has(t);)t="".concat(e,".").concat(r),r++;return n.add(t),t}}function _4(n,e=0){const t=[];for(let r=0;r<e;r++)t.push("".concat(n).concat(r+1));return t}function zJ(n,e){const t=e?{}:[];for(let r=0;r<n.length;r++){const i=e&&e[r]||r;switch(typeof n[r]){case"number":case"boolean":t[i]={name:String(i),index:r,type:Float32Array};break;case"string":default:t[i]={name:String(i),index:r,type:Array}}}return t}var x4={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(c,p){if(!i[c]){if(!r[c]){var m=typeof Ey=="function"&&Ey;if(!p&&m)return m(c,!0);if(a)return a(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var v=i[c]={exports:{}};r[c][0].call(v.exports,function(_){var y=r[c][1][_];return o(y||_)},v,v.exports,t,r,i,s)}return i[c].exports}for(var a=typeof Ey=="function"&&Ey,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,r,i){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,p,m,d,v,_,y,x=[],w=0,S=l.length,M=S,T=s.getTypeOf(l)!=="string";w<l.length;)M=S-w,m=T?(c=l[w++],p=w<S?l[w++]:0,w<S?l[w++]:0):(c=l.charCodeAt(w++),p=w<S?l.charCodeAt(w++):0,w<S?l.charCodeAt(w++):0),d=c>>2,v=(3&c)<<4|p>>4,_=1<M?(15&p)<<2|m>>6:64,y=2<M?63&m:64,x.push(a.charAt(d)+a.charAt(v)+a.charAt(_)+a.charAt(y));return x.join("")},i.decode=function(l){var c,p,m,d,v,_,y=0,x=0,w="data:";if(l.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var S,M=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&M--,l.charAt(l.length-2)===a.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|M):new Array(0|M);y<l.length;)c=a.indexOf(l.charAt(y++))<<2|(d=a.indexOf(l.charAt(y++)))>>4,p=(15&d)<<4|(v=a.indexOf(l.charAt(y++)))>>2,m=(3&v)<<6|(_=a.indexOf(l.charAt(y++))),S[x++]=c,v!==64&&(S[x++]=p),_!==64&&(S[x++]=m);return S}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(p,m,d,v,_){this.compressedSize=p,this.uncompressedSize=m,this.crc32=d,this.compression=v,this.compressedContent=_}c.prototype={getContentWorker:function(){var p=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return p.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(p,m,d){return p.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var p=0;p<8;p++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,p,m,d){var v=o,_=d+m;c^=-1;for(var y=d;y<_;y++)c=c>>>8^v[255&(c^p[y])];return-1^c}(0|l,a,a.length,0):function(c,p,m,d){var v=o,_=d+m;c^=-1;for(var y=d;y<_;y++)c=c>>>8^v[255&(c^p.charCodeAt(y))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise!="undefined"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),c=s?"uint8array":"array";function p(m,d){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=d,this.meta={}}i.magic="\b\0",a.inherits(p,l),p.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,m.data),!1)},p.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(d){m.push({data:d,meta:m.meta})}},i.compressWorker=function(m){return new p("Deflate",m)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(v,_){var y,x="";for(y=0;y<_;y++)x+=String.fromCharCode(255&v),v>>>=8;return x}function o(v,_,y,x,w,S){var M,T,A=v.file,L=v.compression,z=S!==c.utf8encode,C=a.transformTo("string",S(A.name)),F=a.transformTo("string",c.utf8encode(A.name)),H=A.comment,q=a.transformTo("string",S(H)),B=a.transformTo("string",c.utf8encode(H)),Y=F.length!==A.name.length,I=B.length!==H.length,te="",ce="",le="",ae=A.dir,ie=A.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};_&&!y||(ue.crc32=v.crc32,ue.compressedSize=v.compressedSize,ue.uncompressedSize=v.uncompressedSize);var j=0;_&&(j|=8),z||!Y&&!I||(j|=2048);var K=0,we=0;ae&&(K|=16),w==="UNIX"?(we=798,K|=function(Pe,ke){var bt=Pe;return Pe||(bt=ke?16893:33204),(65535&bt)<<16}(A.unixPermissions,ae)):(we=20,K|=function(Pe){return 63&(Pe||0)}(A.dosPermissions)),M=ie.getUTCHours(),M<<=6,M|=ie.getUTCMinutes(),M<<=5,M|=ie.getUTCSeconds()/2,T=ie.getUTCFullYear()-1980,T<<=4,T|=ie.getUTCMonth()+1,T<<=5,T|=ie.getUTCDate(),Y&&(ce=s(1,1)+s(p(C),4)+F,te+="up"+s(ce.length,2)+ce),I&&(le=s(1,1)+s(p(q),4)+B,te+="uc"+s(le.length,2)+le);var Re="";return Re+=`
\0`,Re+=s(j,2),Re+=L.magic,Re+=s(M,2),Re+=s(T,2),Re+=s(ue.crc32,4),Re+=s(ue.compressedSize,4),Re+=s(ue.uncompressedSize,4),Re+=s(C.length,2),Re+=s(te.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Re+C+te,dirRecord:m.CENTRAL_FILE_HEADER+s(we,2)+Re+s(q.length,2)+"\0\0\0\0"+s(K,4)+s(x,4)+C+te+q}}var a=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),p=t("../crc32"),m=t("../signature");function d(v,_,y,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,l),d.prototype.push=function(v){var _=v.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,l.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(_+100*(y-x-1))/y:100}}))},d.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var _=this.streamFiles&&!v.file.dir;if(_){var y=o(v,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(v){this.accumulate=!1;var _=this.streamFiles&&!v.file.dir,y=o(v,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),_)this.push({data:function(x){return m.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var v=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var y=this.bytesWritten-v,x=function(w,S,M,T,A){var L=a.transformTo("string",A(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(w,2)+s(w,2)+s(S,4)+s(M,4)+s(L.length,2)+L}(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(v){this._sources.push(v);var _=this;return v.on("data",function(y){_.processChunk(y)}),v.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),v.on("error",function(y){_.error(y)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(v){var _=this._sources;if(!l.prototype.error.call(this,v))return!1;for(var y=0;y<_.length;y++)try{_[y].error(v)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var v=this._sources,_=0;_<v.length;_++)v[_].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(a,l,c){var p=new o(l.streamFiles,c,l.platform,l.encodeFileName),m=0;try{a.forEach(function(d,v){m++;var _=function(S,M){var T=S||M,A=s[T];if(!A)throw new Error(T+" is not a valid compression method !");return A}(v.options.compression,l.compression),y=v.options.compressionOptions||l.compressionOptions||{},x=v.dir,w=v.date;v._compressWorker(_,y).withStreamInfo("file",{name:d,dir:x,date:w,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(p)}),p.entriesCount=m}catch(d){p.error(d)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function m(d){return new o.Promise(function(v,_){var y=d.decompressed.getContentWorker().pipe(new c);y.on("error",function(x){_(x)}).on("end",function(){y.streamInfo.crc32!==d.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(d,v){var _=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),p.isNode&&p.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,v.optimizedBinaryString,v.base64).then(function(y){var x=new l(v);return x.load(y),x}).then(function(y){var x=[o.Promise.resolve(y)],w=y.files;if(v.checkCRC32)for(var S=0;S<w.length;S++)x.push(m(w[S]));return o.Promise.all(x)}).then(function(y){for(var x=y.shift(),w=x.files,S=0;S<w.length;S++){var M=w[S],T=M.fileNameStr,A=s.resolve(M.fileNameStr);_.file(A,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:v.createFolders}),M.dir||(_.file(A).unsafeOriginalName=T)}return x.zipComment.length&&(_.comment=x.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(p){c.push({data:p,meta:{percent:0}})}).on("error",function(p){c.isPaused?this.generatedError=p:c.error(p)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var p=this;a.on("data",function(m,d){p.push(m)||p._helper.pause(),c&&c(d)}).on("error",function(m){p.emit("error",m)}).on("end",function(){p.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(A,L,z){var C,F=a.getTypeOf(L),H=a.extend(z||{},p);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(A=w(A)),H.createFolders&&(C=x(A))&&S.call(this,C,!0);var q=F==="string"&&H.binary===!1&&H.base64===!1;z&&z.binary!==void 0||(H.binary=!q),(L instanceof m&&L.uncompressedSize===0||H.dir||!L||L.length===0)&&(H.base64=!1,H.binary=!0,L="",H.compression="STORE",F="string");var B=null;B=L instanceof m||L instanceof l?L:_.isNode&&_.isStream(L)?new y(A,L):a.prepareContent(A,L,H.binary,H.optimizedBinaryString,H.base64);var Y=new d(A,B,H);this.files[A]=Y}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),p=t("./defaults"),m=t("./compressedObject"),d=t("./zipObject"),v=t("./generate"),_=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),x=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var L=A.lastIndexOf("/");return 0<L?A.substring(0,L):""},w=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},S=function(A,L){return L=L!==void 0?L:p.createFolders,A=w(A),this.files[A]||s.call(this,A,null,{dir:!0,createFolders:L}),this.files[A]};function M(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var L,z,C;for(L in this.files)C=this.files[L],(z=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&A(z,C)},filter:function(A){var L=[];return this.forEach(function(z,C){A(z,C)&&L.push(C)}),L},file:function(A,L,z){if(arguments.length!==1)return A=this.root+A,s.call(this,A,L,z),this;if(M(A)){var C=A;return this.filter(function(H,q){return!q.dir&&C.test(H)})}var F=this.files[this.root+A];return F&&!F.dir?F:null},folder:function(A){if(!A)return this;if(M(A))return this.filter(function(F,H){return H.dir&&A.test(F)});var L=this.root+A,z=S.call(this,L),C=this.clone();return C.root=z.name,C},remove:function(A){A=this.root+A;var L=this.files[A];if(L||(A.slice(-1)!=="/"&&(A+="/"),L=this.files[A]),L&&!L.dir)delete this.files[A];else for(var z=this.filter(function(F,H){return H.name.slice(0,A.length)===A}),C=0;C<z.length;C++)delete this.files[z[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var L,z={};try{if((z=a.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");a.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var C=z.comment||this.comment||"";L=v.generateWorker(this,z,C)}catch(F){(L=new l("error")).error(F)}return new c(L,z.type||"string",z.mimeType)},generateAsync:function(A,L){return this.generateInternalStream(A).accumulate(L)},generateNodeStream:function(A,L){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(L)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),p=a.charCodeAt(2),m=a.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===c&&this.data[d+2]===p&&this.data[d+3]===m)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),p=a.charCodeAt(2),m=a.charCodeAt(3),d=this.readData(4);return l===d[0]&&c===d[1]&&p===d[2]&&m===d[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");r.exports=function(m){var d=s.getTypeOf(m);return s.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new c(m):o.uint8array?new p(s.transformTo("uint8array",m)):new a(s.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(p){c.dataIsReady=!0,c.data=p,c.max=p&&p.length||0,c.type=s.getTypeOf(p),c.isPaused||c._tickAndRepeat()},function(p){c.error(p)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),c=t("../support"),p=t("../external"),m=null;if(c.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(_,y){return new p.Promise(function(x,w){var S=[],M=_._internalType,T=_._outputType,A=_._mimeType;_.on("data",function(L,z){S.push(L),y&&y(z)}).on("error",function(L){S=[],w(L)}).on("end",function(){try{var L=function(z,C,F){switch(z){case"blob":return s.newBlob(s.transformTo("arraybuffer",C),F);case"base64":return l.encode(C);default:return s.transformTo(z,C)}}(T,function(z,C){var F,H=0,q=null,B=0;for(F=0;F<C.length;F++)B+=C[F].length;switch(z){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(q=new Uint8Array(B),F=0;F<C.length;F++)q.set(C[F],H),H+=C[F].length;return q;case"nodebuffer":return Buffer.concat(C);default:throw new Error("concat : unsupported type '"+z+"'")}}(M,S),A);x(L)}catch(z){w(z)}S=[]}).resume()})}function v(_,y,x){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=x,s.checkSupport(w),this._worker=_.pipe(new o(w)),_.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}v.prototype={accumulate:function(_){return d(this,_)},on:function(_,y){var x=this;return _==="data"?this._worker.on(_,function(w){y.call(x,w.data,w.meta)}):this._worker.on(_,function(){s.delay(y,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),p=0;p<256;p++)c[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;c[254]=c[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(v){return o.nodebuffer?a.newBufferFrom(v,"utf-8"):function(_){var y,x,w,S,M,T=_.length,A=0;for(S=0;S<T;S++)(64512&(x=_.charCodeAt(S)))==55296&&S+1<T&&(64512&(w=_.charCodeAt(S+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),S++),A+=x<128?1:x<2048?2:x<65536?3:4;for(y=o.uint8array?new Uint8Array(A):new Array(A),S=M=0;M<A;S++)(64512&(x=_.charCodeAt(S)))==55296&&S+1<T&&(64512&(w=_.charCodeAt(S+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),S++),x<128?y[M++]=x:(x<2048?y[M++]=192|x>>>6:(x<65536?y[M++]=224|x>>>12:(y[M++]=240|x>>>18,y[M++]=128|x>>>12&63),y[M++]=128|x>>>6&63),y[M++]=128|63&x);return y}(v)},i.utf8decode=function(v){return o.nodebuffer?s.transformTo("nodebuffer",v).toString("utf-8"):function(_){var y,x,w,S,M=_.length,T=new Array(2*M);for(y=x=0;y<M;)if((w=_[y++])<128)T[x++]=w;else if(4<(S=c[w]))T[x++]=65533,y+=S-1;else{for(w&=S===2?31:S===3?15:7;1<S&&y<M;)w=w<<6|63&_[y++],S--;1<S?T[x++]=65533:w<65536?T[x++]=w:(w-=65536,T[x++]=55296|w>>10&1023,T[x++]=56320|1023&w)}return T.length!==x&&(T.subarray?T=T.subarray(0,x):T.length=x),s.applyFromCharCode(T)}(v=s.transformTo(o.uint8array?"uint8array":"array",v))},s.inherits(m,l),m.prototype.processChunk=function(v){var _=s.transformTo(o.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=_;(_=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),_.set(y,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var x=function(S,M){var T;for((M=M||S.length)>S.length&&(M=S.length),T=M-1;0<=T&&(192&S[T])==128;)T--;return T<0||T===0?M:T+c[S[T]]>M?T:M}(_),w=_;x!==_.length&&(o.uint8array?(w=_.subarray(0,x),this.leftOver=_.subarray(x,_.length)):(w=_.slice(0,x),this.leftOver=_.slice(x,_.length))),this.push({data:i.utf8decode(w),meta:v.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(d,l),d.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function c(y){return y}function p(y,x){for(var w=0;w<y.length;++w)x[w]=255&y.charCodeAt(w);return x}t("setimmediate"),i.newBlob=function(y,x){i.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,x,w){var S=[],M=0,T=y.length;if(T<=w)return String.fromCharCode.apply(null,y);for(;M<T;)x==="array"||x==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(M,Math.min(M+w,T)))):S.push(String.fromCharCode.apply(null,y.subarray(M,Math.min(M+w,T)))),M+=w;return S.join("")},stringifyByChar:function(y){for(var x="",w=0;w<y.length;w++)x+=String.fromCharCode(y[w]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function d(y){var x=65536,w=i.getTypeOf(y),S=!0;if(w==="uint8array"?S=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(S=m.applyCanBeUsed.nodebuffer),S)for(;1<x;)try{return m.stringifyByChunk(y,w,x)}catch{x=Math.floor(x/2)}return m.stringifyByChar(y)}function v(y,x){for(var w=0;w<y.length;w++)x[w]=y[w];return x}i.applyFromCharCode=d;var _={};_.string={string:c,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return _.string.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:function(y){return p(y,a.allocBuffer(y.length))}},_.array={string:d,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},_.arraybuffer={string:function(y){return d(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},_.uint8array={string:d,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},_.nodebuffer={string:d,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return _.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,x){if(x=x||"",!y)return x;i.checkSupport(y);var w=i.getTypeOf(x);return _[w][y](x)},i.resolve=function(y){for(var x=y.split("/"),w=[],S=0;S<x.length;S++){var M=x[S];M==="."||M===""&&S!==0&&S!==x.length-1||(M===".."?w.pop():w.push(M))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var x,w,S="";for(w=0;w<(y||"").length;w++)S+="\\x"+((x=y.charCodeAt(w))<16?"0":"")+x.toString(16).toUpperCase();return S},i.delay=function(y,x,w){setImmediate(function(){y.apply(w||null,x||[])})},i.inherits=function(y,x){function w(){}w.prototype=x.prototype,y.prototype=new w},i.extend=function(){var y,x,w={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&w[x]===void 0&&(w[x]=arguments[y][x]);return w},i.prepareContent=function(y,x,w,S,M){return l.Promise.resolve(x).then(function(T){return s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(A,L){var z=new FileReader;z.onload=function(C){A(C.target.result)},z.onerror=function(C){L(C.target.error)},z.readAsArrayBuffer(T)}):T}).then(function(T){var A=i.getTypeOf(T);return A?(A==="arraybuffer"?T=i.transformTo("uint8array",T):A==="string"&&(M?T=o.decode(T):w&&S!==!0&&(T=function(L){return p(L,s.uint8array?new Uint8Array(L.length):new Array(L.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),c=t("./support");function p(m){this.files=[],this.loadOptions=m}p.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(m)+")")}},isSignature:function(m,d){var v=this.reader.index;this.reader.setIndex(m);var _=this.reader.readString(4)===d;return this.reader.setIndex(v),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),d=c.uint8array?"uint8array":"array",v=o.transformTo(d,m);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,d,v,_=this.zip64EndOfCentralSize-44;0<_;)m=this.reader.readInt(2),d=this.reader.readInt(4),v=this.reader.readData(d),this.zip64ExtensibleData[m]={id:m,length:d,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,d;for(m=0;m<this.files.length;m++)d=this.files[m],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var d=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var _=d-v;if(0<_)this.isSignature(d,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),p=t("./compressions"),m=t("./support");function d(v,_){this.options=v,this.loadOptions=_}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var _,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(x){for(var w in p)if(Object.prototype.hasOwnProperty.call(p,w)&&p[w].magic===x)return p[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var _=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(_),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var _,y,x,w=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<w;)_=v.readInt(2),y=v.readInt(2),x=v.readData(y),this.extraFields[_]={id:_,length:y,value:x};v.setIndex(w)},handleUTF8:function(){var v=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var y=o.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var w=o.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var _=s(v.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:c.utf8decode(_.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var _=s(v.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:c.utf8decode(_.readData(v.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(_,y,x){this.name=_,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),p=t("./stream/GenericWorker");s.prototype={internalStream:function(_){var y=null,x="string";try{if(!_)throw new Error("No output type specified.");var w=(x=_.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!w&&(y=y.pipe(new l.Utf8EncodeWorker)),!S&&w&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(M){(y=new p("error")).error(M)}return new o(y,x,"")},async:function(_,y){return this.internalStream(_).accumulate(y)},nodeStream:function(_,y){return this.internalStream(_||"nodebuffer").toNodejsStream(y)},_compressWorker:function(_,y){if(this._data instanceof c&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(x,_,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof p?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<m.length;v++)s.prototype[m[v]]=d;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,p=new l(_),m=s.document.createTextNode("");p.observe(m,{characterData:!0}),o=function(){m.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){_(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(_,0)};else{var d=new s.MessageChannel;d.port1.onmessage=_,o=function(){d.port2.postMessage(0)}}var v=[];function _(){var y,x;a=!0;for(var w=v.length;w;){for(x=v,v=[],y=-1;++y<w;)x[y]();w=v.length}a=!1}r.exports=function(y){v.push(y)!==1||a||o()}}).call(this,typeof cl!="undefined"?cl:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],p=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,w!==o&&y(this,w)}function d(w,S,M){this.promise=w,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function v(w,S,M){s(function(){var T;try{T=S(M)}catch(A){return a.reject(w,A)}T===w?a.reject(w,new TypeError("Cannot resolve promise with itself")):a.resolve(w,T)})}function _(w){var S=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof S=="function")return function(){S.apply(w,arguments)}}function y(w,S){var M=!1;function T(z){M||(M=!0,a.reject(w,z))}function A(z){M||(M=!0,a.resolve(w,z))}var L=x(function(){S(A,T)});L.status==="error"&&T(L.value)}function x(w,S){var M={};try{M.value=w(S),M.status="success"}catch(T){M.status="error",M.value=T}return M}(r.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var S=this.constructor;return this.then(function(M){return S.resolve(w()).then(function(){return M})},function(M){return S.resolve(w()).then(function(){throw M})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,S){if(typeof w!="function"&&this.state===c||typeof S!="function"&&this.state===l)return this;var M=new this.constructor(o);return this.state!==p?v(M,this.state===c?w:S,this.outcome):this.queue.push(new d(M,w,S)),M},d.prototype.callFulfilled=function(w){a.resolve(this.promise,w)},d.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},d.prototype.callRejected=function(w){a.reject(this.promise,w)},d.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)},a.resolve=function(w,S){var M=x(_,S);if(M.status==="error")return a.reject(w,M.value);var T=M.value;if(T)y(w,T);else{w.state=c,w.outcome=S;for(var A=-1,L=w.queue.length;++A<L;)w.queue[A].callFulfilled(S)}return w},a.reject=function(w,S){w.state=l,w.outcome=S;for(var M=-1,T=w.queue.length;++M<T;)w.queue[M].callRejected(S);return w},m.resolve=function(w){return w instanceof this?w:a.resolve(new this(o),w)},m.reject=function(w){var S=new this(o);return a.reject(S,w)},m.all=function(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=w.length,T=!1;if(!M)return this.resolve([]);for(var A=new Array(M),L=0,z=-1,C=new this(o);++z<M;)F(w[z],z);return C;function F(H,q){S.resolve(H).then(function(B){A[q]=B,++L!==M||T||(T=!0,a.resolve(C,A))},function(B){T||(T=!0,a.reject(C,B))})}},m.race=function(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=w.length,T=!1;if(!M)return this.resolve([]);for(var A=-1,L=new this(o);++A<M;)z=w[A],S.resolve(z).then(function(C){T||(T=!0,a.resolve(L,C))},function(C){T||(T=!0,a.reject(L,C))});var z;return L}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),p=Object.prototype.toString,m=0,d=-1,v=0,_=8;function y(w){if(!(this instanceof y))return new y(w);this.options=o.assign({level:d,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},w||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var M=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(M!==m)throw new Error(l[M]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var T;if(T=typeof S.dictionary=="string"?a.string2buf(S.dictionary):p.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(M=s.deflateSetDictionary(this.strm,T))!==m)throw new Error(l[M]);this._dict_set=!0}}function x(w,S){var M=new y(S);if(M.push(w,!0),M.err)throw M.msg||l[M.err];return M.result}y.prototype.push=function(w,S){var M,T,A=this.strm,L=this.options.chunkSize;if(this.ended)return!1;T=S===~~S?S:S===!0?4:0,typeof w=="string"?A.input=a.string2buf(w):p.call(w)==="[object ArrayBuffer]"?A.input=new Uint8Array(w):A.input=w,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(L),A.next_out=0,A.avail_out=L),(M=s.deflate(A,T))!==1&&M!==m)return this.onEnd(M),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&M!==1);return T===4?(M=s.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===m):T!==2||(this.onEnd(m),!(A.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=x,i.deflateRaw=function(w,S){return(S=S||{}).raw=!0,x(w,S)},i.gzip=function(w,S){return(S=S||{}).gzip=!0,x(w,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),p=t("./zlib/zstream"),m=t("./zlib/gzheader"),d=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var w=s.inflateInit2(this.strm,x.windowBits);if(w!==l.Z_OK)throw new Error(c[w]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function _(y,x){var w=new v(x);if(w.push(y,!0),w.err)throw w.msg||c[w.err];return w.result}v.prototype.push=function(y,x){var w,S,M,T,A,L,z=this.strm,C=this.options.chunkSize,F=this.options.dictionary,H=!1;if(this.ended)return!1;S=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?z.input=a.binstring2buf(y):d.call(y)==="[object ArrayBuffer]"?z.input=new Uint8Array(y):z.input=y,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new o.Buf8(C),z.next_out=0,z.avail_out=C),(w=s.inflate(z,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(L=typeof F=="string"?a.string2buf(F):d.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,w=s.inflateSetDictionary(this.strm,L)),w===l.Z_BUF_ERROR&&H===!0&&(w=l.Z_OK,H=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&w!==l.Z_STREAM_END&&(z.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=a.utf8border(z.output,z.next_out),T=z.next_out-M,A=a.buf2string(z.output,M),z.next_out=T,z.avail_out=C-T,T&&o.arraySet(z.output,z.output,M,T,0),this.onData(A)):this.onData(o.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(H=!0)}while((0<z.avail_in||z.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(w=s.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(z.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=v,i.inflate=_,i.inflateRaw=function(y,x){return(x=x||{}).raw=!0,_(y,x)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var p=c.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var m in p)p.hasOwnProperty(m)&&(l[m]=p[m])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,p,m,d){if(c.subarray&&l.subarray)l.set(c.subarray(p,p+m),d);else for(var v=0;v<m;v++)l[d+v]=c[p+v]},flattenChunks:function(l){var c,p,m,d,v,_;for(c=m=0,p=l.length;c<p;c++)m+=l[c].length;for(_=new Uint8Array(m),c=d=0,p=l.length;c<p;c++)v=l[c],_.set(v,d),d+=v.length;return _}},a={arraySet:function(l,c,p,m,d){for(var v=0;v<m;v++)l[d+v]=c[p+v]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function p(m,d){if(d<65537&&(m.subarray&&a||!m.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(m,d));for(var v="",_=0;_<d;_++)v+=String.fromCharCode(m[_]);return v}l[254]=l[254]=1,i.string2buf=function(m){var d,v,_,y,x,w=m.length,S=0;for(y=0;y<w;y++)(64512&(v=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(_=m.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),y++),S+=v<128?1:v<2048?2:v<65536?3:4;for(d=new s.Buf8(S),y=x=0;x<S;y++)(64512&(v=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(_=m.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),y++),v<128?d[x++]=v:(v<2048?d[x++]=192|v>>>6:(v<65536?d[x++]=224|v>>>12:(d[x++]=240|v>>>18,d[x++]=128|v>>>12&63),d[x++]=128|v>>>6&63),d[x++]=128|63&v);return d},i.buf2binstring=function(m){return p(m,m.length)},i.binstring2buf=function(m){for(var d=new s.Buf8(m.length),v=0,_=d.length;v<_;v++)d[v]=m.charCodeAt(v);return d},i.buf2string=function(m,d){var v,_,y,x,w=d||m.length,S=new Array(2*w);for(v=_=0;v<w;)if((y=m[v++])<128)S[_++]=y;else if(4<(x=l[y]))S[_++]=65533,v+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&v<w;)y=y<<6|63&m[v++],x--;1<x?S[_++]=65533:y<65536?S[_++]=y:(y-=65536,S[_++]=55296|y>>10&1023,S[_++]=56320|1023&y)}return p(S,_)},i.utf8border=function(m,d){var v;for((d=d||m.length)>m.length&&(d=m.length),v=d-1;0<=v&&(192&m[v])==128;)v--;return v<0||v===0?d:v+l[m[v]]>d?v:d}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,o,a,l){for(var c=65535&s|0,p=s>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;p=p+(c=c+o[l++]|0)|0,--m;);c%=65521,p%=65521}return c|p<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var p=s,m=c+l;o^=-1;for(var d=c;d<m;d++)o=o>>>8^p[255&(o^a[d])];return-1^o}},{}],46:[function(t,r,i){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),c=t("./crc32"),p=t("./messages"),m=0,d=4,v=0,_=-2,y=-1,x=4,w=2,S=8,M=9,T=286,A=30,L=19,z=2*T+1,C=15,F=3,H=258,q=H+F+1,B=42,Y=113,I=1,te=2,ce=3,le=4;function ae(O,Te){return O.msg=p[Te],Te}function ie(O){return(O<<1)-(4<O?9:0)}function ue(O){for(var Te=O.length;0<=--Te;)O[Te]=0}function j(O){var Te=O.state,ye=Te.pending;ye>O.avail_out&&(ye=O.avail_out),ye!==0&&(o.arraySet(O.output,Te.pending_buf,Te.pending_out,ye,O.next_out),O.next_out+=ye,Te.pending_out+=ye,O.total_out+=ye,O.avail_out-=ye,Te.pending-=ye,Te.pending===0&&(Te.pending_out=0))}function K(O,Te){a._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,Te),O.block_start=O.strstart,j(O.strm)}function we(O,Te){O.pending_buf[O.pending++]=Te}function Re(O,Te){O.pending_buf[O.pending++]=Te>>>8&255,O.pending_buf[O.pending++]=255&Te}function Pe(O,Te){var ye,ne,J=O.max_chain_length,de=O.strstart,We=O.prev_length,Be=O.nice_match,G=O.strstart>O.w_size-q?O.strstart-(O.w_size-q):0,U=O.window,fe=O.w_mask,Ee=O.prev,Ue=O.strstart+H,Ke=U[de+We-1],at=U[de+We];O.prev_length>=O.good_match&&(J>>=2),Be>O.lookahead&&(Be=O.lookahead);do if(U[(ye=Te)+We]===at&&U[ye+We-1]===Ke&&U[ye]===U[de]&&U[++ye]===U[de+1]){de+=2,ye++;do;while(U[++de]===U[++ye]&&U[++de]===U[++ye]&&U[++de]===U[++ye]&&U[++de]===U[++ye]&&U[++de]===U[++ye]&&U[++de]===U[++ye]&&U[++de]===U[++ye]&&U[++de]===U[++ye]&&de<Ue);if(ne=H-(Ue-de),de=Ue-H,We<ne){if(O.match_start=Te,Be<=(We=ne))break;Ke=U[de+We-1],at=U[de+We]}}while((Te=Ee[Te&fe])>G&&--J!=0);return We<=O.lookahead?We:O.lookahead}function ke(O){var Te,ye,ne,J,de,We,Be,G,U,fe,Ee=O.w_size;do{if(J=O.window_size-O.lookahead-O.strstart,O.strstart>=Ee+(Ee-q)){for(o.arraySet(O.window,O.window,Ee,Ee,0),O.match_start-=Ee,O.strstart-=Ee,O.block_start-=Ee,Te=ye=O.hash_size;ne=O.head[--Te],O.head[Te]=Ee<=ne?ne-Ee:0,--ye;);for(Te=ye=Ee;ne=O.prev[--Te],O.prev[Te]=Ee<=ne?ne-Ee:0,--ye;);J+=Ee}if(O.strm.avail_in===0)break;if(We=O.strm,Be=O.window,G=O.strstart+O.lookahead,U=J,fe=void 0,fe=We.avail_in,U<fe&&(fe=U),ye=fe===0?0:(We.avail_in-=fe,o.arraySet(Be,We.input,We.next_in,fe,G),We.state.wrap===1?We.adler=l(We.adler,Be,fe,G):We.state.wrap===2&&(We.adler=c(We.adler,Be,fe,G)),We.next_in+=fe,We.total_in+=fe,fe),O.lookahead+=ye,O.lookahead+O.insert>=F)for(de=O.strstart-O.insert,O.ins_h=O.window[de],O.ins_h=(O.ins_h<<O.hash_shift^O.window[de+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[de+F-1])&O.hash_mask,O.prev[de&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=de,de++,O.insert--,!(O.lookahead+O.insert<F)););}while(O.lookahead<q&&O.strm.avail_in!==0)}function bt(O,Te){for(var ye,ne;;){if(O.lookahead<q){if(ke(O),O.lookahead<q&&Te===m)return I;if(O.lookahead===0)break}if(ye=0,O.lookahead>=F&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),ye!==0&&O.strstart-ye<=O.w_size-q&&(O.match_length=Pe(O,ye)),O.match_length>=F)if(ne=a._tr_tally(O,O.strstart-O.match_start,O.match_length-F),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=F){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else ne=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(ne&&(K(O,!1),O.strm.avail_out===0))return I}return O.insert=O.strstart<F-1?O.strstart:F-1,Te===d?(K(O,!0),O.strm.avail_out===0?ce:le):O.last_lit&&(K(O,!1),O.strm.avail_out===0)?I:te}function rt(O,Te){for(var ye,ne,J;;){if(O.lookahead<q){if(ke(O),O.lookahead<q&&Te===m)return I;if(O.lookahead===0)break}if(ye=0,O.lookahead>=F&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=F-1,ye!==0&&O.prev_length<O.max_lazy_match&&O.strstart-ye<=O.w_size-q&&(O.match_length=Pe(O,ye),O.match_length<=5&&(O.strategy===1||O.match_length===F&&4096<O.strstart-O.match_start)&&(O.match_length=F-1)),O.prev_length>=F&&O.match_length<=O.prev_length){for(J=O.strstart+O.lookahead-F,ne=a._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-F),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=J&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=F-1,O.strstart++,ne&&(K(O,!1),O.strm.avail_out===0))return I}else if(O.match_available){if((ne=a._tr_tally(O,0,O.window[O.strstart-1]))&&K(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return I}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(ne=a._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<F-1?O.strstart:F-1,Te===d?(K(O,!0),O.strm.avail_out===0?ce:le):O.last_lit&&(K(O,!1),O.strm.avail_out===0)?I:te}function ut(O,Te,ye,ne,J){this.good_length=O,this.max_lazy=Te,this.nice_length=ye,this.max_chain=ne,this.func=J}function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*z),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*L+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(C+1),this.heap=new o.Buf16(2*T+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*T+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(O){var Te;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=w,(Te=O.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?B:Y,O.adler=Te.wrap===2?0:1,Te.last_flush=m,a._tr_init(Te),v):ae(O,_)}function Xe(O){var Te=Ct(O);return Te===v&&function(ye){ye.window_size=2*ye.w_size,ue(ye.head),ye.max_lazy_match=s[ye.level].max_lazy,ye.good_match=s[ye.level].good_length,ye.nice_match=s[ye.level].nice_length,ye.max_chain_length=s[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=F-1,ye.match_available=0,ye.ins_h=0}(O.state),Te}function $e(O,Te,ye,ne,J,de){if(!O)return _;var We=1;if(Te===y&&(Te=6),ne<0?(We=0,ne=-ne):15<ne&&(We=2,ne-=16),J<1||M<J||ye!==S||ne<8||15<ne||Te<0||9<Te||de<0||x<de)return ae(O,_);ne===8&&(ne=9);var Be=new it;return(O.state=Be).strm=O,Be.wrap=We,Be.gzhead=null,Be.w_bits=ne,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=J+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+F-1)/F),Be.window=new o.Buf8(2*Be.w_size),Be.head=new o.Buf16(Be.hash_size),Be.prev=new o.Buf16(Be.w_size),Be.lit_bufsize=1<<J+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new o.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=Te,Be.strategy=de,Be.method=ye,Xe(O)}s=[new ut(0,0,0,0,function(O,Te){var ye=65535;for(ye>O.pending_buf_size-5&&(ye=O.pending_buf_size-5);;){if(O.lookahead<=1){if(ke(O),O.lookahead===0&&Te===m)return I;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var ne=O.block_start+ye;if((O.strstart===0||O.strstart>=ne)&&(O.lookahead=O.strstart-ne,O.strstart=ne,K(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-q&&(K(O,!1),O.strm.avail_out===0))return I}return O.insert=0,Te===d?(K(O,!0),O.strm.avail_out===0?ce:le):(O.strstart>O.block_start&&(K(O,!1),O.strm.avail_out),I)}),new ut(4,4,8,4,bt),new ut(4,5,16,8,bt),new ut(4,6,32,32,bt),new ut(4,4,16,16,rt),new ut(8,16,32,32,rt),new ut(8,16,128,128,rt),new ut(8,32,128,256,rt),new ut(32,128,258,1024,rt),new ut(32,258,258,4096,rt)],i.deflateInit=function(O,Te){return $e(O,Te,S,15,8,0)},i.deflateInit2=$e,i.deflateReset=Xe,i.deflateResetKeep=Ct,i.deflateSetHeader=function(O,Te){return O&&O.state?O.state.wrap!==2?_:(O.state.gzhead=Te,v):_},i.deflate=function(O,Te){var ye,ne,J,de;if(!O||!O.state||5<Te||Te<0)return O?ae(O,_):_;if(ne=O.state,!O.output||!O.input&&O.avail_in!==0||ne.status===666&&Te!==d)return ae(O,O.avail_out===0?-5:_);if(ne.strm=O,ye=ne.last_flush,ne.last_flush=Te,ne.status===B)if(ne.wrap===2)O.adler=0,we(ne,31),we(ne,139),we(ne,8),ne.gzhead?(we(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),we(ne,255&ne.gzhead.time),we(ne,ne.gzhead.time>>8&255),we(ne,ne.gzhead.time>>16&255),we(ne,ne.gzhead.time>>24&255),we(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),we(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(we(ne,255&ne.gzhead.extra.length),we(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(O.adler=c(O.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(we(ne,0),we(ne,0),we(ne,0),we(ne,0),we(ne,0),we(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),we(ne,3),ne.status=Y);else{var We=S+(ne.w_bits-8<<4)<<8;We|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(We|=32),We+=31-We%31,ne.status=Y,Re(ne,We),ne.strstart!==0&&(Re(ne,O.adler>>>16),Re(ne,65535&O.adler)),O.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(J=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>J&&(O.adler=c(O.adler,ne.pending_buf,ne.pending-J,J)),j(O),J=ne.pending,ne.pending!==ne.pending_buf_size));)we(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>J&&(O.adler=c(O.adler,ne.pending_buf,ne.pending-J,J)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){J=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>J&&(O.adler=c(O.adler,ne.pending_buf,ne.pending-J,J)),j(O),J=ne.pending,ne.pending===ne.pending_buf_size)){de=1;break}de=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,we(ne,de)}while(de!==0);ne.gzhead.hcrc&&ne.pending>J&&(O.adler=c(O.adler,ne.pending_buf,ne.pending-J,J)),de===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){J=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>J&&(O.adler=c(O.adler,ne.pending_buf,ne.pending-J,J)),j(O),J=ne.pending,ne.pending===ne.pending_buf_size)){de=1;break}de=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,we(ne,de)}while(de!==0);ne.gzhead.hcrc&&ne.pending>J&&(O.adler=c(O.adler,ne.pending_buf,ne.pending-J,J)),de===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&j(O),ne.pending+2<=ne.pending_buf_size&&(we(ne,255&O.adler),we(ne,O.adler>>8&255),O.adler=0,ne.status=Y)):ne.status=Y),ne.pending!==0){if(j(O),O.avail_out===0)return ne.last_flush=-1,v}else if(O.avail_in===0&&ie(Te)<=ie(ye)&&Te!==d)return ae(O,-5);if(ne.status===666&&O.avail_in!==0)return ae(O,-5);if(O.avail_in!==0||ne.lookahead!==0||Te!==m&&ne.status!==666){var Be=ne.strategy===2?function(G,U){for(var fe;;){if(G.lookahead===0&&(ke(G),G.lookahead===0)){if(U===m)return I;break}if(G.match_length=0,fe=a._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++,fe&&(K(G,!1),G.strm.avail_out===0))return I}return G.insert=0,U===d?(K(G,!0),G.strm.avail_out===0?ce:le):G.last_lit&&(K(G,!1),G.strm.avail_out===0)?I:te}(ne,Te):ne.strategy===3?function(G,U){for(var fe,Ee,Ue,Ke,at=G.window;;){if(G.lookahead<=H){if(ke(G),G.lookahead<=H&&U===m)return I;if(G.lookahead===0)break}if(G.match_length=0,G.lookahead>=F&&0<G.strstart&&(Ee=at[Ue=G.strstart-1])===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]){Ke=G.strstart+H;do;while(Ee===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]&&Ee===at[++Ue]&&Ue<Ke);G.match_length=H-(Ke-Ue),G.match_length>G.lookahead&&(G.match_length=G.lookahead)}if(G.match_length>=F?(fe=a._tr_tally(G,1,G.match_length-F),G.lookahead-=G.match_length,G.strstart+=G.match_length,G.match_length=0):(fe=a._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++),fe&&(K(G,!1),G.strm.avail_out===0))return I}return G.insert=0,U===d?(K(G,!0),G.strm.avail_out===0?ce:le):G.last_lit&&(K(G,!1),G.strm.avail_out===0)?I:te}(ne,Te):s[ne.level].func(ne,Te);if(Be!==ce&&Be!==le||(ne.status=666),Be===I||Be===ce)return O.avail_out===0&&(ne.last_flush=-1),v;if(Be===te&&(Te===1?a._tr_align(ne):Te!==5&&(a._tr_stored_block(ne,0,0,!1),Te===3&&(ue(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),j(O),O.avail_out===0))return ne.last_flush=-1,v}return Te!==d?v:ne.wrap<=0?1:(ne.wrap===2?(we(ne,255&O.adler),we(ne,O.adler>>8&255),we(ne,O.adler>>16&255),we(ne,O.adler>>24&255),we(ne,255&O.total_in),we(ne,O.total_in>>8&255),we(ne,O.total_in>>16&255),we(ne,O.total_in>>24&255)):(Re(ne,O.adler>>>16),Re(ne,65535&O.adler)),j(O),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?v:1)},i.deflateEnd=function(O){var Te;return O&&O.state?(Te=O.state.status)!==B&&Te!==69&&Te!==73&&Te!==91&&Te!==103&&Te!==Y&&Te!==666?ae(O,_):(O.state=null,Te===Y?ae(O,-3):v):_},i.deflateSetDictionary=function(O,Te){var ye,ne,J,de,We,Be,G,U,fe=Te.length;if(!O||!O.state||(de=(ye=O.state).wrap)===2||de===1&&ye.status!==B||ye.lookahead)return _;for(de===1&&(O.adler=l(O.adler,Te,fe,0)),ye.wrap=0,fe>=ye.w_size&&(de===0&&(ue(ye.head),ye.strstart=0,ye.block_start=0,ye.insert=0),U=new o.Buf8(ye.w_size),o.arraySet(U,Te,fe-ye.w_size,ye.w_size,0),Te=U,fe=ye.w_size),We=O.avail_in,Be=O.next_in,G=O.input,O.avail_in=fe,O.next_in=0,O.input=Te,ke(ye);ye.lookahead>=F;){for(ne=ye.strstart,J=ye.lookahead-(F-1);ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ne+F-1])&ye.hash_mask,ye.prev[ne&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=ne,ne++,--J;);ye.strstart=ne,ye.lookahead=F-1,ke(ye)}return ye.strstart+=ye.lookahead,ye.block_start=ye.strstart,ye.insert=ye.lookahead,ye.lookahead=0,ye.match_length=ye.prev_length=F-1,ye.match_available=0,O.next_in=Be,O.input=G,O.avail_in=We,ye.wrap=de,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,o){var a,l,c,p,m,d,v,_,y,x,w,S,M,T,A,L,z,C,F,H,q,B,Y,I,te;a=s.state,l=s.next_in,I=s.input,c=l+(s.avail_in-5),p=s.next_out,te=s.output,m=p-(o-s.avail_out),d=p+(s.avail_out-257),v=a.dmax,_=a.wsize,y=a.whave,x=a.wnext,w=a.window,S=a.hold,M=a.bits,T=a.lencode,A=a.distcode,L=(1<<a.lenbits)-1,z=(1<<a.distbits)-1;e:do{M<15&&(S+=I[l++]<<M,M+=8,S+=I[l++]<<M,M+=8),C=T[S&L];t:for(;;){if(S>>>=F=C>>>24,M-=F,(F=C>>>16&255)===0)te[p++]=65535&C;else{if(!(16&F)){if((64&F)==0){C=T[(65535&C)+(S&(1<<F)-1)];continue t}if(32&F){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}H=65535&C,(F&=15)&&(M<F&&(S+=I[l++]<<M,M+=8),H+=S&(1<<F)-1,S>>>=F,M-=F),M<15&&(S+=I[l++]<<M,M+=8,S+=I[l++]<<M,M+=8),C=A[S&z];n:for(;;){if(S>>>=F=C>>>24,M-=F,!(16&(F=C>>>16&255))){if((64&F)==0){C=A[(65535&C)+(S&(1<<F)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(q=65535&C,M<(F&=15)&&(S+=I[l++]<<M,(M+=8)<F&&(S+=I[l++]<<M,M+=8)),v<(q+=S&(1<<F)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=F,M-=F,(F=p-m)<q){if(y<(F=q-F)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(Y=w,(B=0)===x){if(B+=_-F,F<H){for(H-=F;te[p++]=w[B++],--F;);B=p-q,Y=te}}else if(x<F){if(B+=_+x-F,(F-=x)<H){for(H-=F;te[p++]=w[B++],--F;);if(B=0,x<H){for(H-=F=x;te[p++]=w[B++],--F;);B=p-q,Y=te}}}else if(B+=x-F,F<H){for(H-=F;te[p++]=w[B++],--F;);B=p-q,Y=te}for(;2<H;)te[p++]=Y[B++],te[p++]=Y[B++],te[p++]=Y[B++],H-=3;H&&(te[p++]=Y[B++],1<H&&(te[p++]=Y[B++]))}else{for(B=p-q;te[p++]=te[B++],te[p++]=te[B++],te[p++]=te[B++],2<(H-=3););H&&(te[p++]=te[B++],1<H&&(te[p++]=te[B++]))}break}}break}}while(l<c&&p<d);l-=H=M>>3,S&=(1<<(M-=H<<3))-1,s.next_in=l,s.next_out=p,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=p<d?d-p+257:257-(p-d),a.hold=S,a.bits=M}},{}],49:[function(t,r,i){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),p=1,m=2,d=0,v=-2,_=1,y=852,x=592;function w(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(B){var Y;return B&&B.state?(Y=B.state,B.total_in=B.total_out=Y.total=0,B.msg="",Y.wrap&&(B.adler=1&Y.wrap),Y.mode=_,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new s.Buf32(y),Y.distcode=Y.distdyn=new s.Buf32(x),Y.sane=1,Y.back=-1,d):v}function T(B){var Y;return B&&B.state?((Y=B.state).wsize=0,Y.whave=0,Y.wnext=0,M(B)):v}function A(B,Y){var I,te;return B&&B.state?(te=B.state,Y<0?(I=0,Y=-Y):(I=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?v:(te.window!==null&&te.wbits!==Y&&(te.window=null),te.wrap=I,te.wbits=Y,T(B))):v}function L(B,Y){var I,te;return B?(te=new S,(B.state=te).window=null,(I=A(B,Y))!==d&&(B.state=null),I):v}var z,C,F=!0;function H(B){if(F){var Y;for(z=new s.Buf32(512),C=new s.Buf32(32),Y=0;Y<144;)B.lens[Y++]=8;for(;Y<256;)B.lens[Y++]=9;for(;Y<280;)B.lens[Y++]=7;for(;Y<288;)B.lens[Y++]=8;for(c(p,B.lens,0,288,z,0,B.work,{bits:9}),Y=0;Y<32;)B.lens[Y++]=5;c(m,B.lens,0,32,C,0,B.work,{bits:5}),F=!1}B.lencode=z,B.lenbits=9,B.distcode=C,B.distbits=5}function q(B,Y,I,te){var ce,le=B.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new s.Buf8(le.wsize)),te>=le.wsize?(s.arraySet(le.window,Y,I-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(te<(ce=le.wsize-le.wnext)&&(ce=te),s.arraySet(le.window,Y,I-te,ce,le.wnext),(te-=ce)?(s.arraySet(le.window,Y,I-te,te,0),le.wnext=te,le.whave=le.wsize):(le.wnext+=ce,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=ce))),0}i.inflateReset=T,i.inflateReset2=A,i.inflateResetKeep=M,i.inflateInit=function(B){return L(B,15)},i.inflateInit2=L,i.inflate=function(B,Y){var I,te,ce,le,ae,ie,ue,j,K,we,Re,Pe,ke,bt,rt,ut,it,Ct,Xe,$e,O,Te,ye,ne,J=0,de=new s.Buf8(4),We=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return v;(I=B.state).mode===12&&(I.mode=13),ae=B.next_out,ce=B.output,ue=B.avail_out,le=B.next_in,te=B.input,ie=B.avail_in,j=I.hold,K=I.bits,we=ie,Re=ue,Te=d;e:for(;;)switch(I.mode){case _:if(I.wrap===0){I.mode=13;break}for(;K<16;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(2&I.wrap&&j===35615){de[I.check=0]=255&j,de[1]=j>>>8&255,I.check=a(I.check,de,2,0),K=j=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&j)<<8)+(j>>8))%31){B.msg="incorrect header check",I.mode=30;break}if((15&j)!=8){B.msg="unknown compression method",I.mode=30;break}if(K-=4,O=8+(15&(j>>>=4)),I.wbits===0)I.wbits=O;else if(O>I.wbits){B.msg="invalid window size",I.mode=30;break}I.dmax=1<<O,B.adler=I.check=1,I.mode=512&j?10:12,K=j=0;break;case 2:for(;K<16;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(I.flags=j,(255&I.flags)!=8){B.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){B.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=j>>8&1),512&I.flags&&(de[0]=255&j,de[1]=j>>>8&255,I.check=a(I.check,de,2,0)),K=j=0,I.mode=3;case 3:for(;K<32;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}I.head&&(I.head.time=j),512&I.flags&&(de[0]=255&j,de[1]=j>>>8&255,de[2]=j>>>16&255,de[3]=j>>>24&255,I.check=a(I.check,de,4,0)),K=j=0,I.mode=4;case 4:for(;K<16;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}I.head&&(I.head.xflags=255&j,I.head.os=j>>8),512&I.flags&&(de[0]=255&j,de[1]=j>>>8&255,I.check=a(I.check,de,2,0)),K=j=0,I.mode=5;case 5:if(1024&I.flags){for(;K<16;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}I.length=j,I.head&&(I.head.extra_len=j),512&I.flags&&(de[0]=255&j,de[1]=j>>>8&255,I.check=a(I.check,de,2,0)),K=j=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(ie<(Pe=I.length)&&(Pe=ie),Pe&&(I.head&&(O=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),s.arraySet(I.head.extra,te,le,Pe,O)),512&I.flags&&(I.check=a(I.check,te,Pe,le)),ie-=Pe,le+=Pe,I.length-=Pe),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(ie===0)break e;for(Pe=0;O=te[le+Pe++],I.head&&O&&I.length<65536&&(I.head.name+=String.fromCharCode(O)),O&&Pe<ie;);if(512&I.flags&&(I.check=a(I.check,te,Pe,le)),ie-=Pe,le+=Pe,O)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(ie===0)break e;for(Pe=0;O=te[le+Pe++],I.head&&O&&I.length<65536&&(I.head.comment+=String.fromCharCode(O)),O&&Pe<ie;);if(512&I.flags&&(I.check=a(I.check,te,Pe,le)),ie-=Pe,le+=Pe,O)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;K<16;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(j!==(65535&I.check)){B.msg="header crc mismatch",I.mode=30;break}K=j=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),B.adler=I.check=0,I.mode=12;break;case 10:for(;K<32;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}B.adler=I.check=w(j),K=j=0,I.mode=11;case 11:if(I.havedict===0)return B.next_out=ae,B.avail_out=ue,B.next_in=le,B.avail_in=ie,I.hold=j,I.bits=K,2;B.adler=I.check=1,I.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(I.last){j>>>=7&K,K-=7&K,I.mode=27;break}for(;K<3;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}switch(I.last=1&j,K-=1,3&(j>>>=1)){case 0:I.mode=14;break;case 1:if(H(I),I.mode=20,Y!==6)break;j>>>=2,K-=2;break e;case 2:I.mode=17;break;case 3:B.msg="invalid block type",I.mode=30}j>>>=2,K-=2;break;case 14:for(j>>>=7&K,K-=7&K;K<32;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if((65535&j)!=(j>>>16^65535)){B.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&j,K=j=0,I.mode=15,Y===6)break e;case 15:I.mode=16;case 16:if(Pe=I.length){if(ie<Pe&&(Pe=ie),ue<Pe&&(Pe=ue),Pe===0)break e;s.arraySet(ce,te,le,Pe,ae),ie-=Pe,le+=Pe,ue-=Pe,ae+=Pe,I.length-=Pe;break}I.mode=12;break;case 17:for(;K<14;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(I.nlen=257+(31&j),j>>>=5,K-=5,I.ndist=1+(31&j),j>>>=5,K-=5,I.ncode=4+(15&j),j>>>=4,K-=4,286<I.nlen||30<I.ndist){B.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;K<3;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}I.lens[We[I.have++]]=7&j,j>>>=3,K-=3}for(;I.have<19;)I.lens[We[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,ye={bits:I.lenbits},Te=c(0,I.lens,0,19,I.lencode,0,I.work,ye),I.lenbits=ye.bits,Te){B.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;ut=(J=I.lencode[j&(1<<I.lenbits)-1])>>>16&255,it=65535&J,!((rt=J>>>24)<=K);){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(it<16)j>>>=rt,K-=rt,I.lens[I.have++]=it;else{if(it===16){for(ne=rt+2;K<ne;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(j>>>=rt,K-=rt,I.have===0){B.msg="invalid bit length repeat",I.mode=30;break}O=I.lens[I.have-1],Pe=3+(3&j),j>>>=2,K-=2}else if(it===17){for(ne=rt+3;K<ne;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}K-=rt,O=0,Pe=3+(7&(j>>>=rt)),j>>>=3,K-=3}else{for(ne=rt+7;K<ne;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}K-=rt,O=0,Pe=11+(127&(j>>>=rt)),j>>>=7,K-=7}if(I.have+Pe>I.nlen+I.ndist){B.msg="invalid bit length repeat",I.mode=30;break}for(;Pe--;)I.lens[I.have++]=O}}if(I.mode===30)break;if(I.lens[256]===0){B.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,ye={bits:I.lenbits},Te=c(p,I.lens,0,I.nlen,I.lencode,0,I.work,ye),I.lenbits=ye.bits,Te){B.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,ye={bits:I.distbits},Te=c(m,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,ye),I.distbits=ye.bits,Te){B.msg="invalid distances set",I.mode=30;break}if(I.mode=20,Y===6)break e;case 20:I.mode=21;case 21:if(6<=ie&&258<=ue){B.next_out=ae,B.avail_out=ue,B.next_in=le,B.avail_in=ie,I.hold=j,I.bits=K,l(B,Re),ae=B.next_out,ce=B.output,ue=B.avail_out,le=B.next_in,te=B.input,ie=B.avail_in,j=I.hold,K=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;ut=(J=I.lencode[j&(1<<I.lenbits)-1])>>>16&255,it=65535&J,!((rt=J>>>24)<=K);){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(ut&&(240&ut)==0){for(Ct=rt,Xe=ut,$e=it;ut=(J=I.lencode[$e+((j&(1<<Ct+Xe)-1)>>Ct)])>>>16&255,it=65535&J,!(Ct+(rt=J>>>24)<=K);){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}j>>>=Ct,K-=Ct,I.back+=Ct}if(j>>>=rt,K-=rt,I.back+=rt,I.length=it,ut===0){I.mode=26;break}if(32&ut){I.back=-1,I.mode=12;break}if(64&ut){B.msg="invalid literal/length code",I.mode=30;break}I.extra=15&ut,I.mode=22;case 22:if(I.extra){for(ne=I.extra;K<ne;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}I.length+=j&(1<<I.extra)-1,j>>>=I.extra,K-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;ut=(J=I.distcode[j&(1<<I.distbits)-1])>>>16&255,it=65535&J,!((rt=J>>>24)<=K);){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if((240&ut)==0){for(Ct=rt,Xe=ut,$e=it;ut=(J=I.distcode[$e+((j&(1<<Ct+Xe)-1)>>Ct)])>>>16&255,it=65535&J,!(Ct+(rt=J>>>24)<=K);){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}j>>>=Ct,K-=Ct,I.back+=Ct}if(j>>>=rt,K-=rt,I.back+=rt,64&ut){B.msg="invalid distance code",I.mode=30;break}I.offset=it,I.extra=15&ut,I.mode=24;case 24:if(I.extra){for(ne=I.extra;K<ne;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}I.offset+=j&(1<<I.extra)-1,j>>>=I.extra,K-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){B.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(ue===0)break e;if(Pe=Re-ue,I.offset>Pe){if((Pe=I.offset-Pe)>I.whave&&I.sane){B.msg="invalid distance too far back",I.mode=30;break}ke=Pe>I.wnext?(Pe-=I.wnext,I.wsize-Pe):I.wnext-Pe,Pe>I.length&&(Pe=I.length),bt=I.window}else bt=ce,ke=ae-I.offset,Pe=I.length;for(ue<Pe&&(Pe=ue),ue-=Pe,I.length-=Pe;ce[ae++]=bt[ke++],--Pe;);I.length===0&&(I.mode=21);break;case 26:if(ue===0)break e;ce[ae++]=I.length,ue--,I.mode=21;break;case 27:if(I.wrap){for(;K<32;){if(ie===0)break e;ie--,j|=te[le++]<<K,K+=8}if(Re-=ue,B.total_out+=Re,I.total+=Re,Re&&(B.adler=I.check=I.flags?a(I.check,ce,Re,ae-Re):o(I.check,ce,Re,ae-Re)),Re=ue,(I.flags?j:w(j))!==I.check){B.msg="incorrect data check",I.mode=30;break}K=j=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;K<32;){if(ie===0)break e;ie--,j+=te[le++]<<K,K+=8}if(j!==(4294967295&I.total)){B.msg="incorrect length check",I.mode=30;break}K=j=0}I.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return v}return B.next_out=ae,B.avail_out=ue,B.next_in=le,B.avail_in=ie,I.hold=j,I.bits=K,(I.wsize||Re!==B.avail_out&&I.mode<30&&(I.mode<27||Y!==4))&&q(B,B.output,B.next_out,Re-B.avail_out)?(I.mode=31,-4):(we-=B.avail_in,Re-=B.avail_out,B.total_in+=we,B.total_out+=Re,I.total+=Re,I.wrap&&Re&&(B.adler=I.check=I.flags?a(I.check,ce,Re,B.next_out-Re):o(I.check,ce,Re,B.next_out-Re)),B.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(we==0&&Re===0||Y===4)&&Te===d&&(Te=-5),Te)},i.inflateEnd=function(B){if(!B||!B.state)return v;var Y=B.state;return Y.window&&(Y.window=null),B.state=null,d},i.inflateGetHeader=function(B,Y){var I;return B&&B.state?(2&(I=B.state).wrap)==0?v:((I.head=Y).done=!1,d):v},i.inflateSetDictionary=function(B,Y){var I,te=Y.length;return B&&B.state?(I=B.state).wrap!==0&&I.mode!==11?v:I.mode===11&&o(1,Y,te,0)!==I.check?-3:q(B,Y,te,te)?(I.mode=31,-4):(I.havedict=1,d):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,m,d,v,_,y,x,w){var S,M,T,A,L,z,C,F,H,q=w.bits,B=0,Y=0,I=0,te=0,ce=0,le=0,ae=0,ie=0,ue=0,j=0,K=null,we=0,Re=new s.Buf16(16),Pe=new s.Buf16(16),ke=null,bt=0;for(B=0;B<=15;B++)Re[B]=0;for(Y=0;Y<v;Y++)Re[m[d+Y]]++;for(ce=q,te=15;1<=te&&Re[te]===0;te--);if(te<ce&&(ce=te),te===0)return _[y++]=20971520,_[y++]=20971520,w.bits=1,0;for(I=1;I<te&&Re[I]===0;I++);for(ce<I&&(ce=I),B=ie=1;B<=15;B++)if(ie<<=1,(ie-=Re[B])<0)return-1;if(0<ie&&(p===0||te!==1))return-1;for(Pe[1]=0,B=1;B<15;B++)Pe[B+1]=Pe[B]+Re[B];for(Y=0;Y<v;Y++)m[d+Y]!==0&&(x[Pe[m[d+Y]]++]=Y);if(z=p===0?(K=ke=x,19):p===1?(K=o,we-=257,ke=a,bt-=257,256):(K=l,ke=c,-1),B=I,L=y,ae=Y=j=0,T=-1,A=(ue=1<<(le=ce))-1,p===1&&852<ue||p===2&&592<ue)return 1;for(;;){for(C=B-ae,H=x[Y]<z?(F=0,x[Y]):x[Y]>z?(F=ke[bt+x[Y]],K[we+x[Y]]):(F=96,0),S=1<<B-ae,I=M=1<<le;_[L+(j>>ae)+(M-=S)]=C<<24|F<<16|H|0,M!==0;);for(S=1<<B-1;j&S;)S>>=1;if(S!==0?(j&=S-1,j+=S):j=0,Y++,--Re[B]==0){if(B===te)break;B=m[d+x[Y]]}if(ce<B&&(j&A)!==T){for(ae===0&&(ae=ce),L+=I,ie=1<<(le=B-ae);le+ae<te&&!((ie-=Re[le+ae])<=0);)le++,ie<<=1;if(ue+=1<<le,p===1&&852<ue||p===2&&592<ue)return 1;_[T=j&A]=ce<<24|le<<16|L-y|0}}return j!==0&&(_[L+j]=B-ae<<24|64<<16|0),w.bits=ce,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),o=0,a=1;function l(J){for(var de=J.length;0<=--de;)J[de]=0}var c=0,p=29,m=256,d=m+1+p,v=30,_=19,y=2*d+1,x=15,w=16,S=7,M=256,T=16,A=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(d+2));l(q);var B=new Array(2*v);l(B);var Y=new Array(512);l(Y);var I=new Array(256);l(I);var te=new Array(p);l(te);var ce,le,ae,ie=new Array(v);function ue(J,de,We,Be,G){this.static_tree=J,this.extra_bits=de,this.extra_base=We,this.elems=Be,this.max_length=G,this.has_stree=J&&J.length}function j(J,de){this.dyn_tree=J,this.max_code=0,this.stat_desc=de}function K(J){return J<256?Y[J]:Y[256+(J>>>7)]}function we(J,de){J.pending_buf[J.pending++]=255&de,J.pending_buf[J.pending++]=de>>>8&255}function Re(J,de,We){J.bi_valid>w-We?(J.bi_buf|=de<<J.bi_valid&65535,we(J,J.bi_buf),J.bi_buf=de>>w-J.bi_valid,J.bi_valid+=We-w):(J.bi_buf|=de<<J.bi_valid&65535,J.bi_valid+=We)}function Pe(J,de,We){Re(J,We[2*de],We[2*de+1])}function ke(J,de){for(var We=0;We|=1&J,J>>>=1,We<<=1,0<--de;);return We>>>1}function bt(J,de,We){var Be,G,U=new Array(x+1),fe=0;for(Be=1;Be<=x;Be++)U[Be]=fe=fe+We[Be-1]<<1;for(G=0;G<=de;G++){var Ee=J[2*G+1];Ee!==0&&(J[2*G]=ke(U[Ee]++,Ee))}}function rt(J){var de;for(de=0;de<d;de++)J.dyn_ltree[2*de]=0;for(de=0;de<v;de++)J.dyn_dtree[2*de]=0;for(de=0;de<_;de++)J.bl_tree[2*de]=0;J.dyn_ltree[2*M]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function ut(J){8<J.bi_valid?we(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function it(J,de,We,Be){var G=2*de,U=2*We;return J[G]<J[U]||J[G]===J[U]&&Be[de]<=Be[We]}function Ct(J,de,We){for(var Be=J.heap[We],G=We<<1;G<=J.heap_len&&(G<J.heap_len&&it(de,J.heap[G+1],J.heap[G],J.depth)&&G++,!it(de,Be,J.heap[G],J.depth));)J.heap[We]=J.heap[G],We=G,G<<=1;J.heap[We]=Be}function Xe(J,de,We){var Be,G,U,fe,Ee=0;if(J.last_lit!==0)for(;Be=J.pending_buf[J.d_buf+2*Ee]<<8|J.pending_buf[J.d_buf+2*Ee+1],G=J.pending_buf[J.l_buf+Ee],Ee++,Be===0?Pe(J,G,de):(Pe(J,(U=I[G])+m+1,de),(fe=z[U])!==0&&Re(J,G-=te[U],fe),Pe(J,U=K(--Be),We),(fe=C[U])!==0&&Re(J,Be-=ie[U],fe)),Ee<J.last_lit;);Pe(J,M,de)}function $e(J,de){var We,Be,G,U=de.dyn_tree,fe=de.stat_desc.static_tree,Ee=de.stat_desc.has_stree,Ue=de.stat_desc.elems,Ke=-1;for(J.heap_len=0,J.heap_max=y,We=0;We<Ue;We++)U[2*We]!==0?(J.heap[++J.heap_len]=Ke=We,J.depth[We]=0):U[2*We+1]=0;for(;J.heap_len<2;)U[2*(G=J.heap[++J.heap_len]=Ke<2?++Ke:0)]=1,J.depth[G]=0,J.opt_len--,Ee&&(J.static_len-=fe[2*G+1]);for(de.max_code=Ke,We=J.heap_len>>1;1<=We;We--)Ct(J,U,We);for(G=Ue;We=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Ct(J,U,1),Be=J.heap[1],J.heap[--J.heap_max]=We,J.heap[--J.heap_max]=Be,U[2*G]=U[2*We]+U[2*Be],J.depth[G]=(J.depth[We]>=J.depth[Be]?J.depth[We]:J.depth[Be])+1,U[2*We+1]=U[2*Be+1]=G,J.heap[1]=G++,Ct(J,U,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(at,He){var Bt,Ft,_t,ge,dt,ht,Pt=He.dyn_tree,vt=He.max_code,Ut=He.stat_desc.static_tree,mt=He.stat_desc.has_stree,Gt=He.stat_desc.extra_bits,Rn=He.stat_desc.extra_base,rn=He.stat_desc.max_length,ni=0;for(ge=0;ge<=x;ge++)at.bl_count[ge]=0;for(Pt[2*at.heap[at.heap_max]+1]=0,Bt=at.heap_max+1;Bt<y;Bt++)rn<(ge=Pt[2*Pt[2*(Ft=at.heap[Bt])+1]+1]+1)&&(ge=rn,ni++),Pt[2*Ft+1]=ge,vt<Ft||(at.bl_count[ge]++,dt=0,Rn<=Ft&&(dt=Gt[Ft-Rn]),ht=Pt[2*Ft],at.opt_len+=ht*(ge+dt),mt&&(at.static_len+=ht*(Ut[2*Ft+1]+dt)));if(ni!==0){do{for(ge=rn-1;at.bl_count[ge]===0;)ge--;at.bl_count[ge]--,at.bl_count[ge+1]+=2,at.bl_count[rn]--,ni-=2}while(0<ni);for(ge=rn;ge!==0;ge--)for(Ft=at.bl_count[ge];Ft!==0;)vt<(_t=at.heap[--Bt])||(Pt[2*_t+1]!==ge&&(at.opt_len+=(ge-Pt[2*_t+1])*Pt[2*_t],Pt[2*_t+1]=ge),Ft--)}}(J,de),bt(U,Ke,J.bl_count)}function O(J,de,We){var Be,G,U=-1,fe=de[1],Ee=0,Ue=7,Ke=4;for(fe===0&&(Ue=138,Ke=3),de[2*(We+1)+1]=65535,Be=0;Be<=We;Be++)G=fe,fe=de[2*(Be+1)+1],++Ee<Ue&&G===fe||(Ee<Ke?J.bl_tree[2*G]+=Ee:G!==0?(G!==U&&J.bl_tree[2*G]++,J.bl_tree[2*T]++):Ee<=10?J.bl_tree[2*A]++:J.bl_tree[2*L]++,U=G,Ke=(Ee=0)===fe?(Ue=138,3):G===fe?(Ue=6,3):(Ue=7,4))}function Te(J,de,We){var Be,G,U=-1,fe=de[1],Ee=0,Ue=7,Ke=4;for(fe===0&&(Ue=138,Ke=3),Be=0;Be<=We;Be++)if(G=fe,fe=de[2*(Be+1)+1],!(++Ee<Ue&&G===fe)){if(Ee<Ke)for(;Pe(J,G,J.bl_tree),--Ee!=0;);else G!==0?(G!==U&&(Pe(J,G,J.bl_tree),Ee--),Pe(J,T,J.bl_tree),Re(J,Ee-3,2)):Ee<=10?(Pe(J,A,J.bl_tree),Re(J,Ee-3,3)):(Pe(J,L,J.bl_tree),Re(J,Ee-11,7));U=G,Ke=(Ee=0)===fe?(Ue=138,3):G===fe?(Ue=6,3):(Ue=7,4)}}l(ie);var ye=!1;function ne(J,de,We,Be){Re(J,(c<<1)+(Be?1:0),3),function(G,U,fe,Ee){ut(G),Ee&&(we(G,fe),we(G,~fe)),s.arraySet(G.pending_buf,G.window,U,fe,G.pending),G.pending+=fe}(J,de,We,!0)}i._tr_init=function(J){ye||(function(){var de,We,Be,G,U,fe=new Array(x+1);for(G=Be=0;G<p-1;G++)for(te[G]=Be,de=0;de<1<<z[G];de++)I[Be++]=G;for(I[Be-1]=G,G=U=0;G<16;G++)for(ie[G]=U,de=0;de<1<<C[G];de++)Y[U++]=G;for(U>>=7;G<v;G++)for(ie[G]=U<<7,de=0;de<1<<C[G]-7;de++)Y[256+U++]=G;for(We=0;We<=x;We++)fe[We]=0;for(de=0;de<=143;)q[2*de+1]=8,de++,fe[8]++;for(;de<=255;)q[2*de+1]=9,de++,fe[9]++;for(;de<=279;)q[2*de+1]=7,de++,fe[7]++;for(;de<=287;)q[2*de+1]=8,de++,fe[8]++;for(bt(q,d+1,fe),de=0;de<v;de++)B[2*de+1]=5,B[2*de]=ke(de,5);ce=new ue(q,z,m+1,d,x),le=new ue(B,C,0,v,x),ae=new ue(new Array(0),F,0,_,S)}(),ye=!0),J.l_desc=new j(J.dyn_ltree,ce),J.d_desc=new j(J.dyn_dtree,le),J.bl_desc=new j(J.bl_tree,ae),J.bi_buf=0,J.bi_valid=0,rt(J)},i._tr_stored_block=ne,i._tr_flush_block=function(J,de,We,Be){var G,U,fe=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(Ee){var Ue,Ke=4093624447;for(Ue=0;Ue<=31;Ue++,Ke>>>=1)if(1&Ke&&Ee.dyn_ltree[2*Ue]!==0)return o;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return a;for(Ue=32;Ue<m;Ue++)if(Ee.dyn_ltree[2*Ue]!==0)return a;return o}(J)),$e(J,J.l_desc),$e(J,J.d_desc),fe=function(Ee){var Ue;for(O(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),O(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),$e(Ee,Ee.bl_desc),Ue=_-1;3<=Ue&&Ee.bl_tree[2*H[Ue]+1]===0;Ue--);return Ee.opt_len+=3*(Ue+1)+5+5+4,Ue}(J),G=J.opt_len+3+7>>>3,(U=J.static_len+3+7>>>3)<=G&&(G=U)):G=U=We+5,We+4<=G&&de!==-1?ne(J,de,We,Be):J.strategy===4||U===G?(Re(J,2+(Be?1:0),3),Xe(J,q,B)):(Re(J,4+(Be?1:0),3),function(Ee,Ue,Ke,at){var He;for(Re(Ee,Ue-257,5),Re(Ee,Ke-1,5),Re(Ee,at-4,4),He=0;He<at;He++)Re(Ee,Ee.bl_tree[2*H[He]+1],3);Te(Ee,Ee.dyn_ltree,Ue-1),Te(Ee,Ee.dyn_dtree,Ke-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,fe+1),Xe(J,J.dyn_ltree,J.dyn_dtree)),rt(J),Be&&ut(J)},i._tr_tally=function(J,de,We){return J.pending_buf[J.d_buf+2*J.last_lit]=de>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&de,J.pending_buf[J.l_buf+J.last_lit]=255&We,J.last_lit++,de===0?J.dyn_ltree[2*We]++:(J.matches++,de--,J.dyn_ltree[2*(I[We]+m+1)]++,J.dyn_dtree[2*K(de)]++),J.last_lit===J.lit_bufsize-1},i._tr_align=function(J){Re(J,2,3),Pe(J,M,q),function(de){de.bi_valid===16?(we(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,p,m,d=1,v={},_=!1,y=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,l={}.toString.call(o.process)==="[object process]"?function(T){process.nextTick(function(){S(T)})}:function(){if(o.postMessage&&!o.importScripts){var T=!0,A=o.onmessage;return o.onmessage=function(){T=!1},o.postMessage("","*"),o.onmessage=A,T}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",M,!1):o.attachEvent("onmessage",M),function(T){o.postMessage(m+T,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(T){S(T.data)},function(T){p.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(T){var A=y.createElement("script");A.onreadystatechange=function(){S(T),A.onreadystatechange=null,c.removeChild(A),A=null},c.appendChild(A)}):function(T){setTimeout(S,0,T)},x.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),L=0;L<A.length;L++)A[L]=arguments[L+1];var z={callback:T,args:A};return v[d]=z,l(d),d++},x.clearImmediate=w}function w(T){delete v[T]}function S(T){if(_)setTimeout(S,0,T);else{var A=v[T];if(A){_=!0;try{(function(L){var z=L.callback,C=L.args;switch(C.length){case 0:z();break;case 1:z(C[0]);break;case 2:z(C[0],C[1]);break;case 3:z(C[0],C[1],C[2]);break;default:z.apply(a,C)}})(A)}finally{w(T),_=!1}}}}function M(T){T.source===o&&typeof T.data=="string"&&T.data.indexOf(m)===0&&S(+T.data.slice(m.length))}})(typeof self=="undefined"?s===void 0?this:s:self)}).call(this,typeof cl!="undefined"?cl:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(x4);var FJ=x4.exports;const NJ="3.2.10",BJ={id:"zip",module:"zip",name:"Zip Archive",version:NJ,extensions:["zip"],mimeTypes:["application/zip"],category:"archive",tests:["PK"],options:{},parse:UJ};async function UJ(n,e={}){const t=[],r={};try{const i=new FJ;return(await i.loadAsync(n,e)).forEach((o,a)=>{const l=a.name,c=HJ(i,l,e).then(p=>{r[o]=p});t.push(c)}),await Promise.all(t),r}catch(i){throw e.log.error("Unable to read zip archive: ".concat(i)),i}}async function HJ(n,e,t={}){try{return await n.file(e).async(t.dataType||"arraybuffer")}catch(r){return t.log.error("Unable to read ".concat(e," from zip archive: ").concat(r)),r}}function kg(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{c(r.next(p))}catch(m){o(m)}}function l(p){try{c(r.throw(p))}catch(m){o(m)}}function c(p){p.done?s(p.value):i(p.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Dg(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(p){return l([c,p])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(p){c=[6,p],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function WJ(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function VJ(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(WJ(arguments[e]));return n}const GJ=new TextDecoder("utf-8"),$J=n=>GJ.decode(n),jJ=new TextEncoder,ST=n=>jJ.encode(n),[Jae,w4]=(()=>{const n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})(),[b4,Qae]=(()=>{const n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})(),[ET,ele]=(()=>{const n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})(),gd=n=>typeof n=="function",S4=n=>n!=null&&Object(n)===n,qJ=n=>S4(n)&&"done"in n&&"value"in n,YJ=n=>S4(n)&&gd(n.clear)&&gd(n.bytes)&&gd(n.position)&&gd(n.setPosition)&&gd(n.capacity)&&gd(n.getBufferIdentifier)&&gd(n.createLong),XJ=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function E4(n,e,t=0,r=e.byteLength){const i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}function zs(n,e){let t=qJ(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=ST(t)),t instanceof ArrayBuffer?new n(t):t instanceof XJ?new n(t):YJ(t)?zs(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}const y0=n=>zs(Int32Array,n),Ei=n=>zs(Uint8Array,n);function ZJ(n,e){let t=0;const r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}var BP;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(BP||(BP={}));var Ac;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(Ac||(Ac={}));var $s;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})($s||($s={}));var dh;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(dh||(dh={}));var cr;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(cr||(cr={}));var tp;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(tp||(tp={}));var UP;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(UP||(UP={}));var De;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(De||(De={}));var cc;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(cc||(cc={}));const KJ=void 0;function nh(n){if(n===null)return"null";if(n===KJ)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>nh(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}const JJ=Symbol.for("isArrowBigNum");function bl(n,...e){return e.length===0?Object.setPrototypeOf(zs(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}bl.prototype[JJ]=!0;bl.prototype.toJSON=function(){return`"${Fd(this)}"`};bl.prototype.valueOf=function(){return M4(this)};bl.prototype.toString=function(){return Fd(this)};bl.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return M4(this);case"string":return Fd(this);case"default":return YE(this)}return Fd(this)};function Vm(...n){return bl.apply(this,n)}function Gm(...n){return bl.apply(this,n)}function Pv(...n){return bl.apply(this,n)}Object.setPrototypeOf(Vm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Gm.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Pv.prototype,Object.create(Uint32Array.prototype));Object.assign(Vm.prototype,bl.prototype,{constructor:Vm,signed:!0,TypedArray:Int32Array,BigIntArray:b4});Object.assign(Gm.prototype,bl.prototype,{constructor:Gm,signed:!1,TypedArray:Uint32Array,BigIntArray:ET});Object.assign(Pv.prototype,bl.prototype,{constructor:Pv,signed:!0,TypedArray:Uint32Array,BigIntArray:ET});function M4(n){const{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new ET(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const c of s)a+=~c*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const c of s)a+=c*(BigInt(1)<<BigInt(32)*l++);return a}let Fd,YE;w4?(YE=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:Xb(n),Fd=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:Xb(n)):(Fd=Xb,YE=Fd);function Xb(n){let e="";const t=new Uint32Array(2);let r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}class MT{static new(e,t){switch(t){case!0:return new Vm(e);case!1:return new Gm(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case b4:return new Vm(e)}return e.byteLength===16?new Pv(e):new Gm(e)}static signed(e){return new Vm(e)}static unsigned(e){return new Gm(e)}static decimal(e){return new Pv(e)}constructor(e,t){return MT.new(e,t)}}var T4,A4,C4,R4,P4,I4,L4,k4,D4,O4,z4,F4,N4,B4,U4,H4,W4,V4,G4;class Hn{static isNull(e){return(e==null?void 0:e.typeId)===De.Null}static isInt(e){return(e==null?void 0:e.typeId)===De.Int}static isFloat(e){return(e==null?void 0:e.typeId)===De.Float}static isBinary(e){return(e==null?void 0:e.typeId)===De.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===De.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===De.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===De.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===De.Date}static isTime(e){return(e==null?void 0:e.typeId)===De.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===De.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===De.Interval}static isList(e){return(e==null?void 0:e.typeId)===De.List}static isStruct(e){return(e==null?void 0:e.typeId)===De.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===De.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===De.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===De.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===De.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===De.Dictionary}static isDenseUnion(e){return Hn.isUnion(e)&&e.mode===Ac.Dense}static isSparseUnion(e){return Hn.isUnion(e)&&e.mode===Ac.Sparse}get typeId(){return De.NONE}}T4=Symbol.toStringTag;Hn[T4]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(Hn.prototype);class Iv extends Hn{toString(){return"Null"}get typeId(){return De.Null}}A4=Symbol.toStringTag;Iv[A4]=(n=>n[Symbol.toStringTag]="Null")(Iv.prototype);class _l extends Hn{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return De.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}C4=Symbol.toStringTag;_l[C4]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(_l.prototype);class $4 extends _l{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class j4 extends _l{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class TT extends _l{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class AT extends _l{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class q4 extends _l{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class Y4 extends _l{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class X4 extends _l{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class Z4 extends _l{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty($4.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(j4.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(TT.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(AT.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(q4.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Y4.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(X4.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Z4.prototype,"ArrayType",{value:BigUint64Array});class Lv extends Hn{constructor(e){super(),this.precision=e}get typeId(){return De.Float}get ArrayType(){switch(this.precision){case $s.HALF:return Uint16Array;case $s.SINGLE:return Float32Array;case $s.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}R4=Symbol.toStringTag;Lv[R4]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(Lv.prototype);class K4 extends Lv{constructor(){super($s.SINGLE)}}class CT extends Lv{constructor(){super($s.DOUBLE)}}Object.defineProperty(K4.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(CT.prototype,"ArrayType",{value:Float64Array});class HP extends Hn{constructor(){super()}get typeId(){return De.Binary}toString(){return"Binary"}}P4=Symbol.toStringTag;HP[P4]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(HP.prototype);class XE extends Hn{constructor(){super()}get typeId(){return De.Utf8}toString(){return"Utf8"}}I4=Symbol.toStringTag;XE[I4]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(XE.prototype);class ZE extends Hn{constructor(){super()}get typeId(){return De.Bool}toString(){return"Bool"}}L4=Symbol.toStringTag;ZE[L4]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(ZE.prototype);class WP extends Hn{constructor(e,t,r=128){super(),this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return De.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}k4=Symbol.toStringTag;WP[k4]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(WP.prototype);class KE extends Hn{constructor(e){super(),this.unit=e}get typeId(){return De.Date}toString(){return`Date${(this.unit+1)*32}<${dh[this.unit]}>`}}D4=Symbol.toStringTag;KE[D4]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(KE.prototype);class QJ extends KE{constructor(){super(dh.MILLISECOND)}}class JE extends Hn{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return De.Time}toString(){return`Time${this.bitWidth}<${cr[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}O4=Symbol.toStringTag;JE[O4]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(JE.prototype);class VP extends Hn{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return De.Timestamp}toString(){return`Timestamp<${cr[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}z4=Symbol.toStringTag;VP[z4]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(VP.prototype);class GP extends Hn{constructor(e){super(),this.unit=e}get typeId(){return De.Interval}toString(){return`Interval<${tp[this.unit]}>`}}F4=Symbol.toStringTag;GP[F4]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(GP.prototype);class W1 extends Hn{constructor(e){super(),this.children=[e]}get typeId(){return De.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}N4=Symbol.toStringTag;W1[N4]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(W1.prototype);class ca extends Hn{constructor(e){super(),this.children=e}get typeId(){return De.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}B4=Symbol.toStringTag;ca[B4]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(ca.prototype);class QE extends Hn{constructor(e,t,r){super(),this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return De.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}U4=Symbol.toStringTag;QE[U4]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(QE.prototype);class $P extends Hn{constructor(e){super(),this.byteWidth=e}get typeId(){return De.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}H4=Symbol.toStringTag;$P[H4]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))($P.prototype);class e2 extends Hn{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return De.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}W4=Symbol.toStringTag;e2[W4]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(e2.prototype);class t2 extends Hn{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return De.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}V4=Symbol.toStringTag;t2[V4]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(t2.prototype);const eQ=(n=>()=>++n)(-1);class V1 extends Hn{constructor(e,t,r,i){super(),this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?eQ():typeof r=="number"?r:r.low}get typeId(){return De.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}G4=Symbol.toStringTag;V1[G4]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(V1.prototype);function Ql(n){const e=n;switch(n.typeId){case De.Decimal:return n.bitWidth/32;case De.Timestamp:return 2;case De.Date:return 1+e.unit;case De.Interval:return 1+e.unit;case De.FixedSizeList:return e.listSize;case De.FixedSizeBinary:return e.byteWidth;default:return 1}}class Xn{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return tQ(this,e,t)}getVisitFnByTypeId(e,t=!0){return ym(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}}function tQ(n,e,t=!0){return typeof e=="number"?ym(n,e,t):typeof e=="string"&&e in De?ym(n,De[e],t):e&&e instanceof Hn?ym(n,jP(e),t):(e==null?void 0:e.type)&&e.type instanceof Hn?ym(n,jP(e.type),t):ym(n,De.NONE,t)}function ym(n,e,t=!0){let r=null;switch(e){case De.Null:r=n.visitNull;break;case De.Bool:r=n.visitBool;break;case De.Int:r=n.visitInt;break;case De.Int8:r=n.visitInt8||n.visitInt;break;case De.Int16:r=n.visitInt16||n.visitInt;break;case De.Int32:r=n.visitInt32||n.visitInt;break;case De.Int64:r=n.visitInt64||n.visitInt;break;case De.Uint8:r=n.visitUint8||n.visitInt;break;case De.Uint16:r=n.visitUint16||n.visitInt;break;case De.Uint32:r=n.visitUint32||n.visitInt;break;case De.Uint64:r=n.visitUint64||n.visitInt;break;case De.Float:r=n.visitFloat;break;case De.Float16:r=n.visitFloat16||n.visitFloat;break;case De.Float32:r=n.visitFloat32||n.visitFloat;break;case De.Float64:r=n.visitFloat64||n.visitFloat;break;case De.Utf8:r=n.visitUtf8;break;case De.Binary:r=n.visitBinary;break;case De.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case De.Date:r=n.visitDate;break;case De.DateDay:r=n.visitDateDay||n.visitDate;break;case De.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case De.Timestamp:r=n.visitTimestamp;break;case De.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case De.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case De.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case De.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case De.Time:r=n.visitTime;break;case De.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case De.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case De.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case De.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case De.Decimal:r=n.visitDecimal;break;case De.List:r=n.visitList;break;case De.Struct:r=n.visitStruct;break;case De.Union:r=n.visitUnion;break;case De.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case De.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case De.Dictionary:r=n.visitDictionary;break;case De.Interval:r=n.visitInterval;break;case De.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case De.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case De.FixedSizeList:r=n.visitFixedSizeList;break;case De.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${De[e]}'`)}function jP(n){switch(n.typeId){case De.Null:return De.Null;case De.Int:{const{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?De.Int8:De.Uint8;case 16:return t?De.Int16:De.Uint16;case 32:return t?De.Int32:De.Uint32;case 64:return t?De.Int64:De.Uint64}return De.Int}case De.Float:switch(n.precision){case $s.HALF:return De.Float16;case $s.SINGLE:return De.Float32;case $s.DOUBLE:return De.Float64}return De.Float;case De.Binary:return De.Binary;case De.Utf8:return De.Utf8;case De.Bool:return De.Bool;case De.Decimal:return De.Decimal;case De.Time:switch(n.unit){case cr.SECOND:return De.TimeSecond;case cr.MILLISECOND:return De.TimeMillisecond;case cr.MICROSECOND:return De.TimeMicrosecond;case cr.NANOSECOND:return De.TimeNanosecond}return De.Time;case De.Timestamp:switch(n.unit){case cr.SECOND:return De.TimestampSecond;case cr.MILLISECOND:return De.TimestampMillisecond;case cr.MICROSECOND:return De.TimestampMicrosecond;case cr.NANOSECOND:return De.TimestampNanosecond}return De.Timestamp;case De.Date:switch(n.unit){case dh.DAY:return De.DateDay;case dh.MILLISECOND:return De.DateMillisecond}return De.Date;case De.Interval:switch(n.unit){case tp.DAY_TIME:return De.IntervalDayTime;case tp.YEAR_MONTH:return De.IntervalYearMonth}return De.Interval;case De.Map:return De.Map;case De.List:return De.List;case De.Struct:return De.Struct;case De.Union:switch(n.mode){case Ac.Dense:return De.DenseUnion;case Ac.Sparse:return De.SparseUnion}return De.Union;case De.FixedSizeBinary:return De.FixedSizeBinary;case De.FixedSizeList:return De.FixedSizeList;case De.Dictionary:return De.Dictionary}throw new Error(`Unrecognized type '${De[n.typeId]}'`)}Xn.prototype.visitInt8=null;Xn.prototype.visitInt16=null;Xn.prototype.visitInt32=null;Xn.prototype.visitInt64=null;Xn.prototype.visitUint8=null;Xn.prototype.visitUint16=null;Xn.prototype.visitUint32=null;Xn.prototype.visitUint64=null;Xn.prototype.visitFloat16=null;Xn.prototype.visitFloat32=null;Xn.prototype.visitFloat64=null;Xn.prototype.visitDateDay=null;Xn.prototype.visitDateMillisecond=null;Xn.prototype.visitTimestampSecond=null;Xn.prototype.visitTimestampMillisecond=null;Xn.prototype.visitTimestampMicrosecond=null;Xn.prototype.visitTimestampNanosecond=null;Xn.prototype.visitTimeSecond=null;Xn.prototype.visitTimeMillisecond=null;Xn.prototype.visitTimeMicrosecond=null;Xn.prototype.visitTimeNanosecond=null;Xn.prototype.visitDenseUnion=null;Xn.prototype.visitSparseUnion=null;Xn.prototype.visitIntervalDayTime=null;Xn.prototype.visitIntervalYearMonth=null;const J4=new Float64Array(1),dm=new Uint32Array(J4.buffer);function Q4(n){const e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}function eF(n){if(n!==n)return 32256;J4[0]=n;const e=(dm[1]&2147483648)>>16&65535;let t=dm[1]&2146435072,r=0;return t>=1089470464?dm[0]>0?t=31744:(t=(t&2080374784)>>16,r=(dm[1]&1048575)>>10):t<=1056964608?(r=1048576+(dm[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(dm[1]&1048575)+512>>10),e|t|r&65535}class yn extends Xn{}function Sn(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}const nQ=(n,e,t)=>{n[e]=Math.trunc(t/864e5)},RT=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)},rQ=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)},iQ=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)},tF=(n,e,t,r)=>{if(t+1<e.length){const{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}},sQ=({offset:n,values:e},t,r)=>{const i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Dc=({values:n},e,t)=>{n[e]=t},PT=({values:n},e,t)=>{n[e]=t},nF=({values:n},e,t)=>{n[e]=eF(t)},oQ=(n,e,t)=>{switch(n.type.precision){case $s.HALF:return nF(n,e,t);case $s.SINGLE:case $s.DOUBLE:return PT(n,e,t)}},IT=({values:n},e,t)=>{nQ(n,e,t.valueOf())},LT=({values:n},e,t)=>{RT(n,e*2,t.valueOf())},rF=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)},aQ=({values:n,valueOffsets:e},t,r)=>tF(n,e,t,r),lQ=({values:n,valueOffsets:e},t,r)=>{tF(n,e,t,ST(r))},iF=(n,e,t)=>{n.type.unit===dh.DAY?IT(n,e,t):LT(n,e,t)},kT=({values:n},e,t)=>RT(n,e*2,t/1e3),DT=({values:n},e,t)=>RT(n,e*2,t),OT=({values:n},e,t)=>rQ(n,e*2,t),zT=({values:n},e,t)=>iQ(n,e*2,t),sF=(n,e,t)=>{switch(n.type.unit){case cr.SECOND:return kT(n,e,t);case cr.MILLISECOND:return DT(n,e,t);case cr.MICROSECOND:return OT(n,e,t);case cr.NANOSECOND:return zT(n,e,t)}},FT=({values:n},e,t)=>{n[e]=t},NT=({values:n},e,t)=>{n[e]=t},BT=({values:n},e,t)=>{n[e]=t},UT=({values:n},e,t)=>{n[e]=t},oF=(n,e,t)=>{switch(n.type.unit){case cr.SECOND:return FT(n,e,t);case cr.MILLISECOND:return NT(n,e,t);case cr.MICROSECOND:return BT(n,e,t);case cr.NANOSECOND:return UT(n,e,t)}},aF=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)},uQ=(n,e,t)=>{const r=n.children[0],i=n.valueOffsets,s=ya.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t.get(++o))},cQ=(n,e,t)=>{const r=n.children[0],{valueOffsets:i}=n,s=ya.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=t instanceof Map?t.entries():Object.entries(t);for(const c of l)if(s(r,o,c),++o>=a)break},fQ=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),hQ=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),dQ=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),pQ=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),mQ=(n,e,t)=>{const r=n.type.children.map(s=>ya.getVisitFn(s.type)),i=t instanceof Map?dQ(e,t):t instanceof fn?hQ(e,t):Array.isArray(t)?fQ(e,t):pQ(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},gQ=(n,e,t)=>{n.type.mode===Ac.Dense?lF(n,e,t):uF(n,e,t)},lF=(n,e,t)=>{const r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];ya.visit(i,n.valueOffsets[e],t)},uF=(n,e,t)=>{const r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];ya.visit(i,e,t)},vQ=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},cF=(n,e,t)=>{n.type.unit===tp.DAY_TIME?HT(n,e,t):WT(n,e,t)},HT=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)},WT=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12},yQ=(n,e,t)=>{const{stride:r}=n,i=n.children[0],s=ya.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};yn.prototype.visitBool=Sn(sQ);yn.prototype.visitInt=Sn(Dc);yn.prototype.visitInt8=Sn(Dc);yn.prototype.visitInt16=Sn(Dc);yn.prototype.visitInt32=Sn(Dc);yn.prototype.visitInt64=Sn(Dc);yn.prototype.visitUint8=Sn(Dc);yn.prototype.visitUint16=Sn(Dc);yn.prototype.visitUint32=Sn(Dc);yn.prototype.visitUint64=Sn(Dc);yn.prototype.visitFloat=Sn(oQ);yn.prototype.visitFloat16=Sn(nF);yn.prototype.visitFloat32=Sn(PT);yn.prototype.visitFloat64=Sn(PT);yn.prototype.visitUtf8=Sn(lQ);yn.prototype.visitBinary=Sn(aQ);yn.prototype.visitFixedSizeBinary=Sn(rF);yn.prototype.visitDate=Sn(iF);yn.prototype.visitDateDay=Sn(IT);yn.prototype.visitDateMillisecond=Sn(LT);yn.prototype.visitTimestamp=Sn(sF);yn.prototype.visitTimestampSecond=Sn(kT);yn.prototype.visitTimestampMillisecond=Sn(DT);yn.prototype.visitTimestampMicrosecond=Sn(OT);yn.prototype.visitTimestampNanosecond=Sn(zT);yn.prototype.visitTime=Sn(oF);yn.prototype.visitTimeSecond=Sn(FT);yn.prototype.visitTimeMillisecond=Sn(NT);yn.prototype.visitTimeMicrosecond=Sn(BT);yn.prototype.visitTimeNanosecond=Sn(UT);yn.prototype.visitDecimal=Sn(aF);yn.prototype.visitList=Sn(uQ);yn.prototype.visitStruct=Sn(mQ);yn.prototype.visitUnion=Sn(gQ);yn.prototype.visitDenseUnion=Sn(lF);yn.prototype.visitSparseUnion=Sn(uF);yn.prototype.visitDictionary=Sn(vQ);yn.prototype.visitInterval=Sn(cF);yn.prototype.visitIntervalDayTime=Sn(HT);yn.prototype.visitIntervalYearMonth=Sn(WT);yn.prototype.visitFixedSizeList=Sn(yQ);yn.prototype.visitMap=Sn(cQ);const ya=new yn,sl=Symbol.for("parent"),$m=Symbol.for("rowIndex");class VT{constructor(e,t){return this[sl]=e,this[$m]=t,new Proxy(this,new xQ)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[$m],t=this[sl],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=xo.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${nh(e)}: ${nh(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new _Q(this[sl],this[$m])}}class _Q{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,xo.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(VT.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[sl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[$m]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class xQ{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[sl].type.children.map(t=>t.name)}has(e,t){return e[sl].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[sl].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const r=e[sl].type.children.findIndex(i=>i.name===t);if(r!==-1){const i=xo.visit(e[sl].children[r],e[$m]);return Reflect.set(e,t,i),i}}set(e,t,r){const i=e[sl].type.children.findIndex(s=>s.name===t);return i!==-1?(ya.visit(e[sl].children[i],e[$m],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}class hn extends Xn{}function _n(n){return(e,t)=>e.getValid(t)?n(e,t):null}const wQ=(n,e)=>864e5*n[e],GT=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),bQ=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,SQ=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,fF=n=>new Date(n),EQ=(n,e)=>fF(wQ(n,e)),MQ=(n,e)=>fF(GT(n,e)),TQ=(n,e)=>null,hF=(n,e,t)=>{if(t+1>=e.length)return null;const r=e[t],i=e[t+1];return n.subarray(r,i)},AQ=({offset:n,values:e},t)=>{const r=n+t;return(e[r>>3]&1<<r%8)!==0},dF=({values:n},e)=>EQ(n,e),pF=({values:n},e)=>MQ(n,e*2),wh=({stride:n,values:e},t)=>e[n*t],CQ=({stride:n,values:e},t)=>Q4(e[n*t]),mF=({values:n},e)=>n[e],RQ=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),PQ=({values:n,valueOffsets:e},t)=>hF(n,e,t),IQ=({values:n,valueOffsets:e},t)=>{const r=hF(n,e,t);return r!==null?$J(r):null},LQ=({values:n},e)=>n[e],kQ=({type:n,values:e},t)=>n.precision!==$s.HALF?e[t]:Q4(e[t]),DQ=(n,e)=>n.type.unit===dh.DAY?dF(n,e):pF(n,e),gF=({values:n},e)=>1e3*GT(n,e*2),vF=({values:n},e)=>GT(n,e*2),yF=({values:n},e)=>bQ(n,e*2),_F=({values:n},e)=>SQ(n,e*2),OQ=(n,e)=>{switch(n.type.unit){case cr.SECOND:return gF(n,e);case cr.MILLISECOND:return vF(n,e);case cr.MICROSECOND:return yF(n,e);case cr.NANOSECOND:return _F(n,e)}},xF=({values:n},e)=>n[e],wF=({values:n},e)=>n[e],bF=({values:n},e)=>n[e],SF=({values:n},e)=>n[e],zQ=(n,e)=>{switch(n.type.unit){case cr.SECOND:return xF(n,e);case cr.MILLISECOND:return wF(n,e);case cr.MICROSECOND:return bF(n,e);case cr.NANOSECOND:return SF(n,e)}},FQ=({values:n,stride:e},t)=>MT.decimal(n.subarray(e*t,e*(t+1))),NQ=(n,e)=>{const{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,l=i[0].slice(s,o-s);return new fn([l])},BQ=(n,e)=>{const{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new $x(o.slice(i,s-i))},UQ=(n,e)=>new VT(n,e),HQ=(n,e)=>n.type.mode===Ac.Dense?EF(n,e):MF(n,e),EF=(n,e)=>{const t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return xo.visit(r,n.valueOffsets[e])},MF=(n,e)=>{const t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return xo.visit(r,e)},WQ=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},VQ=(n,e)=>n.type.unit===tp.DAY_TIME?TF(n,e):AF(n,e),TF=({values:n},e)=>n.subarray(2*e,2*(e+1)),AF=({values:n},e)=>{const t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},GQ=(n,e)=>{const{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new fn([s])};hn.prototype.visitNull=_n(TQ);hn.prototype.visitBool=_n(AQ);hn.prototype.visitInt=_n(LQ);hn.prototype.visitInt8=_n(wh);hn.prototype.visitInt16=_n(wh);hn.prototype.visitInt32=_n(wh);hn.prototype.visitInt64=_n(mF);hn.prototype.visitUint8=_n(wh);hn.prototype.visitUint16=_n(wh);hn.prototype.visitUint32=_n(wh);hn.prototype.visitUint64=_n(mF);hn.prototype.visitFloat=_n(kQ);hn.prototype.visitFloat16=_n(CQ);hn.prototype.visitFloat32=_n(wh);hn.prototype.visitFloat64=_n(wh);hn.prototype.visitUtf8=_n(IQ);hn.prototype.visitBinary=_n(PQ);hn.prototype.visitFixedSizeBinary=_n(RQ);hn.prototype.visitDate=_n(DQ);hn.prototype.visitDateDay=_n(dF);hn.prototype.visitDateMillisecond=_n(pF);hn.prototype.visitTimestamp=_n(OQ);hn.prototype.visitTimestampSecond=_n(gF);hn.prototype.visitTimestampMillisecond=_n(vF);hn.prototype.visitTimestampMicrosecond=_n(yF);hn.prototype.visitTimestampNanosecond=_n(_F);hn.prototype.visitTime=_n(zQ);hn.prototype.visitTimeSecond=_n(xF);hn.prototype.visitTimeMillisecond=_n(wF);hn.prototype.visitTimeMicrosecond=_n(bF);hn.prototype.visitTimeNanosecond=_n(SF);hn.prototype.visitDecimal=_n(FQ);hn.prototype.visitList=_n(NQ);hn.prototype.visitStruct=_n(UQ);hn.prototype.visitUnion=_n(HQ);hn.prototype.visitDenseUnion=_n(EF);hn.prototype.visitSparseUnion=_n(MF);hn.prototype.visitDictionary=_n(WQ);hn.prototype.visitInterval=_n(VQ);hn.prototype.visitIntervalDayTime=_n(TF);hn.prototype.visitIntervalYearMonth=_n(AF);hn.prototype.visitFixedSizeList=_n(GQ);hn.prototype.visitMap=_n(BQ);const xo=new hn,fl=Symbol.for("keys"),jm=Symbol.for("vals");class $x{constructor(e){return this[fl]=new fn([e.children[0]]).memoize(),this[jm]=e.children[1],new Proxy(this,new jQ)}[Symbol.iterator](){return new $Q(this[fl],this[jm])}get size(){return this[fl].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[fl],t=this[jm],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=xo.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${nh(e)}: ${nh(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class $Q{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),xo.visit(this.vals,e)]})}}class jQ{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[fl].toArray().map(String)}has(e,t){return e[fl].includes(t)}getOwnPropertyDescriptor(e,t){if(e[fl].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const r=e[fl].indexOf(t);if(r!==-1){const i=xo.visit(Reflect.get(e,jm),r);return Reflect.set(e,t,i),i}}set(e,t,r){const i=e[fl].indexOf(t);return i!==-1?(ya.visit(Reflect.get(e,jm),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}}Object.defineProperties($x.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[fl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[jm]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let qP;function CF(n,e,t,r){const{length:i=0}=n;let s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(qP=s,s=o,o=qP),o>i&&(o=i),r?r(n,s,o):[s,o]}const YP=n=>n!==n;function Og(n){if(typeof n!=="object"||n===null)return YP(n)?YP:t=>t===n;if(n instanceof Date){const t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?ZJ(n,t):!1:n instanceof Map?YQ(n):Array.isArray(n)?qQ(n):n instanceof fn?XQ(n):ZQ(n,!0)}function qQ(n){const e=[];for(let t=-1,r=n.length;++t<r;)e[t]=Og(n[t]);return jx(e)}function YQ(n){let e=-1;const t=[];for(const r of n.values())t[++e]=Og(r);return jx(t)}function XQ(n){const e=[];for(let t=-1,r=n.length;++t<r;)e[t]=Og(n.get(t));return jx(e)}function ZQ(n,e=!1){const t=Object.keys(n);if(!e&&t.length===0)return()=>!1;const r=[];for(let i=-1,s=t.length;++i<s;)r[i]=Og(n[t[i]]);return jx(r,t)}function jx(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return KQ(n,t);case Map:return XP(n,t,t.keys());case $x:case VT:case Object:case void 0:return XP(n,t,e||Object.keys(t))}return t instanceof fn?JQ(n,t):!1}}function KQ(n,e){const t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function JQ(n,e){const t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function XP(n,e,t){const r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=n.length;let l=s.next(),c=r.next(),p=i.next();for(;o<a&&!c.done&&!p.done&&!l.done&&!(c.value!==p.value||!n[o](l.value));++o,c=r.next(),p=i.next(),l=s.next());return o===a&&c.done&&p.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function RF(n,e,t,r){return(t&1<<r)!==0}function QQ(n,e,t,r){return(t&1<<r)>>r}function eee(n,e,t){const r=t.byteLength+7&-8;if(n>0||t.byteLength<r){const i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):tee(new $T(t,n,e,null,RF)).subarray(0,r)),i}return t}function tee(n){const e=[];let t=0,r=0,i=0;for(const o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class $T{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function n2(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(const o of new $T(n,e,t-e,n,QQ))s+=o;return s}const r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return n2(n,e,i)+n2(n,r,t)+nee(n,i>>3,r-i>>3)}function nee(n,e,t){let r=0,i=Math.trunc(e);const s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=Zb(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=Zb(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=Zb(s.getUint8(i)),i+=1;return r}function Zb(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const ree=-1;class ur{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof ur?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Ql(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=ree&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-n2(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){const t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new ur(e,t,r,i,s,o,this.dictionary)}slice(e,t){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===De.Null)return this.clone(this.type,0,e,0);const{length:t,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&-8))-1,r>0&&i.set(eee(this.offset,t,this.nullBitmap),0);const s=this.buffers;return s[cc.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s;const{buffers:o}=this;return(s=o[cc.TYPE])&&(o[cc.TYPE]=s.subarray(e,e+t)),(s=o[cc.OFFSET])&&(o[cc.OFFSET]=s.subarray(e,e+t+1))||(s=o[cc.DATA])&&(o[cc.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}}ur.prototype.children=Object.freeze([]);class V0 extends Xn{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new ur(t,r,i,0)}visitBool(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.data),s=Ei(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ur(t,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.data),s=Ei(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ur(t,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=Ei(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ur(t,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=Ei(e.nullBitmap),{length:o=i.reduce((l,{length:c})=>Math.max(l,c),0),nullCount:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=Ei(e.nullBitmap),o=zs(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;if(Hn.isSparseUnion(t))return new ur(t,r,a,l,[void 0,void 0,s,o],i);const c=y0(e.valueOffsets);return new ur(t,r,a,l,[c,void 0,s,o],i)}visitDictionary(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.indices.ArrayType,e.data),{["dictionary"]:o=new fn([new V0().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ur(t,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:t,["offset"]:r=0}=e,i=Ei(e.nullBitmap),s=zs(t.ArrayType,e.data),{["length"]:o=s.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:t,["offset"]:r=0,["child"]:i=new V0().visit({type:t.valueType})}=e,s=Ei(e.nullBitmap),{["length"]:o=i.length/Ql(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new ur(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:t,["offset"]:r=0,["child"]:i=new V0().visit({type:t.childType})}=e,s=Ei(e.nullBitmap),o=y0(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new ur(t,r,a,l,[o,void 0,s],[i])}}function Ir(n){return new V0().visit(n)}class ZP{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function PF(n){return n.reduce((e,t)=>e+t.nullCount,0)}function IF(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}function LF(n,e,t,r){const i=[];for(let s=-1,o=n.length;++s<o;){const a=n[s],l=e[s],{length:c}=a;if(l>=r)break;if(t>=l+c)continue;if(l>=t&&l+c<=r){i.push(a);continue}const p=Math.max(0,t-l),m=Math.min(r-l,c);i.push(a.slice(p,m-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}function jT(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}function qT(n,e){return n.getValid(e)}function qm(n){function e(t,r,i){return n(t[r],i)}return function(t){const r=this.data;return jT(r,this._offsets,t,e)}}function kF(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=jT(s,this._offsets,r,t);return e=void 0,o}}function DF(n){let e;function t(r,i,s){let o=s,a=0,l=0;for(let c=i-1,p=r.length;++c<p;){const m=r[c];if(~(a=n(m,e,o)))return l+a;o=0,l+=m.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?t(s,0,0):jT(s,this._offsets,i,t);return e=void 0,o}}class dn extends Xn{}function iee(n,e){return e===null&&n.length>0?0:-1}function see(n,e){const{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(const i of new $T(t,n.offset+(e||0),n.length,t,RF)){if(!i)return r;++r}return-1}function Cn(n,e,t){if(e===void 0)return-1;if(e===null)return see(n,t);const r=xo.getVisitFn(n),i=Og(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function OF(n,e,t){const r=xo.getVisitFn(n),i=Og(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}dn.prototype.visitNull=iee;dn.prototype.visitBool=Cn;dn.prototype.visitInt=Cn;dn.prototype.visitInt8=Cn;dn.prototype.visitInt16=Cn;dn.prototype.visitInt32=Cn;dn.prototype.visitInt64=Cn;dn.prototype.visitUint8=Cn;dn.prototype.visitUint16=Cn;dn.prototype.visitUint32=Cn;dn.prototype.visitUint64=Cn;dn.prototype.visitFloat=Cn;dn.prototype.visitFloat16=Cn;dn.prototype.visitFloat32=Cn;dn.prototype.visitFloat64=Cn;dn.prototype.visitUtf8=Cn;dn.prototype.visitBinary=Cn;dn.prototype.visitFixedSizeBinary=Cn;dn.prototype.visitDate=Cn;dn.prototype.visitDateDay=Cn;dn.prototype.visitDateMillisecond=Cn;dn.prototype.visitTimestamp=Cn;dn.prototype.visitTimestampSecond=Cn;dn.prototype.visitTimestampMillisecond=Cn;dn.prototype.visitTimestampMicrosecond=Cn;dn.prototype.visitTimestampNanosecond=Cn;dn.prototype.visitTime=Cn;dn.prototype.visitTimeSecond=Cn;dn.prototype.visitTimeMillisecond=Cn;dn.prototype.visitTimeMicrosecond=Cn;dn.prototype.visitTimeNanosecond=Cn;dn.prototype.visitDecimal=Cn;dn.prototype.visitList=Cn;dn.prototype.visitStruct=Cn;dn.prototype.visitUnion=Cn;dn.prototype.visitDenseUnion=OF;dn.prototype.visitSparseUnion=OF;dn.prototype.visitDictionary=Cn;dn.prototype.visitInterval=Cn;dn.prototype.visitIntervalDayTime=Cn;dn.prototype.visitIntervalYearMonth=Cn;dn.prototype.visitFixedSizeList=Cn;dn.prototype.visitMap=Cn;const G1=new dn;class pn extends Xn{}function xn(n){const{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===De.Timestamp||e instanceof _l&&e.bitWidth!==64||e instanceof JE&&e.bitWidth!==64||e instanceof Lv&&e.precision!==$s.HALF))return new ZP(n.data.length,r=>{const i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new ZP(n.data.length,r=>{const s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new oee(o)})}class oee{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}pn.prototype.visitNull=xn;pn.prototype.visitBool=xn;pn.prototype.visitInt=xn;pn.prototype.visitInt8=xn;pn.prototype.visitInt16=xn;pn.prototype.visitInt32=xn;pn.prototype.visitInt64=xn;pn.prototype.visitUint8=xn;pn.prototype.visitUint16=xn;pn.prototype.visitUint32=xn;pn.prototype.visitUint64=xn;pn.prototype.visitFloat=xn;pn.prototype.visitFloat16=xn;pn.prototype.visitFloat32=xn;pn.prototype.visitFloat64=xn;pn.prototype.visitUtf8=xn;pn.prototype.visitBinary=xn;pn.prototype.visitFixedSizeBinary=xn;pn.prototype.visitDate=xn;pn.prototype.visitDateDay=xn;pn.prototype.visitDateMillisecond=xn;pn.prototype.visitTimestamp=xn;pn.prototype.visitTimestampSecond=xn;pn.prototype.visitTimestampMillisecond=xn;pn.prototype.visitTimestampMicrosecond=xn;pn.prototype.visitTimestampNanosecond=xn;pn.prototype.visitTime=xn;pn.prototype.visitTimeSecond=xn;pn.prototype.visitTimeMillisecond=xn;pn.prototype.visitTimeMicrosecond=xn;pn.prototype.visitTimeNanosecond=xn;pn.prototype.visitDecimal=xn;pn.prototype.visitList=xn;pn.prototype.visitStruct=xn;pn.prototype.visitUnion=xn;pn.prototype.visitDenseUnion=xn;pn.prototype.visitSparseUnion=xn;pn.prototype.visitDictionary=xn;pn.prototype.visitInterval=xn;pn.prototype.visitIntervalDayTime=xn;pn.prototype.visitIntervalYearMonth=xn;pn.prototype.visitFixedSizeList=xn;pn.prototype.visitMap=xn;const YT=new pn,aee=(n,e)=>n+e;class bh extends Xn{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===cr.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+uu.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+uu.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}}const lee=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),uee=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),cee=({valueOffsets:n,stride:e,children:t},r)=>{const i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=uu.getVisitFn(i.type),l=i.slice(s,o-s);let c=8;for(let p=-1,m=o-s;++p<m;)c+=a(l,p);return c},fee=({stride:n,children:e},t)=>{const r=e[0],i=r.slice(t*n,n),s=uu.getVisitFn(r.type);let o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},hee=(n,e)=>n.type.mode===Ac.Dense?zF(n,e):FF(n,e),zF=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{const s=n.typeIdToChildIndex[t[i]];return 8+uu.visit(e[s],r[i])},FF=({children:n},e)=>4+uu.visitMany(n,n.map(()=>e)).reduce(aee,0);bh.prototype.visitUtf8=lee;bh.prototype.visitBinary=uee;bh.prototype.visitList=cee;bh.prototype.visitFixedSizeList=fee;bh.prototype.visitUnion=hee;bh.prototype.visitDenseUnion=zF;bh.prototype.visitSparseUnion=FF;const uu=new bh;var NF;const BF={},UF={};class fn{constructor(e){var t,r,i;const s=e[0]instanceof fn?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof ur)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:c,byteLength:p}=BF[o.typeId],m=s[0];this.isValid=d=>qT(m,d),this.get=d=>a(m,d),this.set=(d,v)=>l(m,d,v),this.indexOf=d=>c(m,d),this.getByteLength=d=>p(m,d),this._offsets=[0,m.length];break}default:Object.setPrototypeOf(this,UF[o.typeId]),this._offsets=IF(s);break}this.data=s,this.type=o,this.stride=Ql(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=PF(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${De[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return YT.visit(this)}concat(...e){return new fn(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new fn(CF(this,e,t,({data:r,_offsets:i},s,o)=>LF(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case De.Int:case De.Float:case De.Decimal:case De.Time:case De.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new fn(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return Hn.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Hn.isDictionary(this.type)){const e=new $1(this.data[0].dictionary),t=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new fn(t)}return new $1(this)}unmemoize(){if(Hn.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new fn(t)}return this}}NF=Symbol.toStringTag;fn[NF]=(n=>{n.type=Hn.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;const e=Object.keys(De).map(t=>De[t]).filter(t=>typeof t=="number"&&t!==De.NONE);for(const t of e){const r=xo.getVisitFnByTypeId(t),i=ya.getVisitFnByTypeId(t),s=G1.getVisitFnByTypeId(t),o=uu.getVisitFnByTypeId(t);BF[t]={get:r,set:i,indexOf:s,byteLength:o},UF[t]=Object.create(n,{isValid:{value:qm(qT)},get:{value:qm(xo.getVisitFnByTypeId(t))},set:{value:kF(ya.getVisitFnByTypeId(t))},indexOf:{value:DF(G1.getVisitFnByTypeId(t))},getByteLength:{value:qm(uu.getVisitFnByTypeId(t))}})}return"Vector"})(fn.prototype);class $1 extends fn{constructor(e){super(e.data);const t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=t.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new $1(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new fn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function HF(n){if(n){if(n instanceof ur)return new fn([n]);if(n instanceof fn)return new fn(n.data);if(n.type instanceof Hn)return new fn([Ir(n)]);if(Array.isArray(n))return new fn(n.flatMap(e=>dee(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));const e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new $4}))]);if(n instanceof Int16Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new j4}))]);if(n instanceof Int32Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new TT}))]);if(n instanceof BigInt64Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new AT}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new fn([Ir(Object.assign(Object.assign({},e),{type:new q4}))]);if(n instanceof Uint16Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new Y4}))]);if(n instanceof Uint32Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new X4}))]);if(n instanceof BigUint64Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new Z4}))]);if(n instanceof Float32Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new K4}))]);if(n instanceof Float64Array)return new fn([Ir(Object.assign(Object.assign({},e),{type:new CT}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function dee(n){return n instanceof ur?[n]:n instanceof fn?n.data:HF(n).data}function pee(n){if(!n||n.length<=0)return function(i){return!0};let e="";const t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${mee(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}function mee(n){return typeof n!="bigint"?nh(n):w4?`${nh(n)}n`:`"${nh(n)}"`}const Kb=(n,e)=>(n*e+63&-64||64)/e,gee=(n,e=0)=>n.length>=e?n.subarray(0,e):E4(new n.constructor(e),n,0);class qx{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;const t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?Kb(r*1,this.BYTES_PER_ELEMENT):Kb(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Kb(e*this.stride,this.BYTES_PER_ELEMENT);const t=gee(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=E4(new this.ArrayType(e),this.buffer)}}qx.prototype.offset=0;class ty extends qx{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}}class WF extends ty{constructor(e=new Uint8Array(0)){super(e,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){const{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class VF extends ty{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){const r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}}class bo{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=Ql(e),this._nulls=new WF,t&&t.length>0&&(this._isValid=pee(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new fn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;const{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i;const{type:s,length:o,nullCount:a,_typeIds:l,_offsets:c,_values:p,_nulls:m}=this;(t=l==null?void 0:l.flush(o))?i=c==null?void 0:c.flush(o):(i=c==null?void 0:c.flush(o))?e=p==null?void 0:p.flush(c.last()):e=p==null?void 0:p.flush(o),a>0&&(r=m==null?void 0:m.flush(o));const d=this.children.map(v=>v.flush());return this.clear(),Ir({type:s,length:o,nullCount:a,children:d,child:d[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}}bo.prototype.length=1;bo.prototype.stride=1;bo.prototype.children=null;bo.prototype.finished=!1;bo.prototype.nullValues=null;bo.prototype._isValid=()=>!0;class Sh extends bo{constructor(e){super(e),this._values=new ty(new this.ArrayType(0),this.stride)}setValue(e,t){const r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}}class Yx extends bo{constructor(e){super(e),this._pendingLength=0,this._offsets=new VF}setValue(e,t){const r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof $x?t[fl].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}class Ti{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=r2(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){const t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new Ti(r,this.metadata)}selectAt(e){const t=e.map(r=>this.fields[r]).filter(Boolean);return new Ti(t,this.metadata)}assign(...e){const t=e[0]instanceof Ti?e[0]:Array.isArray(e[0])?new Ti(e[0]):new Ti(e),r=[...this.fields],i=I_(I_(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{const l=r.findIndex(c=>c.name===a.name);return~l?(r[l]=a.clone({metadata:I_(I_(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=r2(s,new Map);return new Ti([...r,...s],i,new Map([...this.dictionaries,...o]))}}Ti.prototype.fields=null;Ti.prototype.metadata=null;Ti.prototype.dictionaries=null;class bs{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new bs(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],bs.new(t,r,i,s)}}bs.prototype.type=null;bs.prototype.name=null;bs.prototype.nullable=null;bs.prototype.metadata=null;function I_(n,e){return new Map([...n||new Map,...e||new Map])}function r2(n,e=new Map){for(let t=-1,r=n.length;++t<r;){const s=n[t].type;if(Hn.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&r2(s.children,e)}return e}class GF extends Yx{constructor(e){super(e),this._values=new qx(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,Ei(t))}_flushPending(e,t){const r=this._offsets,i=this._values.reserve(t).buffer;let s=0;for(const[o,a]of e)if(a===void 0)r.set(o,0);else{const l=a.length;i.set(a,s),r.set(o,l),s+=l}}}class vee extends bo{constructor(e){super(e),this._values=new WF}setValue(e,t){this._values.set(e,+t)}}class Xx extends Sh{}Xx.prototype._setValue=iF;class $F extends Xx{}$F.prototype._setValue=IT;class jF extends Xx{}jF.prototype._setValue=LT;class qF extends Sh{}qF.prototype._setValue=aF;class yee extends bo{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new V1(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=j1({type:this.type.indices,nullValues:t}),this.dictionary=j1({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){const r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){const r=this._keysToIndices,i=this.valueToKey(t);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){const e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}}class YF extends Sh{}YF.prototype._setValue=rF;class _ee extends bo{setValue(e,t){const[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(e);return this.type=new e2(this.type.listSize,new bs(t,e.type,!0)),r}}class Zx extends Sh{setValue(e,t){this._values.set(e,t)}}class xee extends Zx{setValue(e,t){super.setValue(e,eF(t))}}class wee extends Zx{}class bee extends Zx{}class Kx extends Sh{}Kx.prototype._setValue=cF;class XF extends Kx{}XF.prototype._setValue=HT;class ZF extends Kx{}ZF.prototype._setValue=WT;class Oc extends Sh{setValue(e,t){this._values.set(e,t)}}class See extends Oc{}class Eee extends Oc{}class Mee extends Oc{}class Tee extends Oc{}class Aee extends Oc{}class Cee extends Oc{}class Ree extends Oc{}class Pee extends Oc{}class Iee extends Yx{constructor(e){super(e),this._offsets=new VF}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new W1(new bs(t,e.type,!0)),this.numChildren-1}_flushPending(e){const t=this._offsets,[r]=this.children;for(const[i,s]of e)if(s===void 0)t.set(i,0);else{const o=s.length,a=t.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}}class Lee extends Yx{set(e,t){return super.set(e,t)}setValue(e,t){const r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new t2(new bs(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){const t=this._offsets,[r]=this.children;for(const[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(const l of s.entries())if(r.set(o,l),++o>=a)break}}}class kee extends bo{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}}class Dee extends bo{setValue(e,t){const{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){const r=this.children.push(e);return this.type=new ca([...this.type.children,new bs(t,e.type,!0)]),r}}class zg extends Sh{}zg.prototype._setValue=sF;class KF extends zg{}KF.prototype._setValue=kT;class JF extends zg{}JF.prototype._setValue=DT;class QF extends zg{}QF.prototype._setValue=OT;class eN extends zg{}eN.prototype._setValue=zT;class Fg extends Sh{}Fg.prototype._setValue=oF;class tN extends Fg{}tN.prototype._setValue=FT;class nN extends Fg{}nN.prototype._setValue=NT;class rN extends Fg{}rN.prototype._setValue=BT;class iN extends Fg{}iN.prototype._setValue=UT;class XT extends bo{constructor(e){super(e),this._typeIds=new ty(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){const r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new bs(t,e.type)];return this.type=new QE(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class Oee extends XT{}class zee extends XT{constructor(e){super(e),this._offsets=new ty(new Int32Array(0))}setValue(e,t,r){const i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}}class sN extends Yx{constructor(e){super(e),this._values=new qx(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,ST(t))}_flushPending(e,t){}}sN.prototype._flushPending=GF.prototype._flushPending;class Fee extends Xn{visitNull(){return kee}visitBool(){return vee}visitInt(){return Oc}visitInt8(){return See}visitInt16(){return Eee}visitInt32(){return Mee}visitInt64(){return Tee}visitUint8(){return Aee}visitUint16(){return Cee}visitUint32(){return Ree}visitUint64(){return Pee}visitFloat(){return Zx}visitFloat16(){return xee}visitFloat32(){return wee}visitFloat64(){return bee}visitUtf8(){return sN}visitBinary(){return GF}visitFixedSizeBinary(){return YF}visitDate(){return Xx}visitDateDay(){return $F}visitDateMillisecond(){return jF}visitTimestamp(){return zg}visitTimestampSecond(){return KF}visitTimestampMillisecond(){return JF}visitTimestampMicrosecond(){return QF}visitTimestampNanosecond(){return eN}visitTime(){return Fg}visitTimeSecond(){return tN}visitTimeMillisecond(){return nN}visitTimeMicrosecond(){return rN}visitTimeNanosecond(){return iN}visitDecimal(){return qF}visitList(){return Iee}visitStruct(){return Dee}visitUnion(){return XT}visitDenseUnion(){return zee}visitSparseUnion(){return Oee}visitDictionary(){return yee}visitInterval(){return Kx}visitIntervalDayTime(){return XF}visitIntervalYearMonth(){return ZF}visitFixedSizeList(){return _ee}visitMap(){return Lee}}const Nee=new Fee;class mn extends Xn{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}function So(n,e){return e instanceof n.constructor}function ny(n,e){return n===e||So(n,e)}function zc(n,e){return n===e||So(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function Jx(n,e){return n===e||So(n,e)&&n.precision===e.precision}function Bee(n,e){return n===e||So(n,e)&&n.byteWidth===e.byteWidth}function ZT(n,e){return n===e||So(n,e)&&n.unit===e.unit}function ry(n,e){return n===e||So(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function iy(n,e){return n===e||So(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function Uee(n,e){return n===e||So(n,e)&&n.children.length===e.children.length&&Cc.compareManyFields(n.children,e.children)}function Hee(n,e){return n===e||So(n,e)&&n.children.length===e.children.length&&Cc.compareManyFields(n.children,e.children)}function KT(n,e){return n===e||So(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Cc.compareManyFields(n.children,e.children)}function Wee(n,e){return n===e||So(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Cc.visit(n.indices,e.indices)&&Cc.visit(n.dictionary,e.dictionary)}function JT(n,e){return n===e||So(n,e)&&n.unit===e.unit}function Vee(n,e){return n===e||So(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Cc.compareManyFields(n.children,e.children)}function Gee(n,e){return n===e||So(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Cc.compareManyFields(n.children,e.children)}mn.prototype.visitNull=ny;mn.prototype.visitBool=ny;mn.prototype.visitInt=zc;mn.prototype.visitInt8=zc;mn.prototype.visitInt16=zc;mn.prototype.visitInt32=zc;mn.prototype.visitInt64=zc;mn.prototype.visitUint8=zc;mn.prototype.visitUint16=zc;mn.prototype.visitUint32=zc;mn.prototype.visitUint64=zc;mn.prototype.visitFloat=Jx;mn.prototype.visitFloat16=Jx;mn.prototype.visitFloat32=Jx;mn.prototype.visitFloat64=Jx;mn.prototype.visitUtf8=ny;mn.prototype.visitBinary=ny;mn.prototype.visitFixedSizeBinary=Bee;mn.prototype.visitDate=ZT;mn.prototype.visitDateDay=ZT;mn.prototype.visitDateMillisecond=ZT;mn.prototype.visitTimestamp=ry;mn.prototype.visitTimestampSecond=ry;mn.prototype.visitTimestampMillisecond=ry;mn.prototype.visitTimestampMicrosecond=ry;mn.prototype.visitTimestampNanosecond=ry;mn.prototype.visitTime=iy;mn.prototype.visitTimeSecond=iy;mn.prototype.visitTimeMillisecond=iy;mn.prototype.visitTimeMicrosecond=iy;mn.prototype.visitTimeNanosecond=iy;mn.prototype.visitDecimal=ny;mn.prototype.visitList=Uee;mn.prototype.visitStruct=Hee;mn.prototype.visitUnion=KT;mn.prototype.visitDenseUnion=KT;mn.prototype.visitSparseUnion=KT;mn.prototype.visitDictionary=Wee;mn.prototype.visitInterval=JT;mn.prototype.visitIntervalDayTime=JT;mn.prototype.visitIntervalYearMonth=JT;mn.prototype.visitFixedSizeList=Vee;mn.prototype.visitMap=Gee;const Cc=new mn;function $ee(n,e){return Cc.compareSchemas(n,e)}function jee(n,e){return Cc.visit(n,e)}function j1(n){const e=n.type,t=new(Nee.getVisitFn(e)())(n);if(e.children&&e.children.length>0){const r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of e.children.entries()){const{type:l}=a,c=s(a,o);t.children.push(j1(Object.assign(Object.assign({},c),{type:l})))}}return t}function qee(n,e){if(n instanceof ur||n instanceof fn||n.type instanceof Hn||ArrayBuffer.isView(n))return HF(n);const t={type:e!=null?e:o1(n),nullValues:[null]},r=[...Xee(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Hn.isDictionary(i.type)?i.memoize():i}function Yee(n){const e=qee(n),t=new Us(new Ti(e.type.children),e.data[0]);return new ul(t)}function o1(n){if(n.length===0)return new Iv;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,l=0;for(const c of n){if(c==null){++e;continue}switch(typeof c){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(c)?++t:Object.prototype.toString.call(c)==="[object Date]"?++l:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new CT;if(s+e===n.length)return new V1(new XE,new TT);if(o+e===n.length)return new AT;if(a+e===n.length)return new ZE;if(l+e===n.length)return new QJ;if(t+e===n.length){const c=n,p=o1(c[c.findIndex(m=>m!=null)]);if(c.every(m=>m==null||jee(p,o1(m))))return new W1(new bs("",p,!0))}else if(r+e===n.length){const c=new Map;for(const p of n)for(const m of Object.keys(p))!c.has(m)&&p[m]!=null&&c.set(m,new bs(m,o1([p[m]]),!0));return new ca([...c.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function Xee(n){const{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0;const o=j1(n);for(const a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}function Jb(n,e){return Zee(n,e.map(t=>t.data.concat()))}function Zee(n,e){const t=[...n.fields],r=[],i={numBatches:e.reduce((m,d)=>Math.max(m,d.length),0)};let s=0,o=0,a=-1;const l=e.length;let c,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)p[a]=c=e[a].shift(),o=Math.min(o,c?c.length:o);Number.isFinite(o)&&(p=Kee(t,o,p,e,i),o>0&&(r[s++]=Ir({type:new ca(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(m=>new Us(n,m))]}function Kee(n,e,t,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const c=t[a],p=c==null?void 0:c.length;if(p>=e)p===e?t[a]=c:(t[a]=c.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(c.slice(e,p-e))));else{const m=n[a];n[a]=m.clone({nullable:!0}),t[a]=(s=c==null?void 0:c._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:Ir({type:m.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}var oN;class ul{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new Ti([]),this._offsets=[0],this;let i,s;e[0]instanceof Ti&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof Us)return[l];if(l instanceof ul)return l.batches;if(l instanceof ur){if(l.type instanceof ca)return[new Us(new Ti(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(c=>o(c));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(c=>o(c));if(typeof l=="object"){const c=Object.keys(l),p=c.map(v=>new fn([l[v]])),m=new Ti(c.map((v,_)=>new bs(String(v),p[_].type))),[,d]=Jb(m,p);return d.length===0?[new Us(l)]:d}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i!=null?i:(t=a[0])===null||t===void 0?void 0:t.schema)!==null&&r!==void 0?r:new Ti([]),!(i instanceof Ti))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Us))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!$ee(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s!=null?s:IF(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=PF(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?YT.visit(new fn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new ul(t,r.map(i=>new Us(t,i)))}slice(e,t){const r=this.schema;[e,t]=CF({length:this.numRows},e,t);const i=LF(this.data,this._offsets,e,t);return new ul(r,i.map(s=>new Us(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const t=this.data.map(r=>r.children[e]);if(t.length===0){const{type:r}=this.schema.fields[e],i=Ir({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new fn(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new fn([Ir({type:new Iv,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((l,c)=>this.getChildAt(c));[s[e],a[e]]=[o,t],[r,i]=Jb(r,a)}return new ul(r,i)}select(e){const t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){const t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new ul(t,r)}assign(e){const t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,c)=>{const[p,m]=a,d=t.findIndex(v=>v.name===l.name);return~d?m[d]=c:p.push(c),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new ul(...Jb(s,o))}}oN=Symbol.toStringTag;ul[oN]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=qm(qT),n.get=qm(xo.getVisitFn(De.Struct)),n.set=kF(ya.getVisitFn(De.Struct)),n.indexOf=DF(G1.getVisitFn(De.Struct)),n.getByteLength=qm(uu.getVisitFn(De.Struct)),"Table"))(ul.prototype);var aN;class Us{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Ti))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ir({nullCount:0,type:new ca(this.schema.fields),children:this.schema.fields.map(t=>Ir({type:t.type,nullCount:0}))})]=e,!(this.data instanceof ur))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=KP(this.schema,this.data.children);break}case 1:{const[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((l,c,p)=>(l.children[p]=t[c],l.length=Math.max(l.length,t[c].length),l.fields[p]=bs.new({name:c,type:t[c].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new Ti(r),a=Ir({type:new ca(r),length:s,children:i,nullCount:0});[this.schema,this.data]=KP(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=lN(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return xo.visit(this.data,e)}set(e,t){return ya.visit(this.data,e,t)}indexOf(e,t){return G1.visit(this.data,e,t)}getByteLength(e){return uu.visit(this.data,e)}[Symbol.iterator](){return YT.visit(new fn([this.data]))}toArray(){return[...this]}concat(...e){return new ul(this.schema,[this,...e])}slice(e,t){const[r]=new fn([this.data]).slice(e,t).data;return new Us(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new fn([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new fn([Ir({type:new Iv,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new Ti(s,new Map(this.schema.metadata)),i=Ir({type:new ca(s),children:o})}return new Us(r,i)}select(e){const t=this.schema.select(e),r=new ca(t.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Us(t,Ir({type:r,length:this.numRows,children:i}))}selectAt(e){const t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=Ir({type:new ca(t.fields),length:this.numRows,children:r});return new Us(t,i)}}aN=Symbol.toStringTag;Us[aN]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Us.prototype);function KP(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...n.fields],s=[...e],o=(t+63&-64)>>3;for(const[a,l]of n.fields.entries()){const c=e[a];(!c||c.length!==t)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=c==null?void 0:c._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:Ir({type:l.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),Ir({type:new ca(i),length:t,children:s})]}function lN(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){const o=n[r].type,a=e[r];if(Hn.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&lN(o.children,a.children,t)}return t}var uN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JP=Jt.createContext&&Jt.createContext(uN),rh=globalThis&&globalThis.__assign||function(){return rh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rh.apply(this,arguments)},Jee=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function cN(n){return n&&n.map(function(e,t){return Jt.createElement(e.tag,rh({key:t},e.attr),cN(e.child))})}function Qee(n){return function(e){return Jt.createElement(ete,rh({attr:rh({},n.attr)},e),cN(n.child))}}function ete(n){var e=function(t){var r=n.attr,i=n.size,s=n.title,o=Jee(n,["attr","size","title"]),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Jt.createElement("svg",rh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:rh(rh({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Jt.createElement("title",null,s),n.children)};return JP!==void 0?Jt.createElement(JP.Consumer,null,function(t){return e(t)}):e(uN)}function tte(n){return Qee({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"}}]})(n)}var Qx={exports:{}},ew={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nte=Z.exports,rte=Symbol.for("react.element"),ite=Symbol.for("react.fragment"),ste=Object.prototype.hasOwnProperty,ote=nte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ate={key:!0,ref:!0,__self:!0,__source:!0};function fN(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ste.call(e,r)&&!ate.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rte,type:n,key:s,ref:o,props:i,_owner:ote.current}}ew.Fragment=ite;ew.jsx=fN;ew.jsxs=fN;Qx.exports=ew;const ze=Qx.exports.jsx,nn=Qx.exports.jsxs,Sl=Qx.exports.Fragment;function lte({isLoading:n}){return ze(tte,{className:"rotate",style:{opacity:n?1:0,position:"fixed",fontSize:"2rem",top:"20px",right:"calc(50% - 1rem)",transition:"0.3s ease",pointerEvents:"none",verticalAlign:"middle",animation:"rotate 1s linear infinite"}})}var hN={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(n,e){(function(t,r){n.exports=r()})(cl,function(){for(var t=function(P,N,$){return N===void 0&&(N=0),$===void 0&&($=1),P<N?N:P>$?$:P},r=t,i=function(P){P._clipped=!1,P._unclipped=P.slice(0);for(var N=0;N<=3;N++)N<3?((P[N]<0||P[N]>255)&&(P._clipped=!0),P[N]=r(P[N],0,255)):N===3&&(P[N]=r(P[N],0,1));return P},s={},o=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<a.length;o+=1){var l=a[o];s["[object "+l+"]"]=l.toLowerCase()}var c=function(P){return s[Object.prototype.toString.call(P)]||"object"},p=c,m=function(P,N){return N===void 0&&(N=null),P.length>=3?Array.prototype.slice.call(P):p(P[0])=="object"&&N?N.split("").filter(function($){return P[0][$]!==void 0}).map(function($){return P[0][$]}):P[0]},d=c,v=function(P){if(P.length<2)return null;var N=P.length-1;return d(P[N])=="string"?P[N].toLowerCase():null},_=Math.PI,y={clip_rgb:i,limit:t,type:c,unpack:m,last:v,PI:_,TWOPI:_*2,PITHIRD:_/3,DEG2RAD:_/180,RAD2DEG:180/_},x={format:{},autodetect:[]},w=y.last,S=y.clip_rgb,M=y.type,T=x,A=function(){for(var N=[],$=arguments.length;$--;)N[$]=arguments[$];var Q=this;if(M(N[0])==="object"&&N[0].constructor&&N[0].constructor===this.constructor)return N[0];var xe=w(N),Me=!1;if(!xe){Me=!0,T.sorted||(T.autodetect=T.autodetect.sort(function(Qe,yt){return yt.p-Qe.p}),T.sorted=!0);for(var pe=0,Le=T.autodetect;pe<Le.length;pe+=1){var Oe=Le[pe];if(xe=Oe.test.apply(Oe,N),xe)break}}if(T.format[xe]){var Ze=T.format[xe].apply(null,Me?N:N.slice(0,-1));Q._rgb=S(Ze)}else throw new Error("unknown format: "+N);Q._rgb.length===3&&Q._rgb.push(1)};A.prototype.toString=function(){return M(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var L=A,z=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(z.Color,[null].concat(P)))};z.Color=L,z.version="2.4.2";var C=z,F=y.unpack,H=Math.max,q=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=F(P,"rgb"),Q=$[0],xe=$[1],Me=$[2];Q=Q/255,xe=xe/255,Me=Me/255;var pe=1-H(Q,H(xe,Me)),Le=pe<1?1/(1-pe):0,Oe=(1-Q-pe)*Le,Ze=(1-xe-pe)*Le,Qe=(1-Me-pe)*Le;return[Oe,Ze,Qe,pe]},B=q,Y=y.unpack,I=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=Y(P,"cmyk");var $=P[0],Q=P[1],xe=P[2],Me=P[3],pe=P.length>4?P[4]:1;return Me===1?[0,0,0,pe]:[$>=1?0:255*(1-$)*(1-Me),Q>=1?0:255*(1-Q)*(1-Me),xe>=1?0:255*(1-xe)*(1-Me),pe]},te=I,ce=C,le=L,ae=x,ie=y.unpack,ue=y.type,j=B;le.prototype.cmyk=function(){return j(this._rgb)},ce.cmyk=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(le,[null].concat(P,["cmyk"])))},ae.format.cmyk=te,ae.autodetect.push({p:2,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=ie(P,"cmyk"),ue(P)==="array"&&P.length===4)return"cmyk"}});var K=y.unpack,we=y.last,Re=function(P){return Math.round(P*100)/100},Pe=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=K(P,"hsla"),Q=we(P)||"lsa";return $[0]=Re($[0]||0),$[1]=Re($[1]*100)+"%",$[2]=Re($[2]*100)+"%",Q==="hsla"||$.length>3&&$[3]<1?($[3]=$.length>3?$[3]:1,Q="hsla"):$.length=3,Q+"("+$.join(",")+")"},ke=Pe,bt=y.unpack,rt=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=bt(P,"rgba");var $=P[0],Q=P[1],xe=P[2];$/=255,Q/=255,xe/=255;var Me=Math.min($,Q,xe),pe=Math.max($,Q,xe),Le=(pe+Me)/2,Oe,Ze;return pe===Me?(Oe=0,Ze=Number.NaN):Oe=Le<.5?(pe-Me)/(pe+Me):(pe-Me)/(2-pe-Me),$==pe?Ze=(Q-xe)/(pe-Me):Q==pe?Ze=2+(xe-$)/(pe-Me):xe==pe&&(Ze=4+($-Q)/(pe-Me)),Ze*=60,Ze<0&&(Ze+=360),P.length>3&&P[3]!==void 0?[Ze,Oe,Le,P[3]]:[Ze,Oe,Le]},ut=rt,it=y.unpack,Ct=y.last,Xe=ke,$e=ut,O=Math.round,Te=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=it(P,"rgba"),Q=Ct(P)||"rgb";return Q.substr(0,3)=="hsl"?Xe($e($),Q):($[0]=O($[0]),$[1]=O($[1]),$[2]=O($[2]),(Q==="rgba"||$.length>3&&$[3]<1)&&($[3]=$.length>3?$[3]:1,Q="rgba"),Q+"("+$.slice(0,Q==="rgb"?3:4).join(",")+")")},ye=Te,ne=y.unpack,J=Math.round,de=function(){for(var P,N=[],$=arguments.length;$--;)N[$]=arguments[$];N=ne(N,"hsl");var Q=N[0],xe=N[1],Me=N[2],pe,Le,Oe;if(xe===0)pe=Le=Oe=Me*255;else{var Ze=[0,0,0],Qe=[0,0,0],yt=Me<.5?Me*(1+xe):Me+xe-Me*xe,st=2*Me-yt,Tt=Q/360;Ze[0]=Tt+1/3,Ze[1]=Tt,Ze[2]=Tt-1/3;for(var At=0;At<3;At++)Ze[At]<0&&(Ze[At]+=1),Ze[At]>1&&(Ze[At]-=1),6*Ze[At]<1?Qe[At]=st+(yt-st)*6*Ze[At]:2*Ze[At]<1?Qe[At]=yt:3*Ze[At]<2?Qe[At]=st+(yt-st)*(2/3-Ze[At])*6:Qe[At]=st;P=[J(Qe[0]*255),J(Qe[1]*255),J(Qe[2]*255)],pe=P[0],Le=P[1],Oe=P[2]}return N.length>3?[pe,Le,Oe,N[3]]:[pe,Le,Oe,1]},We=de,Be=We,G=x,U=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,fe=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ee=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ue=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ke=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,at=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,He=Math.round,Bt=function(P){P=P.toLowerCase().trim();var N;if(G.format.named)try{return G.format.named(P)}catch{}if(N=P.match(U)){for(var $=N.slice(1,4),Q=0;Q<3;Q++)$[Q]=+$[Q];return $[3]=1,$}if(N=P.match(fe)){for(var xe=N.slice(1,5),Me=0;Me<4;Me++)xe[Me]=+xe[Me];return xe}if(N=P.match(Ee)){for(var pe=N.slice(1,4),Le=0;Le<3;Le++)pe[Le]=He(pe[Le]*2.55);return pe[3]=1,pe}if(N=P.match(Ue)){for(var Oe=N.slice(1,5),Ze=0;Ze<3;Ze++)Oe[Ze]=He(Oe[Ze]*2.55);return Oe[3]=+Oe[3],Oe}if(N=P.match(Ke)){var Qe=N.slice(1,4);Qe[1]*=.01,Qe[2]*=.01;var yt=Be(Qe);return yt[3]=1,yt}if(N=P.match(at)){var st=N.slice(1,4);st[1]*=.01,st[2]*=.01;var Tt=Be(st);return Tt[3]=+N[4],Tt}};Bt.test=function(P){return U.test(P)||fe.test(P)||Ee.test(P)||Ue.test(P)||Ke.test(P)||at.test(P)};var Ft=Bt,_t=C,ge=L,dt=x,ht=y.type,Pt=ye,vt=Ft;ge.prototype.css=function(P){return Pt(this._rgb,P)},_t.css=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(ge,[null].concat(P,["css"])))},dt.format.css=vt,dt.autodetect.push({p:5,test:function(P){for(var N=[],$=arguments.length-1;$-- >0;)N[$]=arguments[$+1];if(!N.length&&ht(P)==="string"&&vt.test(P))return"css"}});var Ut=L,mt=C,Gt=x,Rn=y.unpack;Gt.format.gl=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Rn(P,"rgba");return $[0]*=255,$[1]*=255,$[2]*=255,$},mt.gl=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Ut,[null].concat(P,["gl"])))},Ut.prototype.gl=function(){var P=this._rgb;return[P[0]/255,P[1]/255,P[2]/255,P[3]]};var rn=y.unpack,ni=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=rn(P,"rgb"),Q=$[0],xe=$[1],Me=$[2],pe=Math.min(Q,xe,Me),Le=Math.max(Q,xe,Me),Oe=Le-pe,Ze=Oe*100/255,Qe=pe/(255-Oe)*100,yt;return Oe===0?yt=Number.NaN:(Q===Le&&(yt=(xe-Me)/Oe),xe===Le&&(yt=2+(Me-Q)/Oe),Me===Le&&(yt=4+(Q-xe)/Oe),yt*=60,yt<0&&(yt+=360)),[yt,Ze,Qe]},is=ni,fu=y.unpack,Ml=Math.floor,hu=function(){for(var P,N,$,Q,xe,Me,pe=[],Le=arguments.length;Le--;)pe[Le]=arguments[Le];pe=fu(pe,"hcg");var Oe=pe[0],Ze=pe[1],Qe=pe[2],yt,st,Tt;Qe=Qe*255;var At=Ze*255;if(Ze===0)yt=st=Tt=Qe;else{Oe===360&&(Oe=0),Oe>360&&(Oe-=360),Oe<0&&(Oe+=360),Oe/=60;var f=Ml(Oe),h=Oe-f,b=Qe*(1-Ze),R=b+At*(1-h),D=b+At*h,W=b+At;switch(f){case 0:P=[W,D,b],yt=P[0],st=P[1],Tt=P[2];break;case 1:N=[R,W,b],yt=N[0],st=N[1],Tt=N[2];break;case 2:$=[b,W,D],yt=$[0],st=$[1],Tt=$[2];break;case 3:Q=[b,R,W],yt=Q[0],st=Q[1],Tt=Q[2];break;case 4:xe=[D,b,W],yt=xe[0],st=xe[1],Tt=xe[2];break;case 5:Me=[W,b,R],yt=Me[0],st=Me[1],Tt=Me[2];break}}return[yt,st,Tt,pe.length>3?pe[3]:1]},Tl=hu,Nc=y.unpack,Bc=y.type,Al=C,du=L,oe=x,Fe=is;du.prototype.hcg=function(){return Fe(this._rgb)},Al.hcg=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(du,[null].concat(P,["hcg"])))},oe.format.hcg=Tl,oe.autodetect.push({p:1,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=Nc(P,"hcg"),Bc(P)==="array"&&P.length===3)return"hcg"}});var qe=y.unpack,Ve=y.last,Je=Math.round,qt=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=qe(P,"rgba"),Q=$[0],xe=$[1],Me=$[2],pe=$[3],Le=Ve(P)||"auto";pe===void 0&&(pe=1),Le==="auto"&&(Le=pe<1?"rgba":"rgb"),Q=Je(Q),xe=Je(xe),Me=Je(Me);var Oe=Q<<16|xe<<8|Me,Ze="000000"+Oe.toString(16);Ze=Ze.substr(Ze.length-6);var Qe="0"+Je(pe*255).toString(16);switch(Qe=Qe.substr(Qe.length-2),Le.toLowerCase()){case"rgba":return"#"+Ze+Qe;case"argb":return"#"+Qe+Ze;default:return"#"+Ze}},tn=qt,un=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,an=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Dn=function(P){if(P.match(un)){(P.length===4||P.length===7)&&(P=P.substr(1)),P.length===3&&(P=P.split(""),P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]);var N=parseInt(P,16),$=N>>16,Q=N>>8&255,xe=N&255;return[$,Q,xe,1]}if(P.match(an)){(P.length===5||P.length===9)&&(P=P.substr(1)),P.length===4&&(P=P.split(""),P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]+P[3]+P[3]);var Me=parseInt(P,16),pe=Me>>24&255,Le=Me>>16&255,Oe=Me>>8&255,Ze=Math.round((Me&255)/255*100)/100;return[pe,Le,Oe,Ze]}throw new Error("unknown hex color: "+P)},Mn=Dn,Tn=C,Gn=L,Es=y.type,ss=x,Ks=tn;Gn.prototype.hex=function(P){return Ks(this._rgb,P)},Tn.hex=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Gn,[null].concat(P,["hex"])))},ss.format.hex=Mn,ss.autodetect.push({p:4,test:function(P){for(var N=[],$=arguments.length-1;$-- >0;)N[$]=arguments[$+1];if(!N.length&&Es(P)==="string"&&[3,4,5,6,7,8,9].indexOf(P.length)>=0)return"hex"}});var kr=y.unpack,cn=y.TWOPI,Pn=Math.min,sn=Math.sqrt,zr=Math.acos,rr=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=kr(P,"rgb"),Q=$[0],xe=$[1],Me=$[2];Q/=255,xe/=255,Me/=255;var pe,Le=Pn(Q,xe,Me),Oe=(Q+xe+Me)/3,Ze=Oe>0?1-Le/Oe:0;return Ze===0?pe=NaN:(pe=(Q-xe+(Q-Me))/2,pe/=sn((Q-xe)*(Q-xe)+(Q-Me)*(xe-Me)),pe=zr(pe),Me>xe&&(pe=cn-pe),pe/=cn),[pe*360,Ze,Oe]},Er=rr,os=y.unpack,ir=y.limit,sr=y.TWOPI,Js=y.PITHIRD,Yr=Math.cos,fp=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=os(P,"hsi");var $=P[0],Q=P[1],xe=P[2],Me,pe,Le;return isNaN($)&&($=0),isNaN(Q)&&(Q=0),$>360&&($-=360),$<0&&($+=360),$/=360,$<1/3?(Le=(1-Q)/3,Me=(1+Q*Yr(sr*$)/Yr(Js-sr*$))/3,pe=1-(Le+Me)):$<2/3?($-=1/3,Me=(1-Q)/3,pe=(1+Q*Yr(sr*$)/Yr(Js-sr*$))/3,Le=1-(Me+pe)):($-=2/3,pe=(1-Q)/3,Le=(1+Q*Yr(sr*$)/Yr(Js-sr*$))/3,Me=1-(pe+Le)),Me=ir(xe*Me*3),pe=ir(xe*pe*3),Le=ir(xe*Le*3),[Me*255,pe*255,Le*255,P.length>3?P[3]:1]},pu=fp,Eh=y.unpack,Uc=y.type,Eo=C,hp=L,Cl=x,$n=Er;hp.prototype.hsi=function(){return $n(this._rgb)},Eo.hsi=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(hp,[null].concat(P,["hsi"])))},Cl.format.hsi=pu,Cl.autodetect.push({p:2,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=Eh(P,"hsi"),Uc(P)==="array"&&P.length===3)return"hsi"}});var Zo=y.unpack,Hg=y.type,dp=C,xa=L,mu=x,Hc=ut;xa.prototype.hsl=function(){return Hc(this._rgb)},dp.hsl=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(xa,[null].concat(P,["hsl"])))},mu.format.hsl=We,mu.autodetect.push({p:2,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=Zo(P,"hsl"),Hg(P)==="array"&&P.length===3)return"hsl"}});var wa=y.unpack,gu=Math.min,Rl=Math.max,Xi=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=wa(P,"rgb");var $=P[0],Q=P[1],xe=P[2],Me=gu($,Q,xe),pe=Rl($,Q,xe),Le=pe-Me,Oe,Ze,Qe;return Qe=pe/255,pe===0?(Oe=Number.NaN,Ze=0):(Ze=Le/pe,$===pe&&(Oe=(Q-xe)/Le),Q===pe&&(Oe=2+(xe-$)/Le),xe===pe&&(Oe=4+($-Q)/Le),Oe*=60,Oe<0&&(Oe+=360)),[Oe,Ze,Qe]},pp=Xi,mp=y.unpack,Wg=Math.floor,gp=function(){for(var P,N,$,Q,xe,Me,pe=[],Le=arguments.length;Le--;)pe[Le]=arguments[Le];pe=mp(pe,"hsv");var Oe=pe[0],Ze=pe[1],Qe=pe[2],yt,st,Tt;if(Qe*=255,Ze===0)yt=st=Tt=Qe;else{Oe===360&&(Oe=0),Oe>360&&(Oe-=360),Oe<0&&(Oe+=360),Oe/=60;var At=Wg(Oe),f=Oe-At,h=Qe*(1-Ze),b=Qe*(1-Ze*f),R=Qe*(1-Ze*(1-f));switch(At){case 0:P=[Qe,R,h],yt=P[0],st=P[1],Tt=P[2];break;case 1:N=[b,Qe,h],yt=N[0],st=N[1],Tt=N[2];break;case 2:$=[h,Qe,R],yt=$[0],st=$[1],Tt=$[2];break;case 3:Q=[h,b,Qe],yt=Q[0],st=Q[1],Tt=Q[2];break;case 4:xe=[R,h,Qe],yt=xe[0],st=xe[1],Tt=xe[2];break;case 5:Me=[Qe,h,b],yt=Me[0],st=Me[1],Tt=Me[2];break}}return[yt,st,Tt,pe.length>3?pe[3]:1]},Wc=gp,Vc=y.unpack,vp=y.type,yp=C,Gc=L,_p=x,vu=pp;Gc.prototype.hsv=function(){return vu(this._rgb)},yp.hsv=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Gc,[null].concat(P,["hsv"])))},_p.format.hsv=Wc,_p.autodetect.push({p:2,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=Vc(P,"hsv"),vp(P)==="array"&&P.length===3)return"hsv"}});var yu={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ba=yu,xp=y.unpack,Mh=Math.pow,_u=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=xp(P,"rgb"),Q=$[0],xe=$[1],Me=$[2],pe=$c(Q,xe,Me),Le=pe[0],Oe=pe[1],Ze=pe[2],Qe=116*Oe-16;return[Qe<0?0:Qe,500*(Le-Oe),200*(Oe-Ze)]},Th=function(P){return(P/=255)<=.04045?P/12.92:Mh((P+.055)/1.055,2.4)},Ms=function(P){return P>ba.t3?Mh(P,1/3):P/ba.t2+ba.t0},$c=function(P,N,$){P=Th(P),N=Th(N),$=Th($);var Q=Ms((.4124564*P+.3575761*N+.1804375*$)/ba.Xn),xe=Ms((.2126729*P+.7151522*N+.072175*$)/ba.Yn),Me=Ms((.0193339*P+.119192*N+.9503041*$)/ba.Zn);return[Q,xe,Me]},jc=_u,Sa=yu,ln=y.unpack,Nn=Math.pow,wp=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=ln(P,"lab");var $=P[0],Q=P[1],xe=P[2],Me,pe,Le,Oe,Ze,Qe;return pe=($+16)/116,Me=isNaN(Q)?pe:pe+Q/500,Le=isNaN(xe)?pe:pe-xe/200,pe=Sa.Yn*Ea(pe),Me=Sa.Xn*Ea(Me),Le=Sa.Zn*Ea(Le),Oe=Ts(3.2404542*Me-1.5371385*pe-.4985314*Le),Ze=Ts(-.969266*Me+1.8760108*pe+.041556*Le),Qe=Ts(.0556434*Me-.2040259*pe+1.0572252*Le),[Oe,Ze,Qe,P.length>3?P[3]:1]},Ts=function(P){return 255*(P<=.00304?12.92*P:1.055*Nn(P,1/2.4)-.055)},Ea=function(P){return P>Sa.t1?P*P*P:Sa.t2*(P-Sa.t0)},Zi=wp,bp=y.unpack,Vg=y.type,Sp=C,Ki=L,Xr=x,Pl=jc;Ki.prototype.lab=function(){return Pl(this._rgb)},Sp.lab=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Ki,[null].concat(P,["lab"])))},Xr.format.lab=Zi,Xr.autodetect.push({p:2,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=bp(P,"lab"),Vg(P)==="array"&&P.length===3)return"lab"}});var Ma=y.unpack,as=y.RAD2DEG,Il=Math.sqrt,Pi=Math.atan2,Ta=Math.round,xu=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Ma(P,"lab"),Q=$[0],xe=$[1],Me=$[2],pe=Il(xe*xe+Me*Me),Le=(Pi(Me,xe)*as+360)%360;return Ta(pe*1e4)===0&&(Le=Number.NaN),[Q,pe,Le]},wu=xu,Ah=y.unpack,qc=jc,Ch=wu,Zr=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Ah(P,"rgb"),Q=$[0],xe=$[1],Me=$[2],pe=qc(Q,xe,Me),Le=pe[0],Oe=pe[1],Ze=pe[2];return Ch(Le,Oe,Ze)},ls=Zr,Fr=y.unpack,Rh=y.DEG2RAD,Ph=Math.sin,Ii=Math.cos,As=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Fr(P,"lch"),Q=$[0],xe=$[1],Me=$[2];return isNaN(Me)&&(Me=0),Me=Me*Rh,[Q,Ii(Me)*xe,Ph(Me)*xe]},bu=As,Zn=y.unpack,Mo=bu,Yc=Zi,Xc=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=Zn(P,"lch");var $=P[0],Q=P[1],xe=P[2],Me=Mo($,Q,xe),pe=Me[0],Le=Me[1],Oe=Me[2],Ze=Yc(pe,Le,Oe),Qe=Ze[0],yt=Ze[1],st=Ze[2];return[Qe,yt,st,P.length>3?P[3]:1]},Aa=Xc,Ep=y.unpack,Mp=Aa,Tp=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Ep(P,"hcl").reverse();return Mp.apply(void 0,$)},Zc=Tp,Ca=y.unpack,Qs=y.type,Su=C,Ll=L,Ra=x,Eu=ls;Ll.prototype.lch=function(){return Eu(this._rgb)},Ll.prototype.hcl=function(){return Eu(this._rgb).reverse()},Su.lch=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Ll,[null].concat(P,["lch"])))},Su.hcl=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Ll,[null].concat(P,["hcl"])))},Ra.format.lch=Aa,Ra.format.hcl=Zc,["lch","hcl"].forEach(function(P){return Ra.autodetect.push({p:2,test:function(){for(var N=[],$=arguments.length;$--;)N[$]=arguments[$];if(N=Ca(N,P),Qs(N)==="array"&&N.length===3)return P}})});var Pa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ni=Pa,Mu=L,To=x,us=y.type,Ia=Ni,La=Mn,Bi=tn;Mu.prototype.name=function(){for(var P=Bi(this._rgb,"rgb"),N=0,$=Object.keys(Ia);N<$.length;N+=1){var Q=$[N];if(Ia[Q]===P)return Q.toLowerCase()}return P},To.format.named=function(P){if(P=P.toLowerCase(),Ia[P])return La(Ia[P]);throw new Error("unknown color name: "+P)},To.autodetect.push({p:5,test:function(P){for(var N=[],$=arguments.length-1;$-- >0;)N[$]=arguments[$+1];if(!N.length&&us(P)==="string"&&Ia[P.toLowerCase()])return"named"}});var Tu=y.unpack,Qn=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Tu(P,"rgb"),Q=$[0],xe=$[1],Me=$[2];return(Q<<16)+(xe<<8)+Me},Au=Qn,eo=y.type,ka=function(P){if(eo(P)=="number"&&P>=0&&P<=16777215){var N=P>>16,$=P>>8&255,Q=P&255;return[N,$,Q,1]}throw new Error("unknown num color: "+P)},to=ka,Ap=C,Ih=L,Kc=x,Da=y.type,Jc=Au;Ih.prototype.num=function(){return Jc(this._rgb)},Ap.num=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Ih,[null].concat(P,["num"])))},Kc.format.num=to,Kc.autodetect.push({p:5,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P.length===1&&Da(P[0])==="number"&&P[0]>=0&&P[0]<=16777215)return"num"}});var Lh=C,no=L,Cu=x,Ji=y.unpack,yi=y.type,kl=Math.round;no.prototype.rgb=function(P){return P===void 0&&(P=!0),P===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(kl)},no.prototype.rgba=function(P){return P===void 0&&(P=!0),this._rgb.slice(0,4).map(function(N,$){return $<3?P===!1?N:kl(N):N})},Lh.rgb=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(no,[null].concat(P,["rgb"])))},Cu.format.rgb=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Ji(P,"rgba");return $[3]===void 0&&($[3]=1),$},Cu.autodetect.push({p:3,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=Ji(P,"rgba"),yi(P)==="array"&&(P.length===3||P.length===4&&yi(P[3])=="number"&&P[3]>=0&&P[3]<=1))return"rgb"}});var hr=Math.log,_i=function(P){var N=P/100,$,Q,xe;return N<66?($=255,Q=N<6?0:-155.25485562709179-.44596950469579133*(Q=N-2)+104.49216199393888*hr(Q),xe=N<20?0:-254.76935184120902+.8274096064007395*(xe=N-10)+115.67994401066147*hr(xe)):($=351.97690566805693+.114206453784165*($=N-55)-40.25366309332127*hr($),Q=325.4494125711974+.07943456536662342*(Q=N-50)-28.0852963507957*hr(Q),xe=255),[$,Q,xe,1]},gr=_i,Ui=gr,Dl=y.unpack,Hi=Math.round,kh=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];for(var $=Dl(P,"rgb"),Q=$[0],xe=$[2],Me=1e3,pe=4e4,Le=.4,Oe;pe-Me>Le;){Oe=(pe+Me)*.5;var Ze=Ui(Oe);Ze[2]/Ze[0]>=xe/Q?pe=Oe:Me=Oe}return Hi(Oe)},Dh=kh,Ao=C,ro=L,ri=x,Ae=Dh;ro.prototype.temp=ro.prototype.kelvin=ro.prototype.temperature=function(){return Ae(this._rgb)},Ao.temp=Ao.kelvin=Ao.temperature=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(ro,[null].concat(P,["temp"])))},ri.format.temp=ri.format.kelvin=ri.format.temperature=gr;var Ye=y.unpack,Ne=Math.cbrt,Mt=Math.pow,Qt=Math.sign,In=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=Ye(P,"rgb"),Q=$[0],xe=$[1],Me=$[2],pe=[Wn(Q/255),Wn(xe/255),Wn(Me/255)],Le=pe[0],Oe=pe[1],Ze=pe[2],Qe=Ne(.4122214708*Le+.5363325363*Oe+.0514459929*Ze),yt=Ne(.2119034982*Le+.6806995451*Oe+.1073969566*Ze),st=Ne(.0883024619*Le+.2817188376*Oe+.6299787005*Ze);return[.2104542553*Qe+.793617785*yt-.0040720468*st,1.9779984951*Qe-2.428592205*yt+.4505937099*st,.0259040371*Qe+.7827717662*yt-.808675766*st]},vr=In;function Wn(P){var N=Math.abs(P);return N<.04045?P/12.92:(Qt(P)||1)*Mt((N+.055)/1.055,2.4)}var Ol=y.unpack,zl=Math.pow,Wi=Math.sign,Ru=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=Ol(P,"lab");var $=P[0],Q=P[1],xe=P[2],Me=zl($+.3963377774*Q+.2158037573*xe,3),pe=zl($-.1055613458*Q-.0638541728*xe,3),Le=zl($-.0894841775*Q-1.291485548*xe,3);return[255*Co(4.0767416621*Me-3.3077115913*pe+.2309699292*Le),255*Co(-1.2684380046*Me+2.6097574011*pe-.3413193965*Le),255*Co(-.0041960863*Me-.7034186147*pe+1.707614701*Le),P.length>3?P[3]:1]},Pu=Ru;function Co(P){var N=Math.abs(P);return N>.0031308?(Wi(P)||1)*(1.055*zl(N,1/2.4)-.055):P*12.92}var Iu=y.unpack,Lu=y.type,Bn=C,Oh=L,Qc=x,ef=vr;Oh.prototype.oklab=function(){return ef(this._rgb)},Bn.oklab=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(Oh,[null].concat(P,["oklab"])))},Qc.format.oklab=Pu,Qc.autodetect.push({p:3,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=Iu(P,"oklab"),Lu(P)==="array"&&P.length===3)return"oklab"}});var zh=y.unpack,tf=vr,Gg=wu,nf=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];var $=zh(P,"rgb"),Q=$[0],xe=$[1],Me=$[2],pe=tf(Q,xe,Me),Le=pe[0],Oe=pe[1],Ze=pe[2];return Gg(Le,Oe,Ze)},Ko=nf,rf=y.unpack,cs=bu,ii=Pu,Fh=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];P=rf(P,"lch");var $=P[0],Q=P[1],xe=P[2],Me=cs($,Q,xe),pe=Me[0],Le=Me[1],Oe=Me[2],Ze=ii(pe,Le,Oe),Qe=Ze[0],yt=Ze[1],st=Ze[2];return[Qe,yt,st,P.length>3?P[3]:1]},Nh=Fh,ku=y.unpack,sf=y.type,Fl=C,io=L,Nl=x,Bh=Ko;io.prototype.oklch=function(){return Bh(this._rgb)},Fl.oklch=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];return new(Function.prototype.bind.apply(io,[null].concat(P,["oklch"])))},Nl.format.oklch=Nh,Nl.autodetect.push({p:3,test:function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];if(P=ku(P,"oklch"),sf(P)==="array"&&P.length===3)return"oklch"}});var Uh=L,of=y.type;Uh.prototype.alpha=function(P,N){return N===void 0&&(N=!1),P!==void 0&&of(P)==="number"?N?(this._rgb[3]=P,this):new Uh([this._rgb[0],this._rgb[1],this._rgb[2],P],"rgb"):this._rgb[3]};var Du=L;Du.prototype.clipped=function(){return this._rgb._clipped||!1};var Cs=L,af=yu;Cs.prototype.darken=function(P){P===void 0&&(P=1);var N=this,$=N.lab();return $[0]-=af.Kn*P,new Cs($,"lab").alpha(N.alpha(),!0)},Cs.prototype.brighten=function(P){return P===void 0&&(P=1),this.darken(-P)},Cs.prototype.darker=Cs.prototype.darken,Cs.prototype.brighter=Cs.prototype.brighten;var Cp=L;Cp.prototype.get=function(P){var N=P.split("."),$=N[0],Q=N[1],xe=this[$]();if(Q){var Me=$.indexOf(Q)-($.substr(0,2)==="ok"?2:0);if(Me>-1)return xe[Me];throw new Error("unknown channel "+Q+" in mode "+$)}else return xe};var Jo=L,Hh=y.type,Rp=Math.pow,Kn=1e-7,or=20;Jo.prototype.luminance=function(P){if(P!==void 0&&Hh(P)==="number"){if(P===0)return new Jo([0,0,0,this._rgb[3]],"rgb");if(P===1)return new Jo([255,255,255,this._rgb[3]],"rgb");var N=this.luminance(),$="rgb",Q=or,xe=function(pe,Le){var Oe=pe.interpolate(Le,.5,$),Ze=Oe.luminance();return Math.abs(P-Ze)<Kn||!Q--?Oe:Ze>P?xe(pe,Oe):xe(Oe,Le)},Me=(N>P?xe(new Jo([0,0,0]),this):xe(this,new Jo([255,255,255]))).rgb();return new Jo(Me.concat([this._rgb[3]]))}return Ou.apply(void 0,this._rgb.slice(0,3))};var Ou=function(P,N,$){return P=Oa(P),N=Oa(N),$=Oa($),.2126*P+.7152*N+.0722*$},Oa=function(P){return P/=255,P<=.03928?P/12.92:Rp((P+.055)/1.055,2.4)},si={},zu=L,Fu=y.type,fs=si,lf=function(P,N,$){$===void 0&&($=.5);for(var Q=[],xe=arguments.length-3;xe-- >0;)Q[xe]=arguments[xe+3];var Me=Q[0]||"lrgb";if(!fs[Me]&&!Q.length&&(Me=Object.keys(fs)[0]),!fs[Me])throw new Error("interpolation mode "+Me+" is not defined");return Fu(P)!=="object"&&(P=new zu(P)),Fu(N)!=="object"&&(N=new zu(N)),fs[Me](P,N,$).alpha(P.alpha()+$*(N.alpha()-P.alpha()))},za=L,Fa=lf;za.prototype.mix=za.prototype.interpolate=function(P,N){N===void 0&&(N=.5);for(var $=[],Q=arguments.length-2;Q-- >0;)$[Q]=arguments[Q+2];return Fa.apply(void 0,[this,P,N].concat($))};var Qo=L;Qo.prototype.premultiply=function(P){P===void 0&&(P=!1);var N=this._rgb,$=N[3];return P?(this._rgb=[N[0]*$,N[1]*$,N[2]*$,$],this):new Qo([N[0]*$,N[1]*$,N[2]*$,$],"rgb")};var Bl=L,Na=yu;Bl.prototype.saturate=function(P){P===void 0&&(P=1);var N=this,$=N.lch();return $[1]+=Na.Kn*P,$[1]<0&&($[1]=0),new Bl($,"lch").alpha(N.alpha(),!0)},Bl.prototype.desaturate=function(P){return P===void 0&&(P=1),this.saturate(-P)};var Wh=L,Pp=y.type;Wh.prototype.set=function(P,N,$){$===void 0&&($=!1);var Q=P.split("."),xe=Q[0],Me=Q[1],pe=this[xe]();if(Me){var Le=xe.indexOf(Me)-(xe.substr(0,2)==="ok"?2:0);if(Le>-1){if(Pp(N)=="string")switch(N.charAt(0)){case"+":pe[Le]+=+N;break;case"-":pe[Le]+=+N;break;case"*":pe[Le]*=+N.substr(1);break;case"/":pe[Le]/=+N.substr(1);break;default:pe[Le]=+N}else if(Pp(N)==="number")pe[Le]=N;else throw new Error("unsupported value for Color.set");var Oe=new Wh(pe,xe);return $?(this._rgb=Oe._rgb,this):Oe}throw new Error("unknown channel "+Me+" in mode "+xe)}else return pe};var Ip=L,$g=function(P,N,$){var Q=P._rgb,xe=N._rgb;return new Ip(Q[0]+$*(xe[0]-Q[0]),Q[1]+$*(xe[1]-Q[1]),Q[2]+$*(xe[2]-Q[2]),"rgb")};si.rgb=$g;var Lp=L,Ul=Math.sqrt,Rs=Math.pow,Vh=function(P,N,$){var Q=P._rgb,xe=Q[0],Me=Q[1],pe=Q[2],Le=N._rgb,Oe=Le[0],Ze=Le[1],Qe=Le[2];return new Lp(Ul(Rs(xe,2)*(1-$)+Rs(Oe,2)*$),Ul(Rs(Me,2)*(1-$)+Rs(Ze,2)*$),Ul(Rs(pe,2)*(1-$)+Rs(Qe,2)*$),"rgb")};si.lrgb=Vh;var X=L,Ba=function(P,N,$){var Q=P.lab(),xe=N.lab();return new X(Q[0]+$*(xe[0]-Q[0]),Q[1]+$*(xe[1]-Q[1]),Q[2]+$*(xe[2]-Q[2]),"lab")};si.lab=Ba;var Hl=L,Kr=function(P,N,$,Q){var xe,Me,pe,Le;Q==="hsl"?(pe=P.hsl(),Le=N.hsl()):Q==="hsv"?(pe=P.hsv(),Le=N.hsv()):Q==="hcg"?(pe=P.hcg(),Le=N.hcg()):Q==="hsi"?(pe=P.hsi(),Le=N.hsi()):Q==="lch"||Q==="hcl"?(Q="hcl",pe=P.hcl(),Le=N.hcl()):Q==="oklch"&&(pe=P.oklch().reverse(),Le=N.oklch().reverse());var Oe,Ze,Qe,yt,st,Tt;(Q.substr(0,1)==="h"||Q==="oklch")&&(xe=pe,Oe=xe[0],Qe=xe[1],st=xe[2],Me=Le,Ze=Me[0],yt=Me[1],Tt=Me[2]);var At,f,h,b;return!isNaN(Oe)&&!isNaN(Ze)?(Ze>Oe&&Ze-Oe>180?b=Ze-(Oe+360):Ze<Oe&&Oe-Ze>180?b=Ze+360-Oe:b=Ze-Oe,f=Oe+$*b):isNaN(Oe)?isNaN(Ze)?f=Number.NaN:(f=Ze,(st==1||st==0)&&Q!="hsv"&&(At=yt)):(f=Oe,(Tt==1||Tt==0)&&Q!="hsv"&&(At=Qe)),At===void 0&&(At=Qe+$*(yt-Qe)),h=st+$*(Tt-st),Q==="oklch"?new Hl([h,At,f],Q):new Hl([f,At,h],Q)},wn=Kr,uf=function(P,N,$){return wn(P,N,$,"lch")};si.lch=uf,si.hcl=uf;var kp=L,Gh=function(P,N,$){var Q=P.num(),xe=N.num();return new kp(Q+$*(xe-Q),"num")};si.num=Gh;var ea=Kr,cf=function(P,N,$){return ea(P,N,$,"hcg")};si.hcg=cf;var jg=Kr,ff=function(P,N,$){return jg(P,N,$,"hsi")};si.hsi=ff;var hf=Kr,df=function(P,N,$){return hf(P,N,$,"hsl")};si.hsl=df;var hs=Kr,pf=function(P,N,$){return hs(P,N,$,"hsv")};si.hsv=pf;var Nu=L,$h=function(P,N,$){var Q=P.oklab(),xe=N.oklab();return new Nu(Q[0]+$*(xe[0]-Q[0]),Q[1]+$*(xe[1]-Q[1]),Q[2]+$*(xe[2]-Q[2]),"oklab")};si.oklab=$h;var jh=Kr,qh=function(P,N,$){return jh(P,N,$,"oklch")};si.oklch=qh;var ds=L,Yh=y.clip_rgb,Wl=Math.pow,Xh=Math.sqrt,Zh=Math.PI,Bu=Math.cos,so=Math.sin,Kh=Math.atan2,Ht=function(P,N,$){N===void 0&&(N="lrgb"),$===void 0&&($=null);var Q=P.length;$||($=Array.from(new Array(Q)).map(function(){return 1}));var xe=Q/$.reduce(function(f,h){return f+h});if($.forEach(function(f,h){$[h]*=xe}),P=P.map(function(f){return new ds(f)}),N==="lrgb")return ar(P,$);for(var Me=P.shift(),pe=Me.get(N),Le=[],Oe=0,Ze=0,Qe=0;Qe<pe.length;Qe++)if(pe[Qe]=(pe[Qe]||0)*$[0],Le.push(isNaN(pe[Qe])?0:$[0]),N.charAt(Qe)==="h"&&!isNaN(pe[Qe])){var yt=pe[Qe]/180*Zh;Oe+=Bu(yt)*$[0],Ze+=so(yt)*$[0]}var st=Me.alpha()*$[0];P.forEach(function(f,h){var b=f.get(N);st+=f.alpha()*$[h+1];for(var R=0;R<pe.length;R++)if(!isNaN(b[R]))if(Le[R]+=$[h+1],N.charAt(R)==="h"){var D=b[R]/180*Zh;Oe+=Bu(D)*$[h+1],Ze+=so(D)*$[h+1]}else pe[R]+=b[R]*$[h+1]});for(var Tt=0;Tt<pe.length;Tt++)if(N.charAt(Tt)==="h"){for(var At=Kh(Ze/Le[Tt],Oe/Le[Tt])/Zh*180;At<0;)At+=360;for(;At>=360;)At-=360;pe[Tt]=At}else pe[Tt]=pe[Tt]/Le[Tt];return st/=Q,new ds(pe,N).alpha(st>.99999?1:st,!0)},ar=function(P,N){for(var $=P.length,Q=[0,0,0,0],xe=0;xe<P.length;xe++){var Me=P[xe],pe=N[xe]/$,Le=Me._rgb;Q[0]+=Wl(Le[0],2)*pe,Q[1]+=Wl(Le[1],2)*pe,Q[2]+=Wl(Le[2],2)*pe,Q[3]+=Le[3]*pe}return Q[0]=Xh(Q[0]),Q[1]=Xh(Q[1]),Q[2]=Xh(Q[2]),Q[3]>.9999999&&(Q[3]=1),new ds(Yh(Q))},jn=C,Mr=y.type,Ua=Math.pow,Uu=function(P){var N="rgb",$=jn("#ccc"),Q=0,xe=[0,1],Me=[],pe=[0,0],Le=!1,Oe=[],Ze=!1,Qe=0,yt=1,st=!1,Tt={},At=!0,f=1,h=function(ve){if(ve=ve||["#fff","#000"],ve&&Mr(ve)==="string"&&jn.brewer&&jn.brewer[ve.toLowerCase()]&&(ve=jn.brewer[ve.toLowerCase()]),Mr(ve)==="array"){ve.length===1&&(ve=[ve[0],ve[0]]),ve=ve.slice(0);for(var je=0;je<ve.length;je++)ve[je]=jn(ve[je]);Me.length=0;for(var lt=0;lt<ve.length;lt++)Me.push(lt/(ve.length-1))}return se(),Oe=ve},b=function(ve){if(Le!=null){for(var je=Le.length-1,lt=0;lt<je&&ve>=Le[lt];)lt++;return lt-1}return 0},R=function(ve){return ve},D=function(ve){return ve},W=function(ve,je){var lt,ct;if(je==null&&(je=!1),isNaN(ve)||ve===null)return $;if(je)ct=ve;else if(Le&&Le.length>2){var pt=b(ve);ct=pt/(Le.length-2)}else yt!==Qe?ct=(ve-Qe)/(yt-Qe):ct=1;ct=D(ct),je||(ct=R(ct)),f!==1&&(ct=Ua(ct,f)),ct=pe[0]+ct*(1-pe[0]-pe[1]),ct=Math.min(1,Math.max(0,ct));var Dt=Math.floor(ct*1e4);if(At&&Tt[Dt])lt=Tt[Dt];else{if(Mr(Oe)==="array")for(var Ot=0;Ot<Me.length;Ot++){var on=Me[Ot];if(ct<=on){lt=Oe[Ot];break}if(ct>=on&&Ot===Me.length-1){lt=Oe[Ot];break}if(ct>on&&ct<Me[Ot+1]){ct=(ct-on)/(Me[Ot+1]-on),lt=jn.interpolate(Oe[Ot],Oe[Ot+1],ct,N);break}}else Mr(Oe)==="function"&&(lt=Oe(ct));At&&(Tt[Dt]=lt)}return lt},se=function(){return Tt={}};h(P);var me=function(ve){var je=jn(W(ve));return Ze&&je[Ze]?je[Ze]():je};return me.classes=function(ve){if(ve!=null){if(Mr(ve)==="array")Le=ve,xe=[ve[0],ve[ve.length-1]];else{var je=jn.analyze(xe);ve===0?Le=[je.min,je.max]:Le=jn.limits(je,"e",ve)}return me}return Le},me.domain=function(ve){if(!arguments.length)return xe;Qe=ve[0],yt=ve[ve.length-1],Me=[];var je=Oe.length;if(ve.length===je&&Qe!==yt)for(var lt=0,ct=Array.from(ve);lt<ct.length;lt+=1){var pt=ct[lt];Me.push((pt-Qe)/(yt-Qe))}else{for(var Dt=0;Dt<je;Dt++)Me.push(Dt/(je-1));if(ve.length>2){var Ot=ve.map(function(Ce,be){return be/(ve.length-1)}),on=ve.map(function(Ce){return(Ce-Qe)/(yt-Qe)});on.every(function(Ce,be){return Ot[be]===Ce})||(D=function(Ce){if(Ce<=0||Ce>=1)return Ce;for(var be=0;Ce>=on[be+1];)be++;var Ge=(Ce-on[be])/(on[be+1]-on[be]),gt=Ot[be]+Ge*(Ot[be+1]-Ot[be]);return gt})}}return xe=[Qe,yt],me},me.mode=function(ve){return arguments.length?(N=ve,se(),me):N},me.range=function(ve,je){return h(ve),me},me.out=function(ve){return Ze=ve,me},me.spread=function(ve){return arguments.length?(Q=ve,me):Q},me.correctLightness=function(ve){return ve==null&&(ve=!0),st=ve,se(),st?R=function(je){for(var lt=W(0,!0).lab()[0],ct=W(1,!0).lab()[0],pt=lt>ct,Dt=W(je,!0).lab()[0],Ot=lt+(ct-lt)*je,on=Dt-Ot,Ce=0,be=1,Ge=20;Math.abs(on)>.01&&Ge-- >0;)(function(){return pt&&(on*=-1),on<0?(Ce=je,je+=(be-je)*.5):(be=je,je+=(Ce-je)*.5),Dt=W(je,!0).lab()[0],on=Dt-Ot})();return je}:R=function(je){return je},me},me.padding=function(ve){return ve!=null?(Mr(ve)==="number"&&(ve=[ve,ve]),pe=ve,me):pe},me.colors=function(ve,je){arguments.length<2&&(je="hex");var lt=[];if(arguments.length===0)lt=Oe.slice(0);else if(ve===1)lt=[me(.5)];else if(ve>1){var ct=xe[0],pt=xe[1]-ct;lt=oi(0,ve,!1).map(function(be){return me(ct+be/(ve-1)*pt)})}else{P=[];var Dt=[];if(Le&&Le.length>2)for(var Ot=1,on=Le.length,Ce=1<=on;Ce?Ot<on:Ot>on;Ce?Ot++:Ot--)Dt.push((Le[Ot-1]+Le[Ot])*.5);else Dt=xe;lt=Dt.map(function(be){return me(be)})}return jn[je]&&(lt=lt.map(function(be){return be[je]()})),lt},me.cache=function(ve){return ve!=null?(At=ve,me):At},me.gamma=function(ve){return ve!=null?(f=ve,me):f},me.nodata=function(ve){return ve!=null?($=jn(ve),me):$},me};function oi(P,N,$){for(var Q=[],xe=P<N,Me=$?xe?N+1:N-1:N,pe=P;xe?pe<Me:pe>Me;xe?pe++:pe--)Q.push(pe);return Q}var Ro=L,Ha=Uu,Hu=function(P){for(var N=[1,1],$=1;$<P;$++){for(var Q=[1],xe=1;xe<=N.length;xe++)Q[xe]=(N[xe]||0)+N[xe-1];N=Q}return N},Vl=function(P){var N,$,Q,xe,Me,pe,Le;if(P=P.map(function(st){return new Ro(st)}),P.length===2)N=P.map(function(st){return st.lab()}),Me=N[0],pe=N[1],xe=function(st){var Tt=[0,1,2].map(function(At){return Me[At]+st*(pe[At]-Me[At])});return new Ro(Tt,"lab")};else if(P.length===3)$=P.map(function(st){return st.lab()}),Me=$[0],pe=$[1],Le=$[2],xe=function(st){var Tt=[0,1,2].map(function(At){return(1-st)*(1-st)*Me[At]+2*(1-st)*st*pe[At]+st*st*Le[At]});return new Ro(Tt,"lab")};else if(P.length===4){var Oe;Q=P.map(function(st){return st.lab()}),Me=Q[0],pe=Q[1],Le=Q[2],Oe=Q[3],xe=function(st){var Tt=[0,1,2].map(function(At){return(1-st)*(1-st)*(1-st)*Me[At]+3*(1-st)*(1-st)*st*pe[At]+3*(1-st)*st*st*Le[At]+st*st*st*Oe[At]});return new Ro(Tt,"lab")}}else if(P.length>=5){var Ze,Qe,yt;Ze=P.map(function(st){return st.lab()}),yt=P.length-1,Qe=Hu(yt),xe=function(st){var Tt=1-st,At=[0,1,2].map(function(f){return Ze.reduce(function(h,b,R){return h+Qe[R]*Math.pow(Tt,yt-R)*Math.pow(st,R)*b[f]},0)});return new Ro(At,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return xe},Wu=function(P){var N=Vl(P);return N.scale=function(){return Ha(N)},N},Po=C,xi=function(P,N,$){if(!xi[$])throw new Error("unknown blend mode "+$);return xi[$](P,N)},oo=function(P){return function(N,$){var Q=Po($).rgb(),xe=Po(N).rgb();return Po.rgb(P(Q,xe))}},wi=function(P){return function(N,$){var Q=[];return Q[0]=P(N[0],$[0]),Q[1]=P(N[1],$[1]),Q[2]=P(N[2],$[2]),Q}},Rt=function(P){return P},ps=function(P,N){return P*N/255},Vu=function(P,N){return P>N?N:P},bi=function(P,N){return P>N?P:N},Nr=function(P,N){return 255*(1-(1-P/255)*(1-N/255))},Gu=function(P,N){return N<128?2*P*N/255:255*(1-2*(1-P/255)*(1-N/255))},Gl=function(P,N){return 255*(1-(1-N/255)/(P/255))},mf=function(P,N){return P===255?255:(P=255*(N/255)/(1-P/255),P>255?255:P)};xi.normal=oo(wi(Rt)),xi.multiply=oo(wi(ps)),xi.screen=oo(wi(Nr)),xi.overlay=oo(wi(Gu)),xi.darken=oo(wi(Vu)),xi.lighten=oo(wi(bi)),xi.dodge=oo(wi(mf)),xi.burn=oo(wi(Gl));for(var Wa=xi,Jr=y.type,$l=y.clip_rgb,Jh=y.TWOPI,Va=Math.pow,Io=Math.sin,$u=Math.cos,wr=C,Ga=function(P,N,$,Q,xe){P===void 0&&(P=300),N===void 0&&(N=-1.5),$===void 0&&($=1),Q===void 0&&(Q=1),xe===void 0&&(xe=[0,1]);var Me=0,pe;Jr(xe)==="array"?pe=xe[1]-xe[0]:(pe=0,xe=[xe,xe]);var Le=function(Oe){var Ze=Jh*((P+120)/360+N*Oe),Qe=Va(xe[0]+pe*Oe,Q),yt=Me!==0?$[0]+Oe*Me:$,st=yt*Qe*(1-Qe)/2,Tt=$u(Ze),At=Io(Ze),f=Qe+st*(-.14861*Tt+1.78277*At),h=Qe+st*(-.29227*Tt-.90649*At),b=Qe+st*(1.97294*Tt);return wr($l([f*255,h*255,b*255,1]))};return Le.start=function(Oe){return Oe==null?P:(P=Oe,Le)},Le.rotations=function(Oe){return Oe==null?N:(N=Oe,Le)},Le.gamma=function(Oe){return Oe==null?Q:(Q=Oe,Le)},Le.hue=function(Oe){return Oe==null?$:($=Oe,Jr($)==="array"?(Me=$[1]-$[0],Me===0&&($=$[1])):Me=0,Le)},Le.lightness=function(Oe){return Oe==null?xe:(Jr(Oe)==="array"?(xe=Oe,pe=Oe[1]-Oe[0]):(xe=[Oe,Oe],pe=0),Le)},Le.scale=function(){return wr.scale(Le)},Le.hue($),Le},Li=L,ai="0123456789abcdef",Ps=Math.floor,$a=Math.random,Br=function(){for(var P="#",N=0;N<6;N++)P+=ai.charAt(Ps($a()*16));return new Li(P,"hex")},ju=c,Tr=Math.log,qu=Math.pow,qg=Math.floor,Dp=Math.abs,Qh=function(P,N){N===void 0&&(N=null);var $={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ju(P)==="object"&&(P=Object.values(P)),P.forEach(function(Q){N&&ju(Q)==="object"&&(Q=Q[N]),Q!=null&&!isNaN(Q)&&($.values.push(Q),$.sum+=Q,Q<$.min&&($.min=Q),Q>$.max&&($.max=Q),$.count+=1)}),$.domain=[$.min,$.max],$.limits=function(Q,xe){return ja($,Q,xe)},$},ja=function(P,N,$){N===void 0&&(N="equal"),$===void 0&&($=7),ju(P)=="array"&&(P=Qh(P));var Q=P.min,xe=P.max,Me=P.values.sort(function(id,Xg){return id-Xg});if($===1)return[Q,xe];var pe=[];if(N.substr(0,1)==="c"&&(pe.push(Q),pe.push(xe)),N.substr(0,1)==="e"){pe.push(Q);for(var Le=1;Le<$;Le++)pe.push(Q+Le/$*(xe-Q));pe.push(xe)}else if(N.substr(0,1)==="l"){if(Q<=0)throw new Error("Logarithmic scales are only possible for values > 0");var Oe=Math.LOG10E*Tr(Q),Ze=Math.LOG10E*Tr(xe);pe.push(Q);for(var Qe=1;Qe<$;Qe++)pe.push(qu(10,Oe+Qe/$*(Ze-Oe)));pe.push(xe)}else if(N.substr(0,1)==="q"){pe.push(Q);for(var yt=1;yt<$;yt++){var st=(Me.length-1)*yt/$,Tt=qg(st);if(Tt===st)pe.push(Me[Tt]);else{var At=st-Tt;pe.push(Me[Tt]*(1-At)+Me[Tt+1]*At)}}pe.push(xe)}else if(N.substr(0,1)==="k"){var f,h=Me.length,b=new Array(h),R=new Array($),D=!0,W=0,se=null;se=[],se.push(Q);for(var me=1;me<$;me++)se.push(Q+me/$*(xe-Q));for(se.push(xe);D;){for(var ve=0;ve<$;ve++)R[ve]=0;for(var je=0;je<h;je++)for(var lt=Me[je],ct=Number.MAX_VALUE,pt=void 0,Dt=0;Dt<$;Dt++){var Ot=Dp(se[Dt]-lt);Ot<ct&&(ct=Ot,pt=Dt),R[pt]++,b[je]=pt}for(var on=new Array($),Ce=0;Ce<$;Ce++)on[Ce]=null;for(var be=0;be<h;be++)f=b[be],on[f]===null?on[f]=Me[be]:on[f]+=Me[be];for(var Ge=0;Ge<$;Ge++)on[Ge]*=1/R[Ge];D=!1;for(var gt=0;gt<$;gt++)if(on[gt]!==se[gt]){D=!0;break}se=on,W++,W>200&&(D=!1)}for(var It={},zn=0;zn<$;zn++)It[zn]=[];for(var $t=0;$t<h;$t++)f=b[$t],It[f].push(Me[$t]);for(var gn=[],Jn=0;Jn<$;Jn++)gn.push(It[Jn][0]),gn.push(It[Jn][It[Jn].length-1]);gn=gn.sort(function(id,Xg){return id-Xg}),pe.push(gn[0]);for(var Wt=1;Wt<gn.length;Wt+=2){var yr=gn[Wt];!isNaN(yr)&&pe.indexOf(yr)===-1&&pe.push(yr)}}return pe},gf={analyze:Qh,limits:ja},Is=L,ed=function(P,N){P=new Is(P),N=new Is(N);var $=P.luminance(),Q=N.luminance();return $>Q?($+.05)/(Q+.05):(Q+.05)/($+.05)},td=L,Qi=Math.sqrt,dr=Math.pow,Yg=Math.min,Op=Math.max,Yu=Math.atan2,Lo=Math.abs,vf=Math.cos,zp=Math.sin,ko=Math.exp,nd=Math.PI,yf=function(P,N,$,Q,xe){$===void 0&&($=1),Q===void 0&&(Q=1),xe===void 0&&(xe=1);var Me=function(yr){return 360*yr/(2*nd)},pe=function(yr){return 2*nd*yr/360};P=new td(P),N=new td(N);var Le=Array.from(P.lab()),Oe=Le[0],Ze=Le[1],Qe=Le[2],yt=Array.from(N.lab()),st=yt[0],Tt=yt[1],At=yt[2],f=(Oe+st)/2,h=Qi(dr(Ze,2)+dr(Qe,2)),b=Qi(dr(Tt,2)+dr(At,2)),R=(h+b)/2,D=.5*(1-Qi(dr(R,7)/(dr(R,7)+dr(25,7)))),W=Ze*(1+D),se=Tt*(1+D),me=Qi(dr(W,2)+dr(Qe,2)),ve=Qi(dr(se,2)+dr(At,2)),je=(me+ve)/2,lt=Me(Yu(Qe,W)),ct=Me(Yu(At,se)),pt=lt>=0?lt:lt+360,Dt=ct>=0?ct:ct+360,Ot=Lo(pt-Dt)>180?(pt+Dt+360)/2:(pt+Dt)/2,on=1-.17*vf(pe(Ot-30))+.24*vf(pe(2*Ot))+.32*vf(pe(3*Ot+6))-.2*vf(pe(4*Ot-63)),Ce=Dt-pt;Ce=Lo(Ce)<=180?Ce:Dt<=pt?Ce+360:Ce-360,Ce=2*Qi(me*ve)*zp(pe(Ce)/2);var be=st-Oe,Ge=ve-me,gt=1+.015*dr(f-50,2)/Qi(20+dr(f-50,2)),It=1+.045*je,zn=1+.015*je*on,$t=30*ko(-dr((Ot-275)/25,2)),gn=2*Qi(dr(je,7)/(dr(je,7)+dr(25,7))),Jn=-gn*zp(2*pe($t)),Wt=Qi(dr(be/($*gt),2)+dr(Ge/(Q*It),2)+dr(Ce/(xe*zn),2)+Jn*(Ge/(Q*It))*(Ce/(xe*zn)));return Op(0,Yg(100,Wt))},Fp=L,_f=function(P,N,$){$===void 0&&($="lab"),P=new Fp(P),N=new Fp(N);var Q=P.get($),xe=N.get($),Me=0;for(var pe in Q){var Le=(Q[pe]||0)-(xe[pe]||0);Me+=Le*Le}return Math.sqrt(Me)},Do=L,Np=function(){for(var P=[],N=arguments.length;N--;)P[N]=arguments[N];try{return new(Function.prototype.bind.apply(Do,[null].concat(P))),!0}catch{return!1}},rd=C,jl=Uu,xf={cool:function(){return jl([rd.hsl(180,1,.9),rd.hsl(250,.7,.4)])},hot:function(){return jl(["#000","#f00","#ff0","#fff"]).mode("rgb")}},qa={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Xu=0,wf=Object.keys(qa);Xu<wf.length;Xu+=1){var bf=wf[Xu];qa[bf.toLowerCase()]=qa[bf]}var Sf=qa,Ar=C;Ar.average=Ht,Ar.bezier=Wu,Ar.blend=Wa,Ar.cubehelix=Ga,Ar.mix=Ar.interpolate=lf,Ar.random=Br,Ar.scale=Uu,Ar.analyze=gf.analyze,Ar.contrast=ed,Ar.deltaE=yf,Ar.distance=_f,Ar.limits=gf.limits,Ar.valid=Np,Ar.scales=xf,Ar.colors=Ni,Ar.brewer=Sf;var Bp=Ar;return Bp})})(hN);var dN=hN.exports;function pN(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function tw(...n){return Z.exports.useCallback(pN(...n),n)}const QT=Z.exports.forwardRef((n,e)=>{const{children:t,...r}=n;return Z.exports.Children.toArray(t).some(QP)?Z.exports.createElement(Z.exports.Fragment,null,Z.exports.Children.map(t,i=>QP(i)?Z.exports.createElement(i2,Ri({},r,{ref:e}),i.props.children):i)):Z.exports.createElement(i2,Ri({},r,{ref:e}),t)});QT.displayName="Slot";const i2=Z.exports.forwardRef((n,e)=>{const{children:t,...r}=n;return Z.exports.isValidElement(t)?Z.exports.cloneElement(t,{...ute(r,t.props),ref:pN(e,t.ref)}):Z.exports.Children.count(t)>1?Z.exports.Children.only(null):null});i2.displayName="SlotClone";const mN=({children:n})=>Z.exports.createElement(Z.exports.Fragment,null,n);function QP(n){return Z.exports.isValidElement(n)&&n.type===mN}function ute(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?t[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const cte=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:Z.exports.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?QT:e;return Z.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),Z.exports.createElement(o,Ri({},s,{ref:r}))})}),{}),kv=Boolean(globalThis==null?void 0:globalThis.document)?Z.exports.useLayoutEffect:()=>{},fte=Z.exports.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=Z.exports.useState({});return kv(()=>{l({})},[]),a?wM.createPortal(Z.exports.createElement(cte.div,Ri({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),hte=fte;var eI=Object.prototype.hasOwnProperty;function Dv(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Dv(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(eI.call(n,t)&&++r&&!eI.call(e,t)||!(t in e)||!Dv(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var nw=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};nw.prototype._test=function(e){var t=this.fn;try{Ym(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Ym(this.modifiers.slice(),t,this)(e)}catch{return!1}};nw.prototype._check=function(e){try{Ym(this.modifiers.slice(),this.fn,this)(e)}catch{if(Ym(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Ym(this.modifiers.slice(),this.fn,this)(e))throw null};nw.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){vN(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function gN(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Ym(n,e,t){if(n.length){var r=n.shift(),i=Ym(n,e,t);return r.perform(i,t)}else return gN(e)}function vN(n,e,t){if(n.length){var r=n.shift(),i=vN(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(gN(e,"async")(s))}}var dte=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},eA=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),cu=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};cu.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new nw(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};cu.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new dte(t,e.simple,e.async)),this};cu.prototype._clone=function(){return new cu(this.chain.slice(),this.nextRuleModifiers.slice())};cu.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};cu.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new eA(r,e,i))}}),t};cu.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new eA(t,e,r)}})};cu.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){yN(e,t.chain.slice(),r,i)})};function yN(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){yN(n,e,t,r)},function(s){r(new eA(i,n,s))})}else t(n)}var tI=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function pte(n,e){return e===void 0&&(e=!1),{simple:function(t){return tI(t,e)||n.check(t)===void 0},async:function(t){return tI(t,e)||n.testAsync(t)}}}function po(){return typeof Proxy!="undefined"?_N(new cu):s2(new cu)}var Ov={};po.extend=function(n){Object.assign(Ov,n)};po.clearCustomRules=function(){Ov={}};function _N(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=_N(n._clone());if(r in q1)return i._applyModifier(q1[r],r);if(r in Ov)return i._applyRule(Ov[r],r);if(r in o2)return i._applyRule(o2[r],r)}})}function s2(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=s2(s._clone()),p=c._applyRule(i[o],o).apply(void 0,a);return p}}),s},t=e(o2,n),r=e(Ov,t);return Object.keys(q1).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=s2(r._clone());return s._applyModifier(q1[i],i)}})}),r}var q1={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return L_(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(L_(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&L_(e).every(n)}},async:function(n){return function(e){return Promise.all(L_(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return nI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return nI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function nI(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function L_(n){return typeof n=="string"?n.split(""):n}var o2={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||mte;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return pm("string")},boolean:function(){return pm("boolean")},undefined:function(){return pm("undefined")},null:function(){return pm("null")},array:function(){return pm("array")},object:function(){return pm("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return gte(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:pte};function pm(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function mte(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function gte(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var pr="colors",Os="sizes",kt="space",vte={gap:kt,gridGap:kt,columnGap:kt,gridColumnGap:kt,rowGap:kt,gridRowGap:kt,inset:kt,insetBlock:kt,insetBlockEnd:kt,insetBlockStart:kt,insetInline:kt,insetInlineEnd:kt,insetInlineStart:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,marginBlock:kt,marginBlockEnd:kt,marginBlockStart:kt,marginInline:kt,marginInlineEnd:kt,marginInlineStart:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,paddingBlock:kt,paddingBlockEnd:kt,paddingBlockStart:kt,paddingInline:kt,paddingInlineEnd:kt,paddingInlineStart:kt,top:kt,right:kt,bottom:kt,left:kt,scrollMargin:kt,scrollMarginTop:kt,scrollMarginRight:kt,scrollMarginBottom:kt,scrollMarginLeft:kt,scrollMarginX:kt,scrollMarginY:kt,scrollMarginBlock:kt,scrollMarginBlockEnd:kt,scrollMarginBlockStart:kt,scrollMarginInline:kt,scrollMarginInlineEnd:kt,scrollMarginInlineStart:kt,scrollPadding:kt,scrollPaddingTop:kt,scrollPaddingRight:kt,scrollPaddingBottom:kt,scrollPaddingLeft:kt,scrollPaddingX:kt,scrollPaddingY:kt,scrollPaddingBlock:kt,scrollPaddingBlockEnd:kt,scrollPaddingBlockStart:kt,scrollPaddingInline:kt,scrollPaddingInlineEnd:kt,scrollPaddingInlineStart:kt,fontSize:"fontSizes",background:pr,backgroundColor:pr,backgroundImage:pr,borderImage:pr,border:pr,borderBlock:pr,borderBlockEnd:pr,borderBlockStart:pr,borderBottom:pr,borderBottomColor:pr,borderColor:pr,borderInline:pr,borderInlineEnd:pr,borderInlineStart:pr,borderLeft:pr,borderLeftColor:pr,borderRight:pr,borderRightColor:pr,borderTop:pr,borderTopColor:pr,caretColor:pr,color:pr,columnRuleColor:pr,fill:pr,outline:pr,outlineColor:pr,stroke:pr,textDecorationColor:pr,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Os,minBlockSize:Os,maxBlockSize:Os,inlineSize:Os,minInlineSize:Os,maxInlineSize:Os,width:Os,minWidth:Os,maxWidth:Os,height:Os,minHeight:Os,maxHeight:Os,flexBasis:Os,gridTemplateColumns:Os,gridTemplateRows:Os,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},yte=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ng=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,yte))(e);return i in n?n[i]:n[i]=t(e,...r)}},Nd=Symbol.for("sxs.internal"),tA=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),rI=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:_te}=Object.prototype,a2=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),xte=/\s+(?![^()]*\))/,mm=n=>e=>n(...typeof e=="string"?String(e).split(xte):[e]),iI={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:mm((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:mm((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:mm((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:mm((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:mm((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:mm((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Qb=/([\d.]+)([^]*)/,wte=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,bte=(n,e)=>n in Ste&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${a2(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${a2(n)}:${r}fit-content`)+s):String(e),Ste={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Rc=n=>n?n+"-":"",xN=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Rc(e)+(a.includes("$")?"":Rc(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Ete=/\s*,\s*(?![^()]*\))/,Mte=Object.prototype.toString,Om=(n,e,t,r,i)=>{let s,o,a;const l=(c,p,m)=>{let d,v;const _=y=>{for(d in y){const S=d.charCodeAt(0)===64,M=S&&Array.isArray(y[d])?y[d]:[y[d]];for(v of M){const T=/[A-Z]/.test(w=d)?w:w.replace(/-[^]/g,L=>L[1].toUpperCase()),A=typeof v=="object"&&v&&v.toString===Mte&&(!r.utils[T]||!p.length);if(T in r.utils&&!A){const L=r.utils[T];if(L!==o){o=L,_(L(v)),o=null;continue}}else if(T in iI){const L=iI[T];if(L!==a){a=L,_(L(v)),a=null;continue}}if(S&&(x=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=x.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(L,z,C,F,H,q)=>{const B=Qb.test(z),Y=.0625*(B?-1:1),[I,te]=B?[F,z]:[z,F];return"("+(C[0]==="="?"":C[0]===">"===B?"max-":"min-")+I+":"+(C[0]!=="="&&C.length===1?te.replace(Qb,(ce,le,ae)=>Number(le)+Y*(C===">"?1:-1)+ae):te)+(H?") and ("+(H[0]===">"?"min-":"max-")+I+":"+(H.length===1?q.replace(Qb,(ce,le,ae)=>Number(le)+Y*(H===">"?-1:1)+ae):q):"")+")"})),A){const L=S?m.concat(d):[...m],z=S?[...p]:wte(p,d.split(Ete));s!==void 0&&i(sI(...s)),s=void 0,l(v,z,L)}else s===void 0&&(s=[[],p,m]),d=S||d.charCodeAt(0)!==36?d:`--${Rc(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,v=A?v:typeof v=="number"?v&&T in Tte?String(v)+"px":String(v):xN(bte(T,v==null?"":v),r.prefix,r.themeMap[T]),s[0].push(`${S?`${d} `:`${a2(d)}:`}${v}`)}}var x,w};_(c),s!==void 0&&i(sI(...s)),s=void 0};l(n,e,t)},sI=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Tte={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},oI=n=>String.fromCharCode(n+(n>25?39:97)),Bd=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=oI(t%52)+r;return oI(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),A0=["themed","global","styled","onevar","resonevar","allvar","inline"],Ate=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Cte=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(Ate(a)){for(let l=0,c=a.cssRules;c[l];++l){const p=Object(c[l]);if(p.type!==1)continue;const m=Object(c[l+1]);if(m.type!==4)continue;++l;const{cssText:d}=p;if(!d.startsWith("--sxs"))continue;const v=d.slice(14,-3).trim().split(/\s+/),_=A0[v[0]];_&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[_]={group:m,index:l,cache:new Set(v)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(p,m){this.cssRules.splice(m,0,a(p,{import:3,undefined:1}[(p.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,p=>p.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=A0.length-1;a>=0;--a){const l=A0[a];if(!o[l]){const c=A0[a+1],p=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",p),s.insertRule(`--sxs{--sxs:${a}}`,p),o[l]={group:s.cssRules[p+1],index:p,cache:new Set([a])}}Rte(o[l])}};return r(),e},Rte=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},_0=Symbol(),Pte=Ng(),aI=(n,e)=>Pte(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Nd]){r.type==null&&(r.type=i[Nd].type);for(const s of i[Nd].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Ite(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Lte(n,r,e)}),Ite=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Rc(i.prefix)}c-${Bd(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){p=l,m=d,_te.call(p,m)||(l[d]="undefined");const v=n[d];for(const _ in v){const y={[d]:String(_)};String(_)==="undefined"&&c.push(d);const x=v[_],w=[y,x,!rI(x)];o.push(w)}}var p,m;if(typeof e=="object"&&e)for(const d of e){let{css:v,..._}=d;v=typeof v=="object"&&v||{};for(const x in _)_[x]=String(_[x]);const y=[_,v,!rI(v)];a.push(y)}return[s,r,o,a,l,c]},Lte=(n,e,t)=>{const[r,i,s,o]=kte(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(m=>{function d(){for(let v=0;v<d[_0].length;v++){const[_,y]=d[_0][v];m.rules[_].apply(y)}return d[_0]=[],null}return d[_0]=[],d.rules={},A0.forEach(v=>d.rules[v]={apply:_=>d[_0].push([v,_])}),d})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,p=m=>{m=typeof m=="object"&&m||Dte;const{css:d,...v}=m,_={};for(const w in s)if(delete v[w],w in m){let S=m[w];typeof S=="object"&&S?_[w]={"@initial":s[w],...S}:(S=String(S),_[w]=S!=="undefined"||o.has(w)?S:s[w])}else _[w]=s[w];const y=new Set([...i]);for(const[w,S,M,T]of e.composers){t.rules.styled.cache.has(w)||(t.rules.styled.cache.add(w),Om(S,[`.${w}`],[],n,z=>{l.styled.apply(z)}));const A=lI(M,_,n.media),L=lI(T,_,n.media,!0);for(const z of A)if(z!==void 0)for(const[C,F,H]of z){const q=`${w}-${Bd(F)}-${C}`;y.add(q);const B=(H?t.rules.resonevar:t.rules.onevar).cache,Y=H?l.resonevar:l.onevar;B.has(q)||(B.add(q),Om(F,[`.${q}`],[],n,I=>{Y.apply(I)}))}for(const z of L)if(z!==void 0)for(const[C,F]of z){const H=`${w}-${Bd(F)}-${C}`;y.add(H),t.rules.allvar.cache.has(H)||(t.rules.allvar.cache.add(H),Om(F,[`.${H}`],[],n,q=>{l.allvar.apply(q)}))}}if(typeof d=="object"&&d){const w=`${r}-i${Bd(d)}-css`;y.add(w),t.rules.inline.cache.has(w)||(t.rules.inline.cache.add(w),Om(d,[`.${w}`],[],n,S=>{l.inline.apply(S)}))}for(const w of String(m.className||"").trim().split(/\s+/))w&&y.add(w);const x=v.className=[...y].join(" ");return{type:e.type,className:x,selector:c,props:v,toString:()=>x,deferredInjector:a}};return tA(p,{className:r,selector:c,[Nd]:e,toString:()=>(t.rules.styled.cache.has(r)||p(),r)})},kte=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},lI=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,p=!1;for(l in s){const m=s[l];let d=e[l];if(d!==m){if(typeof d!="object"||!d)continue e;{let v,_,y=0;for(const x in d){if(m===String(d[x])){if(x!=="@initial"){const w=x.slice(1);(_=_||[]).push(w in t?t[w]:x.replace(/^@media ?/,"")),p=!0}c+=y,v=!0}++y}if(_&&_.length&&(o={["@media "+_.join(", ")]:o}),!v)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,p])}return i},Dte={},Ote=Ng(),zte=(n,e)=>Ote(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Bd(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Om(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return tA(r,{toString:r})}),Fte=Ng(),Nte=(n,e)=>Fte(n,()=>t=>{const r=`${Rc(n.prefix)}k-${Bd(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Om(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return tA(i,{get name(){return i()},toString:i})}),Bte=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Rc(this.prefix)+Rc(this.scale)+this.token}toString(){return this.computedValue}},Ute=Ng(),Hte=(n,e)=>Ute(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Rc(n.prefix)}t-${Bd(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const p=`--${Rc(n.prefix)}${l}-${c}`,m=xN(String(r[l][c]),n.prefix,l);s[l][c]=new Bte(c,m,l,n.prefix),o.push(`${p}:${m}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Wte=Ng(),Vte=Ng(),Gte=n=>{const e=(t=>{let r=!1;const i=Wte(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},p={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...vte},utils:typeof s.utils=="object"&&s.utils||{}},m=Cte(l),d={css:aI(p,m),globalCss:zte(p,m),keyframes:Nte(p,m),createTheme:Hte(p,m),reset(){m.reset(),d.theme.toString()},theme:{},sheet:m,config:p,prefix:o,getCssText:m.toString,toString:m.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Vte(t,()=>{const i=aI(t,r);return(...s)=>{const o=i(...s),a=o[Nd].type,l=Jt.forwardRef((c,p)=>{const m=c&&c.as||a,{props:d,deferredInjector:v}=o(c);return delete d.as,d.ref=p,v?Jt.createElement(Jt.Fragment,null,Jt.createElement(m,d),Jt.createElement(v,null)):Jt.createElement(m,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Nd]=o[Nd],l}}))(e),e};const $te=OH["useId".toString()]||(()=>{});let jte=0;function qte(n){const[e,t]=Z.exports.useState($te());return kv(()=>{n||t(r=>r!=null?r:String(jte++))},[n]),n||(e?`radix-${e}`:"")}const Bg=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:Z.exports.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?QT:e;return Z.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.as&&console.error(Yte),Z.exports.createElement(o,Ri({},s,{ref:r}))})}),{}),Yte="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",Xte=Z.exports.forwardRef((n,e)=>Z.exports.createElement(Bg.span,Ri({},n,{ref:e,style:{...n.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),Zte=Xte,Kte=Z.exports.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=Z.exports.useState({});return kv(()=>{l({})},[]),a?wM.createPortal(Z.exports.createElement(Bg.div,Ri({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Jte=Z.exports.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return Z.exports.createElement(Bg.svg,Ri({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:Z.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Qte=Jte;function uI(n){const[e,t]=Z.exports.useState(void 0);return Z.exports.useEffect(()=>{if(n){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else{const l=n.getBoundingClientRect();o=l.width,a=l.height}t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>{t(void 0),r.unobserve(n)}}},[n]),e}function ene(n,e){const t=xd.get(n);return t===void 0?(xd.set(n,{rect:{},callbacks:[e]}),xd.size===1&&(l2=requestAnimationFrame(wN))):(t.callbacks.push(e),e(n.getBoundingClientRect())),()=>{const r=xd.get(n);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(xd.delete(n),xd.size===0&&cancelAnimationFrame(l2))}}let l2;const xd=new Map;function wN(){const n=[];xd.forEach((e,t)=>{const r=t.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,n.push(e))}),n.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),l2=requestAnimationFrame(wN)}function bN(n){const[e,t]=Z.exports.useState();return Z.exports.useEffect(()=>{if(n){const r=ene(n,t);return()=>{t(void 0),r()}}},[n]),e}function SN(n,e=[]){let t=[];const r=()=>{const i=t.map(s=>Z.exports.createContext(s));return function(s){const o=(s==null?void 0:s[n])||i;return Z.exports.useMemo(()=>({[`__scope${n}`]:{...s,[n]:o}}),[s,o])}};return r.scopeName=n,[function(i,s){const o=Z.exports.createContext(s),a=t.length;function l(c){const{scope:p,children:m,...d}=c,v=(p==null?void 0:p[n][a])||o,_=Z.exports.useMemo(()=>d,Object.values(d));return Z.exports.createElement(v.Provider,{value:_},m)}return t=[...t,s],l.displayName=i+"Provider",[l,function(c,p){const m=(p==null?void 0:p[n][a])||o,d=Z.exports.useContext(m);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${c}\` must be used within \`${i}\``)}]},tne(r,...e)]}function tne(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return Z.exports.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function nne({anchorRect:n,popperSize:e,arrowSize:t,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:c,collisionTolerance:p=0}){if(!n||!e||!c)return{popperStyles:rne,arrowStyles:eS};const m=function(z,C,F=0,H=0,q){const B=q?q.height:0,Y=cI(C,z,"x"),I=cI(C,z,"y"),te=I.before-F-B,ce=I.after+F+B,le=Y.before-F-B,ae=Y.after+F+B;return{top:{start:{x:Y.start+H,y:te},center:{x:Y.center,y:te},end:{x:Y.end-H,y:te}},right:{start:{x:ae,y:I.start+H},center:{x:ae,y:I.center},end:{x:ae,y:I.end-H}},bottom:{start:{x:Y.start+H,y:ce},center:{x:Y.center,y:ce},end:{x:Y.end-H,y:ce}},left:{start:{x:le,y:I.start+H},center:{x:le,y:I.center},end:{x:le,y:I.end-H}}}}(e,n,s,a,t),d=m[i][o];if(l===!1){const z=fI(d);let C=eS;return t&&(C=dI({popperSize:e,arrowSize:t,arrowOffset:r,side:i,align:o})),{popperStyles:{...z,"--radix-popper-transform-origin":hI(e,i,o,r,t)},arrowStyles:C,placedSide:i,placedAlign:o}}const v=DOMRect.fromRect({...e,...d}),_=(y=c,x=p,DOMRect.fromRect({width:y.width-2*x,height:y.height-2*x,x:y.left+x,y:y.top+x}));var y,x;const w=mI(v,_),S=m[pI(i)][o],M=function(z,C,F){const H=pI(z);return C[z]&&!F[H]?H:z}(i,w,mI(DOMRect.fromRect({...e,...S}),_)),T=function(z,C,F,H,q){const B=F==="top"||F==="bottom",Y=B?"left":"top",I=B?"right":"bottom",te=B?"width":"height",ce=C[te]>z[te];return(H==="start"||H==="center")&&(q[Y]&&ce||q[I]&&!ce)?"end":(H==="end"||H==="center")&&(q[I]&&ce||q[Y]&&!ce)?"start":H}(e,n,i,o,w),A=fI(m[M][T]);let L=eS;return t&&(L=dI({popperSize:e,arrowSize:t,arrowOffset:r,side:M,align:T})),{popperStyles:{...A,"--radix-popper-transform-origin":hI(e,M,T,r,t)},arrowStyles:L,placedSide:M,placedAlign:T}}function cI(n,e,t){const r=n[t==="x"?"left":"top"],i=t==="x"?"width":"height",s=n[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function fI(n){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(n.x+window.scrollX)}px, ${Math.round(n.y+window.scrollY)}px, 0)`}}function hI(n,e,t,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let c="",p="";return s?(c={start:`${l}px`,center:"center",end:n.width-l+"px"}[t],p=e==="top"?`${n.height+a}px`:-a+"px"):(c=e==="left"?`${n.width+a}px`:-a+"px",p={start:`${l}px`,center:"center",end:n.height-l+"px"}[t]),`${c} ${p}`}const rne={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},eS={position:"absolute",opacity:0};function dI({popperSize:n,arrowSize:e,arrowOffset:t,side:r,align:i}){const s=(n.width-e.width)/2,o=(n.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),c={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:ine(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(c.left=`${t}px`),i==="center"&&(c.left=`${s}px`),i==="end"&&(c.right=`${t}px`)),r!=="left"&&r!=="right"||(i==="start"&&(c.top=`${t}px`),i==="center"&&(c.top=`${o}px`),i==="end"&&(c.bottom=`${t}px`)),c}function ine(n,e){return(n!=="top"&&n!=="right"||e!=="end")&&(n!=="bottom"&&n!=="left"||e==="end")?"ltr":"rtl"}function pI(n){return{top:"bottom",right:"left",bottom:"top",left:"right"}[n]}function mI(n,e){return{top:n.top<e.top,right:n.right>e.right,bottom:n.bottom>e.bottom,left:n.left<e.left}}const[EN,MN]=SN("Popper"),[sne,TN]=EN("Popper"),one=n=>{const{__scopePopper:e,children:t}=n,[r,i]=Z.exports.useState(null);return Z.exports.createElement(sne,{scope:e,anchor:r,onAnchorChange:i},t)},ane=Z.exports.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=TN("PopperAnchor",t),o=Z.exports.useRef(null),a=tw(e,o);return Z.exports.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:Z.exports.createElement(Bg.div,Ri({},i,{ref:a}))}),[lne,une]=EN("PopperContent"),cne=Z.exports.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...c}=n,p=TN("PopperContent",t),[m,d]=Z.exports.useState(),v=bN(p.anchor),[_,y]=Z.exports.useState(null),x=uI(_),[w,S]=Z.exports.useState(null),M=uI(w),T=tw(e,B=>y(B)),A=function(){const[B,Y]=Z.exports.useState(void 0);return Z.exports.useEffect(()=>{let I;function te(){Y({width:window.innerWidth,height:window.innerHeight})}function ce(){window.clearTimeout(I),I=window.setTimeout(te,100)}return te(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),B}(),L=A?DOMRect.fromRect({...A,x:0,y:0}):void 0,{popperStyles:z,arrowStyles:C,placedSide:F,placedAlign:H}=nne({anchorRect:v,popperSize:x,arrowSize:M,arrowOffset:m,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:L,collisionTolerance:a}),q=F!==void 0;return Z.exports.createElement("div",{style:z,"data-radix-popper-content-wrapper":""},Z.exports.createElement(lne,{scope:t,arrowStyles:C,onArrowChange:S,onArrowOffsetChange:d},Z.exports.createElement(Bg.div,Ri({"data-side":F,"data-align":H},c,{style:{...c.style,animation:q?void 0:"none"},ref:T}))))}),fne=Z.exports.forwardRef(function(n,e){const{__scopePopper:t,offset:r,...i}=n,s=une("PopperArrow",t),{onArrowOffsetChange:o}=s;return Z.exports.useEffect(()=>o(r),[o,r]),Z.exports.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},Z.exports.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},Z.exports.createElement(Qte,Ri({},i,{ref:e,style:{...i.style,display:"block"}}))))}),hne=one,dne=ane,pne=cne,mne=fne,AN=n=>{const{present:e,children:t}=n,r=function(o){const[a,l]=Z.exports.useState(),c=Z.exports.useRef({}),p=Z.exports.useRef(o),m=Z.exports.useRef("none"),d=o?"mounted":"unmounted",[v,_]=function(y,x){return Z.exports.useReducer((w,S)=>{const M=x[w][S];return M!=null?M:w},y)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.exports.useEffect(()=>{const y=k_(c.current);m.current=v==="mounted"?y:"none"},[v]),kv(()=>{const y=c.current,x=p.current;if(x!==o){const w=m.current,S=k_(y);o?_("MOUNT"):S==="none"||(y==null?void 0:y.display)==="none"?_("UNMOUNT"):_(x&&w!==S?"ANIMATION_OUT":"UNMOUNT"),p.current=o}},[o,_]),kv(()=>{if(a){const y=w=>{const S=k_(c.current).includes(w.animationName);w.target===a&&S&&_("ANIMATION_END")},x=w=>{w.target===a&&(m.current=k_(c.current))};return a.addEventListener("animationstart",x),a.addEventListener("animationcancel",y),a.addEventListener("animationend",y),()=>{a.removeEventListener("animationstart",x),a.removeEventListener("animationcancel",y),a.removeEventListener("animationend",y)}}},[a,_]),{isPresent:["mounted","unmountSuspended"].includes(v),ref:Z.exports.useCallback(y=>{y&&(c.current=getComputedStyle(y)),l(y)},[])}}(e),i=typeof t=="function"?t({present:r.isPresent}):Z.exports.Children.only(t),s=tw(r.ref,i.ref);return typeof t=="function"||r.isPresent?Z.exports.cloneElement(i,{ref:s}):null};function k_(n){return(n==null?void 0:n.animationName)||"none"}AN.displayName="Presence";function gI(n){const e=Z.exports.useRef(n);return Z.exports.useEffect(()=>{e.current=n},[n]),e.current}function u2(n){const e=Z.exports.useRef(n);return Z.exports.useEffect(()=>{e.current=n}),Z.exports.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function gne(n){const e=u2(n);Z.exports.useEffect(()=>{const t=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e])}function vne({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=function({defaultProp:l,onChange:c}){const p=Z.exports.useState(l),[m]=p,d=Z.exports.useRef(m),v=u2(c);return Z.exports.useEffect(()=>{d.current!==m&&(v(m),d.current=m)},[m,d,v]),p}({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=u2(t);return[o,Z.exports.useCallback(l=>{if(s){const c=l,p=typeof l=="function"?c(n):l;p!==n&&a(p)}else i(l)},[s,n,i,a])]}function gm(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[CN,tle]=SN("Tooltip",[MN]),rw=MN(),yne=700,[nle,_ne]=CN("TooltipProvider",{isOpenDelayed:!0,delayDuration:yne,onOpen:()=>{},onClose:()=>{}}),[xne,iw]=CN("Tooltip"),wne=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=n,a=_ne("Tooltip",e),l=rw(e),[c,p]=Z.exports.useState(null),m=qte(),d=Z.exports.useRef(0),v=o!=null?o:a.delayDuration,_=Z.exports.useRef(!1),{onOpen:y,onClose:x}=a,[w=!1,S]=vne({prop:r,defaultProp:i,onChange:L=>{L&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),s==null||s(L)}}),M=Z.exports.useMemo(()=>w?_.current?"delayed-open":"instant-open":"closed",[w]),T=Z.exports.useCallback(()=>{window.clearTimeout(d.current),_.current=!1,S(!0)},[S]),A=Z.exports.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{_.current=!0,S(!0)},v)},[v,S]);return Z.exports.useEffect(()=>()=>window.clearTimeout(d.current),[]),Z.exports.createElement(hne,l,Z.exports.createElement(xne,{scope:e,contentId:m,open:w,stateAttribute:M,trigger:c,onTriggerChange:p,onTriggerEnter:Z.exports.useCallback(()=>{a.isOpenDelayed?A():T()},[a.isOpenDelayed,A,T]),onOpen:Z.exports.useCallback(T,[T]),onClose:Z.exports.useCallback(()=>{window.clearTimeout(d.current),S(!1),x()},[S,x])},t))},bne=Z.exports.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=iw("TooltipTrigger",t),s=rw(t),o=tw(e,i.onTriggerChange),a=Z.exports.useRef(!1),l=Z.exports.useCallback(()=>a.current=!1,[]);return Z.exports.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),Z.exports.createElement(dne,Ri({asChild:!0},s),Z.exports.createElement(Bg.button,Ri({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:gm(n.onMouseEnter,i.onTriggerEnter),onMouseLeave:gm(n.onMouseLeave,i.onClose),onMouseDown:gm(n.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:gm(n.onFocus,()=>{a.current||i.onOpen()}),onBlur:gm(n.onBlur,i.onClose),onClick:gm(n.onClick,i.onClose)})))}),Sne=Z.exports.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=iw("TooltipContent",n.__scopeTooltip);return Z.exports.createElement(AN,{present:t||i.open},Z.exports.createElement(Ene,Ri({ref:e},r)))}),Ene=Z.exports.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,portalled:s=!0,...o}=n,a=iw("TooltipContent",t),l=rw(t),c=s?Kte:Z.exports.Fragment,{onClose:p}=a;return gne(()=>p()),Z.exports.useEffect(()=>(document.addEventListener("tooltip.open",p),()=>document.removeEventListener("tooltip.open",p)),[p]),Z.exports.createElement(c,null,Z.exports.createElement(Tne,{__scopeTooltip:t}),Z.exports.createElement(pne,Ri({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),Z.exports.createElement(mN,null,r),Z.exports.createElement(Zte,{id:a.contentId,role:"tooltip"},i||r)))}),Mne=Z.exports.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=rw(t);return Z.exports.createElement(mne,Ri({},i,r,{ref:e}))});function Tne(n){const{__scopeTooltip:e}=n,t=iw("CheckTriggerMoved",e),r=bN(t.trigger),i=r==null?void 0:r.left,s=gI(i),o=r==null?void 0:r.top,a=gI(o),l=t.onClose;return Z.exports.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const Ane=wne,Cne=bne,Rne=Sne,Pne=Mne;function Ine(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function mr(n,e){if(n==null)return{};var t=Ine(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}let Wr;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Wr||(Wr={}));const Lne={[Wr.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Wr.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Wr.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Wr.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Wr.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Wr.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Wr.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Wr.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Wr.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Wr.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Wr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function RN(n,e,...t){const[r,...i]=Lne[e](...t);console[n]("LEVA: "+r,...i)}const dc=RN.bind(null,"warn"),kne=RN.bind(null,"log"),Dne=["value"],One=["schema"],zne=["value"],PN=[],np={};function vI(n){let{value:e}=n,t=mr(n,Dne);for(let r of PN){const i=r(e,t);if(i)return i}}function Fc(n,e){let{schema:t}=e,r=mr(e,One);if(n in np){dc(Wr.ALREADY_REGISTERED_TYPE,n);return}PN.push((i,s)=>t(i,s)&&n),np[n]=r}function tS(n,e,t,r){const{normalize:i}=np[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=mr(e,zne);return{value:s,settings:o}}function Fne(n,e,t,r,i,s){const{sanitize:o}=np[n];return o?o(e,t,r,i,s):e}function yI(n,e,t){const{format:r}=np[n];return r?r(e,t):e}function Nne(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function en(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(t),!0).forEach(function(r){Nne(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_I(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const ph=(n,e,t)=>n>t?t:n<e?e:n,Bne=n=>{if(n===""||typeof n=="number")return n;try{const e=Df(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Une=Math.log(10);function xI(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Une)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const Y1=(n,e,t)=>t===e?0:(ph(n,e,t)-e)/(t-e),X1=(n,e,t)=>n*(t-e)+e,Hne=()=>"_"+Math.random().toString(36).substr(2,9),wI=/\(([0-9+\-*/^ .]+)\)/,bI=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,SI=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,EI=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,MI=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,TI=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Df(n){if(isNaN(Number(n)))if(wI.test(n)){const e=n.replace(wI,(t,r)=>String(Df(r)));return Df(e)}else if(bI.test(n)){const e=n.replace(bI,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Df(e)}else if(SI.test(n)){const e=n.replace(SI,(t,r,i)=>String(Number(r)*Number(i)));return Df(e)}else if(EI.test(n)){const e=n.replace(EI,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Df(e)}else if(MI.test(n)){const e=n.replace(MI,(t,r,i)=>String(Number(r)+Number(i)));return Df(e)}else if(TI.test(n)){const e=n.replace(TI,(t,r,i)=>String(Number(r)-Number(i)));return Df(e)}else return Number(n);return Number(n)}function Wne(n,e){return e.reduce((t,r)=>(!!n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Vne(n,e){const t=en({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Gne(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function IN(n){return Object.prototype.toString.call(n)==="[object Object]"}const $ne=n=>IN(n)&&Object.keys(n).length===0;let ml;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(ml||(ml={}));let xl;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(xl||(xl={}));const jne=["type","__customInput"],qne=["render","label","optional","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Yne=["type"];function LN(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:en({key:e,label:e,optional:!1,disabled:!1},t)};if("__customInput"in n){const{type:T,__customInput:A}=n,L=mr(n,jne);return LN(A,e,L,T)}const{render:o,label:a,optional:l,disabled:c,hint:p,onChange:m,onEditStart:d,onEditEnd:v,transient:_}=n,y=mr(n,qne),x=en({render:o,key:e,label:a!=null?a:e,hint:p,transient:_!=null?_:!!m,onEditStart:d,onEditEnd:v,disabled:c,optional:l},t);let{type:w}=y,S=mr(y,Yne);if(w=r!=null?r:w,w in ml)return{type:w,input:S,options:x};let M;return r&&IN(S)&&"value"in S?M=S.value:M=$ne(S)?void 0:S,{type:w,input:M,options:en(en({},x),{},{onChange:m,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function Xne(n,e,t,r){const i=LN(n,e),{type:s,input:o,options:a}=i;if(s)return s in ml?i:{type:s,input:tS(s,o,t,r),options:a};let l=vI(o);return l?{type:l,input:tS(l,o,t,r),options:a}:(l=vI({value:o}),l?{type:l,input:tS(l,{value:o},t,r),options:a}:!1)}function AI(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=kN({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const CI=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function kN({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Fne(n,o,t,e,i,s)}catch(l){throw new CI(`The value \`${r}\` did not result in a correct value.`,e,l)}if(Dv(a,e))throw new CI(`The value \`${r}\` did not result in a value update, which remained the same: \`${e}\`.
        You can ignore this warning if this is the intended behavior.`,e);return a}const DN=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},ON=n=>n.shiftKey?5:n.altKey?1/5:1,Zne=["value"],Kne=["min","max"],Jne=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},zN=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=ph(i,e,t);return r?s+r:s},Qne=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},FN=n=>{let{value:e}=n,t=mr(n,Zne);const{min:r=-1/0,max:i=1/0}=t,s=mr(t,Kne);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=ph(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?xI(l)*10:xI(o);l=l||c/10;const p=Math.round(ph(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:en({initialValue:o,step:l,pad:p,min:r,max:i,suffix:a},s)}},NN=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var BN=Object.freeze({__proto__:null,schema:Jne,sanitize:zN,format:Qne,normalize:FN,sanitizeStep:NN});const UN=Z.exports.createContext({});function Ss(){return Z.exports.useContext(UN)}const nA=Z.exports.createContext(null),HN=Z.exports.createContext(null),WN=Z.exports.createContext(null);function sw(){return Z.exports.useContext(HN)}function ere(){return Z.exports.useContext(WN)}const VN=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function D_(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const x0={$inputStyle:()=>n=>D_(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>D_(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>D_(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>D_(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Yt,css:rle,createTheme:tre,globalCss:nre,keyframes:ile}=Gte({prefix:"leva",theme:VN(),utils:en(en({},x0),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":x0.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":x0.$focusStyle()(n)}),$hover:n=>({"&:hover":x0.$hoverStyle()(n)}),$active:n=>({"&:active":x0.$activeStyle()(n)})})}),rre=nre({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function ire(n){const e=VN();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=tre(e);return{theme:e,className:t.className}}function _c(n,e){const{theme:t}=Z.exports.useContext(nA);if(!(n in t)||!(e in t[n]))return dc(Wr.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const GN=Yt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),$N=Yt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${GN}`]:{paddingLeft:0}}),sre=Yt($N,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),ore=Yt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),are=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],lre=["onUpdate"];function rA(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,p=mr(n,are);const{id:m,emitOnEditStart:d,emitOnEditEnd:v,disabled:_}=Ss(),y=a||m,x=Z.exports.useRef(null),w=c>0,S=w?"textarea":"input",M=Z.exports.useCallback(L=>z=>{const C=z.currentTarget.value;L(C)},[]);Jt.useEffect(()=>{const L=x.current,z=M(C=>{r(C),v()});return L==null||L.addEventListener("blur",z),()=>L==null?void 0:L.removeEventListener("blur",z)},[M,r,v]);const T=Z.exports.useCallback(L=>{L.key==="Enter"&&M(r)(L)},[M,r]),A=Object.assign({as:S},w?{rows:c}:{},p);return nn(ore,{textArea:w,children:[e&&typeof e=="string"?ze($N,{children:e}):e,ze(GN,{levaType:o,ref:x,id:y,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:M(i),onFocus:()=>d(),onKeyPress:T,onKeyDown:s,disabled:_,...A})]})}function ure(n){let{onUpdate:e}=n,t=mr(n,lre);const r=Z.exports.useCallback(s=>e(Bne(s)),[e]),i=Z.exports.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return ze(rA,{...t,onUpdate:r,onKeyDown:i,type:"number"})}const Z1=Yt("div",{}),c2=Yt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),cre=Yt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${c2}::after`]:{opacity:.6},[`${Z1}:hover > & + ${c2}::after`]:{opacity:.6},[`${Z1}:hover > & > svg`]:{opacity:1}}),jN=Yt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Z1}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),qN=Yt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${jN} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),YN=Yt(qN,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),fre=Yt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),hre=Yt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),f2=Yt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),dre=Yt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${f2}`]:{pointerEvents:"auto"}}}}}),XN=Yt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),pre=Yt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),mre=Yt(Pne,{fill:"$toolTipBackground"});function iA({children:n}){const{className:e}=Z.exports.useContext(nA);return ze(hte,{className:e,children:n})}const gre=["align"];function vre(){const{id:n,disable:e,disabled:t}=Ss();return nn(Sl,{children:[ze(hre,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),ze("label",{htmlFor:n+"__disable"})]})}function yre(n){const{id:e,optional:t,hint:r}=Ss(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return nn(Sl,{children:[t&&ze(vre,{}),r!==void 0?nn(Ane,{children:[ze(Cne,{asChild:!0,children:ze(f2,{...i,...n})}),ze(Rne,{side:"top",sideOffset:2,children:nn(pre,{children:[r,ze(mre,{})]})})]}):ze(f2,{...i,...s,...n})]})}function El(n){let{align:e}=n,t=mr(n,gre);const{value:r,label:i,key:s,disabled:o}=Ss(),{hideCopyButton:a}=ere(),l=!a&&s!==void 0,[c,p]=Z.exports.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r!=null?r:""})),p(!0)}catch{dc(Wr.CLIPBOARD_ERROR,{[s]:r})}};return nn(fre,{align:e,onPointerLeave:()=>p(!1),children:[ze(yre,{...t}),l&&!o&&ze("div",{title:`Click to copy ${typeof i=="string"?i:s} value`,children:c?nn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[ze("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ze("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}):nn("svg",{onClick:m,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[ze("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ze("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})}const _re=["toggled"],xre=Yt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function sA(n){let{toggled:e}=n,t=mr(n,_re);return ze(xre,{width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`},...t,children:ze("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"})})}const wre=["input"];function _a(n){let{input:e}=n,t=mr(n,wre);return e?ze(YN,{...t}):ze(qN,{...t})}function ZN({value:n,type:e,settings:t,setValue:r}){const[i,s]=Z.exports.useState(yI(e,n,t)),o=Z.exports.useRef(n),a=Z.exports.useRef(t);a.current=t;const l=Z.exports.useCallback(p=>s(yI(e,p,a.current)),[e]),c=Z.exports.useCallback(p=>{try{r(p)}catch(m){const{type:d,previousValue:v}=m;if(d!=="LEVA_ERROR")throw m;l(v)}},[l,r]);return Z.exports.useEffect(()=>{Dv(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function sy(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Ss();return UZ(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function bre(n){const e=Z.exports.useRef(null),t=Z.exports.useRef(null),r=Z.exports.useRef(!1);return Z.exports.useEffect(()=>{const i=DN(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),Z.exports.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function KN(){const n=Z.exports.useRef(null),e=Z.exports.useRef({x:0,y:0}),t=Z.exports.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const Sre=["__refCount"],nS=(n,e)=>{if(!n[e])return null;const t=n[e];return mr(t,Sre)};function Ere(n){const e=sw(),[t,r]=Z.exports.useState(nS(e.getData(),n)),i=Z.exports.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=Z.exports.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=Z.exports.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=Z.exports.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=Z.exports.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return Z.exports.useEffect(()=>{r(nS(e.getData(),n));const c=e.useStore.subscribe(p=>nS(p.data,n),r,{equalityFn:Jv});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Mre=Yt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),JN=Yt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),h2=Yt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),QN=Yt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),e5=Yt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Tre({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=Z.exports.useRef(null),a=Z.exports.useRef(null),l=Z.exports.useRef(0),c=_c("sizes","scrubberWidth"),p=sy(({event:d,first:v,xy:[_],movement:[y],memo:x})=>{if(v){const{width:S,left:M}=o.current.getBoundingClientRect();l.current=S-parseFloat(c),x=(d==null?void 0:d.target)===a.current?n:X1((_-M)/S,e,t)}const w=x+X1(y/l.current,0,t-e);return r(NN(w,{step:i,initialValue:s})),x}),m=Y1(n,e,t);return nn(QN,{ref:o,...p(),children:[ze(JN,{children:ze(e5,{style:{left:0,right:`${(1-m)*100}%`}})}),ze(h2,{ref:a,style:{left:`calc(${m} * (100% - ${c}))`}})]})}const Are=Jt.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=Z.exports.useState(!1),o=sy(({active:a,delta:[l],event:c,memo:p=0})=>(s(a),p+=l/2,Math.abs(p)>=1&&(e(m=>parseFloat(m)+Math.floor(p)*t*ON(c)),p=0),p));return ze(sre,{dragging:i,title:n.length>1?n:"",...o(),children:n.slice(0,r)})});function t5({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&ze(Are,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return ze(ure,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Cre(){const n=Ss(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return nn(_a,{input:!0,children:[ze(El,{children:e}),nn(Mre,{hasRange:l,children:[l&&ze(Tre,{value:parseFloat(t),onDrag:r,...i}),ze(t5,{...n,id:s,label:"value",innerLabelTrim:l?0:1})]})]})}const{sanitizeStep:Rre}=BN,Pre=mr(BN,["sanitizeStep"]);var Ire=en({component:Cre},Pre);const Lre=(n,e)=>po().schema({options:po().passesAnyOf(po().object(),po().array())}).test(e),kre=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Dre=(n,{values:e})=>e.indexOf(n),Ore=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var zre=Object.freeze({__proto__:null,schema:Lre,sanitize:kre,format:Dre,normalize:Ore});const Fre=Yt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),d2=Yt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Nre=Yt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${d2}:focus + &`]:{$focusStyle:""},[`${d2}:hover + &`]:{$hoverStyle:""}});function Bre({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=Z.exports.useRef();return e===a[n]&&(l.current=o[n]),nn(Fre,{children:[ze(d2,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s,children:o.map((c,p)=>ze("option",{value:p,children:c},c))}),ze(Nre,{children:l.current}),ze(sA,{toggled:!0})]})}function Ure(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Ss();return nn(_a,{input:!0,children:[ze(El,{children:n}),ze(Bre,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s})]})}var Hre=en({component:Ure},zre);const Wre=n=>po().string().test(n),Vre=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Gre=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var $re=Object.freeze({__proto__:null,schema:Wre,sanitize:Vre,normalize:Gre});const jre=["displayValue","onUpdate","onChange","editable"],qre=Yt("div",{whiteSpace:"pre-wrap"});function Yre(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=mr(n,jre);return i?ze(rA,{value:e,onUpdate:t,onChange:r,...s}):ze(qre,{children:e})}function Xre(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Ss();return nn(_a,{input:!0,children:[ze(El,{children:n}),ze(Yre,{displayValue:t,onUpdate:r,onChange:i,...e})]})}var Zre=en({component:Xre},$re);const Kre=n=>po().boolean().test(n),Jre=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Qre=Object.freeze({__proto__:null,schema:Kre,sanitize:Jre});const eie=Yt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function tie({value:n,onUpdate:e,id:t,disabled:r}){return nn(eie,{children:[ze("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),ze("label",{htmlFor:t,children:ze("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:ze("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}function nie(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Ss();return nn(_a,{input:!0,children:[ze(El,{children:n}),ze(tie,{value:e,onUpdate:t,id:i,disabled:r})]})}var rie=en({component:nie},Qre);const iie=["locked"];function sie({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=Z.exports.useRef(n[t]);o.current=n[t];const a=Z.exports.useCallback(c=>i({[t]:kN({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=ZN({type:"NUMBER",value:n[t],settings:r,setValue:a});return ze(t5,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const oie=Yt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function aie(n){let{locked:e}=n,t=mr(n,iie);return ze("svg",{width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:e?ze("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ze("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function oA({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Ss(),{lock:o,locked:a}=t;return nn(oie,{withLock:o,children:[o&&ze(aie,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>ze(sie,{id:c===0?i:`${i}.${l}`,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r},l))]})}const n5=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=FN(en({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},lie=["lock"],uie=["value"];function cie(n){const e=po().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function fie(n){return Array.isArray(n)?"array":"object"}function G0(n,e,t){return fie(n)===e?n:e==="array"?Object.values(n):Gne(n,t)}const hie=(n,e,t)=>{const r=G0(n,"object",e.keys);for(let o in r)r[o]=zN(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=G0(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],p=c!==0?l/c:1;for(let m in o)m===a?s[a]=l:s[m]=o[m]*p}else s=en(en({},o),r)}return G0(s,e.format,e.keys)},die=(n,e)=>G0(n,"object",e.keys),pie=n=>!!n&&("step"in n||"min"in n||"max"in n);function mie(n,e,t=[]){const{lock:r=!1}=e,i=mr(e,lie),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=G0(n,"object",o),l=pie(i)?o.reduce((p,m)=>Object.assign(p,{[m]:i}),{}):i,c=n5(a,l);return{value:s==="array"?n:a,settings:en(en({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function r5(n){return{schema:cie(n.length),normalize:e=>{let{value:t}=e,r=mr(e,uie);return mie(t,r,n)},format:(e,t)=>die(e,t),sanitize:(e,t,r)=>hie(e,t,r)}}var gie={grad:.9,turn:360,rad:360/(2*Math.PI)},lc=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},ji=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},ha=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},i5=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},RI=function(n){return{r:ha(n.r,0,255),g:ha(n.g,0,255),b:ha(n.b,0,255),a:ha(n.a)}},rS=function(n){return{r:ji(n.r),g:ji(n.g),b:ji(n.b),a:ji(n.a,3)}},vie=/^#([0-9a-f]{3,8})$/i,O_=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},s5=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},o5=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},PI=function(n){return{h:i5(n.h),s:ha(n.s,0,100),l:ha(n.l,0,100),a:ha(n.a)}},II=function(n){return{h:ji(n.h),s:ji(n.s),l:ji(n.l),a:ji(n.a,3)}},LI=function(n){return o5((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},$0=function(n){return{h:(e=s5(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},yie=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_ie=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xie=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wie=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p2={string:[[function(n){var e=vie.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?ji(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?ji(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=xie.exec(n)||wie.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:RI({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=yie.exec(n)||_ie.exec(n);if(!e)return null;var t,r,i=PI({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(gie[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return LI(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return lc(e)&&lc(t)&&lc(r)?RI({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!lc(e)||!lc(t)||!lc(r))return null;var o=PI({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return LI(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!lc(e)||!lc(t)||!lc(r))return null;var o=function(a){return{h:i5(a.h),s:ha(a.s,0,100),v:ha(a.v,0,100),a:ha(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return o5(o)},"hsv"]]},kI=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},a5=function(n){return typeof n=="string"?kI(n.trim(),p2.string):typeof n=="object"&&n!==null?kI(n,p2.object):[null,void 0]},bie=function(n){return a5(n)[1]},iS=function(n,e){var t=$0(n);return{h:t.h,s:ha(t.s+100*e,0,100),l:t.l,a:t.a}},sS=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},DI=function(n,e){var t=$0(n);return{h:t.h,s:t.s,l:ha(t.l+100*e,0,100),a:t.a}},m2=function(){function n(e){this.parsed=a5(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return ji(sS(this.rgba),2)},n.prototype.isDark=function(){return sS(this.rgba)<.5},n.prototype.isLight=function(){return sS(this.rgba)>=.5},n.prototype.toHex=function(){return e=rS(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?O_(ji(255*s)):"","#"+O_(t)+O_(r)+O_(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return rS(this.rgba)},n.prototype.toRgbString=function(){return e=rS(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return II($0(this.rgba))},n.prototype.toHslString=function(){return e=II($0(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=s5(this.rgba),{h:ji(e.h),s:ji(e.s),v:ji(e.v),a:ji(e.a,3)};var e},n.prototype.invert=function(){return Ns({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Ns(iS(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ns(iS(this.rgba,-e))},n.prototype.grayscale=function(){return Ns(iS(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Ns(DI(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Ns(DI(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Ns({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ji(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=$0(this.rgba);return typeof e=="number"?Ns({h:e,s:t.s,l:t.l,a:t.a}):ji(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Ns(e).toHex()},n}(),Ns=function(n){return n instanceof m2?n:new m2(n)},OI=[],Sie=function(n){n.forEach(function(e){OI.indexOf(e)<0&&(e(m2,p2),OI.push(e))})};function Eie(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var p=this.toRgb(),m=1/0,d="black";if(!s.length)for(var v in t)s[v]=new n(t[v]).toRgb();for(var _ in t){var y=(a=p,l=s[_],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<m&&(m=y,d=_)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function Ug(){return(Ug=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function aA(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function g2(n){var e=Z.exports.useRef(n),t=Z.exports.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var _g=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},j0=function(n){return"touches"in n},v2=function(n){return n&&n.ownerDocument.defaultView||self},zI=function(n,e,t){var r=n.getBoundingClientRect(),i=j0(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:_g((i.pageX-(r.left+v2(n).pageXOffset))/r.width),top:_g((i.pageY-(r.top+v2(n).pageYOffset))/r.height)}},FI=function(n){!j0(n)&&n.preventDefault()},lA=Jt.memo(function(n){var e=n.onMove,t=n.onKey,r=aA(n,["onMove","onKey"]),i=Z.exports.useRef(null),s=g2(e),o=g2(t),a=Z.exports.useRef(null),l=Z.exports.useRef(!1),c=Z.exports.useMemo(function(){var v=function(x){FI(x),(j0(x)?x.touches.length>0:x.buttons>0)&&i.current?s(zI(i.current,x,a.current)):y(!1)},_=function(){return y(!1)};function y(x){var w=l.current,S=v2(i.current),M=x?S.addEventListener:S.removeEventListener;M(w?"touchmove":"mousemove",v),M(w?"touchend":"mouseup",_)}return[function(x){var w=x.nativeEvent,S=i.current;if(S&&(FI(w),!function(T,A){return A&&!j0(T)}(w,l.current)&&S)){if(j0(w)){l.current=!0;var M=w.changedTouches||[];M.length&&(a.current=M[0].identifier)}S.focus(),s(zI(S,w,a.current)),y(!0)}},function(x){var w=x.which||x.keyCode;w<37||w>40||(x.preventDefault(),o({left:w===39?.05:w===37?-.05:0,top:w===40?.05:w===38?-.05:0}))},y]},[o,s]),p=c[0],m=c[1],d=c[2];return Z.exports.useEffect(function(){return d},[d]),Jt.createElement("div",Ug({},r,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:i,onKeyDown:m,tabIndex:0,role:"slider"}))}),oy=function(n){return n.filter(Boolean).join(" ")},uA=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=oy(["react-colorful__pointer",n.className]);return Jt.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},Jt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ws=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},l5=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:Ws(n.h),s:Ws(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Ws(i/2),a:Ws(r,2)}},y2=function(n){var e=l5(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},oS=function(n){var e=l5(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},u5=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:Ws(255*[r,a,o,o,l,r][c]),g:Ws(255*[l,r,r,a,o,o][c]),b:Ws(255*[o,o,l,r,r,a][c]),a:Ws(i,2)}},c5=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Ws(60*(a<0?a+6:a)),s:Ws(s?o/s*100:0),v:Ws(s/255*100),a:i}},f5=Jt.memo(function(n){var e=n.hue,t=n.onChange,r=oy(["react-colorful__hue",n.className]);return Jt.createElement("div",{className:r},Jt.createElement(lA,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:_g(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ws(e),"aria-valuemax":"360","aria-valuemin":"0"},Jt.createElement(uA,{className:"react-colorful__hue-pointer",left:e/360,color:y2({h:e,s:100,v:100,a:1})})))}),h5=Jt.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:y2({h:e.h,s:100,v:100,a:1})};return Jt.createElement("div",{className:"react-colorful__saturation",style:r},Jt.createElement(lA,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:_g(e.s+100*i.left,0,100),v:_g(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ws(e.s)+"%, Brightness "+Ws(e.v)+"%"},Jt.createElement(uA,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:y2(e)})))}),cA=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function d5(n,e,t){var r=g2(t),i=Z.exports.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=Z.exports.useRef({color:e,hsva:s});Z.exports.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),Z.exports.useEffect(function(){var c;cA(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=Z.exports.useCallback(function(c){o(function(p){return Object.assign({},p,c)})},[]);return[s,l]}var Mie=typeof window!="undefined"?Z.exports.useLayoutEffect:Z.exports.useEffect,Tie=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:void 0},NI=new Map,p5=function(n){Mie(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!NI.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,NI.set(e,t);var r=Tie();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Aie=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=aA(n,["className","colorModel","color","onChange"]),a=Z.exports.useRef(null);p5(a);var l=d5(t,i,s),c=l[0],p=l[1],m=oy(["react-colorful",e]);return Jt.createElement("div",Ug({},o,{ref:a,className:m}),Jt.createElement(h5,{hsva:c,onChange:p}),Jt.createElement(f5,{hue:c.h,onChange:p,className:"react-colorful__last-control"}))},Cie=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+oS(Object.assign({},t,{a:0}))+", "+oS(Object.assign({},t,{a:1}))+")"},s=oy(["react-colorful__alpha",e]),o=Ws(100*t.a);return Jt.createElement("div",{className:s},Jt.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),Jt.createElement(lA,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:_g(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},Jt.createElement(uA,{className:"react-colorful__alpha-pointer",left:t.a,color:oS(t)})))},Rie=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=aA(n,["className","colorModel","color","onChange"]),a=Z.exports.useRef(null);p5(a);var l=d5(t,i,s),c=l[0],p=l[1],m=oy(["react-colorful",e]);return Jt.createElement("div",Ug({},o,{ref:a,className:m}),Jt.createElement(h5,{hsva:c,onChange:p}),Jt.createElement(f5,{hue:c.h,onChange:p}),Jt.createElement(Cie,{hsva:c,onChange:p,className:"react-colorful__last-control"}))},Pie={defaultColor:{r:0,g:0,b:0,a:1},toHsva:c5,fromHsva:u5,equal:cA},Iie=function(n){return Jt.createElement(Rie,Ug({},n,{colorModel:Pie}))},Lie={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return c5({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=u5(n)).r,g:e.g,b:e.b};var e},equal:cA},kie=function(n){return Jt.createElement(Aie,Ug({},n,{colorModel:Lie}))},Die=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ay(n,e){var t=Oie(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Oie(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=Die.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var zie=[".DS_Store","Thumbs.db"];function Fie(n){return kg(this,void 0,void 0,function(){return Dg(this,function(e){return K1(n)&&Nie(n)?[2,Wie(n.dataTransfer,n.type)]:Bie(n)?[2,Uie(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Hie(n)]:[2,[]]})})}function Nie(n){return K1(n.dataTransfer)}function Bie(n){return K1(n)&&K1(n.target)}function K1(n){return typeof n=="object"&&n!==null}function Uie(n){return _2(n.target.files).map(function(e){return ay(e)})}function Hie(n){return kg(this,void 0,void 0,function(){var e;return Dg(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return ay(r)})]}})})}function Wie(n,e){return kg(this,void 0,void 0,function(){var t,r;return Dg(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=_2(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Vie))]):[3,2];case 1:return r=i.sent(),[2,BI(m5(r))];case 2:return[2,BI(_2(n.files).map(function(s){return ay(s)}))]}})})}function BI(n){return n.filter(function(e){return zie.indexOf(e.name)===-1})}function _2(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function Vie(n){if(typeof n.webkitGetAsEntry!="function")return UI(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?g5(e):UI(n)}function m5(n){return n.reduce(function(e,t){return VJ(e,Array.isArray(t)?m5(t):[t])},[])}function UI(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=ay(e);return Promise.resolve(t)}function Gie(n){return kg(this,void 0,void 0,function(){return Dg(this,function(e){return[2,n.isDirectory?g5(n):$ie(n)]})})}function g5(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return kg(o,void 0,void 0,function(){var l,c,p;return Dg(this,function(m){switch(m.label){case 0:if(a.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=m.sent(),t(l),[3,4];case 3:return c=m.sent(),r(c),[3,4];case 4:return[3,6];case 5:p=Promise.all(a.map(Gie)),i.push(p),s(),m.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function $ie(n){return kg(this,void 0,void 0,function(){return Dg(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=ay(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var jie=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function HI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function WI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(t),!0).forEach(function(r){v5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function v5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VI(n,e){return Zie(n)||Xie(n,e)||Yie(n,e)||qie()}function qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yie(n,e){if(!!n){if(typeof n=="string")return GI(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return GI(n,e)}}function GI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Xie(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Zie(n){if(Array.isArray(n))return n}var Kie="file-invalid-type",Jie="file-too-large",Qie="file-too-small",ese="too-many-files",tse=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Kie,message:"File type must be ".concat(t)}},$I=function(e){return{code:Jie,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},jI=function(e){return{code:Qie,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},nse={code:ese,message:"Too many files"};function y5(n,e){var t=n.type==="application/x-moz-file"||jie(n,e);return[t,t?null:tse(e)]}function _5(n,e,t){if(w0(n.size))if(w0(e)&&w0(t)){if(n.size>t)return[!1,$I(t)];if(n.size<e)return[!1,jI(e)]}else{if(w0(e)&&n.size<e)return[!1,jI(e)];if(w0(t)&&n.size>t)return[!1,$I(t)]}return[!0,null]}function w0(n){return n!=null}function rse(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=y5(a,t),c=VI(l,1),p=c[0],m=_5(a,r,i),d=VI(m,1),v=d[0];return p&&v})}function J1(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble!="undefined"?n.cancelBubble:!1}function z_(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function qI(n){n.preventDefault()}function ise(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function sse(n){return n.indexOf("Edge/")!==-1}function ose(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ise(n)||sse(n)}function Xl(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!J1(r)&&a&&a.apply(void 0,[r].concat(s)),J1(r)})}}function ase(){return"showOpenFilePicker"in window}function lse(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return WI(WI({},e),{},v5({},t,[]))},{}):{}}]}function use(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function cse(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var fse=["children"],hse=["open"],dse=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pse=["refKey","onChange","onClick"];function mse(n){return yse(n)||vse(n)||x5(n)||gse()}function gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vse(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yse(n){if(Array.isArray(n))return x2(n)}function aS(n,e){return wse(n)||xse(n,e)||x5(n,e)||_se()}function _se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5(n,e){if(!!n){if(typeof n=="string")return x2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x2(n,e)}}function x2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xse(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function wse(n){if(Array.isArray(n))return n}function YI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(t),!0).forEach(function(r){w2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q1(n,e){if(n==null)return{};var t=bse(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function bse(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var fA=Z.exports.forwardRef(function(n,e){var t=n.children,r=Q1(n,fse),i=b5(r),s=i.open,o=Q1(i,hse);return Z.exports.useImperativeHandle(e,function(){return{open:s}},[s]),ze(Sl,{children:t(Hr(Hr({},o),{},{open:s}))})});fA.displayName="Dropzone";var w5={disabled:!1,getFilesFromEvent:Fie,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};fA.defaultProps=w5;fA.propTypes={children:br.func,accept:br.oneOfType([br.string,br.arrayOf(br.string)]),multiple:br.bool,preventDropOnDocument:br.bool,noClick:br.bool,noKeyboard:br.bool,noDrag:br.bool,noDragEventsBubbling:br.bool,minSize:br.number,maxSize:br.number,maxFiles:br.number,disabled:br.bool,getFilesFromEvent:br.func,onFileDialogCancel:br.func,onFileDialogOpen:br.func,useFsAccessApi:br.bool,onDragEnter:br.func,onDragLeave:br.func,onDragOver:br.func,onDrop:br.func,onDropAccepted:br.func,onDropRejected:br.func,validator:br.func};var b2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function b5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Hr(Hr({},w5),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,p=e.onDragLeave,m=e.onDragOver,d=e.onDrop,v=e.onDropAccepted,_=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,w=e.useFsAccessApi,S=e.preventDropOnDocument,M=e.noClick,T=e.noKeyboard,A=e.noDrag,L=e.noDragEventsBubbling,z=e.validator,C=Z.exports.useMemo(function(){return typeof x=="function"?x:XI},[x]),F=Z.exports.useMemo(function(){return typeof y=="function"?y:XI},[y]),H=Z.exports.useRef(null),q=Z.exports.useRef(null),B=Z.exports.useReducer(Sse,b2),Y=aS(B,2),I=Y[0],te=Y[1],ce=I.isFocused,le=I.isFileDialogActive,ae=I.draggedFiles,ie=Z.exports.useRef(typeof window!="undefined"&&window.isSecureContext&&w&&ase()),ue=function(){!ie.current&&le&&setTimeout(function(){if(q.current){var fe=q.current.files;fe.length||(te({type:"closeDialog"}),F())}},300)};Z.exports.useEffect(function(){return window.addEventListener("focus",ue,!1),function(){window.removeEventListener("focus",ue,!1)}},[q,le,F,ie]);var j=Z.exports.useRef([]),K=function(fe){H.current&&H.current.contains(fe.target)||(fe.preventDefault(),j.current=[])};Z.exports.useEffect(function(){return S&&(document.addEventListener("dragover",qI,!1),document.addEventListener("drop",K,!1)),function(){S&&(document.removeEventListener("dragover",qI),document.removeEventListener("drop",K))}},[H,S]);var we=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),ye(U),j.current=[].concat(mse(j.current),[U.target]),z_(U)&&Promise.resolve(i(U)).then(function(fe){J1(U)&&!L||(te({draggedFiles:fe,isDragActive:!0,type:"setDraggedFiles"}),c&&c(U))})},[i,c,L]),Re=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),ye(U);var fe=z_(U);if(fe&&U.dataTransfer)try{U.dataTransfer.dropEffect="copy"}catch{}return fe&&m&&m(U),!1},[m,L]),Pe=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),ye(U);var fe=j.current.filter(function(Ue){return H.current&&H.current.contains(Ue)}),Ee=fe.indexOf(U.target);Ee!==-1&&fe.splice(Ee,1),j.current=fe,!(fe.length>0)&&(te({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),z_(U)&&p&&p(U))},[H,p,L]),ke=Z.exports.useCallback(function(U,fe){var Ee=[],Ue=[];U.forEach(function(Ke){var at=y5(Ke,t),He=aS(at,2),Bt=He[0],Ft=He[1],_t=_5(Ke,o,s),ge=aS(_t,2),dt=ge[0],ht=ge[1],Pt=z?z(Ke):null;if(Bt&&dt&&!Pt)Ee.push(Ke);else{var vt=[Ft,ht];Pt&&(vt=vt.concat(Pt)),Ue.push({file:Ke,errors:vt.filter(function(Ut){return Ut})})}}),(!a&&Ee.length>1||a&&l>=1&&Ee.length>l)&&(Ee.forEach(function(Ke){Ue.push({file:Ke,errors:[nse]})}),Ee.splice(0)),te({acceptedFiles:Ee,fileRejections:Ue,type:"setFiles"}),d&&d(Ee,Ue,fe),Ue.length>0&&_&&_(Ue,fe),Ee.length>0&&v&&v(Ee,fe)},[te,a,t,o,s,l,d,v,_,z]),bt=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),ye(U),j.current=[],z_(U)&&Promise.resolve(i(U)).then(function(fe){J1(U)&&!L||ke(fe,U)}),te({type:"reset"})},[i,ke,L]),rt=Z.exports.useCallback(function(){if(ie.current){te({type:"openDialog"}),C();var U={multiple:a,types:lse(t)};window.showOpenFilePicker(U).then(function(fe){return i(fe)}).then(function(fe){ke(fe,null),te({type:"closeDialog"})}).catch(function(fe){use(fe)?(F(fe),te({type:"closeDialog"})):cse(fe)&&(ie.current=!1,q.current&&(q.current.value=null,q.current.click()))});return}q.current&&(te({type:"openDialog"}),C(),q.current.value=null,q.current.click())},[te,C,F,w,ke,t,a]),ut=Z.exports.useCallback(function(U){!H.current||!H.current.isEqualNode(U.target)||(U.key===" "||U.key==="Enter"||U.keyCode===32||U.keyCode===13)&&(U.preventDefault(),rt())},[H,rt]),it=Z.exports.useCallback(function(){te({type:"focus"})},[]),Ct=Z.exports.useCallback(function(){te({type:"blur"})},[]),Xe=Z.exports.useCallback(function(){M||(ose()?setTimeout(rt,0):rt())},[M,rt]),$e=function(fe){return r?null:fe},O=function(fe){return T?null:$e(fe)},Te=function(fe){return A?null:$e(fe)},ye=function(fe){L&&fe.stopPropagation()},ne=Z.exports.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=U.refKey,Ee=fe===void 0?"ref":fe,Ue=U.role,Ke=U.onKeyDown,at=U.onFocus,He=U.onBlur,Bt=U.onClick,Ft=U.onDragEnter,_t=U.onDragOver,ge=U.onDragLeave,dt=U.onDrop,ht=Q1(U,dse);return Hr(Hr(w2({onKeyDown:O(Xl(Ke,ut)),onFocus:O(Xl(at,it)),onBlur:O(Xl(He,Ct)),onClick:$e(Xl(Bt,Xe)),onDragEnter:Te(Xl(Ft,we)),onDragOver:Te(Xl(_t,Re)),onDragLeave:Te(Xl(ge,Pe)),onDrop:Te(Xl(dt,bt)),role:typeof Ue=="string"&&Ue!==""?Ue:"button"},Ee,H),!r&&!T?{tabIndex:0}:{}),ht)}},[H,ut,it,Ct,Xe,we,Re,Pe,bt,T,A,r]),J=Z.exports.useCallback(function(U){U.stopPropagation()},[]),de=Z.exports.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=U.refKey,Ee=fe===void 0?"ref":fe,Ue=U.onChange,Ke=U.onClick,at=Q1(U,pse),He=w2({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:$e(Xl(Ue,bt)),onClick:$e(Xl(Ke,J)),tabIndex:-1},Ee,q);return Hr(Hr({},He),at)}},[q,t,a,bt,r]),We=ae.length,Be=We>0&&rse({files:ae,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),G=We>0&&!Be;return Hr(Hr({},I),{},{isDragAccept:Be,isDragReject:G,isFocused:ce&&!r,getRootProps:ne,getInputProps:de,rootRef:H,inputRef:q,open:$e(rt)})}function Sse(n,e){switch(e.type){case"focus":return Hr(Hr({},n),{},{isFocused:!0});case"blur":return Hr(Hr({},n),{},{isFocused:!1});case"openDialog":return Hr(Hr({},b2),{},{isFileDialogActive:!0});case"closeDialog":return Hr(Hr({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Hr(Hr({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Hr(Hr({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Hr({},b2);default:return n}}function XI(){}const Ese=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const p=(l==null?void 0:l.equalityFn)||Object.is;let m=o(r.getState());c=d=>{const v=o(d);if(!p(m,v)){const _=m;a(m=v,_)}},l!=null&&l.fireImmediately&&a(m,m)}return i(c)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Mse=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Tse=Mse;function ZI(n){return Tse(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var S5=function(e){var t,r;return!(ZI(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,ZI(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ase=S5,hA=function(e){return Ase(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Cse=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Rse=hA,Pse=Cse;function E5(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];S2(i)&&Pse(i,Ise,n)}return n}function Ise(n,e){if(!!Lse(e)){var t=this[e];S2(n)&&S2(t)?E5(t,n):this[e]=n}}function S2(n){return Rse(n)&&!Array.isArray(n)}function Lse(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var kse=E5;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Dse=function(n,e,t,r,i){if(!Ose(n)||!e)return n;if(e=F_(e),t&&(e+="."+F_(t)),r&&(e+="."+F_(r)),i&&(e+="."+F_(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function Ose(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function F_(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var zse=function(n,e){if(n===null||typeof n=="undefined")throw new TypeError("expected first argument to be an object.");if(typeof e=="undefined"||typeof Symbol=="undefined"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},Fse=hA,Nse=zse,Bse=Object.assign||function(n){if(n===null||typeof n=="undefined")throw new TypeError("Cannot convert undefined or null to object");KI(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Hse(t)&&(t=Wse(t)),KI(t)&&(Use(n,t),Nse(n,t))}return n};function Use(n,e){for(var t in e)Vse(e,t)&&(n[t]=e[t])}function Hse(n){return n&&typeof n=="string"}function Wse(n){var e={};for(var t in n)e[t]=n[t];return e}function KI(n){return n&&typeof n=="object"||Fse(n)}function Vse(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Gse=Bse,$se=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=Gse({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,p=n.length,m=-1,d;function v(){if(s&&a.length)return s[a[a.length-1]]}for(;++m<p;){var _=n[m],y=n[m+1],x={val:_,idx:m,arr:l,str:n};if(o.push(x),_==="\\"){x.val=qse(r,n,m)===!0?_+y:y,x.escaped=!0,typeof t=="function"&&t(x),l[l.length-1]+=x.val,m++;continue}if(s&&s[_]){a.push(_);var w=v(),S=m+1;if(n.indexOf(w,S+1)!==-1)for(;a.length&&S<p;){var M=n[++S];if(M==="\\"){M++;continue}if(i.indexOf(M)!==-1){S=E2(n,M,S+1);continue}if(w=v(),a.length&&n.indexOf(w,S+1)===-1)break;if(s[M]){a.push(M);continue}w===M&&a.pop()}if(d=S,d===-1){l[l.length-1]+=_;continue}_=n.slice(m,d+1),x.val=_,x.idx=m=d}if(i.indexOf(_)!==-1){if(d=E2(n,_,m+1),d===-1){l[l.length-1]+=_;continue}jse(_,r)===!0?_=n.slice(m,d+1):_=n.slice(m+1,d),x.val=_,x.idx=m=d}if(typeof t=="function"&&(t(x,o),_=x.val,m=x.idx),x.val===c&&x.split!==!1){l.push("");continue}l[l.length-1]+=x.val}return l};function E2(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?E2(n,e,i+1):i}function jse(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function qse(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Yse=function(e){return typeof e!="undefined"&&e!==null&&(typeof e=="object"||typeof e=="function")},JI=Yse,Xse=function(e){JI(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];JI(i)&&Zse(e,i)}return e};function Zse(n,e){for(var t in e)Kse(e,t)&&(n[t]=e[t])}function Kse(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Jse=function(e){return typeof e!="undefined"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Qse=$se,eoe=Xse,QI=S5,eL=Jse,toe=function(n,e,t){if(!eL(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=Qse(e,{sep:".",brackets:!0}).filter(noe),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){eL(o[a])||(o[a]={}),o=o[a];continue}QI(o[a])&&QI(t)?o[a]=eoe({},o[a],t):o[a]=t}return n};function noe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var lS=hA,tL=kse,roe=Dse,nL=toe,ioe=function(e,t,r){if(!lS(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return tL.apply(null,arguments);if(typeof r=="string")return nL(e,t,r),e;var i=roe(e,t);return lS(r)&&lS(i)&&(r=tL({},i,r)),nL(e,t,r),e};const M5=(...n)=>n.filter(Boolean).join(".");function soe(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function ooe(n,e){return Object.entries(Wne(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function aoe(n,e){const t=Z.exports.useRef();return(e?Dv:Jv)(n,t.current)||(t.current=n),t.current}function T5(n,e){return Z.exports.useMemo(n,aoe(e,!0))}function loe(n){const e=Z.exports.useRef(null),t=Z.exports.useRef(null),r=Z.exports.useRef(!0);return Z.exports.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),Z.exports.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const uoe=n=>{const[e,t]=Z.exports.useState(n.getVisiblePaths());return Z.exports.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Jv});return()=>r()},[n]),e};function coe(n,e,t){return n.useStore(i=>{const s=en(en({},t),i.data);return ooe(s,e)},Jv)}function A5(n=3){const e=Z.exports.useRef(null),t=Z.exports.useRef(null),[r,i]=Z.exports.useState(!1),s=Z.exports.useCallback(()=>i(!0),[]),o=Z.exports.useCallback(()=>i(!1),[]);return Z.exports.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:p}=t.current.getBoundingClientRect(),m=a+p>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",m==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}Sie([Eie]);const foe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};po.extend({color:()=>n=>Ns(n).isValid()});const hoe=n=>po().color().test(n);function C5(n,{format:e,hasAlpha:t,isString:r}){const i=foe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?Vne(s,["a"]):s}const R5=(n,e)=>{const t=Ns(n);if(!t.isValid())throw Error("Invalid color");return C5(t,e)},doe=(n,e)=>C5(Ns(n),en(en({},e),{},{isString:!0,format:"hex"})),poe=({value:n})=>{const e=bie(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:R5(n,i),settings:i}};var moe=Object.freeze({__proto__:null,schema:hoe,sanitize:R5,format:doe,normalize:poe});const goe=Yt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),voe=Yt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),yoe=Yt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function rL(n,e){return e!=="rgb"?Ns(n).toRgb():n}function _oe({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Ss(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:p,show:m,hide:d}=A5(),v=Z.exports.useRef(0),[_,y]=Z.exports.useState(()=>rL(n,o)),x=a?Iie:kie,w=()=>{y(rL(n,o)),m(),i()},S=()=>{d(),s(),window.clearTimeout(v.current)},M=()=>{v.current=window.setTimeout(S,500)};return Z.exports.useEffect(()=>()=>window.clearTimeout(v.current),[]),nn(Sl,{children:[ze(goe,{ref:l,active:p,onClick:()=>w(),style:{color:e}}),p&&nn(iA,{children:[ze(XN,{onPointerUp:S}),ze(yoe,{ref:c,onMouseEnter:()=>window.clearTimeout(v.current),onMouseLeave:T=>T.buttons===0&&M(),children:ze(x,{color:_,onChange:r})})]})]})}function xoe(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Ss();return nn(_a,{input:!0,children:[ze(El,{children:t}),nn(voe,{children:[ze(_oe,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),ze(rA,{value:e,onChange:r,onUpdate:i})]})]})}var woe=en({component:xoe},moe);function boe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ss();return nn(_a,{input:!0,children:[ze(El,{children:n}),ze(oA,{value:e,settings:r,onUpdate:t})]})}var Soe=en({component:boe},r5(["x","y","z"]));const Eoe=Yt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Moe=Yt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Toe({value:n,settings:e,onUpdate:t}){const r=Z.exports.useRef(),i=Z.exports.useRef(0),s=Z.exports.useRef(0),o=Z.exports.useRef(1),[a,l]=Z.exports.useState(!1),[c,p]=Z.exports.useState(!1),[m,d]=KN(),v=Z.exports.useRef(null),_=Z.exports.useRef(null);Z.exports.useLayoutEffect(()=>{if(a){const{top:B,left:Y,width:I,height:te}=v.current.getBoundingClientRect();_.current.style.left=Y+I/2+"px",_.current.style.top=B+te/2+"px"}},[a]);const{keys:[y,x],joystick:w}=e,S=w==="invertY"?1:-1,{[y]:{step:M},[x]:{step:T}}=e,A=_c("sizes","joystickWidth"),L=_c("sizes","joystickHeight"),z=parseFloat(A)*.8/2,C=parseFloat(L)*.8/2,F=Z.exports.useCallback(()=>{r.current||(p(!0),i.current&&d({x:i.current*z}),s.current&&d({y:s.current*-C}),r.current=window.setInterval(()=>{t(B=>{const Y=M*i.current*o.current,I=S*T*s.current*o.current;return Array.isArray(B)?{[y]:B[0]+Y,[x]:B[1]+I}:{[y]:B[y]+Y,[x]:B[x]+I}})},16))},[z,C,t,d,M,T,y,x,S]),H=Z.exports.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,p(!1)},[]);Z.exports.useEffect(()=>{function B(Y){o.current=ON(Y)}return window.addEventListener("keydown",B),window.addEventListener("keyup",B),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",B),window.removeEventListener("keyup",B)}},[]);const q=sy(({first:B,active:Y,delta:[I,te],movement:[ce,le]})=>{B&&l(!0);const ae=ph(ce,-z,z),ie=ph(le,-C,C);i.current=Math.abs(ce)>Math.abs(ae)?Math.sign(ce-ae):0,s.current=Math.abs(le)>Math.abs(ie)?Math.sign(ie-le):0;let ue=n[y],j=n[x];Y?(i.current||(ue+=I*M*o.current,d({x:ae})),s.current||(j-=S*te*T*o.current,d({y:ie})),i.current||s.current?F():H(),t({[y]:ue,[x]:j})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),H())});return ze(Eoe,{ref:v,...q(),children:a&&ze(iA,{children:nn(Moe,{ref:_,isOutOfBounds:c,children:[ze("div",{}),ze("span",{ref:m})]})})})}const Aoe=Yt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Coe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ss();return nn(_a,{input:!0,children:[ze(El,{children:n}),nn(Aoe,{withJoystick:!!r.joystick,children:[r.joystick&&ze(Toe,{value:e,settings:r,onUpdate:t}),ze(oA,{value:e,settings:r,onUpdate:t})]})]})}const Roe=["joystick"],P5=r5(["x","y"]),Poe=n=>{let{joystick:e=!0}=n,t=mr(n,Roe);const{value:r,settings:i}=P5.normalize(t);return{value:r,settings:en(en({},i),{},{joystick:e})}};var Ioe=en(en({component:Coe},P5),{},{normalize:Poe});const Loe=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |\xA0File].")}},koe=(n,e)=>typeof e=="object"&&"image"in e,Doe=({image:n})=>({value:n});var Ooe=Object.freeze({__proto__:null,sanitize:Loe,schema:koe,normalize:Doe});const zoe=Yt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Foe=Yt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Noe=Yt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Boe=Yt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Uoe=Yt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Hoe=Yt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Woe(){const{label:n,value:e,onUpdate:t,disabled:r}=Ss(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=A5(),c=Z.exports.useCallback(_=>{_.length&&t(_[0])},[t]),p=Z.exports.useCallback(_=>{_.stopPropagation(),t(void 0)},[t]),{getRootProps:m,getInputProps:d,isDragAccept:v}=b5({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return nn(_a,{input:!0,children:[ze(El,{children:n}),nn(zoe,{children:[ze(Noe,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&nn(iA,{children:[ze(XN,{onPointerUp:l,style:{cursor:"pointer"}}),ze(Boe,{ref:s,style:{backgroundImage:`url(${e})`}})]}),nn(Foe,{...m({isDragAccept:v}),children:[ze("input",{...d()}),ze(Uoe,{children:v?"drop image":"click or drop"})]}),ze(Hoe,{onClick:p,disabled:!e})]})]})}var Voe=en({component:Woe},Ooe);const iL=po().number(),Goe=(n,e)=>po().array().length(2).every.number().test(n)&&po().schema({min:iL,max:iL}).test(e),ex=n=>({min:n[0],max:n[1]}),I5=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?ex(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=en(en({},s),i);return[ph(Number(o),e,Math.max(e,a)),ph(Number(a),Math.min(t,o),t)]},$oe=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=n5(ex(n),{min:r,max:r}),s=[e,t],o=en(en({},i),{},{bounds:s});return{value:I5(ex(n),o,n),settings:o}};var joe=Object.freeze({__proto__:null,schema:Goe,format:ex,sanitize:I5,normalize:$oe});const qoe=["value","bounds","onDrag"],Yoe=["bounds"],Xoe=Yt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Zoe(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=mr(n,qoe);const o=Z.exports.useRef(null),a=Z.exports.useRef(null),l=Z.exports.useRef(null),c=Z.exports.useRef(0),p=_c("sizes","scrubberWidth"),m=sy(({event:_,first:y,xy:[x],movement:[w],memo:S={}})=>{if(y){const{width:T,left:A}=o.current.getBoundingClientRect();c.current=T-parseFloat(p);const L=(_==null?void 0:_.target)===a.current||(_==null?void 0:_.target)===l.current;S.pos=X1((x-A)/T,t,r);const z=Math.abs(S.pos-e.min)-Math.abs(S.pos-e.max);S.key=z<0||z===0&&S.pos<=e.min?"min":"max",L&&(S.pos=e[S.key])}const M=S.pos+X1(w/c.current,0,r-t);return i({[S.key]:Rre(M,s[S.key])}),S}),d=`calc(${Y1(e.min,t,r)} * (100% - ${p} - 8px) + 4px)`,v=`calc(${1-Y1(e.max,t,r)} * (100% - ${p} - 8px) + 4px)`;return nn(QN,{ref:o,...m(),children:[ze(JN,{children:ze(e5,{style:{left:d,right:v}})}),ze(h2,{position:"left",ref:a,style:{left:d}}),ze(h2,{position:"right",ref:l,style:{right:v}})]})}function Koe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ss(),i=mr(r,Yoe);return ze(Sl,{children:nn(_a,{input:!0,children:[ze(El,{children:n}),nn(Xoe,{children:[ze(Zoe,{value:e,...r,onDrag:t}),ze(oA,{value:e,settings:i,onUpdate:t,innerLabelTrim:0})]})]})})}var Joe=en({component:Koe},joe);const Qoe=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},eae=["type","value"],tae=["onChange","transient","onEditStart","onEditEnd"],nae=function(){const e=bz(Ese(()=>({data:{}}))),t=Qoe();this.storeId=Hne(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([p,m])=>{m.render&&a.some(d=>d.indexOf(p)===0)&&!m.render(this.get)&&l.push(p+".")});const c=[];return i.forEach(p=>{p in o&&o[p].__refCount>0&&l.every(m=>p.indexOf(m)===-1)&&(!o[p].render||o[p].render(this.get))&&c.push(p)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const p=l[c];p.__refCount--,p.__refCount===0&&p.type in ml&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([p,m])=>{let d=c[p];if(d){const{type:v,value:_}=m,y=mr(m,eae);v!==d.type?dc(Wr.INPUT_TYPE_OVERRIDE,v):((d.__refCount===0||a)&&Object.assign(d,y),d.__refCount++)}else c[p]=en(en({},m),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const p=c.data;return AI(p[o],a,o,this,l),{data:p}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=en(en({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([p,m])=>{try{AI(c[p],m,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{dc(Wr.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,en(en({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,en(en({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([p,m])=>{if(p==="")return dc(Wr.EMPTY_KEY);let d=M5(a,p);if(m.type===ml.FOLDER){const v=s(m.schema,d,l);Object.assign(c,v),d in r||(r[d]=m.settings)}else if(p in l)dc(Wr.DUPLICATE_KEYS,p,d,l[p].path);else{const v=Xne(m,p,d,c);if(v){const{type:_,options:y,input:x}=v,{onChange:w,transient:S,onEditStart:M,onEditEnd:T}=y,A=mr(y,tae);c[d]=en(en(en({type:_},A),x),{},{fromPanel:!0}),l[p]={path:d,onChange:w,transient:S,onEditStart:M,onEditEnd:T}}else dc(Wr.UNKNOWN_INPUT,d,m)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},L5=new nae,rae={collapsed:!1};function k5(n,e){return{type:ml.FOLDER,schema:n,settings:en(en({},rae),e)}}const iae=n=>"__levaInput"in n,sae=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=soe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&ioe(t,o,{[s]:{__levaInput:!0,path:i}})}),t};function oae({toggle:n,toggled:e,name:t}){return nn(cre,{onClick:()=>n(),children:[ze(sA,{toggled:e}),ze("div",{children:t})]})}const aae=["type","label","path","valueKey","value","settings","setValue","disabled"];function lae(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=mr(n,aae);const{displayValue:p,onChange:m,onUpdate:d}=ZN({type:e,value:s,settings:o,setValue:a}),v=np[e].component;return v?ze(UN.Provider,{value:en({key:i,path:r,id:""+r,label:t,displayValue:p,value:s,onChange:m,onUpdate:d,settings:o,setValue:a,disabled:l},c),children:ze(dre,{disabled:l,children:ze(v,{})})}):(dc(Wr.NO_COMPONENT_FOR_TYPE,e,r),null)}const uae=Yt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function cae({onClick:n,settings:e,label:t}){const r=sw();return ze(_a,{children:ze(uae,{disabled:e.disabled,onClick:()=>n(r.get),children:t})})}const fae=Yt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),hae=Yt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),dae=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function pae(n){const{label:e,opts:t}=dae(n),r=sw();return nn(_a,{input:!!e,children:[e&&ze(El,{children:e}),ze(fae,{children:Object.entries(t).map(([i,s])=>ze(hae,{onClick:()=>s(r.get),children:i},i))})]})}const mae=Yt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),D5=100;function gae(n,e){n.push(e),n.length>D5&&n.shift()}const vae=Z.exports.forwardRef(function({initialValue:n},e){const t=_c("colors","highlight3"),r=_c("colors","elevation2"),i=_c("colors","highlight1"),[s,o]=Z.exports.useMemo(()=>[Ns(i).alpha(.4).toRgbString(),Ns(i).alpha(.1).toRgbString()],[i]),a=Z.exports.useRef([n]),l=Z.exports.useRef(n),c=Z.exports.useRef(n),p=Z.exports.useRef(),m=Z.exports.useCallback((_,y)=>{if(!_)return;const{width:x,height:w}=_,S=new Path2D,M=x/D5,T=w*.05;for(let z=0;z<a.current.length;z++){const C=Y1(a.current[z],l.current,c.current),F=M*z,H=w-C*(w-T*2)-T;S.lineTo(F,H)}y.clearRect(0,0,x,w);const A=new Path2D(S);A.lineTo(M*(a.current.length+1),w),A.lineTo(0,w),A.lineTo(0,0);const L=y.createLinearGradient(0,0,0,w);L.addColorStop(0,s),L.addColorStop(1,o),y.fillStyle=L,y.fill(A),y.strokeStyle=r,y.lineJoin="round",y.lineWidth=14,y.stroke(S),y.strokeStyle=t,y.lineWidth=2,y.stroke(S)},[t,r,s,o]),[d,v]=bre(m);return Z.exports.useImperativeHandle(e,()=>({frame:_=>{(l.current===void 0||_<l.current)&&(l.current=_),(c.current===void 0||_>c.current)&&(c.current=_),gae(a.current,_),p.current=requestAnimationFrame(()=>m(d.current,v.current))}}),[d,v,m]),Z.exports.useEffect(()=>()=>cancelAnimationFrame(p.current),[]),ze(mae,{ref:d})}),sL=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),yae=Z.exports.forwardRef(function({initialValue:n},e){const[t,r]=Z.exports.useState(sL(n));return Z.exports.useImperativeHandle(e,()=>({frame:i=>r(sL(i))}),[]),ze("div",{children:t})});function oL(n){return typeof n=="function"?n():n.current}function _ae({label:n,objectOrFn:e,settings:t}){const r=Z.exports.useRef(),i=Z.exports.useRef(oL(e));return Z.exports.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(oL(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),nn(_a,{input:!0,children:[ze(El,{align:"top",children:n}),t.graph?ze(vae,{ref:r,initialValue:i.current}):ze(yae,{ref:r,initialValue:i.current})]})}const xae=["type","label","key"],wae={[ml.BUTTON]:cae,[ml.BUTTON_GROUP]:pae,[ml.MONITOR]:_ae},bae=Jt.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Ere(n);if(!e)return null;const{type:l,label:c,key:p}=e,m=mr(e,xae);if(l in ml){const d=wae[l];return ze(d,{label:c,path:n,...m})}return l in np?ze(lae,{type:l,label:c,storeId:s,path:n,valueKey:p,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a,...m},s+n):(kne(Wr.UNSUPPORTED_INPUT,l,n),null)}),Sae=({name:n,path:e,tree:t})=>{const r=sw(),i=M5(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=Z.exports.useState(!s),c=Z.exports.useRef(null),p=_c("colors","folderWidgetColor"),m=_c("colors","folderTextColor");return Z.exports.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||p),c.current.style.setProperty("--leva-colors-folderTextColor",o||m)},[o,p,m]),nn(Z1,{ref:c,children:[ze(oae,{name:n,toggled:a,toggle:()=>l(d=>!d)}),ze(O5,{parent:i,tree:t,toggled:a})]})},O5=Jt.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=loe(s);return ze(c2,{ref:o,isRoot:n,fill:e,flat:t,children:ze(jN,{ref:a,isRoot:n,toggled:s,children:Object.entries(i).map(([l,c])=>iae(c)?ze(bae,{valueKey:c.valueKey,path:c.path},c.path):ze(Sae,{name:l,path:r,tree:c},l))})})}),Eae=Yt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${YN}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),z5=40,tx=Yt("i",{$flexCenter:"",width:z5,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Mae=Yt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Tae=Yt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${tx}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Aae=Yt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Cae=Yt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:z5}}}}),Rae=Jt.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=Z.exports.useState(""),s=Z.exports.useMemo(()=>DN(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return Z.exports.useEffect(()=>{s(r)},[r,s]),nn(Sl,{children:[ze(Aae,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ze(tx,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"},children:ze("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor",children:ze("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})});function Pae({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[p,m]=Z.exports.useState(!1),d=Z.exports.useRef(null);Z.exports.useEffect(()=>{var _,y;p?(_=d.current)===null||_===void 0||_.focus():(y=d.current)===null||y===void 0||y.blur()},[p]);const v=sy(({offset:[_,y],first:x,last:w})=>{e({x:_,y}),x&&t({x:_,y}),w&&r({x:_,y})},{filterTaps:!0,from:({offset:[_,y]})=>[(c==null?void 0:c.x)||_,(c==null?void 0:c.y)||y]});return Z.exports.useEffect(()=>{const _=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&m(x=>!x)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),nn(Sl,{children:[nn(Mae,{mode:a?"drag":void 0,children:[ze(tx,{active:!s,onClick:()=>i(),children:ze(sA,{toggled:s,width:12,height:8})}),ze(Cae,{...a?v():{},drag:a,filterEnabled:l,children:o===void 0&&a?nn("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg",children:[ze("circle",{cx:"2",cy:"2",r:"2"}),ze("circle",{cx:"14",cy:"2",r:"2"}),ze("circle",{cx:"26",cy:"2",r:"2"}),ze("circle",{cx:"2",cy:"12",r:"2"}),ze("circle",{cx:"14",cy:"12",r:"2"}),ze("circle",{cx:"26",cy:"12",r:"2"})]}):o}),l&&ze(tx,{active:p,onClick:()=>m(_=>!_),children:nn("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20",children:[ze("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ze("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})]})})]}),ze(Tae,{toggled:p,children:ze(Rae,{ref:d,setFilter:n,toggle:i})})]})}const Iae=["store","hidden","theme","collapsed"];function Lae(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=mr(n,Iae);const o=T5(()=>ire(r),[r]),[a,l]=Z.exports.useState(!i),c=typeof i=="object"?!i.collapsed:a,p=Z.exports.useMemo(()=>typeof i=="object"?m=>{typeof m=="function"?i.onChange(!m(!i.collapsed)):i.onChange(!m)}:l,[i]);return!e||t?null:ze(nA.Provider,{value:o,children:ze(kae,{store:e,...s,toggled:c,setToggle:p,rootClass:o.className})})}const kae=Jt.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var p,m;const d=uoe(n),[v,_]=Z.exports.useState(""),y=Z.exports.useMemo(()=>sae(d,v),[d,v]),[x,w]=KN(),S=i||d.length>0,M=typeof o=="object"&&o.title||void 0,T=typeof o=="object"&&(p=o.drag)!==null&&p!==void 0?p:!0,A=typeof o=="object"&&(m=o.filter)!==null&&m!==void 0?m:!0,L=typeof o=="object"&&o.position||void 0,z=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,F=typeof o=="object"&&o.onDragEnd||void 0;return Jt.useEffect(()=>{w({x:L==null?void 0:L.x,y:L==null?void 0:L.y})},[L,w]),rre(),ze(WN.Provider,{value:{hideCopyButton:a},children:nn(Eae,{ref:x,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:S?"block":"none"},children:[o&&ze(Pae,{onDrag:H=>{w(H),z==null||z(H)},onDragStart:H=>C==null?void 0:C(H),onDragEnd:H=>F==null?void 0:F(H),setFilter:_,toggle:H=>c(q=>H!=null?H:!q),toggled:l,title:M,drag:T,filterEnabled:A,from:L}),S&&ze(HN.Provider,{value:n,children:ze(O5,{isRoot:!0,fill:t,flat:r,tree:y,toggled:l})})]})})}),Dae=["isRoot"];let nx=!1,Cd=null;function Oae(n){let{isRoot:e=!1}=n,t=mr(n,Dae);return Z.exports.useEffect(()=>(nx=!0,!e&&Cd&&(Cd.remove(),Cd=null),()=>{e||(nx=!1)}),[e]),ze(Lae,{store:L5,...t})}function zae(n){Z.exports.useEffect(()=>{n&&!nx&&(Cd||(Cd=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Cd),wM.render(ze(Oae,{isRoot:!0}),Cd))),nx=!0)},[n])}function Fae(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=r):(a=t,Array.isArray(r)?c=r:(l=r,c=i)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function rx(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=Fae(n,e,t,r,i),p=typeof o=="function",m=Z.exports.useRef(!1),d=Z.exports.useRef(!0),v=T5(()=>{m.current=!0;const q=typeof o=="function"?o():o;return s?{[s]:k5(q,a)}:q},c),_=!(l!=null&&l.store);zae(_);const[y]=Z.exports.useState(()=>(l==null?void 0:l.store)||L5),[x,w]=Z.exports.useMemo(()=>y.getDataFromSchema(v),[y,v]),[S,M,T,A,L]=Z.exports.useMemo(()=>{const q=[],B=[],Y={},I={},te={};return Object.values(w).forEach(({path:ce,onChange:le,onEditStart:ae,onEditEnd:ie,transient:ue})=>{q.push(ce),le?(Y[ce]=le,ue||B.push(ce)):B.push(ce),ae&&(I[ce]=ae),ie&&(te[ce]=ie)}),[q,B,Y,I,te]},[w]),z=Z.exports.useMemo(()=>y.orderPaths(S),[S,y]),C=coe(y,M,x),F=Z.exports.useCallback(q=>{const B=Object.entries(q).reduce((Y,[I,te])=>Object.assign(Y,{[w[I].path]:te}),{});y.set(B,!1)},[y,w]),H=Z.exports.useCallback(q=>y.get(w[q].path),[y,w]);return Z.exports.useEffect(()=>{const q=!d.current&&m.current;return y.addData(x,q),d.current=!1,m.current=!1,()=>y.disposePaths(z)},[y,z,x]),Z.exports.useEffect(()=>{const q=[];return Object.entries(T).forEach(([B,Y])=>{Y(y.get(B),B,en({initial:!0,get:y.get},y.getInput(B)));const I=y.useStore.subscribe(te=>{const ce=te.data[B];return[ce.disabled?void 0:ce.value,ce]},([te,ce])=>Y(te,B,en({initial:!1,get:y.get},ce)),{equalityFn:Jv});q.push(I)}),()=>q.forEach(B=>B())},[y,T]),Z.exports.useEffect(()=>{const q=[];return Object.entries(A).forEach(([B,Y])=>q.push(y.subscribeToEditStart(B,Y))),Object.entries(L).forEach(([B,Y])=>q.push(y.subscribeToEditEnd(B,Y))),()=>q.forEach(B=>B())},[A,L,y]),p?[C,F,H]:C}Fc(xl.SELECT,Hre);Fc(xl.IMAGE,Voe);Fc(xl.NUMBER,Ire);Fc(xl.COLOR,woe);Fc(xl.STRING,Zre);Fc(xl.BOOLEAN,rie);Fc(xl.INTERVAL,Joe);Fc(xl.VECTOR3D,Soe);Fc(xl.VECTOR2D,Ioe);var M2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,p="__lodash_placeholder__",m=1,d=2,v=4,_=1,y=2,x=1,w=2,S=4,M=8,T=16,A=32,L=64,z=128,C=256,F=512,H=30,q="...",B=800,Y=16,I=1,te=2,ce=3,le=1/0,ae=9007199254740991,ie=17976931348623157e292,ue=0/0,j=4294967295,K=j-1,we=j>>>1,Re=[["ary",z],["bind",x],["bindKey",w],["curry",M],["curryRight",T],["flip",F],["partial",A],["partialRight",L],["rearg",C]],Pe="[object Arguments]",ke="[object Array]",bt="[object AsyncFunction]",rt="[object Boolean]",ut="[object Date]",it="[object DOMException]",Ct="[object Error]",Xe="[object Function]",$e="[object GeneratorFunction]",O="[object Map]",Te="[object Number]",ye="[object Null]",ne="[object Object]",J="[object Promise]",de="[object Proxy]",We="[object RegExp]",Be="[object Set]",G="[object String]",U="[object Symbol]",fe="[object Undefined]",Ee="[object WeakMap]",Ue="[object WeakSet]",Ke="[object ArrayBuffer]",at="[object DataView]",He="[object Float32Array]",Bt="[object Float64Array]",Ft="[object Int8Array]",_t="[object Int16Array]",ge="[object Int32Array]",dt="[object Uint8Array]",ht="[object Uint8ClampedArray]",Pt="[object Uint16Array]",vt="[object Uint32Array]",Ut=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rn=/&(?:amp|lt|gt|quot|#39);/g,rn=/[&<>"']/g,ni=RegExp(Rn.source),is=RegExp(rn.source),fu=/<%-([\s\S]+?)%>/g,Ml=/<%([\s\S]+?)%>/g,hu=/<%=([\s\S]+?)%>/g,Tl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nc=/^\w*$/,Bc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Al=/[\\^$.*+?()[\]{}|]/g,du=RegExp(Al.source),oe=/^\s+/,Fe=/\s/,qe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,Je=/,? & /,qt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tn=/[()=,{}\[\]\/\s]/,un=/\\(\\)?/g,an=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dn=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Tn=/^0b[01]+$/i,Gn=/^\[object .+?Constructor\]$/,Es=/^0o[0-7]+$/i,ss=/^(?:0|[1-9]\d*)$/,Ks=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kr=/($^)/,cn=/['\n\r\u2028\u2029\\]/g,Pn="\\ud800-\\udfff",sn="\\u0300-\\u036f",zr="\\ufe20-\\ufe2f",rr="\\u20d0-\\u20ff",Er=sn+zr+rr,os="\\u2700-\\u27bf",ir="a-z\\xdf-\\xf6\\xf8-\\xff",sr="\\xac\\xb1\\xd7\\xf7",Js="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yr="\\u2000-\\u206f",fp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pu="A-Z\\xc0-\\xd6\\xd8-\\xde",Eh="\\ufe0e\\ufe0f",Uc=sr+Js+Yr+fp,Eo="['\u2019]",hp="["+Pn+"]",Cl="["+Uc+"]",$n="["+Er+"]",Zo="\\d+",Hg="["+os+"]",dp="["+ir+"]",xa="[^"+Pn+Uc+Zo+os+ir+pu+"]",mu="\\ud83c[\\udffb-\\udfff]",Hc="(?:"+$n+"|"+mu+")",wa="[^"+Pn+"]",gu="(?:\\ud83c[\\udde6-\\uddff]){2}",Rl="[\\ud800-\\udbff][\\udc00-\\udfff]",Xi="["+pu+"]",pp="\\u200d",mp="(?:"+dp+"|"+xa+")",Wg="(?:"+Xi+"|"+xa+")",gp="(?:"+Eo+"(?:d|ll|m|re|s|t|ve))?",Wc="(?:"+Eo+"(?:D|LL|M|RE|S|T|VE))?",Vc=Hc+"?",vp="["+Eh+"]?",yp="(?:"+pp+"(?:"+[wa,gu,Rl].join("|")+")"+vp+Vc+")*",Gc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_p="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vu=vp+Vc+yp,yu="(?:"+[Hg,gu,Rl].join("|")+")"+vu,ba="(?:"+[wa+$n+"?",$n,gu,Rl,hp].join("|")+")",xp=RegExp(Eo,"g"),Mh=RegExp($n,"g"),_u=RegExp(mu+"(?="+mu+")|"+ba+vu,"g"),Th=RegExp([Xi+"?"+dp+"+"+gp+"(?="+[Cl,Xi,"$"].join("|")+")",Wg+"+"+Wc+"(?="+[Cl,Xi+mp,"$"].join("|")+")",Xi+"?"+mp+"+"+gp,Xi+"+"+Wc,_p,Gc,Zo,yu].join("|"),"g"),Ms=RegExp("["+pp+Pn+Er+Eh+"]"),$c=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sa=-1,ln={};ln[He]=ln[Bt]=ln[Ft]=ln[_t]=ln[ge]=ln[dt]=ln[ht]=ln[Pt]=ln[vt]=!0,ln[Pe]=ln[ke]=ln[Ke]=ln[rt]=ln[at]=ln[ut]=ln[Ct]=ln[Xe]=ln[O]=ln[Te]=ln[ne]=ln[We]=ln[Be]=ln[G]=ln[Ee]=!1;var Nn={};Nn[Pe]=Nn[ke]=Nn[Ke]=Nn[at]=Nn[rt]=Nn[ut]=Nn[He]=Nn[Bt]=Nn[Ft]=Nn[_t]=Nn[ge]=Nn[O]=Nn[Te]=Nn[ne]=Nn[We]=Nn[Be]=Nn[G]=Nn[U]=Nn[dt]=Nn[ht]=Nn[Pt]=Nn[vt]=!0,Nn[Ct]=Nn[Xe]=Nn[Ee]=!1;var wp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ts={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ea={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bp=parseFloat,Vg=parseInt,Sp=typeof cl=="object"&&cl&&cl.Object===Object&&cl,Ki=typeof self=="object"&&self&&self.Object===Object&&self,Xr=Sp||Ki||Function("return this")(),Pl=e&&!e.nodeType&&e,Ma=Pl&&!0&&n&&!n.nodeType&&n,as=Ma&&Ma.exports===Pl,Il=as&&Sp.process,Pi=function(){try{var Ae=Ma&&Ma.require&&Ma.require("util").types;return Ae||Il&&Il.binding&&Il.binding("util")}catch{}}(),Ta=Pi&&Pi.isArrayBuffer,xu=Pi&&Pi.isDate,wu=Pi&&Pi.isMap,Ah=Pi&&Pi.isRegExp,qc=Pi&&Pi.isSet,Ch=Pi&&Pi.isTypedArray;function Zr(Ae,Ye,Ne){switch(Ne.length){case 0:return Ae.call(Ye);case 1:return Ae.call(Ye,Ne[0]);case 2:return Ae.call(Ye,Ne[0],Ne[1]);case 3:return Ae.call(Ye,Ne[0],Ne[1],Ne[2])}return Ae.apply(Ye,Ne)}function ls(Ae,Ye,Ne,Mt){for(var Qt=-1,In=Ae==null?0:Ae.length;++Qt<In;){var vr=Ae[Qt];Ye(Mt,vr,Ne(vr),Ae)}return Mt}function Fr(Ae,Ye){for(var Ne=-1,Mt=Ae==null?0:Ae.length;++Ne<Mt&&Ye(Ae[Ne],Ne,Ae)!==!1;);return Ae}function Rh(Ae,Ye){for(var Ne=Ae==null?0:Ae.length;Ne--&&Ye(Ae[Ne],Ne,Ae)!==!1;);return Ae}function Ph(Ae,Ye){for(var Ne=-1,Mt=Ae==null?0:Ae.length;++Ne<Mt;)if(!Ye(Ae[Ne],Ne,Ae))return!1;return!0}function Ii(Ae,Ye){for(var Ne=-1,Mt=Ae==null?0:Ae.length,Qt=0,In=[];++Ne<Mt;){var vr=Ae[Ne];Ye(vr,Ne,Ae)&&(In[Qt++]=vr)}return In}function As(Ae,Ye){var Ne=Ae==null?0:Ae.length;return!!Ne&&Qs(Ae,Ye,0)>-1}function bu(Ae,Ye,Ne){for(var Mt=-1,Qt=Ae==null?0:Ae.length;++Mt<Qt;)if(Ne(Ye,Ae[Mt]))return!0;return!1}function Zn(Ae,Ye){for(var Ne=-1,Mt=Ae==null?0:Ae.length,Qt=Array(Mt);++Ne<Mt;)Qt[Ne]=Ye(Ae[Ne],Ne,Ae);return Qt}function Mo(Ae,Ye){for(var Ne=-1,Mt=Ye.length,Qt=Ae.length;++Ne<Mt;)Ae[Qt+Ne]=Ye[Ne];return Ae}function Yc(Ae,Ye,Ne,Mt){var Qt=-1,In=Ae==null?0:Ae.length;for(Mt&&In&&(Ne=Ae[++Qt]);++Qt<In;)Ne=Ye(Ne,Ae[Qt],Qt,Ae);return Ne}function Xc(Ae,Ye,Ne,Mt){var Qt=Ae==null?0:Ae.length;for(Mt&&Qt&&(Ne=Ae[--Qt]);Qt--;)Ne=Ye(Ne,Ae[Qt],Qt,Ae);return Ne}function Aa(Ae,Ye){for(var Ne=-1,Mt=Ae==null?0:Ae.length;++Ne<Mt;)if(Ye(Ae[Ne],Ne,Ae))return!0;return!1}var Ep=Eu("length");function Mp(Ae){return Ae.split("")}function Tp(Ae){return Ae.match(qt)||[]}function Zc(Ae,Ye,Ne){var Mt;return Ne(Ae,function(Qt,In,vr){if(Ye(Qt,In,vr))return Mt=In,!1}),Mt}function Ca(Ae,Ye,Ne,Mt){for(var Qt=Ae.length,In=Ne+(Mt?1:-1);Mt?In--:++In<Qt;)if(Ye(Ae[In],In,Ae))return In;return-1}function Qs(Ae,Ye,Ne){return Ye===Ye?hr(Ae,Ye,Ne):Ca(Ae,Ll,Ne)}function Su(Ae,Ye,Ne,Mt){for(var Qt=Ne-1,In=Ae.length;++Qt<In;)if(Mt(Ae[Qt],Ye))return Qt;return-1}function Ll(Ae){return Ae!==Ae}function Ra(Ae,Ye){var Ne=Ae==null?0:Ae.length;return Ne?To(Ae,Ye)/Ne:ue}function Eu(Ae){return function(Ye){return Ye==null?t:Ye[Ae]}}function Pa(Ae){return function(Ye){return Ae==null?t:Ae[Ye]}}function Ni(Ae,Ye,Ne,Mt,Qt){return Qt(Ae,function(In,vr,Wn){Ne=Mt?(Mt=!1,In):Ye(Ne,In,vr,Wn)}),Ne}function Mu(Ae,Ye){var Ne=Ae.length;for(Ae.sort(Ye);Ne--;)Ae[Ne]=Ae[Ne].value;return Ae}function To(Ae,Ye){for(var Ne,Mt=-1,Qt=Ae.length;++Mt<Qt;){var In=Ye(Ae[Mt]);In!==t&&(Ne=Ne===t?In:Ne+In)}return Ne}function us(Ae,Ye){for(var Ne=-1,Mt=Array(Ae);++Ne<Ae;)Mt[Ne]=Ye(Ne);return Mt}function Ia(Ae,Ye){return Zn(Ye,function(Ne){return[Ne,Ae[Ne]]})}function La(Ae){return Ae&&Ae.slice(0,Dl(Ae)+1).replace(oe,"")}function Bi(Ae){return function(Ye){return Ae(Ye)}}function Tu(Ae,Ye){return Zn(Ye,function(Ne){return Ae[Ne]})}function Qn(Ae,Ye){return Ae.has(Ye)}function Au(Ae,Ye){for(var Ne=-1,Mt=Ae.length;++Ne<Mt&&Qs(Ye,Ae[Ne],0)>-1;);return Ne}function eo(Ae,Ye){for(var Ne=Ae.length;Ne--&&Qs(Ye,Ae[Ne],0)>-1;);return Ne}function ka(Ae,Ye){for(var Ne=Ae.length,Mt=0;Ne--;)Ae[Ne]===Ye&&++Mt;return Mt}var to=Pa(wp),Ap=Pa(Ts);function Ih(Ae){return"\\"+Zi[Ae]}function Kc(Ae,Ye){return Ae==null?t:Ae[Ye]}function Da(Ae){return Ms.test(Ae)}function Jc(Ae){return $c.test(Ae)}function Lh(Ae){for(var Ye,Ne=[];!(Ye=Ae.next()).done;)Ne.push(Ye.value);return Ne}function no(Ae){var Ye=-1,Ne=Array(Ae.size);return Ae.forEach(function(Mt,Qt){Ne[++Ye]=[Qt,Mt]}),Ne}function Cu(Ae,Ye){return function(Ne){return Ae(Ye(Ne))}}function Ji(Ae,Ye){for(var Ne=-1,Mt=Ae.length,Qt=0,In=[];++Ne<Mt;){var vr=Ae[Ne];(vr===Ye||vr===p)&&(Ae[Ne]=p,In[Qt++]=Ne)}return In}function yi(Ae){var Ye=-1,Ne=Array(Ae.size);return Ae.forEach(function(Mt){Ne[++Ye]=Mt}),Ne}function kl(Ae){var Ye=-1,Ne=Array(Ae.size);return Ae.forEach(function(Mt){Ne[++Ye]=[Mt,Mt]}),Ne}function hr(Ae,Ye,Ne){for(var Mt=Ne-1,Qt=Ae.length;++Mt<Qt;)if(Ae[Mt]===Ye)return Mt;return-1}function _i(Ae,Ye,Ne){for(var Mt=Ne+1;Mt--;)if(Ae[Mt]===Ye)return Mt;return Mt}function gr(Ae){return Da(Ae)?kh(Ae):Ep(Ae)}function Ui(Ae){return Da(Ae)?Dh(Ae):Mp(Ae)}function Dl(Ae){for(var Ye=Ae.length;Ye--&&Fe.test(Ae.charAt(Ye)););return Ye}var Hi=Pa(Ea);function kh(Ae){for(var Ye=_u.lastIndex=0;_u.test(Ae);)++Ye;return Ye}function Dh(Ae){return Ae.match(_u)||[]}function Ao(Ae){return Ae.match(Th)||[]}var ro=function Ae(Ye){Ye=Ye==null?Xr:ri.defaults(Xr.Object(),Ye,ri.pick(Xr,jc));var Ne=Ye.Array,Mt=Ye.Date,Qt=Ye.Error,In=Ye.Function,vr=Ye.Math,Wn=Ye.Object,Ol=Ye.RegExp,zl=Ye.String,Wi=Ye.TypeError,Ru=Ne.prototype,Pu=In.prototype,Co=Wn.prototype,Iu=Ye["__core-js_shared__"],Lu=Pu.toString,Bn=Co.hasOwnProperty,Oh=0,Qc=function(){var u=/[^.]+$/.exec(Iu&&Iu.keys&&Iu.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ef=Co.toString,zh=Lu.call(Wn),tf=Xr._,Gg=Ol("^"+Lu.call(Bn).replace(Al,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nf=as?Ye.Buffer:t,Ko=Ye.Symbol,rf=Ye.Uint8Array,cs=nf?nf.allocUnsafe:t,ii=Cu(Wn.getPrototypeOf,Wn),Fh=Wn.create,Nh=Co.propertyIsEnumerable,ku=Ru.splice,sf=Ko?Ko.isConcatSpreadable:t,Fl=Ko?Ko.iterator:t,io=Ko?Ko.toStringTag:t,Nl=function(){try{var u=sd(Wn,"defineProperty");return u({},"",{}),u}catch{}}(),Bh=Ye.clearTimeout!==Xr.clearTimeout&&Ye.clearTimeout,Uh=Mt&&Mt.now!==Xr.Date.now&&Mt.now,of=Ye.setTimeout!==Xr.setTimeout&&Ye.setTimeout,Du=vr.ceil,Cs=vr.floor,af=Wn.getOwnPropertySymbols,Cp=nf?nf.isBuffer:t,Jo=Ye.isFinite,Hh=Ru.join,Rp=Cu(Wn.keys,Wn),Kn=vr.max,or=vr.min,Ou=Mt.now,Oa=Ye.parseInt,si=vr.random,zu=Ru.reverse,Fu=sd(Ye,"DataView"),fs=sd(Ye,"Map"),lf=sd(Ye,"Promise"),za=sd(Ye,"Set"),Fa=sd(Ye,"WeakMap"),Qo=sd(Wn,"create"),Bl=Fa&&new Fa,Na={},Wh=od(Fu),Pp=od(fs),Ip=od(lf),$g=od(za),Lp=od(Fa),Ul=Ko?Ko.prototype:t,Rs=Ul?Ul.valueOf:t,Vh=Ul?Ul.toString:t;function X(u){if(Qr(u)&&!vn(u)&&!(u instanceof wn)){if(u instanceof Kr)return u;if(Bn.call(u,"__wrapped__"))return zA(u)}return new Kr(u)}var Ba=function(){function u(){}return function(g){if(!Ur(g))return{};if(Fh)return Fh(g);u.prototype=g;var E=new u;return u.prototype=t,E}}();function Hl(){}function Kr(u,g){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=t}X.templateSettings={escape:fu,evaluate:Ml,interpolate:hu,variable:"",imports:{_:X}},X.prototype=Hl.prototype,X.prototype.constructor=X,Kr.prototype=Ba(Hl.prototype),Kr.prototype.constructor=Kr;function wn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function uf(){var u=new wn(this.__wrapped__);return u.__actions__=Wt(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Wt(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Wt(this.__views__),u}function kp(){if(this.__filtered__){var u=new wn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Gh(){var u=this.__wrapped__.value(),g=this.__dir__,E=vn(u),k=g<0,V=E?u.length:0,ee=$5(0,V,this.__views__),he=ee.start,Se=ee.end,Ie=Se-he,et=k?Se:he-1,tt=this.__iteratees__,ot=tt.length,wt=0,Nt=or(Ie,this.__takeCount__);if(!E||!k&&V==Ie&&Nt==Ie)return se(u,this.__actions__);var Zt=[];e:for(;Ie--&&wt<Nt;){et+=g;for(var An=-1,Kt=u[et];++An<ot;){var On=tt[An],Un=On.iteratee,zo=On.type,ks=Un(Kt);if(zo==te)Kt=ks;else if(!ks){if(zo==I)continue e;break e}}Zt[wt++]=Kt}return Zt}wn.prototype=Ba(Hl.prototype),wn.prototype.constructor=wn;function ea(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var k=u[g];this.set(k[0],k[1])}}function cf(){this.__data__=Qo?Qo(null):{},this.size=0}function jg(u){var g=this.has(u)&&delete this.__data__[u];return this.size-=g?1:0,g}function ff(u){var g=this.__data__;if(Qo){var E=g[u];return E===l?t:E}return Bn.call(g,u)?g[u]:t}function hf(u){var g=this.__data__;return Qo?g[u]!==t:Bn.call(g,u)}function df(u,g){var E=this.__data__;return this.size+=this.has(u)?0:1,E[u]=Qo&&g===t?l:g,this}ea.prototype.clear=cf,ea.prototype.delete=jg,ea.prototype.get=ff,ea.prototype.has=hf,ea.prototype.set=df;function hs(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var k=u[g];this.set(k[0],k[1])}}function pf(){this.__data__=[],this.size=0}function Nu(u){var g=this.__data__,E=xi(g,u);if(E<0)return!1;var k=g.length-1;return E==k?g.pop():ku.call(g,E,1),--this.size,!0}function $h(u){var g=this.__data__,E=xi(g,u);return E<0?t:g[E][1]}function jh(u){return xi(this.__data__,u)>-1}function qh(u,g){var E=this.__data__,k=xi(E,u);return k<0?(++this.size,E.push([u,g])):E[k][1]=g,this}hs.prototype.clear=pf,hs.prototype.delete=Nu,hs.prototype.get=$h,hs.prototype.has=jh,hs.prototype.set=qh;function ds(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var k=u[g];this.set(k[0],k[1])}}function Yh(){this.size=0,this.__data__={hash:new ea,map:new(fs||hs),string:new ea}}function Wl(u){var g=py(this,u).delete(u);return this.size-=g?1:0,g}function Xh(u){return py(this,u).get(u)}function Zh(u){return py(this,u).has(u)}function Bu(u,g){var E=py(this,u),k=E.size;return E.set(u,g),this.size+=E.size==k?0:1,this}ds.prototype.clear=Yh,ds.prototype.delete=Wl,ds.prototype.get=Xh,ds.prototype.has=Zh,ds.prototype.set=Bu;function so(u){var g=-1,E=u==null?0:u.length;for(this.__data__=new ds;++g<E;)this.add(u[g])}function Kh(u){return this.__data__.set(u,l),this}function Ht(u){return this.__data__.has(u)}so.prototype.add=so.prototype.push=Kh,so.prototype.has=Ht;function ar(u){var g=this.__data__=new hs(u);this.size=g.size}function jn(){this.__data__=new hs,this.size=0}function Mr(u){var g=this.__data__,E=g.delete(u);return this.size=g.size,E}function Ua(u){return this.__data__.get(u)}function Uu(u){return this.__data__.has(u)}function oi(u,g){var E=this.__data__;if(E instanceof hs){var k=E.__data__;if(!fs||k.length<i-1)return k.push([u,g]),this.size=++E.size,this;E=this.__data__=new ds(k)}return E.set(u,g),this.size=E.size,this}ar.prototype.clear=jn,ar.prototype.delete=Mr,ar.prototype.get=Ua,ar.prototype.has=Uu,ar.prototype.set=oi;function Ro(u,g){var E=vn(u),k=!E&&ad(u),V=!E&&!k&&Ef(u),ee=!E&&!k&&!V&&Vp(u),he=E||k||V||ee,Se=he?us(u.length,zl):[],Ie=Se.length;for(var et in u)(g||Bn.call(u,et))&&!(he&&(et=="length"||V&&(et=="offset"||et=="parent")||ee&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Ju(et,Ie)))&&Se.push(et);return Se}function Ha(u){var g=u.length;return g?u[P(0,g-1)]:t}function Hu(u,g){return my(Wt(u),bi(g,0,u.length))}function Vl(u){return my(Wt(u))}function Wu(u,g,E){(E!==t&&!Ya(u[g],E)||E===t&&!(g in u))&&ps(u,g,E)}function Po(u,g,E){var k=u[g];(!(Bn.call(u,g)&&Ya(k,E))||E===t&&!(g in u))&&ps(u,g,E)}function xi(u,g){for(var E=u.length;E--;)if(Ya(u[E][0],g))return E;return-1}function oo(u,g,E,k){return Jr(u,function(V,ee,he){g(k,V,E(V),he)}),k}function wi(u,g){return u&&yr(g,Vi(g),u)}function Rt(u,g){return u&&yr(g,lo(g),u)}function ps(u,g,E){g=="__proto__"&&Nl?Nl(u,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):u[g]=E}function Vu(u,g){for(var E=-1,k=g.length,V=Ne(k),ee=u==null;++E<k;)V[E]=ee?t:Sw(u,g[E]);return V}function bi(u,g,E){return u===u&&(E!==t&&(u=u<=E?u:E),g!==t&&(u=u>=g?u:g)),u}function Nr(u,g,E,k,V,ee){var he,Se=g&m,Ie=g&d,et=g&v;if(E&&(he=V?E(u,k,V,ee):E(u)),he!==t)return he;if(!Ur(u))return u;var tt=vn(u);if(tt){if(he=q5(u),!Se)return Wt(u,he)}else{var ot=ms(u),wt=ot==Xe||ot==$e;if(Ef(u))return on(u,Se);if(ot==ne||ot==Pe||wt&&!V){if(he=Ie||wt?{}:AA(u),!Se)return Ie?Xg(u,Rt(he,u)):id(u,wi(he,u))}else{if(!Nn[ot])return V?u:{};he=Y5(u,ot,Se)}}ee||(ee=new ar);var Nt=ee.get(u);if(Nt)return Nt;ee.set(u,he),nC(u)?u.forEach(function(Kt){he.add(Nr(Kt,g,E,Kt,u,ee))}):eC(u)&&u.forEach(function(Kt,On){he.set(On,Nr(Kt,g,E,On,u,ee))});var Zt=et?Ie?uw:lw:Ie?lo:Vi,An=tt?t:Zt(u);return Fr(An||u,function(Kt,On){An&&(On=Kt,Kt=u[On]),Po(he,On,Nr(Kt,g,E,On,u,ee))}),he}function Gu(u){var g=Vi(u);return function(E){return Gl(E,u,g)}}function Gl(u,g,E){var k=E.length;if(u==null)return!k;for(u=Wn(u);k--;){var V=E[k],ee=g[V],he=u[V];if(he===t&&!(V in u)||!ee(he))return!1}return!0}function mf(u,g,E){if(typeof u!="function")throw new Wi(o);return Jg(function(){u.apply(t,E)},g)}function Wa(u,g,E,k){var V=-1,ee=As,he=!0,Se=u.length,Ie=[],et=g.length;if(!Se)return Ie;E&&(g=Zn(g,Bi(E))),k?(ee=bu,he=!1):g.length>=i&&(ee=Qn,he=!1,g=new so(g));e:for(;++V<Se;){var tt=u[V],ot=E==null?tt:E(tt);if(tt=k||tt!==0?tt:0,he&&ot===ot){for(var wt=et;wt--;)if(g[wt]===ot)continue e;Ie.push(tt)}else ee(g,ot,k)||Ie.push(tt)}return Ie}var Jr=dA(ai),$l=dA(Ps,!0);function Jh(u,g){var E=!0;return Jr(u,function(k,V,ee){return E=!!g(k,V,ee),E}),E}function Va(u,g,E){for(var k=-1,V=u.length;++k<V;){var ee=u[k],he=g(ee);if(he!=null&&(Se===t?he===he&&!Oo(he):E(he,Se)))var Se=he,Ie=ee}return Ie}function Io(u,g,E,k){var V=u.length;for(E=En(E),E<0&&(E=-E>V?0:V+E),k=k===t||k>V?V:En(k),k<0&&(k+=V),k=E>k?0:iC(k);E<k;)u[E++]=g;return u}function $u(u,g){var E=[];return Jr(u,function(k,V,ee){g(k,V,ee)&&E.push(k)}),E}function wr(u,g,E,k,V){var ee=-1,he=u.length;for(E||(E=Z5),V||(V=[]);++ee<he;){var Se=u[ee];g>0&&E(Se)?g>1?wr(Se,g-1,E,k,V):Mo(V,Se):k||(V[V.length]=Se)}return V}var Ga=pA(),Li=pA(!0);function ai(u,g){return u&&Ga(u,g,Vi)}function Ps(u,g){return u&&Li(u,g,Vi)}function $a(u,g){return Ii(g,function(E){return Qu(u[E])})}function Br(u,g){g=ct(g,u);for(var E=0,k=g.length;u!=null&&E<k;)u=u[ql(g[E++])];return E&&E==k?u:t}function ju(u,g,E){var k=g(u);return vn(u)?k:Mo(k,E(u))}function Tr(u){return u==null?u===t?fe:ye:io&&io in Wn(u)?G5(u):rB(u)}function qu(u,g){return u>g}function qg(u,g){return u!=null&&Bn.call(u,g)}function Dp(u,g){return u!=null&&g in Wn(u)}function Qh(u,g,E){return u>=or(g,E)&&u<Kn(g,E)}function ja(u,g,E){for(var k=E?bu:As,V=u[0].length,ee=u.length,he=ee,Se=Ne(ee),Ie=1/0,et=[];he--;){var tt=u[he];he&&g&&(tt=Zn(tt,Bi(g))),Ie=or(tt.length,Ie),Se[he]=!E&&(g||V>=120&&tt.length>=120)?new so(he&&tt):t}tt=u[0];var ot=-1,wt=Se[0];e:for(;++ot<V&&et.length<Ie;){var Nt=tt[ot],Zt=g?g(Nt):Nt;if(Nt=E||Nt!==0?Nt:0,!(wt?Qn(wt,Zt):k(et,Zt,E))){for(he=ee;--he;){var An=Se[he];if(!(An?Qn(An,Zt):k(u[he],Zt,E)))continue e}wt&&wt.push(Zt),et.push(Nt)}}return et}function gf(u,g,E,k){return ai(u,function(V,ee,he){g(k,E(V),ee,he)}),k}function Is(u,g,E){g=ct(g,u),u=IA(u,g);var k=u==null?u:u[ql(ta(g))];return k==null?t:Zr(k,u,E)}function ed(u){return Qr(u)&&Tr(u)==Pe}function td(u){return Qr(u)&&Tr(u)==Ke}function Qi(u){return Qr(u)&&Tr(u)==ut}function dr(u,g,E,k,V){return u===g?!0:u==null||g==null||!Qr(u)&&!Qr(g)?u!==u&&g!==g:Yg(u,g,E,k,dr,V)}function Yg(u,g,E,k,V,ee){var he=vn(u),Se=vn(g),Ie=he?ke:ms(u),et=Se?ke:ms(g);Ie=Ie==Pe?ne:Ie,et=et==Pe?ne:et;var tt=Ie==ne,ot=et==ne,wt=Ie==et;if(wt&&Ef(u)){if(!Ef(g))return!1;he=!0,tt=!1}if(wt&&!tt)return ee||(ee=new ar),he||Vp(u)?EA(u,g,E,k,V,ee):W5(u,g,Ie,E,k,V,ee);if(!(E&_)){var Nt=tt&&Bn.call(u,"__wrapped__"),Zt=ot&&Bn.call(g,"__wrapped__");if(Nt||Zt){var An=Nt?u.value():u,Kt=Zt?g.value():g;return ee||(ee=new ar),V(An,Kt,E,k,ee)}}return wt?(ee||(ee=new ar),V5(u,g,E,k,V,ee)):!1}function Op(u){return Qr(u)&&ms(u)==O}function Yu(u,g,E,k){var V=E.length,ee=V,he=!k;if(u==null)return!ee;for(u=Wn(u);V--;){var Se=E[V];if(he&&Se[2]?Se[1]!==u[Se[0]]:!(Se[0]in u))return!1}for(;++V<ee;){Se=E[V];var Ie=Se[0],et=u[Ie],tt=Se[1];if(he&&Se[2]){if(et===t&&!(Ie in u))return!1}else{var ot=new ar;if(k)var wt=k(et,tt,Ie,u,g,ot);if(!(wt===t?dr(tt,et,_|y,k,ot):wt))return!1}}return!0}function Lo(u){if(!Ur(u)||J5(u))return!1;var g=Qu(u)?Gg:Gn;return g.test(od(u))}function vf(u){return Qr(u)&&Tr(u)==We}function zp(u){return Qr(u)&&ms(u)==Be}function ko(u){return Qr(u)&&wy(u.length)&&!!ln[Tr(u)]}function nd(u){return typeof u=="function"?u:u==null?uo:typeof u=="object"?vn(u)?rd(u[0],u[1]):Np(u):mC(u)}function yf(u){if(!Kg(u))return Rp(u);var g=[];for(var E in Wn(u))Bn.call(u,E)&&E!="constructor"&&g.push(E);return g}function Fp(u){if(!Ur(u))return nB(u);var g=Kg(u),E=[];for(var k in u)k=="constructor"&&(g||!Bn.call(u,k))||E.push(k);return E}function _f(u,g){return u<g}function Do(u,g){var E=-1,k=ao(u)?Ne(u.length):[];return Jr(u,function(V,ee,he){k[++E]=g(V,ee,he)}),k}function Np(u){var g=fw(u);return g.length==1&&g[0][2]?RA(g[0][0],g[0][1]):function(E){return E===u||Yu(E,u,g)}}function rd(u,g){return dw(u)&&CA(g)?RA(ql(u),g):function(E){var k=Sw(E,u);return k===t&&k===g?Ew(E,u):dr(g,k,_|y)}}function jl(u,g,E,k,V){u!==g&&Ga(g,function(ee,he){if(V||(V=new ar),Ur(ee))xf(u,g,he,E,jl,k,V);else{var Se=k?k(mw(u,he),ee,he+"",u,g,V):t;Se===t&&(Se=ee),Wu(u,he,Se)}},lo)}function xf(u,g,E,k,V,ee,he){var Se=mw(u,E),Ie=mw(g,E),et=he.get(Ie);if(et){Wu(u,E,et);return}var tt=ee?ee(Se,Ie,E+"",u,g,he):t,ot=tt===t;if(ot){var wt=vn(Ie),Nt=!wt&&Ef(Ie),Zt=!wt&&!Nt&&Vp(Ie);tt=Ie,wt||Nt||Zt?vn(Se)?tt=Se:li(Se)?tt=Wt(Se):Nt?(ot=!1,tt=on(Ie,!0)):Zt?(ot=!1,tt=It(Ie,!0)):tt=[]:Qg(Ie)||ad(Ie)?(tt=Se,ad(Se)?tt=sC(Se):(!Ur(Se)||Qu(Se))&&(tt=AA(Ie))):ot=!1}ot&&(he.set(Ie,tt),V(tt,Ie,k,ee,he),he.delete(Ie)),Wu(u,E,tt)}function qa(u,g){var E=u.length;if(!!E)return g+=g<0?E:0,Ju(g,E)?u[g]:t}function Xu(u,g,E){g.length?g=Zn(g,function(ee){return vn(ee)?function(he){return Br(he,ee.length===1?ee[0]:ee)}:ee}):g=[uo];var k=-1;g=Zn(g,Bi(Xt()));var V=Do(u,function(ee,he,Se){var Ie=Zn(g,function(et){return et(ee)});return{criteria:Ie,index:++k,value:ee}});return Mu(V,function(ee,he){return $t(ee,he,E)})}function wf(u,g){return bf(u,g,function(E,k){return Ew(u,k)})}function bf(u,g,E){for(var k=-1,V=g.length,ee={};++k<V;){var he=g[k],Se=Br(u,he);E(Se,he)&&pe(ee,ct(he,u),Se)}return ee}function Sf(u){return function(g){return Br(g,u)}}function Ar(u,g,E,k){var V=k?Su:Qs,ee=-1,he=g.length,Se=u;for(u===g&&(g=Wt(g)),E&&(Se=Zn(u,Bi(E)));++ee<he;)for(var Ie=0,et=g[ee],tt=E?E(et):et;(Ie=V(Se,tt,Ie,k))>-1;)Se!==u&&ku.call(Se,Ie,1),ku.call(u,Ie,1);return u}function Bp(u,g){for(var E=u?g.length:0,k=E-1;E--;){var V=g[E];if(E==k||V!==ee){var ee=V;Ju(V)?ku.call(u,V,1):R(u,V)}}return u}function P(u,g){return u+Cs(si()*(g-u+1))}function N(u,g,E,k){for(var V=-1,ee=Kn(Du((g-u)/(E||1)),0),he=Ne(ee);ee--;)he[k?ee:++V]=u,u+=E;return he}function $(u,g){var E="";if(!u||g<1||g>ae)return E;do g%2&&(E+=u),g=Cs(g/2),g&&(u+=u);while(g);return E}function Q(u,g){return gw(PA(u,g,uo),u+"")}function xe(u){return Ha(Gp(u))}function Me(u,g){var E=Gp(u);return my(E,bi(g,0,E.length))}function pe(u,g,E,k){if(!Ur(u))return u;g=ct(g,u);for(var V=-1,ee=g.length,he=ee-1,Se=u;Se!=null&&++V<ee;){var Ie=ql(g[V]),et=E;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return u;if(V!=he){var tt=Se[Ie];et=k?k(tt,Ie,Se):t,et===t&&(et=Ur(tt)?tt:Ju(g[V+1])?[]:{})}Po(Se,Ie,et),Se=Se[Ie]}return u}var Le=Bl?function(u,g){return Bl.set(u,g),u}:uo,Oe=Nl?function(u,g){return Nl(u,"toString",{configurable:!0,enumerable:!1,value:Tw(g),writable:!0})}:uo;function Ze(u){return my(Gp(u))}function Qe(u,g,E){var k=-1,V=u.length;g<0&&(g=-g>V?0:V+g),E=E>V?V:E,E<0&&(E+=V),V=g>E?0:E-g>>>0,g>>>=0;for(var ee=Ne(V);++k<V;)ee[k]=u[k+g];return ee}function yt(u,g){var E;return Jr(u,function(k,V,ee){return E=g(k,V,ee),!E}),!!E}function st(u,g,E){var k=0,V=u==null?k:u.length;if(typeof g=="number"&&g===g&&V<=we){for(;k<V;){var ee=k+V>>>1,he=u[ee];he!==null&&!Oo(he)&&(E?he<=g:he<g)?k=ee+1:V=ee}return V}return Tt(u,g,uo,E)}function Tt(u,g,E,k){var V=0,ee=u==null?0:u.length;if(ee===0)return 0;g=E(g);for(var he=g!==g,Se=g===null,Ie=Oo(g),et=g===t;V<ee;){var tt=Cs((V+ee)/2),ot=E(u[tt]),wt=ot!==t,Nt=ot===null,Zt=ot===ot,An=Oo(ot);if(he)var Kt=k||Zt;else et?Kt=Zt&&(k||wt):Se?Kt=Zt&&wt&&(k||!Nt):Ie?Kt=Zt&&wt&&!Nt&&(k||!An):Nt||An?Kt=!1:Kt=k?ot<=g:ot<g;Kt?V=tt+1:ee=tt}return or(ee,K)}function At(u,g){for(var E=-1,k=u.length,V=0,ee=[];++E<k;){var he=u[E],Se=g?g(he):he;if(!E||!Ya(Se,Ie)){var Ie=Se;ee[V++]=he===0?0:he}}return ee}function f(u){return typeof u=="number"?u:Oo(u)?ue:+u}function h(u){if(typeof u=="string")return u;if(vn(u))return Zn(u,h)+"";if(Oo(u))return Vh?Vh.call(u):"";var g=u+"";return g=="0"&&1/u==-le?"-0":g}function b(u,g,E){var k=-1,V=As,ee=u.length,he=!0,Se=[],Ie=Se;if(E)he=!1,V=bu;else if(ee>=i){var et=g?null:U5(u);if(et)return yi(et);he=!1,V=Qn,Ie=new so}else Ie=g?[]:Se;e:for(;++k<ee;){var tt=u[k],ot=g?g(tt):tt;if(tt=E||tt!==0?tt:0,he&&ot===ot){for(var wt=Ie.length;wt--;)if(Ie[wt]===ot)continue e;g&&Ie.push(ot),Se.push(tt)}else V(Ie,ot,E)||(Ie!==Se&&Ie.push(ot),Se.push(tt))}return Se}function R(u,g){return g=ct(g,u),u=IA(u,g),u==null||delete u[ql(ta(g))]}function D(u,g,E,k){return pe(u,g,E(Br(u,g)),k)}function W(u,g,E,k){for(var V=u.length,ee=k?V:-1;(k?ee--:++ee<V)&&g(u[ee],ee,u););return E?Qe(u,k?0:ee,k?ee+1:V):Qe(u,k?ee+1:0,k?V:ee)}function se(u,g){var E=u;return E instanceof wn&&(E=E.value()),Yc(g,function(k,V){return V.func.apply(V.thisArg,Mo([k],V.args))},E)}function me(u,g,E){var k=u.length;if(k<2)return k?b(u[0]):[];for(var V=-1,ee=Ne(k);++V<k;)for(var he=u[V],Se=-1;++Se<k;)Se!=V&&(ee[V]=Wa(ee[V]||he,u[Se],g,E));return b(wr(ee,1),g,E)}function ve(u,g,E){for(var k=-1,V=u.length,ee=g.length,he={};++k<V;){var Se=k<ee?g[k]:t;E(he,u[k],Se)}return he}function je(u){return li(u)?u:[]}function lt(u){return typeof u=="function"?u:uo}function ct(u,g){return vn(u)?u:dw(u,g)?[u]:OA(er(u))}var pt=Q;function Dt(u,g,E){var k=u.length;return E=E===t?k:E,!g&&E>=k?u:Qe(u,g,E)}var Ot=Bh||function(u){return Xr.clearTimeout(u)};function on(u,g){if(g)return u.slice();var E=u.length,k=cs?cs(E):new u.constructor(E);return u.copy(k),k}function Ce(u){var g=new u.constructor(u.byteLength);return new rf(g).set(new rf(u)),g}function be(u,g){var E=g?Ce(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.byteLength)}function Ge(u){var g=new u.constructor(u.source,Dn.exec(u));return g.lastIndex=u.lastIndex,g}function gt(u){return Rs?Wn(Rs.call(u)):{}}function It(u,g){var E=g?Ce(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.length)}function zn(u,g){if(u!==g){var E=u!==t,k=u===null,V=u===u,ee=Oo(u),he=g!==t,Se=g===null,Ie=g===g,et=Oo(g);if(!Se&&!et&&!ee&&u>g||ee&&he&&Ie&&!Se&&!et||k&&he&&Ie||!E&&Ie||!V)return 1;if(!k&&!ee&&!et&&u<g||et&&E&&V&&!k&&!ee||Se&&E&&V||!he&&V||!Ie)return-1}return 0}function $t(u,g,E){for(var k=-1,V=u.criteria,ee=g.criteria,he=V.length,Se=E.length;++k<he;){var Ie=zn(V[k],ee[k]);if(Ie){if(k>=Se)return Ie;var et=E[k];return Ie*(et=="desc"?-1:1)}}return u.index-g.index}function gn(u,g,E,k){for(var V=-1,ee=u.length,he=E.length,Se=-1,Ie=g.length,et=Kn(ee-he,0),tt=Ne(Ie+et),ot=!k;++Se<Ie;)tt[Se]=g[Se];for(;++V<he;)(ot||V<ee)&&(tt[E[V]]=u[V]);for(;et--;)tt[Se++]=u[V++];return tt}function Jn(u,g,E,k){for(var V=-1,ee=u.length,he=-1,Se=E.length,Ie=-1,et=g.length,tt=Kn(ee-Se,0),ot=Ne(tt+et),wt=!k;++V<tt;)ot[V]=u[V];for(var Nt=V;++Ie<et;)ot[Nt+Ie]=g[Ie];for(;++he<Se;)(wt||V<ee)&&(ot[Nt+E[he]]=u[V++]);return ot}function Wt(u,g){var E=-1,k=u.length;for(g||(g=Ne(k));++E<k;)g[E]=u[E];return g}function yr(u,g,E,k){var V=!E;E||(E={});for(var ee=-1,he=g.length;++ee<he;){var Se=g[ee],Ie=k?k(E[Se],u[Se],Se,E,u):t;Ie===t&&(Ie=u[Se]),V?ps(E,Se,Ie):Po(E,Se,Ie)}return E}function id(u,g){return yr(u,hw(u),g)}function Xg(u,g){return yr(u,MA(u),g)}function ly(u,g){return function(E,k){var V=vn(E)?ls:oo,ee=g?g():{};return V(E,u,Xt(k,2),ee)}}function Up(u){return Q(function(g,E){var k=-1,V=E.length,ee=V>1?E[V-1]:t,he=V>2?E[2]:t;for(ee=u.length>3&&typeof ee=="function"?(V--,ee):t,he&&Ls(E[0],E[1],he)&&(ee=V<3?t:ee,V=1),g=Wn(g);++k<V;){var Se=E[k];Se&&u(g,Se,k,ee)}return g})}function dA(u,g){return function(E,k){if(E==null)return E;if(!ao(E))return u(E,k);for(var V=E.length,ee=g?V:-1,he=Wn(E);(g?ee--:++ee<V)&&k(he[ee],ee,he)!==!1;);return E}}function pA(u){return function(g,E,k){for(var V=-1,ee=Wn(g),he=k(g),Se=he.length;Se--;){var Ie=he[u?Se:++V];if(E(ee[Ie],Ie,ee)===!1)break}return g}}function F5(u,g,E){var k=g&x,V=Zg(u);function ee(){var he=this&&this!==Xr&&this instanceof ee?V:u;return he.apply(k?E:this,arguments)}return ee}function mA(u){return function(g){g=er(g);var E=Da(g)?Ui(g):t,k=E?E[0]:g.charAt(0),V=E?Dt(E,1).join(""):g.slice(1);return k[u]()+V}}function Hp(u){return function(g){return Yc(dC(hC(g).replace(xp,"")),u,"")}}function Zg(u){return function(){var g=arguments;switch(g.length){case 0:return new u;case 1:return new u(g[0]);case 2:return new u(g[0],g[1]);case 3:return new u(g[0],g[1],g[2]);case 4:return new u(g[0],g[1],g[2],g[3]);case 5:return new u(g[0],g[1],g[2],g[3],g[4]);case 6:return new u(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new u(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=Ba(u.prototype),k=u.apply(E,g);return Ur(k)?k:E}}function N5(u,g,E){var k=Zg(u);function V(){for(var ee=arguments.length,he=Ne(ee),Se=ee,Ie=Wp(V);Se--;)he[Se]=arguments[Se];var et=ee<3&&he[0]!==Ie&&he[ee-1]!==Ie?[]:Ji(he,Ie);if(ee-=et.length,ee<E)return xA(u,g,uy,V.placeholder,t,he,et,t,t,E-ee);var tt=this&&this!==Xr&&this instanceof V?k:u;return Zr(tt,this,he)}return V}function gA(u){return function(g,E,k){var V=Wn(g);if(!ao(g)){var ee=Xt(E,3);g=Vi(g),E=function(Se){return ee(V[Se],Se,V)}}var he=u(g,E,k);return he>-1?V[ee?g[he]:he]:t}}function vA(u){return Ku(function(g){var E=g.length,k=E,V=Kr.prototype.thru;for(u&&g.reverse();k--;){var ee=g[k];if(typeof ee!="function")throw new Wi(o);if(V&&!he&&dy(ee)=="wrapper")var he=new Kr([],!0)}for(k=he?k:E;++k<E;){ee=g[k];var Se=dy(ee),Ie=Se=="wrapper"?cw(ee):t;Ie&&pw(Ie[0])&&Ie[1]==(z|M|A|C)&&!Ie[4].length&&Ie[9]==1?he=he[dy(Ie[0])].apply(he,Ie[3]):he=ee.length==1&&pw(ee)?he[Se]():he.thru(ee)}return function(){var et=arguments,tt=et[0];if(he&&et.length==1&&vn(tt))return he.plant(tt).value();for(var ot=0,wt=E?g[ot].apply(this,et):tt;++ot<E;)wt=g[ot].call(this,wt);return wt}})}function uy(u,g,E,k,V,ee,he,Se,Ie,et){var tt=g&z,ot=g&x,wt=g&w,Nt=g&(M|T),Zt=g&F,An=wt?t:Zg(u);function Kt(){for(var On=arguments.length,Un=Ne(On),zo=On;zo--;)Un[zo]=arguments[zo];if(Nt)var ks=Wp(Kt),Fo=ka(Un,ks);if(k&&(Un=gn(Un,k,V,Nt)),ee&&(Un=Jn(Un,ee,he,Nt)),On-=Fo,Nt&&On<et){var ui=Ji(Un,ks);return xA(u,g,uy,Kt.placeholder,E,Un,ui,Se,Ie,et-On)}var Xa=ot?E:this,tc=wt?Xa[u]:u;return On=Un.length,Se?Un=iB(Un,Se):Zt&&On>1&&Un.reverse(),tt&&Ie<On&&(Un.length=Ie),this&&this!==Xr&&this instanceof Kt&&(tc=An||Zg(tc)),tc.apply(Xa,Un)}return Kt}function yA(u,g){return function(E,k){return gf(E,u,g(k),{})}}function cy(u,g){return function(E,k){var V;if(E===t&&k===t)return g;if(E!==t&&(V=E),k!==t){if(V===t)return k;typeof E=="string"||typeof k=="string"?(E=h(E),k=h(k)):(E=f(E),k=f(k)),V=u(E,k)}return V}}function ow(u){return Ku(function(g){return g=Zn(g,Bi(Xt())),Q(function(E){var k=this;return u(g,function(V){return Zr(V,k,E)})})})}function fy(u,g){g=g===t?" ":h(g);var E=g.length;if(E<2)return E?$(g,u):g;var k=$(g,Du(u/gr(g)));return Da(g)?Dt(Ui(k),0,u).join(""):k.slice(0,u)}function B5(u,g,E,k){var V=g&x,ee=Zg(u);function he(){for(var Se=-1,Ie=arguments.length,et=-1,tt=k.length,ot=Ne(tt+Ie),wt=this&&this!==Xr&&this instanceof he?ee:u;++et<tt;)ot[et]=k[et];for(;Ie--;)ot[et++]=arguments[++Se];return Zr(wt,V?E:this,ot)}return he}function _A(u){return function(g,E,k){return k&&typeof k!="number"&&Ls(g,E,k)&&(E=k=t),g=ec(g),E===t?(E=g,g=0):E=ec(E),k=k===t?g<E?1:-1:ec(k),N(g,E,k,u)}}function hy(u){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=na(g),E=na(E)),u(g,E)}}function xA(u,g,E,k,V,ee,he,Se,Ie,et){var tt=g&M,ot=tt?he:t,wt=tt?t:he,Nt=tt?ee:t,Zt=tt?t:ee;g|=tt?A:L,g&=~(tt?L:A),g&S||(g&=~(x|w));var An=[u,g,V,Nt,ot,Zt,wt,Se,Ie,et],Kt=E.apply(t,An);return pw(u)&&LA(Kt,An),Kt.placeholder=k,kA(Kt,u,g)}function aw(u){var g=vr[u];return function(E,k){if(E=na(E),k=k==null?0:or(En(k),292),k&&Jo(E)){var V=(er(E)+"e").split("e"),ee=g(V[0]+"e"+(+V[1]+k));return V=(er(ee)+"e").split("e"),+(V[0]+"e"+(+V[1]-k))}return g(E)}}var U5=za&&1/yi(new za([,-0]))[1]==le?function(u){return new za(u)}:Rw;function wA(u){return function(g){var E=ms(g);return E==O?no(g):E==Be?kl(g):Ia(g,u(g))}}function Zu(u,g,E,k,V,ee,he,Se){var Ie=g&w;if(!Ie&&typeof u!="function")throw new Wi(o);var et=k?k.length:0;if(et||(g&=~(A|L),k=V=t),he=he===t?he:Kn(En(he),0),Se=Se===t?Se:En(Se),et-=V?V.length:0,g&L){var tt=k,ot=V;k=V=t}var wt=Ie?t:cw(u),Nt=[u,g,E,k,V,tt,ot,ee,he,Se];if(wt&&tB(Nt,wt),u=Nt[0],g=Nt[1],E=Nt[2],k=Nt[3],V=Nt[4],Se=Nt[9]=Nt[9]===t?Ie?0:u.length:Kn(Nt[9]-et,0),!Se&&g&(M|T)&&(g&=~(M|T)),!g||g==x)var Zt=F5(u,g,E);else g==M||g==T?Zt=N5(u,g,Se):(g==A||g==(x|A))&&!V.length?Zt=B5(u,g,E,k):Zt=uy.apply(t,Nt);var An=wt?Le:LA;return kA(An(Zt,Nt),u,g)}function bA(u,g,E,k){return u===t||Ya(u,Co[E])&&!Bn.call(k,E)?g:u}function SA(u,g,E,k,V,ee){return Ur(u)&&Ur(g)&&(ee.set(g,u),jl(u,g,t,SA,ee),ee.delete(g)),u}function H5(u){return Qg(u)?t:u}function EA(u,g,E,k,V,ee){var he=E&_,Se=u.length,Ie=g.length;if(Se!=Ie&&!(he&&Ie>Se))return!1;var et=ee.get(u),tt=ee.get(g);if(et&&tt)return et==g&&tt==u;var ot=-1,wt=!0,Nt=E&y?new so:t;for(ee.set(u,g),ee.set(g,u);++ot<Se;){var Zt=u[ot],An=g[ot];if(k)var Kt=he?k(An,Zt,ot,g,u,ee):k(Zt,An,ot,u,g,ee);if(Kt!==t){if(Kt)continue;wt=!1;break}if(Nt){if(!Aa(g,function(On,Un){if(!Qn(Nt,Un)&&(Zt===On||V(Zt,On,E,k,ee)))return Nt.push(Un)})){wt=!1;break}}else if(!(Zt===An||V(Zt,An,E,k,ee))){wt=!1;break}}return ee.delete(u),ee.delete(g),wt}function W5(u,g,E,k,V,ee,he){switch(E){case at:if(u.byteLength!=g.byteLength||u.byteOffset!=g.byteOffset)return!1;u=u.buffer,g=g.buffer;case Ke:return!(u.byteLength!=g.byteLength||!ee(new rf(u),new rf(g)));case rt:case ut:case Te:return Ya(+u,+g);case Ct:return u.name==g.name&&u.message==g.message;case We:case G:return u==g+"";case O:var Se=no;case Be:var Ie=k&_;if(Se||(Se=yi),u.size!=g.size&&!Ie)return!1;var et=he.get(u);if(et)return et==g;k|=y,he.set(u,g);var tt=EA(Se(u),Se(g),k,V,ee,he);return he.delete(u),tt;case U:if(Rs)return Rs.call(u)==Rs.call(g)}return!1}function V5(u,g,E,k,V,ee){var he=E&_,Se=lw(u),Ie=Se.length,et=lw(g),tt=et.length;if(Ie!=tt&&!he)return!1;for(var ot=Ie;ot--;){var wt=Se[ot];if(!(he?wt in g:Bn.call(g,wt)))return!1}var Nt=ee.get(u),Zt=ee.get(g);if(Nt&&Zt)return Nt==g&&Zt==u;var An=!0;ee.set(u,g),ee.set(g,u);for(var Kt=he;++ot<Ie;){wt=Se[ot];var On=u[wt],Un=g[wt];if(k)var zo=he?k(Un,On,wt,g,u,ee):k(On,Un,wt,u,g,ee);if(!(zo===t?On===Un||V(On,Un,E,k,ee):zo)){An=!1;break}Kt||(Kt=wt=="constructor")}if(An&&!Kt){var ks=u.constructor,Fo=g.constructor;ks!=Fo&&"constructor"in u&&"constructor"in g&&!(typeof ks=="function"&&ks instanceof ks&&typeof Fo=="function"&&Fo instanceof Fo)&&(An=!1)}return ee.delete(u),ee.delete(g),An}function Ku(u){return gw(PA(u,t,BA),u+"")}function lw(u){return ju(u,Vi,hw)}function uw(u){return ju(u,lo,MA)}var cw=Bl?function(u){return Bl.get(u)}:Rw;function dy(u){for(var g=u.name+"",E=Na[g],k=Bn.call(Na,g)?E.length:0;k--;){var V=E[k],ee=V.func;if(ee==null||ee==u)return V.name}return g}function Wp(u){var g=Bn.call(X,"placeholder")?X:u;return g.placeholder}function Xt(){var u=X.iteratee||Aw;return u=u===Aw?nd:u,arguments.length?u(arguments[0],arguments[1]):u}function py(u,g){var E=u.__data__;return K5(g)?E[typeof g=="string"?"string":"hash"]:E.map}function fw(u){for(var g=Vi(u),E=g.length;E--;){var k=g[E],V=u[k];g[E]=[k,V,CA(V)]}return g}function sd(u,g){var E=Kc(u,g);return Lo(E)?E:t}function G5(u){var g=Bn.call(u,io),E=u[io];try{u[io]=t;var k=!0}catch{}var V=ef.call(u);return k&&(g?u[io]=E:delete u[io]),V}var hw=af?function(u){return u==null?[]:(u=Wn(u),Ii(af(u),function(g){return Nh.call(u,g)}))}:Pw,MA=af?function(u){for(var g=[];u;)Mo(g,hw(u)),u=ii(u);return g}:Pw,ms=Tr;(Fu&&ms(new Fu(new ArrayBuffer(1)))!=at||fs&&ms(new fs)!=O||lf&&ms(lf.resolve())!=J||za&&ms(new za)!=Be||Fa&&ms(new Fa)!=Ee)&&(ms=function(u){var g=Tr(u),E=g==ne?u.constructor:t,k=E?od(E):"";if(k)switch(k){case Wh:return at;case Pp:return O;case Ip:return J;case $g:return Be;case Lp:return Ee}return g});function $5(u,g,E){for(var k=-1,V=E.length;++k<V;){var ee=E[k],he=ee.size;switch(ee.type){case"drop":u+=he;break;case"dropRight":g-=he;break;case"take":g=or(g,u+he);break;case"takeRight":u=Kn(u,g-he);break}}return{start:u,end:g}}function j5(u){var g=u.match(Ve);return g?g[1].split(Je):[]}function TA(u,g,E){g=ct(g,u);for(var k=-1,V=g.length,ee=!1;++k<V;){var he=ql(g[k]);if(!(ee=u!=null&&E(u,he)))break;u=u[he]}return ee||++k!=V?ee:(V=u==null?0:u.length,!!V&&wy(V)&&Ju(he,V)&&(vn(u)||ad(u)))}function q5(u){var g=u.length,E=new u.constructor(g);return g&&typeof u[0]=="string"&&Bn.call(u,"index")&&(E.index=u.index,E.input=u.input),E}function AA(u){return typeof u.constructor=="function"&&!Kg(u)?Ba(ii(u)):{}}function Y5(u,g,E){var k=u.constructor;switch(g){case Ke:return Ce(u);case rt:case ut:return new k(+u);case at:return be(u,E);case He:case Bt:case Ft:case _t:case ge:case dt:case ht:case Pt:case vt:return It(u,E);case O:return new k;case Te:case G:return new k(u);case We:return Ge(u);case Be:return new k;case U:return gt(u)}}function X5(u,g){var E=g.length;if(!E)return u;var k=E-1;return g[k]=(E>1?"& ":"")+g[k],g=g.join(E>2?", ":" "),u.replace(qe,`{
/* [wrapped with `+g+`] */
`)}function Z5(u){return vn(u)||ad(u)||!!(sf&&u&&u[sf])}function Ju(u,g){var E=typeof u;return g=g==null?ae:g,!!g&&(E=="number"||E!="symbol"&&ss.test(u))&&u>-1&&u%1==0&&u<g}function Ls(u,g,E){if(!Ur(E))return!1;var k=typeof g;return(k=="number"?ao(E)&&Ju(g,E.length):k=="string"&&g in E)?Ya(E[g],u):!1}function dw(u,g){if(vn(u))return!1;var E=typeof u;return E=="number"||E=="symbol"||E=="boolean"||u==null||Oo(u)?!0:Nc.test(u)||!Tl.test(u)||g!=null&&u in Wn(g)}function K5(u){var g=typeof u;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?u!=="__proto__":u===null}function pw(u){var g=dy(u),E=X[g];if(typeof E!="function"||!(g in wn.prototype))return!1;if(u===E)return!0;var k=cw(E);return!!k&&u===k[0]}function J5(u){return!!Qc&&Qc in u}var Q5=Iu?Qu:Iw;function Kg(u){var g=u&&u.constructor,E=typeof g=="function"&&g.prototype||Co;return u===E}function CA(u){return u===u&&!Ur(u)}function RA(u,g){return function(E){return E==null?!1:E[u]===g&&(g!==t||u in Wn(E))}}function eB(u){var g=_y(u,function(k){return E.size===c&&E.clear(),k}),E=g.cache;return g}function tB(u,g){var E=u[1],k=g[1],V=E|k,ee=V<(x|w|z),he=k==z&&E==M||k==z&&E==C&&u[7].length<=g[8]||k==(z|C)&&g[7].length<=g[8]&&E==M;if(!(ee||he))return u;k&x&&(u[2]=g[2],V|=E&x?0:S);var Se=g[3];if(Se){var Ie=u[3];u[3]=Ie?gn(Ie,Se,g[4]):Se,u[4]=Ie?Ji(u[3],p):g[4]}return Se=g[5],Se&&(Ie=u[5],u[5]=Ie?Jn(Ie,Se,g[6]):Se,u[6]=Ie?Ji(u[5],p):g[6]),Se=g[7],Se&&(u[7]=Se),k&z&&(u[8]=u[8]==null?g[8]:or(u[8],g[8])),u[9]==null&&(u[9]=g[9]),u[0]=g[0],u[1]=V,u}function nB(u){var g=[];if(u!=null)for(var E in Wn(u))g.push(E);return g}function rB(u){return ef.call(u)}function PA(u,g,E){return g=Kn(g===t?u.length-1:g,0),function(){for(var k=arguments,V=-1,ee=Kn(k.length-g,0),he=Ne(ee);++V<ee;)he[V]=k[g+V];V=-1;for(var Se=Ne(g+1);++V<g;)Se[V]=k[V];return Se[g]=E(he),Zr(u,this,Se)}}function IA(u,g){return g.length<2?u:Br(u,Qe(g,0,-1))}function iB(u,g){for(var E=u.length,k=or(g.length,E),V=Wt(u);k--;){var ee=g[k];u[k]=Ju(ee,E)?V[ee]:t}return u}function mw(u,g){if(!(g==="constructor"&&typeof u[g]=="function")&&g!="__proto__")return u[g]}var LA=DA(Le),Jg=of||function(u,g){return Xr.setTimeout(u,g)},gw=DA(Oe);function kA(u,g,E){var k=g+"";return gw(u,X5(k,sB(j5(k),E)))}function DA(u){var g=0,E=0;return function(){var k=Ou(),V=Y-(k-E);if(E=k,V>0){if(++g>=B)return arguments[0]}else g=0;return u.apply(t,arguments)}}function my(u,g){var E=-1,k=u.length,V=k-1;for(g=g===t?k:g;++E<g;){var ee=P(E,V),he=u[ee];u[ee]=u[E],u[E]=he}return u.length=g,u}var OA=eB(function(u){var g=[];return u.charCodeAt(0)===46&&g.push(""),u.replace(Bc,function(E,k,V,ee){g.push(V?ee.replace(un,"$1"):k||E)}),g});function ql(u){if(typeof u=="string"||Oo(u))return u;var g=u+"";return g=="0"&&1/u==-le?"-0":g}function od(u){if(u!=null){try{return Lu.call(u)}catch{}try{return u+""}catch{}}return""}function sB(u,g){return Fr(Re,function(E){var k="_."+E[0];g&E[1]&&!As(u,k)&&u.push(k)}),u.sort()}function zA(u){if(u instanceof wn)return u.clone();var g=new Kr(u.__wrapped__,u.__chain__);return g.__actions__=Wt(u.__actions__),g.__index__=u.__index__,g.__values__=u.__values__,g}function oB(u,g,E){(E?Ls(u,g,E):g===t)?g=1:g=Kn(En(g),0);var k=u==null?0:u.length;if(!k||g<1)return[];for(var V=0,ee=0,he=Ne(Du(k/g));V<k;)he[ee++]=Qe(u,V,V+=g);return he}function aB(u){for(var g=-1,E=u==null?0:u.length,k=0,V=[];++g<E;){var ee=u[g];ee&&(V[k++]=ee)}return V}function lB(){var u=arguments.length;if(!u)return[];for(var g=Ne(u-1),E=arguments[0],k=u;k--;)g[k-1]=arguments[k];return Mo(vn(E)?Wt(E):[E],wr(g,1))}var uB=Q(function(u,g){return li(u)?Wa(u,wr(g,1,li,!0)):[]}),cB=Q(function(u,g){var E=ta(g);return li(E)&&(E=t),li(u)?Wa(u,wr(g,1,li,!0),Xt(E,2)):[]}),fB=Q(function(u,g){var E=ta(g);return li(E)&&(E=t),li(u)?Wa(u,wr(g,1,li,!0),t,E):[]});function hB(u,g,E){var k=u==null?0:u.length;return k?(g=E||g===t?1:En(g),Qe(u,g<0?0:g,k)):[]}function dB(u,g,E){var k=u==null?0:u.length;return k?(g=E||g===t?1:En(g),g=k-g,Qe(u,0,g<0?0:g)):[]}function pB(u,g){return u&&u.length?W(u,Xt(g,3),!0,!0):[]}function mB(u,g){return u&&u.length?W(u,Xt(g,3),!0):[]}function gB(u,g,E,k){var V=u==null?0:u.length;return V?(E&&typeof E!="number"&&Ls(u,g,E)&&(E=0,k=V),Io(u,g,E,k)):[]}function FA(u,g,E){var k=u==null?0:u.length;if(!k)return-1;var V=E==null?0:En(E);return V<0&&(V=Kn(k+V,0)),Ca(u,Xt(g,3),V)}function NA(u,g,E){var k=u==null?0:u.length;if(!k)return-1;var V=k-1;return E!==t&&(V=En(E),V=E<0?Kn(k+V,0):or(V,k-1)),Ca(u,Xt(g,3),V,!0)}function BA(u){var g=u==null?0:u.length;return g?wr(u,1):[]}function vB(u){var g=u==null?0:u.length;return g?wr(u,le):[]}function yB(u,g){var E=u==null?0:u.length;return E?(g=g===t?1:En(g),wr(u,g)):[]}function _B(u){for(var g=-1,E=u==null?0:u.length,k={};++g<E;){var V=u[g];k[V[0]]=V[1]}return k}function UA(u){return u&&u.length?u[0]:t}function xB(u,g,E){var k=u==null?0:u.length;if(!k)return-1;var V=E==null?0:En(E);return V<0&&(V=Kn(k+V,0)),Qs(u,g,V)}function wB(u){var g=u==null?0:u.length;return g?Qe(u,0,-1):[]}var bB=Q(function(u){var g=Zn(u,je);return g.length&&g[0]===u[0]?ja(g):[]}),SB=Q(function(u){var g=ta(u),E=Zn(u,je);return g===ta(E)?g=t:E.pop(),E.length&&E[0]===u[0]?ja(E,Xt(g,2)):[]}),EB=Q(function(u){var g=ta(u),E=Zn(u,je);return g=typeof g=="function"?g:t,g&&E.pop(),E.length&&E[0]===u[0]?ja(E,t,g):[]});function MB(u,g){return u==null?"":Hh.call(u,g)}function ta(u){var g=u==null?0:u.length;return g?u[g-1]:t}function TB(u,g,E){var k=u==null?0:u.length;if(!k)return-1;var V=k;return E!==t&&(V=En(E),V=V<0?Kn(k+V,0):or(V,k-1)),g===g?_i(u,g,V):Ca(u,Ll,V,!0)}function AB(u,g){return u&&u.length?qa(u,En(g)):t}var CB=Q(HA);function HA(u,g){return u&&u.length&&g&&g.length?Ar(u,g):u}function RB(u,g,E){return u&&u.length&&g&&g.length?Ar(u,g,Xt(E,2)):u}function PB(u,g,E){return u&&u.length&&g&&g.length?Ar(u,g,t,E):u}var IB=Ku(function(u,g){var E=u==null?0:u.length,k=Vu(u,g);return Bp(u,Zn(g,function(V){return Ju(V,E)?+V:V}).sort(zn)),k});function LB(u,g){var E=[];if(!(u&&u.length))return E;var k=-1,V=[],ee=u.length;for(g=Xt(g,3);++k<ee;){var he=u[k];g(he,k,u)&&(E.push(he),V.push(k))}return Bp(u,V),E}function vw(u){return u==null?u:zu.call(u)}function kB(u,g,E){var k=u==null?0:u.length;return k?(E&&typeof E!="number"&&Ls(u,g,E)?(g=0,E=k):(g=g==null?0:En(g),E=E===t?k:En(E)),Qe(u,g,E)):[]}function DB(u,g){return st(u,g)}function OB(u,g,E){return Tt(u,g,Xt(E,2))}function zB(u,g){var E=u==null?0:u.length;if(E){var k=st(u,g);if(k<E&&Ya(u[k],g))return k}return-1}function FB(u,g){return st(u,g,!0)}function NB(u,g,E){return Tt(u,g,Xt(E,2),!0)}function BB(u,g){var E=u==null?0:u.length;if(E){var k=st(u,g,!0)-1;if(Ya(u[k],g))return k}return-1}function UB(u){return u&&u.length?At(u):[]}function HB(u,g){return u&&u.length?At(u,Xt(g,2)):[]}function WB(u){var g=u==null?0:u.length;return g?Qe(u,1,g):[]}function VB(u,g,E){return u&&u.length?(g=E||g===t?1:En(g),Qe(u,0,g<0?0:g)):[]}function GB(u,g,E){var k=u==null?0:u.length;return k?(g=E||g===t?1:En(g),g=k-g,Qe(u,g<0?0:g,k)):[]}function $B(u,g){return u&&u.length?W(u,Xt(g,3),!1,!0):[]}function jB(u,g){return u&&u.length?W(u,Xt(g,3)):[]}var qB=Q(function(u){return b(wr(u,1,li,!0))}),YB=Q(function(u){var g=ta(u);return li(g)&&(g=t),b(wr(u,1,li,!0),Xt(g,2))}),XB=Q(function(u){var g=ta(u);return g=typeof g=="function"?g:t,b(wr(u,1,li,!0),t,g)});function ZB(u){return u&&u.length?b(u):[]}function KB(u,g){return u&&u.length?b(u,Xt(g,2)):[]}function JB(u,g){return g=typeof g=="function"?g:t,u&&u.length?b(u,t,g):[]}function yw(u){if(!(u&&u.length))return[];var g=0;return u=Ii(u,function(E){if(li(E))return g=Kn(E.length,g),!0}),us(g,function(E){return Zn(u,Eu(E))})}function WA(u,g){if(!(u&&u.length))return[];var E=yw(u);return g==null?E:Zn(E,function(k){return Zr(g,t,k)})}var QB=Q(function(u,g){return li(u)?Wa(u,g):[]}),e6=Q(function(u){return me(Ii(u,li))}),t6=Q(function(u){var g=ta(u);return li(g)&&(g=t),me(Ii(u,li),Xt(g,2))}),n6=Q(function(u){var g=ta(u);return g=typeof g=="function"?g:t,me(Ii(u,li),t,g)}),r6=Q(yw);function i6(u,g){return ve(u||[],g||[],Po)}function s6(u,g){return ve(u||[],g||[],pe)}var o6=Q(function(u){var g=u.length,E=g>1?u[g-1]:t;return E=typeof E=="function"?(u.pop(),E):t,WA(u,E)});function VA(u){var g=X(u);return g.__chain__=!0,g}function a6(u,g){return g(u),u}function gy(u,g){return g(u)}var l6=Ku(function(u){var g=u.length,E=g?u[0]:0,k=this.__wrapped__,V=function(ee){return Vu(ee,u)};return g>1||this.__actions__.length||!(k instanceof wn)||!Ju(E)?this.thru(V):(k=k.slice(E,+E+(g?1:0)),k.__actions__.push({func:gy,args:[V],thisArg:t}),new Kr(k,this.__chain__).thru(function(ee){return g&&!ee.length&&ee.push(t),ee}))});function u6(){return VA(this)}function c6(){return new Kr(this.value(),this.__chain__)}function f6(){this.__values__===t&&(this.__values__=rC(this.value()));var u=this.__index__>=this.__values__.length,g=u?t:this.__values__[this.__index__++];return{done:u,value:g}}function h6(){return this}function d6(u){for(var g,E=this;E instanceof Hl;){var k=zA(E);k.__index__=0,k.__values__=t,g?V.__wrapped__=k:g=k;var V=k;E=E.__wrapped__}return V.__wrapped__=u,g}function p6(){var u=this.__wrapped__;if(u instanceof wn){var g=u;return this.__actions__.length&&(g=new wn(this)),g=g.reverse(),g.__actions__.push({func:gy,args:[vw],thisArg:t}),new Kr(g,this.__chain__)}return this.thru(vw)}function m6(){return se(this.__wrapped__,this.__actions__)}var g6=ly(function(u,g,E){Bn.call(u,E)?++u[E]:ps(u,E,1)});function v6(u,g,E){var k=vn(u)?Ph:Jh;return E&&Ls(u,g,E)&&(g=t),k(u,Xt(g,3))}function y6(u,g){var E=vn(u)?Ii:$u;return E(u,Xt(g,3))}var _6=gA(FA),x6=gA(NA);function w6(u,g){return wr(vy(u,g),1)}function b6(u,g){return wr(vy(u,g),le)}function S6(u,g,E){return E=E===t?1:En(E),wr(vy(u,g),E)}function GA(u,g){var E=vn(u)?Fr:Jr;return E(u,Xt(g,3))}function $A(u,g){var E=vn(u)?Rh:$l;return E(u,Xt(g,3))}var E6=ly(function(u,g,E){Bn.call(u,E)?u[E].push(g):ps(u,E,[g])});function M6(u,g,E,k){u=ao(u)?u:Gp(u),E=E&&!k?En(E):0;var V=u.length;return E<0&&(E=Kn(V+E,0)),by(u)?E<=V&&u.indexOf(g,E)>-1:!!V&&Qs(u,g,E)>-1}var T6=Q(function(u,g,E){var k=-1,V=typeof g=="function",ee=ao(u)?Ne(u.length):[];return Jr(u,function(he){ee[++k]=V?Zr(g,he,E):Is(he,g,E)}),ee}),A6=ly(function(u,g,E){ps(u,E,g)});function vy(u,g){var E=vn(u)?Zn:Do;return E(u,Xt(g,3))}function C6(u,g,E,k){return u==null?[]:(vn(g)||(g=g==null?[]:[g]),E=k?t:E,vn(E)||(E=E==null?[]:[E]),Xu(u,g,E))}var R6=ly(function(u,g,E){u[E?0:1].push(g)},function(){return[[],[]]});function P6(u,g,E){var k=vn(u)?Yc:Ni,V=arguments.length<3;return k(u,Xt(g,4),E,V,Jr)}function I6(u,g,E){var k=vn(u)?Xc:Ni,V=arguments.length<3;return k(u,Xt(g,4),E,V,$l)}function L6(u,g){var E=vn(u)?Ii:$u;return E(u,xy(Xt(g,3)))}function k6(u){var g=vn(u)?Ha:xe;return g(u)}function D6(u,g,E){(E?Ls(u,g,E):g===t)?g=1:g=En(g);var k=vn(u)?Hu:Me;return k(u,g)}function O6(u){var g=vn(u)?Vl:Ze;return g(u)}function z6(u){if(u==null)return 0;if(ao(u))return by(u)?gr(u):u.length;var g=ms(u);return g==O||g==Be?u.size:yf(u).length}function F6(u,g,E){var k=vn(u)?Aa:yt;return E&&Ls(u,g,E)&&(g=t),k(u,Xt(g,3))}var N6=Q(function(u,g){if(u==null)return[];var E=g.length;return E>1&&Ls(u,g[0],g[1])?g=[]:E>2&&Ls(g[0],g[1],g[2])&&(g=[g[0]]),Xu(u,wr(g,1),[])}),yy=Uh||function(){return Xr.Date.now()};function B6(u,g){if(typeof g!="function")throw new Wi(o);return u=En(u),function(){if(--u<1)return g.apply(this,arguments)}}function jA(u,g,E){return g=E?t:g,g=u&&g==null?u.length:g,Zu(u,z,t,t,t,t,g)}function qA(u,g){var E;if(typeof g!="function")throw new Wi(o);return u=En(u),function(){return--u>0&&(E=g.apply(this,arguments)),u<=1&&(g=t),E}}var _w=Q(function(u,g,E){var k=x;if(E.length){var V=Ji(E,Wp(_w));k|=A}return Zu(u,k,g,E,V)}),YA=Q(function(u,g,E){var k=x|w;if(E.length){var V=Ji(E,Wp(YA));k|=A}return Zu(g,k,u,E,V)});function XA(u,g,E){g=E?t:g;var k=Zu(u,M,t,t,t,t,t,g);return k.placeholder=XA.placeholder,k}function ZA(u,g,E){g=E?t:g;var k=Zu(u,T,t,t,t,t,t,g);return k.placeholder=ZA.placeholder,k}function KA(u,g,E){var k,V,ee,he,Se,Ie,et=0,tt=!1,ot=!1,wt=!0;if(typeof u!="function")throw new Wi(o);g=na(g)||0,Ur(E)&&(tt=!!E.leading,ot="maxWait"in E,ee=ot?Kn(na(E.maxWait)||0,g):ee,wt="trailing"in E?!!E.trailing:wt);function Nt(ui){var Xa=k,tc=V;return k=V=t,et=ui,he=u.apply(tc,Xa),he}function Zt(ui){return et=ui,Se=Jg(On,g),tt?Nt(ui):he}function An(ui){var Xa=ui-Ie,tc=ui-et,gC=g-Xa;return ot?or(gC,ee-tc):gC}function Kt(ui){var Xa=ui-Ie,tc=ui-et;return Ie===t||Xa>=g||Xa<0||ot&&tc>=ee}function On(){var ui=yy();if(Kt(ui))return Un(ui);Se=Jg(On,An(ui))}function Un(ui){return Se=t,wt&&k?Nt(ui):(k=V=t,he)}function zo(){Se!==t&&Ot(Se),et=0,k=Ie=V=Se=t}function ks(){return Se===t?he:Un(yy())}function Fo(){var ui=yy(),Xa=Kt(ui);if(k=arguments,V=this,Ie=ui,Xa){if(Se===t)return Zt(Ie);if(ot)return Ot(Se),Se=Jg(On,g),Nt(Ie)}return Se===t&&(Se=Jg(On,g)),he}return Fo.cancel=zo,Fo.flush=ks,Fo}var U6=Q(function(u,g){return mf(u,1,g)}),H6=Q(function(u,g,E){return mf(u,na(g)||0,E)});function W6(u){return Zu(u,F)}function _y(u,g){if(typeof u!="function"||g!=null&&typeof g!="function")throw new Wi(o);var E=function(){var k=arguments,V=g?g.apply(this,k):k[0],ee=E.cache;if(ee.has(V))return ee.get(V);var he=u.apply(this,k);return E.cache=ee.set(V,he)||ee,he};return E.cache=new(_y.Cache||ds),E}_y.Cache=ds;function xy(u){if(typeof u!="function")throw new Wi(o);return function(){var g=arguments;switch(g.length){case 0:return!u.call(this);case 1:return!u.call(this,g[0]);case 2:return!u.call(this,g[0],g[1]);case 3:return!u.call(this,g[0],g[1],g[2])}return!u.apply(this,g)}}function V6(u){return qA(2,u)}var G6=pt(function(u,g){g=g.length==1&&vn(g[0])?Zn(g[0],Bi(Xt())):Zn(wr(g,1),Bi(Xt()));var E=g.length;return Q(function(k){for(var V=-1,ee=or(k.length,E);++V<ee;)k[V]=g[V].call(this,k[V]);return Zr(u,this,k)})}),xw=Q(function(u,g){var E=Ji(g,Wp(xw));return Zu(u,A,t,g,E)}),JA=Q(function(u,g){var E=Ji(g,Wp(JA));return Zu(u,L,t,g,E)}),$6=Ku(function(u,g){return Zu(u,C,t,t,t,g)});function j6(u,g){if(typeof u!="function")throw new Wi(o);return g=g===t?g:En(g),Q(u,g)}function q6(u,g){if(typeof u!="function")throw new Wi(o);return g=g==null?0:Kn(En(g),0),Q(function(E){var k=E[g],V=Dt(E,0,g);return k&&Mo(V,k),Zr(u,this,V)})}function Y6(u,g,E){var k=!0,V=!0;if(typeof u!="function")throw new Wi(o);return Ur(E)&&(k="leading"in E?!!E.leading:k,V="trailing"in E?!!E.trailing:V),KA(u,g,{leading:k,maxWait:g,trailing:V})}function X6(u){return jA(u,1)}function Z6(u,g){return xw(lt(g),u)}function K6(){if(!arguments.length)return[];var u=arguments[0];return vn(u)?u:[u]}function J6(u){return Nr(u,v)}function Q6(u,g){return g=typeof g=="function"?g:t,Nr(u,v,g)}function eU(u){return Nr(u,m|v)}function tU(u,g){return g=typeof g=="function"?g:t,Nr(u,m|v,g)}function nU(u,g){return g==null||Gl(u,g,Vi(g))}function Ya(u,g){return u===g||u!==u&&g!==g}var rU=hy(qu),iU=hy(function(u,g){return u>=g}),ad=ed(function(){return arguments}())?ed:function(u){return Qr(u)&&Bn.call(u,"callee")&&!Nh.call(u,"callee")},vn=Ne.isArray,sU=Ta?Bi(Ta):td;function ao(u){return u!=null&&wy(u.length)&&!Qu(u)}function li(u){return Qr(u)&&ao(u)}function oU(u){return u===!0||u===!1||Qr(u)&&Tr(u)==rt}var Ef=Cp||Iw,aU=xu?Bi(xu):Qi;function lU(u){return Qr(u)&&u.nodeType===1&&!Qg(u)}function uU(u){if(u==null)return!0;if(ao(u)&&(vn(u)||typeof u=="string"||typeof u.splice=="function"||Ef(u)||Vp(u)||ad(u)))return!u.length;var g=ms(u);if(g==O||g==Be)return!u.size;if(Kg(u))return!yf(u).length;for(var E in u)if(Bn.call(u,E))return!1;return!0}function cU(u,g){return dr(u,g)}function fU(u,g,E){E=typeof E=="function"?E:t;var k=E?E(u,g):t;return k===t?dr(u,g,t,E):!!k}function ww(u){if(!Qr(u))return!1;var g=Tr(u);return g==Ct||g==it||typeof u.message=="string"&&typeof u.name=="string"&&!Qg(u)}function hU(u){return typeof u=="number"&&Jo(u)}function Qu(u){if(!Ur(u))return!1;var g=Tr(u);return g==Xe||g==$e||g==bt||g==de}function QA(u){return typeof u=="number"&&u==En(u)}function wy(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ae}function Ur(u){var g=typeof u;return u!=null&&(g=="object"||g=="function")}function Qr(u){return u!=null&&typeof u=="object"}var eC=wu?Bi(wu):Op;function dU(u,g){return u===g||Yu(u,g,fw(g))}function pU(u,g,E){return E=typeof E=="function"?E:t,Yu(u,g,fw(g),E)}function mU(u){return tC(u)&&u!=+u}function gU(u){if(Q5(u))throw new Qt(s);return Lo(u)}function vU(u){return u===null}function yU(u){return u==null}function tC(u){return typeof u=="number"||Qr(u)&&Tr(u)==Te}function Qg(u){if(!Qr(u)||Tr(u)!=ne)return!1;var g=ii(u);if(g===null)return!0;var E=Bn.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&Lu.call(E)==zh}var bw=Ah?Bi(Ah):vf;function _U(u){return QA(u)&&u>=-ae&&u<=ae}var nC=qc?Bi(qc):zp;function by(u){return typeof u=="string"||!vn(u)&&Qr(u)&&Tr(u)==G}function Oo(u){return typeof u=="symbol"||Qr(u)&&Tr(u)==U}var Vp=Ch?Bi(Ch):ko;function xU(u){return u===t}function wU(u){return Qr(u)&&ms(u)==Ee}function bU(u){return Qr(u)&&Tr(u)==Ue}var SU=hy(_f),EU=hy(function(u,g){return u<=g});function rC(u){if(!u)return[];if(ao(u))return by(u)?Ui(u):Wt(u);if(Fl&&u[Fl])return Lh(u[Fl]());var g=ms(u),E=g==O?no:g==Be?yi:Gp;return E(u)}function ec(u){if(!u)return u===0?u:0;if(u=na(u),u===le||u===-le){var g=u<0?-1:1;return g*ie}return u===u?u:0}function En(u){var g=ec(u),E=g%1;return g===g?E?g-E:g:0}function iC(u){return u?bi(En(u),0,j):0}function na(u){if(typeof u=="number")return u;if(Oo(u))return ue;if(Ur(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=Ur(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=La(u);var E=Tn.test(u);return E||Es.test(u)?Vg(u.slice(2),E?2:8):Mn.test(u)?ue:+u}function sC(u){return yr(u,lo(u))}function MU(u){return u?bi(En(u),-ae,ae):u===0?u:0}function er(u){return u==null?"":h(u)}var TU=Up(function(u,g){if(Kg(g)||ao(g)){yr(g,Vi(g),u);return}for(var E in g)Bn.call(g,E)&&Po(u,E,g[E])}),oC=Up(function(u,g){yr(g,lo(g),u)}),Sy=Up(function(u,g,E,k){yr(g,lo(g),u,k)}),AU=Up(function(u,g,E,k){yr(g,Vi(g),u,k)}),CU=Ku(Vu);function RU(u,g){var E=Ba(u);return g==null?E:wi(E,g)}var PU=Q(function(u,g){u=Wn(u);var E=-1,k=g.length,V=k>2?g[2]:t;for(V&&Ls(g[0],g[1],V)&&(k=1);++E<k;)for(var ee=g[E],he=lo(ee),Se=-1,Ie=he.length;++Se<Ie;){var et=he[Se],tt=u[et];(tt===t||Ya(tt,Co[et])&&!Bn.call(u,et))&&(u[et]=ee[et])}return u}),IU=Q(function(u){return u.push(t,SA),Zr(aC,t,u)});function LU(u,g){return Zc(u,Xt(g,3),ai)}function kU(u,g){return Zc(u,Xt(g,3),Ps)}function DU(u,g){return u==null?u:Ga(u,Xt(g,3),lo)}function OU(u,g){return u==null?u:Li(u,Xt(g,3),lo)}function zU(u,g){return u&&ai(u,Xt(g,3))}function FU(u,g){return u&&Ps(u,Xt(g,3))}function NU(u){return u==null?[]:$a(u,Vi(u))}function BU(u){return u==null?[]:$a(u,lo(u))}function Sw(u,g,E){var k=u==null?t:Br(u,g);return k===t?E:k}function UU(u,g){return u!=null&&TA(u,g,qg)}function Ew(u,g){return u!=null&&TA(u,g,Dp)}var HU=yA(function(u,g,E){g!=null&&typeof g.toString!="function"&&(g=ef.call(g)),u[g]=E},Tw(uo)),WU=yA(function(u,g,E){g!=null&&typeof g.toString!="function"&&(g=ef.call(g)),Bn.call(u,g)?u[g].push(E):u[g]=[E]},Xt),VU=Q(Is);function Vi(u){return ao(u)?Ro(u):yf(u)}function lo(u){return ao(u)?Ro(u,!0):Fp(u)}function GU(u,g){var E={};return g=Xt(g,3),ai(u,function(k,V,ee){ps(E,g(k,V,ee),k)}),E}function $U(u,g){var E={};return g=Xt(g,3),ai(u,function(k,V,ee){ps(E,V,g(k,V,ee))}),E}var jU=Up(function(u,g,E){jl(u,g,E)}),aC=Up(function(u,g,E,k){jl(u,g,E,k)}),qU=Ku(function(u,g){var E={};if(u==null)return E;var k=!1;g=Zn(g,function(ee){return ee=ct(ee,u),k||(k=ee.length>1),ee}),yr(u,uw(u),E),k&&(E=Nr(E,m|d|v,H5));for(var V=g.length;V--;)R(E,g[V]);return E});function YU(u,g){return lC(u,xy(Xt(g)))}var XU=Ku(function(u,g){return u==null?{}:wf(u,g)});function lC(u,g){if(u==null)return{};var E=Zn(uw(u),function(k){return[k]});return g=Xt(g),bf(u,E,function(k,V){return g(k,V[0])})}function ZU(u,g,E){g=ct(g,u);var k=-1,V=g.length;for(V||(V=1,u=t);++k<V;){var ee=u==null?t:u[ql(g[k])];ee===t&&(k=V,ee=E),u=Qu(ee)?ee.call(u):ee}return u}function KU(u,g,E){return u==null?u:pe(u,g,E)}function JU(u,g,E,k){return k=typeof k=="function"?k:t,u==null?u:pe(u,g,E,k)}var uC=wA(Vi),cC=wA(lo);function QU(u,g,E){var k=vn(u),V=k||Ef(u)||Vp(u);if(g=Xt(g,4),E==null){var ee=u&&u.constructor;V?E=k?new ee:[]:Ur(u)?E=Qu(ee)?Ba(ii(u)):{}:E={}}return(V?Fr:ai)(u,function(he,Se,Ie){return g(E,he,Se,Ie)}),E}function e8(u,g){return u==null?!0:R(u,g)}function t8(u,g,E){return u==null?u:D(u,g,lt(E))}function n8(u,g,E,k){return k=typeof k=="function"?k:t,u==null?u:D(u,g,lt(E),k)}function Gp(u){return u==null?[]:Tu(u,Vi(u))}function r8(u){return u==null?[]:Tu(u,lo(u))}function i8(u,g,E){return E===t&&(E=g,g=t),E!==t&&(E=na(E),E=E===E?E:0),g!==t&&(g=na(g),g=g===g?g:0),bi(na(u),g,E)}function s8(u,g,E){return g=ec(g),E===t?(E=g,g=0):E=ec(E),u=na(u),Qh(u,g,E)}function o8(u,g,E){if(E&&typeof E!="boolean"&&Ls(u,g,E)&&(g=E=t),E===t&&(typeof g=="boolean"?(E=g,g=t):typeof u=="boolean"&&(E=u,u=t)),u===t&&g===t?(u=0,g=1):(u=ec(u),g===t?(g=u,u=0):g=ec(g)),u>g){var k=u;u=g,g=k}if(E||u%1||g%1){var V=si();return or(u+V*(g-u+bp("1e-"+((V+"").length-1))),g)}return P(u,g)}var a8=Hp(function(u,g,E){return g=g.toLowerCase(),u+(E?fC(g):g)});function fC(u){return Mw(er(u).toLowerCase())}function hC(u){return u=er(u),u&&u.replace(Ks,to).replace(Mh,"")}function l8(u,g,E){u=er(u),g=h(g);var k=u.length;E=E===t?k:bi(En(E),0,k);var V=E;return E-=g.length,E>=0&&u.slice(E,V)==g}function u8(u){return u=er(u),u&&is.test(u)?u.replace(rn,Ap):u}function c8(u){return u=er(u),u&&du.test(u)?u.replace(Al,"\\$&"):u}var f8=Hp(function(u,g,E){return u+(E?"-":"")+g.toLowerCase()}),h8=Hp(function(u,g,E){return u+(E?" ":"")+g.toLowerCase()}),d8=mA("toLowerCase");function p8(u,g,E){u=er(u),g=En(g);var k=g?gr(u):0;if(!g||k>=g)return u;var V=(g-k)/2;return fy(Cs(V),E)+u+fy(Du(V),E)}function m8(u,g,E){u=er(u),g=En(g);var k=g?gr(u):0;return g&&k<g?u+fy(g-k,E):u}function g8(u,g,E){u=er(u),g=En(g);var k=g?gr(u):0;return g&&k<g?fy(g-k,E)+u:u}function v8(u,g,E){return E||g==null?g=0:g&&(g=+g),Oa(er(u).replace(oe,""),g||0)}function y8(u,g,E){return(E?Ls(u,g,E):g===t)?g=1:g=En(g),$(er(u),g)}function _8(){var u=arguments,g=er(u[0]);return u.length<3?g:g.replace(u[1],u[2])}var x8=Hp(function(u,g,E){return u+(E?"_":"")+g.toLowerCase()});function w8(u,g,E){return E&&typeof E!="number"&&Ls(u,g,E)&&(g=E=t),E=E===t?j:E>>>0,E?(u=er(u),u&&(typeof g=="string"||g!=null&&!bw(g))&&(g=h(g),!g&&Da(u))?Dt(Ui(u),0,E):u.split(g,E)):[]}var b8=Hp(function(u,g,E){return u+(E?" ":"")+Mw(g)});function S8(u,g,E){return u=er(u),E=E==null?0:bi(En(E),0,u.length),g=h(g),u.slice(E,E+g.length)==g}function E8(u,g,E){var k=X.templateSettings;E&&Ls(u,g,E)&&(g=t),u=er(u),g=Sy({},g,k,bA);var V=Sy({},g.imports,k.imports,bA),ee=Vi(V),he=Tu(V,ee),Se,Ie,et=0,tt=g.interpolate||kr,ot="__p += '",wt=Ol((g.escape||kr).source+"|"+tt.source+"|"+(tt===hu?an:kr).source+"|"+(g.evaluate||kr).source+"|$","g"),Nt="//# sourceURL="+(Bn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sa+"]")+`
`;u.replace(wt,function(Kt,On,Un,zo,ks,Fo){return Un||(Un=zo),ot+=u.slice(et,Fo).replace(cn,Ih),On&&(Se=!0,ot+=`' +
__e(`+On+`) +
'`),ks&&(Ie=!0,ot+=`';
`+ks+`;
__p += '`),Un&&(ot+=`' +
((__t = (`+Un+`)) == null ? '' : __t) +
'`),et=Fo+Kt.length,Kt}),ot+=`';
`;var Zt=Bn.call(g,"variable")&&g.variable;if(!Zt)ot=`with (obj) {
`+ot+`
}
`;else if(tn.test(Zt))throw new Qt(a);ot=(Ie?ot.replace(Ut,""):ot).replace(mt,"$1").replace(Gt,"$1;"),ot="function("+(Zt||"obj")+`) {
`+(Zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Se?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ot+`return __p
}`;var An=pC(function(){return In(ee,Nt+"return "+ot).apply(t,he)});if(An.source=ot,ww(An))throw An;return An}function M8(u){return er(u).toLowerCase()}function T8(u){return er(u).toUpperCase()}function A8(u,g,E){if(u=er(u),u&&(E||g===t))return La(u);if(!u||!(g=h(g)))return u;var k=Ui(u),V=Ui(g),ee=Au(k,V),he=eo(k,V)+1;return Dt(k,ee,he).join("")}function C8(u,g,E){if(u=er(u),u&&(E||g===t))return u.slice(0,Dl(u)+1);if(!u||!(g=h(g)))return u;var k=Ui(u),V=eo(k,Ui(g))+1;return Dt(k,0,V).join("")}function R8(u,g,E){if(u=er(u),u&&(E||g===t))return u.replace(oe,"");if(!u||!(g=h(g)))return u;var k=Ui(u),V=Au(k,Ui(g));return Dt(k,V).join("")}function P8(u,g){var E=H,k=q;if(Ur(g)){var V="separator"in g?g.separator:V;E="length"in g?En(g.length):E,k="omission"in g?h(g.omission):k}u=er(u);var ee=u.length;if(Da(u)){var he=Ui(u);ee=he.length}if(E>=ee)return u;var Se=E-gr(k);if(Se<1)return k;var Ie=he?Dt(he,0,Se).join(""):u.slice(0,Se);if(V===t)return Ie+k;if(he&&(Se+=Ie.length-Se),bw(V)){if(u.slice(Se).search(V)){var et,tt=Ie;for(V.global||(V=Ol(V.source,er(Dn.exec(V))+"g")),V.lastIndex=0;et=V.exec(tt);)var ot=et.index;Ie=Ie.slice(0,ot===t?Se:ot)}}else if(u.indexOf(h(V),Se)!=Se){var wt=Ie.lastIndexOf(V);wt>-1&&(Ie=Ie.slice(0,wt))}return Ie+k}function I8(u){return u=er(u),u&&ni.test(u)?u.replace(Rn,Hi):u}var L8=Hp(function(u,g,E){return u+(E?" ":"")+g.toUpperCase()}),Mw=mA("toUpperCase");function dC(u,g,E){return u=er(u),g=E?t:g,g===t?Jc(u)?Ao(u):Tp(u):u.match(g)||[]}var pC=Q(function(u,g){try{return Zr(u,t,g)}catch(E){return ww(E)?E:new Qt(E)}}),k8=Ku(function(u,g){return Fr(g,function(E){E=ql(E),ps(u,E,_w(u[E],u))}),u});function D8(u){var g=u==null?0:u.length,E=Xt();return u=g?Zn(u,function(k){if(typeof k[1]!="function")throw new Wi(o);return[E(k[0]),k[1]]}):[],Q(function(k){for(var V=-1;++V<g;){var ee=u[V];if(Zr(ee[0],this,k))return Zr(ee[1],this,k)}})}function O8(u){return Gu(Nr(u,m))}function Tw(u){return function(){return u}}function z8(u,g){return u==null||u!==u?g:u}var F8=vA(),N8=vA(!0);function uo(u){return u}function Aw(u){return nd(typeof u=="function"?u:Nr(u,m))}function B8(u){return Np(Nr(u,m))}function U8(u,g){return rd(u,Nr(g,m))}var H8=Q(function(u,g){return function(E){return Is(E,u,g)}}),W8=Q(function(u,g){return function(E){return Is(u,E,g)}});function Cw(u,g,E){var k=Vi(g),V=$a(g,k);E==null&&!(Ur(g)&&(V.length||!k.length))&&(E=g,g=u,u=this,V=$a(g,Vi(g)));var ee=!(Ur(E)&&"chain"in E)||!!E.chain,he=Qu(u);return Fr(V,function(Se){var Ie=g[Se];u[Se]=Ie,he&&(u.prototype[Se]=function(){var et=this.__chain__;if(ee||et){var tt=u(this.__wrapped__),ot=tt.__actions__=Wt(this.__actions__);return ot.push({func:Ie,args:arguments,thisArg:u}),tt.__chain__=et,tt}return Ie.apply(u,Mo([this.value()],arguments))})}),u}function V8(){return Xr._===this&&(Xr._=tf),this}function Rw(){}function G8(u){return u=En(u),Q(function(g){return qa(g,u)})}var $8=ow(Zn),j8=ow(Ph),q8=ow(Aa);function mC(u){return dw(u)?Eu(ql(u)):Sf(u)}function Y8(u){return function(g){return u==null?t:Br(u,g)}}var X8=_A(),Z8=_A(!0);function Pw(){return[]}function Iw(){return!1}function K8(){return{}}function J8(){return""}function Q8(){return!0}function eH(u,g){if(u=En(u),u<1||u>ae)return[];var E=j,k=or(u,j);g=Xt(g),u-=j;for(var V=us(k,g);++E<u;)g(E);return V}function tH(u){return vn(u)?Zn(u,ql):Oo(u)?[u]:Wt(OA(er(u)))}function nH(u){var g=++Oh;return er(u)+g}var rH=cy(function(u,g){return u+g},0),iH=aw("ceil"),sH=cy(function(u,g){return u/g},1),oH=aw("floor");function aH(u){return u&&u.length?Va(u,uo,qu):t}function lH(u,g){return u&&u.length?Va(u,Xt(g,2),qu):t}function uH(u){return Ra(u,uo)}function cH(u,g){return Ra(u,Xt(g,2))}function fH(u){return u&&u.length?Va(u,uo,_f):t}function hH(u,g){return u&&u.length?Va(u,Xt(g,2),_f):t}var dH=cy(function(u,g){return u*g},1),pH=aw("round"),mH=cy(function(u,g){return u-g},0);function gH(u){return u&&u.length?To(u,uo):0}function vH(u,g){return u&&u.length?To(u,Xt(g,2)):0}return X.after=B6,X.ary=jA,X.assign=TU,X.assignIn=oC,X.assignInWith=Sy,X.assignWith=AU,X.at=CU,X.before=qA,X.bind=_w,X.bindAll=k8,X.bindKey=YA,X.castArray=K6,X.chain=VA,X.chunk=oB,X.compact=aB,X.concat=lB,X.cond=D8,X.conforms=O8,X.constant=Tw,X.countBy=g6,X.create=RU,X.curry=XA,X.curryRight=ZA,X.debounce=KA,X.defaults=PU,X.defaultsDeep=IU,X.defer=U6,X.delay=H6,X.difference=uB,X.differenceBy=cB,X.differenceWith=fB,X.drop=hB,X.dropRight=dB,X.dropRightWhile=pB,X.dropWhile=mB,X.fill=gB,X.filter=y6,X.flatMap=w6,X.flatMapDeep=b6,X.flatMapDepth=S6,X.flatten=BA,X.flattenDeep=vB,X.flattenDepth=yB,X.flip=W6,X.flow=F8,X.flowRight=N8,X.fromPairs=_B,X.functions=NU,X.functionsIn=BU,X.groupBy=E6,X.initial=wB,X.intersection=bB,X.intersectionBy=SB,X.intersectionWith=EB,X.invert=HU,X.invertBy=WU,X.invokeMap=T6,X.iteratee=Aw,X.keyBy=A6,X.keys=Vi,X.keysIn=lo,X.map=vy,X.mapKeys=GU,X.mapValues=$U,X.matches=B8,X.matchesProperty=U8,X.memoize=_y,X.merge=jU,X.mergeWith=aC,X.method=H8,X.methodOf=W8,X.mixin=Cw,X.negate=xy,X.nthArg=G8,X.omit=qU,X.omitBy=YU,X.once=V6,X.orderBy=C6,X.over=$8,X.overArgs=G6,X.overEvery=j8,X.overSome=q8,X.partial=xw,X.partialRight=JA,X.partition=R6,X.pick=XU,X.pickBy=lC,X.property=mC,X.propertyOf=Y8,X.pull=CB,X.pullAll=HA,X.pullAllBy=RB,X.pullAllWith=PB,X.pullAt=IB,X.range=X8,X.rangeRight=Z8,X.rearg=$6,X.reject=L6,X.remove=LB,X.rest=j6,X.reverse=vw,X.sampleSize=D6,X.set=KU,X.setWith=JU,X.shuffle=O6,X.slice=kB,X.sortBy=N6,X.sortedUniq=UB,X.sortedUniqBy=HB,X.split=w8,X.spread=q6,X.tail=WB,X.take=VB,X.takeRight=GB,X.takeRightWhile=$B,X.takeWhile=jB,X.tap=a6,X.throttle=Y6,X.thru=gy,X.toArray=rC,X.toPairs=uC,X.toPairsIn=cC,X.toPath=tH,X.toPlainObject=sC,X.transform=QU,X.unary=X6,X.union=qB,X.unionBy=YB,X.unionWith=XB,X.uniq=ZB,X.uniqBy=KB,X.uniqWith=JB,X.unset=e8,X.unzip=yw,X.unzipWith=WA,X.update=t8,X.updateWith=n8,X.values=Gp,X.valuesIn=r8,X.without=QB,X.words=dC,X.wrap=Z6,X.xor=e6,X.xorBy=t6,X.xorWith=n6,X.zip=r6,X.zipObject=i6,X.zipObjectDeep=s6,X.zipWith=o6,X.entries=uC,X.entriesIn=cC,X.extend=oC,X.extendWith=Sy,Cw(X,X),X.add=rH,X.attempt=pC,X.camelCase=a8,X.capitalize=fC,X.ceil=iH,X.clamp=i8,X.clone=J6,X.cloneDeep=eU,X.cloneDeepWith=tU,X.cloneWith=Q6,X.conformsTo=nU,X.deburr=hC,X.defaultTo=z8,X.divide=sH,X.endsWith=l8,X.eq=Ya,X.escape=u8,X.escapeRegExp=c8,X.every=v6,X.find=_6,X.findIndex=FA,X.findKey=LU,X.findLast=x6,X.findLastIndex=NA,X.findLastKey=kU,X.floor=oH,X.forEach=GA,X.forEachRight=$A,X.forIn=DU,X.forInRight=OU,X.forOwn=zU,X.forOwnRight=FU,X.get=Sw,X.gt=rU,X.gte=iU,X.has=UU,X.hasIn=Ew,X.head=UA,X.identity=uo,X.includes=M6,X.indexOf=xB,X.inRange=s8,X.invoke=VU,X.isArguments=ad,X.isArray=vn,X.isArrayBuffer=sU,X.isArrayLike=ao,X.isArrayLikeObject=li,X.isBoolean=oU,X.isBuffer=Ef,X.isDate=aU,X.isElement=lU,X.isEmpty=uU,X.isEqual=cU,X.isEqualWith=fU,X.isError=ww,X.isFinite=hU,X.isFunction=Qu,X.isInteger=QA,X.isLength=wy,X.isMap=eC,X.isMatch=dU,X.isMatchWith=pU,X.isNaN=mU,X.isNative=gU,X.isNil=yU,X.isNull=vU,X.isNumber=tC,X.isObject=Ur,X.isObjectLike=Qr,X.isPlainObject=Qg,X.isRegExp=bw,X.isSafeInteger=_U,X.isSet=nC,X.isString=by,X.isSymbol=Oo,X.isTypedArray=Vp,X.isUndefined=xU,X.isWeakMap=wU,X.isWeakSet=bU,X.join=MB,X.kebabCase=f8,X.last=ta,X.lastIndexOf=TB,X.lowerCase=h8,X.lowerFirst=d8,X.lt=SU,X.lte=EU,X.max=aH,X.maxBy=lH,X.mean=uH,X.meanBy=cH,X.min=fH,X.minBy=hH,X.stubArray=Pw,X.stubFalse=Iw,X.stubObject=K8,X.stubString=J8,X.stubTrue=Q8,X.multiply=dH,X.nth=AB,X.noConflict=V8,X.noop=Rw,X.now=yy,X.pad=p8,X.padEnd=m8,X.padStart=g8,X.parseInt=v8,X.random=o8,X.reduce=P6,X.reduceRight=I6,X.repeat=y8,X.replace=_8,X.result=ZU,X.round=pH,X.runInContext=Ae,X.sample=k6,X.size=z6,X.snakeCase=x8,X.some=F6,X.sortedIndex=DB,X.sortedIndexBy=OB,X.sortedIndexOf=zB,X.sortedLastIndex=FB,X.sortedLastIndexBy=NB,X.sortedLastIndexOf=BB,X.startCase=b8,X.startsWith=S8,X.subtract=mH,X.sum=gH,X.sumBy=vH,X.template=E8,X.times=eH,X.toFinite=ec,X.toInteger=En,X.toLength=iC,X.toLower=M8,X.toNumber=na,X.toSafeInteger=MU,X.toString=er,X.toUpper=T8,X.trim=A8,X.trimEnd=C8,X.trimStart=R8,X.truncate=P8,X.unescape=I8,X.uniqueId=nH,X.upperCase=L8,X.upperFirst=Mw,X.each=GA,X.eachRight=$A,X.first=UA,Cw(X,function(){var u={};return ai(X,function(g,E){Bn.call(X.prototype,E)||(u[E]=g)}),u}(),{chain:!1}),X.VERSION=r,Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){X[u].placeholder=X}),Fr(["drop","take"],function(u,g){wn.prototype[u]=function(E){E=E===t?1:Kn(En(E),0);var k=this.__filtered__&&!g?new wn(this):this.clone();return k.__filtered__?k.__takeCount__=or(E,k.__takeCount__):k.__views__.push({size:or(E,j),type:u+(k.__dir__<0?"Right":"")}),k},wn.prototype[u+"Right"]=function(E){return this.reverse()[u](E).reverse()}}),Fr(["filter","map","takeWhile"],function(u,g){var E=g+1,k=E==I||E==ce;wn.prototype[u]=function(V){var ee=this.clone();return ee.__iteratees__.push({iteratee:Xt(V,3),type:E}),ee.__filtered__=ee.__filtered__||k,ee}}),Fr(["head","last"],function(u,g){var E="take"+(g?"Right":"");wn.prototype[u]=function(){return this[E](1).value()[0]}}),Fr(["initial","tail"],function(u,g){var E="drop"+(g?"":"Right");wn.prototype[u]=function(){return this.__filtered__?new wn(this):this[E](1)}}),wn.prototype.compact=function(){return this.filter(uo)},wn.prototype.find=function(u){return this.filter(u).head()},wn.prototype.findLast=function(u){return this.reverse().find(u)},wn.prototype.invokeMap=Q(function(u,g){return typeof u=="function"?new wn(this):this.map(function(E){return Is(E,u,g)})}),wn.prototype.reject=function(u){return this.filter(xy(Xt(u)))},wn.prototype.slice=function(u,g){u=En(u);var E=this;return E.__filtered__&&(u>0||g<0)?new wn(E):(u<0?E=E.takeRight(-u):u&&(E=E.drop(u)),g!==t&&(g=En(g),E=g<0?E.dropRight(-g):E.take(g-u)),E)},wn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},wn.prototype.toArray=function(){return this.take(j)},ai(wn.prototype,function(u,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),k=/^(?:head|last)$/.test(g),V=X[k?"take"+(g=="last"?"Right":""):g],ee=k||/^find/.test(g);!V||(X.prototype[g]=function(){var he=this.__wrapped__,Se=k?[1]:arguments,Ie=he instanceof wn,et=Se[0],tt=Ie||vn(he),ot=function(On){var Un=V.apply(X,Mo([On],Se));return k&&wt?Un[0]:Un};tt&&E&&typeof et=="function"&&et.length!=1&&(Ie=tt=!1);var wt=this.__chain__,Nt=!!this.__actions__.length,Zt=ee&&!wt,An=Ie&&!Nt;if(!ee&&tt){he=An?he:new wn(this);var Kt=u.apply(he,Se);return Kt.__actions__.push({func:gy,args:[ot],thisArg:t}),new Kr(Kt,wt)}return Zt&&An?u.apply(this,Se):(Kt=this.thru(ot),Zt?k?Kt.value()[0]:Kt.value():Kt)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(u){var g=Ru[u],E=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",k=/^(?:pop|shift)$/.test(u);X.prototype[u]=function(){var V=arguments;if(k&&!this.__chain__){var ee=this.value();return g.apply(vn(ee)?ee:[],V)}return this[E](function(he){return g.apply(vn(he)?he:[],V)})}}),ai(wn.prototype,function(u,g){var E=X[g];if(E){var k=E.name+"";Bn.call(Na,k)||(Na[k]=[]),Na[k].push({name:g,func:E})}}),Na[uy(t,w).name]=[{name:"wrapper",func:t}],wn.prototype.clone=uf,wn.prototype.reverse=kp,wn.prototype.value=Gh,X.prototype.at=l6,X.prototype.chain=u6,X.prototype.commit=c6,X.prototype.next=f6,X.prototype.plant=d6,X.prototype.reverse=p6,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=m6,X.prototype.first=X.prototype.head,Fl&&(X.prototype[Fl]=h6),X},ri=ro();Ma?((Ma.exports=ri)._=ri,Pl._=ri):Xr._=ri}).call(cl)})(M2,M2.exports);var zm=M2.exports;const Nae="#99b898",Bae=({table:n,attribute:e,colorscale:t="YlOrRd"})=>{if(e){const{min:r,max:i}=Uae(n,e);if(!zm.isNil(r)&&!zm.isNil(i)){const s=dN.scale(t).domain([r,i]);return o=>s(o).hex()}}return()=>Nae},Uae=(n,e)=>{if(n&&n.getChild(e)){const t=n.getChild(e),r=t==null?void 0:t.toArray();[].slice.call(r);const i=zm.min(r),s=zm.max(r);return{min:i,max:s,range:zm.isNil(s)||zm.isNil(i)?null:s-i}}return{min:null,max:null,range:null}},uS=new kn,aL=new St;function Hae({data:n=[],mapping:e,arrow:t}){var M,T,A;const r=["x","y"],i=Number(n[0][e.x]),s=Number(n[0][e.y]),{zScale:o}=rx("Block Model",{zScale:{value:1,min:1,max:10,step:1}}),{active:a,direction:l,position:{x:c,y:p}}=rx("Cross Section",{active:!1,direction:{value:r[0],options:r},position:{value:{x:i,y:s},joystick:!1}},{collapsed:!0}),m=Z.exports.useRef(),{property:d,colorscale:v}=e,_=Bae({table:t,attribute:d,colorscale:v}),y=Float32Array.from(Array.from({length:n.length+1},(L,z)=>{if(z===0)return aL.set("#CCCCCC").convertSRGBToLinear().toArray();{const C=Number(n[z-1][d]),F=_(C);return aL.set(F).convertSRGBToLinear().toArray()}}).flat());Z.exports.useLayoutEffect(()=>{var F,H;const L=Number(n[0][e.x])+1,z=Number(n[0][e.y])+1,C=Number(n[0][e.z])+1;for(let q=0;q<n.length;q++){const B=Number(n[q][e.x])-L,Y=Number(n[q][e.y])-z,I=Number(n[q][e.z])-C;uS.position.set(B,I,-Y),uS.updateMatrix(),(F=m.current)==null||F.setMatrixAt(q+1,uS.matrix)}(H=m.current)!=null&&H.instanceMatrix&&(m.current.instanceMatrix.needsUpdate=!0)},[n,e]);const x=l==="y"?{position:[0,0,s-p+1]}:{position:[c-i-1,0,0],rotation:[0,Math.PI/2,0]},w=new al,S=l==="y"?w.setComponents(0,0,p-s-1||.5,1):w.setComponents(i-c+1||.5,0,0,1);return nn(Sl,{children:[a&&ze(Wae,{...x}),nn("instancedMesh",{ref:m,args:[,,n.length+1],"scale-y":o,children:[ze("boxBufferGeometry",{args:[(M=e==null?void 0:e.dimension)==null?void 0:M.x,(T=e==null?void 0:e.dimension)==null?void 0:T.z,(A=e==null?void 0:e.dimension)==null?void 0:A.y],children:ze("instancedBufferAttribute",{attachObject:["attributes","color"],args:[y,3]})}),ze("meshBasicMaterial",{depthWrite:!0,vertexColors:!0,toneMapped:!1,side:yo,clippingPlanes:a?[S]:null})]})]})}function Wae(n){const{opacity:e,color:t,active:r,height:i,width:s}=rx("Cross Section",{Helper:k5({active:!1,opacity:{value:.5,min:0,max:1,step:.1},color:"#ffffff",height:1e3,width:5e3})});return r?nn("mesh",{position:[0,0,0],scale:[s,i,1],...n,children:[ze("planeBufferGeometry",{}),ze("meshBasicMaterial",{color:t,side:oh,transparent:!0,opacity:e})]}):null}const Vae=["x","X","xcentre"],Gae=["y","Y","ycentre"],$ae=["z","Z","zcentre"],cS=(n,e)=>n.find(t=>e.includes(t))||"",jae=({data:n})=>{const e=Z.exports.useMemo(()=>(n==null?void 0:n.meta.fields)||[],[n]),t=rx("Block Model",{property:{value:"",options:e},colorscale:{value:"YlOrRd",options:Object.keys(dN.brewer)},x:{value:cS(Vae,e),options:e},y:{value:cS(Gae,e),options:e},z:{value:cS($ae,e),options:e},dimension:{value:{x:5,y:5,z:5},joystick:!1}}),{property:r}=t,i=Z.exports.useMemo(()=>{var s;return t.property?(s=n==null?void 0:n.data)==null?void 0:s.filter(o=>!!o[t.property]):n==null?void 0:n.data},[r,n]);return ze(Sl,{children:Object.keys(t).every(s=>!!t[s]||s==="property")&&ze(Hae,{data:i,mapping:t,arrow:n.meta.arrow})})};function qae({parsedData:n}){return nn(Sl,{children:[ze(WZ,{makeDefault:!0,position:[0,430,120],fov:75,near:10,far:5e5}),ze("ambientLight",{}),ze("directionalLight",{position:[150,150,150],intensity:.55}),ze(Z.exports.Suspense,{fallback:null,children:(n==null?void 0:n.data)&&ze(jae,{data:n})}),ze(VZ,{})]})}const Yae=async(n,e=".csv")=>{const t=await Vx(n,BJ),r=Object.keys(t).find(i=>i.endsWith(e));if(!r)throw"No CSV file found in the ZIP";return await u4(t[r],g4)},Xae=async n=>await u4(n,g4,{skipEmptyLines:!0});function Zae(){const[n,e]=Z.exports.useState(!1),[t,r]=Z.exports.useState(null),[i,s]=Z.exports.useState(!1),o=_=>{const y=Yee(_),x=y.schema.fields.map(w=>w.name);r({data:_,meta:{arrow:y,fields:x}})},a=async _=>{s(!0),r(null);const y=_.type;try{if(y==="text/csv"){const x=await Xae(_);o(x)}else if(y==="application/zip"){const x=await Yae(_);o(x)}}catch(x){console.error(x)}finally{s(!1)}},l=async _=>{_.target.value&&a(_.target.files[0])},c=()=>{location.reload()},p=_=>(_.stopPropagation(),_.preventDefault(),n||e(!0),!1),m=_=>{e(!1)},d=_=>{var x;_.preventDefault(),_.stopPropagation(),m();const y=_.dataTransfer.files;if(y.length>1)console.error("only 1 file can be handled.");else if(y.length)a(y[0]);else{const w=(x=_.dataTransfer)==null?void 0:x.getData("text/plain");console.log(w)}return!1},v=Z.exports.useMemo(()=>n?{opacity:"0.5",backgroundColor:"rgba(100, 100, 100, 0.5)"}:{},[n]);return ze(Sl,{children:nn("div",{style:{height:"100vh",...v},onDragEnter:p,onDragOver:p,onDrop:d,onDragLeave:m,children:[nn("div",{style:{position:"fixed",margin:"10px",bottom:0,zIndex:10,display:"grid",gap:"10px"},children:[ze("label",{htmlFor:"bm-file",children:"Choose a Block Model file:"}),ze("input",{type:"file",name:"bm-file",accept:"text/csv, application/zip",onChange:l}),ze("button",{onClick:c,children:"Clear"})]}),ze(GX,{onCreated:_=>_.gl.localClippingEnabled=!0,children:ze(qae,{parsedData:t})}),ze(jZ,{}),ze(lte,{isLoading:i})]})})}fS.createRoot(document.getElementById("root")).render(ze(Jt.StrictMode,{children:ze(Zae,{})}));
