function F7(n,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const B7=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}};B7();var mu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function K1(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Z={exports:{}},Jn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=Symbol.for("react.element"),N7=Symbol.for("react.portal"),z7=Symbol.for("react.fragment"),U7=Symbol.for("react.strict_mode"),V7=Symbol.for("react.profiler"),H7=Symbol.for("react.provider"),W7=Symbol.for("react.context"),G7=Symbol.for("react.forward_ref"),$7=Symbol.for("react.suspense"),j7=Symbol.for("react.memo"),Y7=Symbol.for("react.lazy"),OL=Symbol.iterator;function q7(n){return n===null||typeof n!="object"?null:(n=OL&&n[OL]||n["@@iterator"],typeof n=="function"?n:null)}var YF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qF=Object.assign,XF={};function Ly(n,t,e){this.props=n,this.context=t,this.refs=XF,this.updater=e||YF}Ly.prototype.isReactComponent={};Ly.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Ly.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ZF(){}ZF.prototype=Ly.prototype;function a3(n,t,e){this.props=n,this.context=t,this.refs=XF,this.updater=e||YF}var l3=a3.prototype=new ZF;l3.constructor=a3;qF(l3,Ly.prototype);l3.isPureReactComponent=!0;var FL=Array.isArray,KF=Object.prototype.hasOwnProperty,u3={current:null},JF={key:!0,ref:!0,__self:!0,__source:!0};function QF(n,t,e){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)KF.call(t,r)&&!JF.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:r1,type:n,key:s,ref:o,props:i,_owner:u3.current}}function X7(n,t){return{$$typeof:r1,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function c3(n){return typeof n=="object"&&n!==null&&n.$$typeof===r1}function Z7(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var BL=/\/+/g;function j2(n,t){return typeof n=="object"&&n!==null&&n.key!=null?Z7(""+n.key):t.toString(36)}function dx(n,t,e,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case r1:case N7:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+j2(o,0):r,FL(i)?(e="",n!=null&&(e=n.replace(BL,"$&/")+"/"),dx(i,t,e,"",function(u){return u})):i!=null&&(c3(i)&&(i=X7(i,e+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BL,"$&/")+"/")+n)),t.push(i)),1;if(o=0,r=r===""?".":r+":",FL(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+j2(s,a);o+=dx(s,t,e,l,i)}else if(l=q7(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+j2(s,a++),o+=dx(s,t,e,l,i);else if(s==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function J1(n,t,e){if(n==null)return n;var r=[],i=0;return dx(n,r,"","",function(s){return t.call(e,s,i++)}),r}function K7(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Oo={current:null},px={transition:null},J7={ReactCurrentDispatcher:Oo,ReactCurrentBatchConfig:px,ReactCurrentOwner:u3};Jn.Children={map:J1,forEach:function(n,t,e){J1(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return J1(n,function(){t++}),t},toArray:function(n){return J1(n,function(t){return t})||[]},only:function(n){if(!c3(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Jn.Component=Ly;Jn.Fragment=z7;Jn.Profiler=V7;Jn.PureComponent=a3;Jn.StrictMode=U7;Jn.Suspense=$7;Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J7;Jn.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=qF({},n.props),i=n.key,s=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=u3.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in t)KF.call(t,l)&&!JF.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:r1,type:n.type,key:i,ref:s,props:r,_owner:o}};Jn.createContext=function(n){return n={$$typeof:W7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:H7,_context:n},n.Consumer=n};Jn.createElement=QF;Jn.createFactory=function(n){var t=QF.bind(null,n);return t.type=n,t};Jn.createRef=function(){return{current:null}};Jn.forwardRef=function(n){return{$$typeof:G7,render:n}};Jn.isValidElement=c3;Jn.lazy=function(n){return{$$typeof:Y7,_payload:{_status:-1,_result:n},_init:K7}};Jn.memo=function(n,t){return{$$typeof:j7,type:n,compare:t===void 0?null:t}};Jn.startTransition=function(n){var t=px.transition;px.transition={};try{n()}finally{px.transition=t}};Jn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Jn.useCallback=function(n,t){return Oo.current.useCallback(n,t)};Jn.useContext=function(n){return Oo.current.useContext(n)};Jn.useDebugValue=function(){};Jn.useDeferredValue=function(n){return Oo.current.useDeferredValue(n)};Jn.useEffect=function(n,t){return Oo.current.useEffect(n,t)};Jn.useId=function(){return Oo.current.useId()};Jn.useImperativeHandle=function(n,t,e){return Oo.current.useImperativeHandle(n,t,e)};Jn.useInsertionEffect=function(n,t){return Oo.current.useInsertionEffect(n,t)};Jn.useLayoutEffect=function(n,t){return Oo.current.useLayoutEffect(n,t)};Jn.useMemo=function(n,t){return Oo.current.useMemo(n,t)};Jn.useReducer=function(n,t,e){return Oo.current.useReducer(n,t,e)};Jn.useRef=function(n){return Oo.current.useRef(n)};Jn.useState=function(n){return Oo.current.useState(n)};Jn.useSyncExternalStore=function(n,t,e){return Oo.current.useSyncExternalStore(n,t,e)};Jn.useTransition=function(){return Oo.current.useTransition()};Jn.version="18.2.0";Z.exports=Jn;var nn=Z.exports,Q7=F7({__proto__:null,default:nn},[Z.exports]),kM={},f3={exports:{}},qa={},tB={exports:{}},eB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(at,it){var ut=at.length;at.push(it);t:for(;0<ut;){var j=ut-1>>>1,K=at[j];if(0<i(K,it))at[j]=it,at[ut]=K,ut=j;else break t}}function e(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var it=at[0],ut=at.pop();if(ut!==it){at[0]=ut;t:for(var j=0,K=at.length,xt=K>>>1;j<xt;){var Lt=2*(j+1)-1,Pt=at[Lt],Ot=Lt+1,Ee=at[Ot];if(0>i(Pt,ut))Ot<K&&0>i(Ee,Pt)?(at[j]=Ee,at[Ot]=ut,j=Ot):(at[j]=Pt,at[Lt]=ut,j=Lt);else if(Ot<K&&0>i(Ee,ut))at[j]=Ee,at[Ot]=ut,j=Ot;else break t}}return it}function i(at,it){var ut=at.sortIndex-it.sortIndex;return ut!==0?ut:at.id-it.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,m=null,d=3,y=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(at){for(var it=e(u);it!==null;){if(it.callback===null)r(u);else if(it.startTime<=at)r(u),it.sortIndex=it.expirationTime,t(l,it);else break;it=e(u)}}function T(at){if(v=!1,M(at),!_)if(e(l)!==null)_=!0,ct(A);else{var it=e(u);it!==null&&lt(T,it.startTime-at)}}function A(at,it){_=!1,v&&(v=!1,x(C),C=-1),y=!0;var ut=d;try{for(M(it),m=e(l);m!==null&&(!(m.expirationTime>it)||at&&!Y());){var j=m.callback;if(typeof j=="function"){m.callback=null,d=m.priorityLevel;var K=j(m.expirationTime<=it);it=n.unstable_now(),typeof K=="function"?m.callback=K:m===e(l)&&r(l),M(it)}else r(l);m=e(l)}if(m!==null)var xt=!0;else{var Lt=e(u);Lt!==null&&lt(T,Lt.startTime-it),xt=!1}return xt}finally{m=null,d=ut,y=!1}}var P=!1,F=null,C=-1,B=5,V=-1;function Y(){return!(n.unstable_now()-V<B)}function z(){if(F!==null){var at=n.unstable_now();V=at;var it=!0;try{it=F(!0,at)}finally{it?q():(P=!1,F=null)}}else P=!1}var q;if(typeof S=="function")q=function(){S(z)};else if(typeof MessageChannel!="undefined"){var L=new MessageChannel,tt=L.port2;L.port1.onmessage=z,q=function(){tt.postMessage(null)}}else q=function(){w(z,0)};function ct(at){F=at,P||(P=!0,q())}function lt(at,it){C=w(function(){at(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_continueExecution=function(){_||y||(_=!0,ct(A))},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(at){switch(d){case 1:case 2:case 3:var it=3;break;default:it=d}var ut=d;d=it;try{return at()}finally{d=ut}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(at,it){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ut=d;d=at;try{return it()}finally{d=ut}},n.unstable_scheduleCallback=function(at,it,ut){var j=n.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?j+ut:j):ut=j,at){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ut+K,at={id:h++,callback:it,priorityLevel:at,startTime:ut,expirationTime:K,sortIndex:-1},ut>j?(at.sortIndex=ut,t(u,at),e(l)===null&&at===e(u)&&(v?(x(C),C=-1):v=!0,lt(T,ut-j))):(at.sortIndex=K,t(l,at),_||y||(_=!0,ct(A))),at},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(at){var it=d;return function(){var ut=d;d=it;try{return at.apply(this,arguments)}finally{d=ut}}}})(eB);tB.exports=eB;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nB=Z.exports,Wa=tB.exports;function de(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rB=new Set,u_={};function Jm(n,t){Z0(n,t),Z0(n+"Capture",t)}function Z0(n,t){for(u_[n]=t,n=0;n<t.length;n++)rB.add(t[n])}var qf=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),OM=Object.prototype.hasOwnProperty,tj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NL={},zL={};function ej(n){return OM.call(zL,n)?!0:OM.call(NL,n)?!1:tj.test(n)?zL[n]=!0:(NL[n]=!0,!1)}function nj(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function rj(n,t,e,r){if(t===null||typeof t=="undefined"||nj(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fo(n,t,e,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Us[n]=new Fo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Us[t]=new Fo(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Us[n]=new Fo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Us[n]=new Fo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Us[n]=new Fo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Us[n]=new Fo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Us[n]=new Fo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Us[n]=new Fo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Us[n]=new Fo(n,5,!1,n.toLowerCase(),null,!1,!1)});var h3=/[\-:]([a-z])/g;function d3(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(h3,d3);Us[t]=new Fo(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(h3,d3);Us[t]=new Fo(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(h3,d3);Us[t]=new Fo(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Us[n]=new Fo(n,1,!1,n.toLowerCase(),null,!1,!1)});Us.xlinkHref=new Fo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Us[n]=new Fo(n,1,!1,n.toLowerCase(),null,!0,!0)});function p3(n,t,e,r){var i=Us.hasOwnProperty(t)?Us[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rj(t,e,i,r)&&(e=null),r||i===null?ej(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var ih=nB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q1=Symbol.for("react.element"),y0=Symbol.for("react.portal"),v0=Symbol.for("react.fragment"),m3=Symbol.for("react.strict_mode"),FM=Symbol.for("react.profiler"),iB=Symbol.for("react.provider"),sB=Symbol.for("react.context"),g3=Symbol.for("react.forward_ref"),BM=Symbol.for("react.suspense"),NM=Symbol.for("react.suspense_list"),y3=Symbol.for("react.memo"),cd=Symbol.for("react.lazy"),oB=Symbol.for("react.offscreen"),UL=Symbol.iterator;function dv(n){return n===null||typeof n!="object"?null:(n=UL&&n[UL]||n["@@iterator"],typeof n=="function"?n:null)}var xi=Object.assign,Y2;function Bv(n){if(Y2===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Y2=t&&t[1]||""}return`
`+Y2+n}var q2=!1;function X2(n,t){if(!n||q2)return"";q2=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){r=u}n.call(t.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{q2=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Bv(n):""}function ij(n){switch(n.tag){case 5:return Bv(n.type);case 16:return Bv("Lazy");case 13:return Bv("Suspense");case 19:return Bv("SuspenseList");case 0:case 2:case 15:return n=X2(n.type,!1),n;case 11:return n=X2(n.type.render,!1),n;case 1:return n=X2(n.type,!0),n;default:return""}}function zM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case v0:return"Fragment";case y0:return"Portal";case FM:return"Profiler";case m3:return"StrictMode";case BM:return"Suspense";case NM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case sB:return(n.displayName||"Context")+".Consumer";case iB:return(n._context.displayName||"Context")+".Provider";case g3:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case y3:return t=n.displayName||null,t!==null?t:zM(n.type)||"Memo";case cd:t=n._payload,n=n._init;try{return zM(n(t))}catch{}}return null}function sj(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zM(t);case 8:return t===m3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function aB(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oj(n){var t=aB(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e!="undefined"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,s=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function tw(n){n._valueTracker||(n._valueTracker=oj(n))}function lB(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=aB(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function zx(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function UM(n,t){var e=t.checked;return xi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e!=null?e:n._wrapperState.initialChecked})}function VL(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=kd(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uB(n,t){t=t.checked,t!=null&&p3(n,"checked",t,!1)}function VM(n,t){uB(n,t);var e=kd(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?HM(n,t.type,e):t.hasOwnProperty("defaultValue")&&HM(n,t.type,kd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function HL(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function HM(n,t,e){(t!=="number"||zx(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Nv=Array.isArray;function O0(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+kd(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function WM(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return xi({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function WL(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(de(92));if(Nv(e)){if(1<e.length)throw Error(de(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:kd(e)}}function cB(n,t){var e=kd(t.value),r=kd(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function GL(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function fB(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GM(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?fB(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ew,hB=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(ew=ew||document.createElement("div"),ew.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ew.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function c_(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Wv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aj=["Webkit","ms","Moz","O"];Object.keys(Wv).forEach(function(n){aj.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Wv[t]=Wv[n]})});function dB(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Wv.hasOwnProperty(n)&&Wv[n]?(""+t).trim():t+"px"}function pB(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=dB(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var lj=xi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $M(n,t){if(t){if(lj[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function jM(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YM=null;function v3(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qM=null,F0=null,B0=null;function $L(n){if(n=o1(n)){if(typeof qM!="function")throw Error(de(280));var t=n.stateNode;t&&(t=uS(t),qM(n.stateNode,n.type,t))}}function mB(n){F0?B0?B0.push(n):B0=[n]:F0=n}function gB(){if(F0){var n=F0,t=B0;if(B0=F0=null,$L(n),t)for(n=0;n<t.length;n++)$L(t[n])}}function yB(n,t){return n(t)}function vB(){}var Z2=!1;function _B(n,t,e){if(Z2)return n(t,e);Z2=!0;try{return yB(n,t,e)}finally{Z2=!1,(F0!==null||B0!==null)&&(vB(),gB())}}function f_(n,t){var e=n.stateNode;if(e===null)return null;var r=uS(e);if(r===null)return null;e=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(de(231,t,typeof e));return e}var XM=!1;if(qf)try{var pv={};Object.defineProperty(pv,"passive",{get:function(){XM=!0}}),window.addEventListener("test",pv,pv),window.removeEventListener("test",pv,pv)}catch{XM=!1}function uj(n,t,e,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(h){this.onError(h)}}var Gv=!1,Ux=null,Vx=!1,ZM=null,cj={onError:function(n){Gv=!0,Ux=n}};function fj(n,t,e,r,i,s,o,a,l){Gv=!1,Ux=null,uj.apply(cj,arguments)}function hj(n,t,e,r,i,s,o,a,l){if(fj.apply(this,arguments),Gv){if(Gv){var u=Ux;Gv=!1,Ux=null}else throw Error(de(198));Vx||(Vx=!0,ZM=u)}}function Qm(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,(t.flags&4098)!==0&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function wB(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function jL(n){if(Qm(n)!==n)throw Error(de(188))}function dj(n){var t=n.alternate;if(!t){if(t=Qm(n),t===null)throw Error(de(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===e)return jL(i),n;if(s===r)return jL(i),t;s=s.sibling}throw Error(de(188))}if(e.return!==r.return)e=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===e){o=!0,e=i,r=s;break}if(a===r){o=!0,r=i,e=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===e){o=!0,e=s,r=i;break}if(a===r){o=!0,r=s,e=i;break}a=a.sibling}if(!o)throw Error(de(189))}}if(e.alternate!==r)throw Error(de(190))}if(e.tag!==3)throw Error(de(188));return e.stateNode.current===e?n:t}function xB(n){return n=dj(n),n!==null?bB(n):null}function bB(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=bB(n);if(t!==null)return t;n=n.sibling}return null}var SB=Wa.unstable_scheduleCallback,YL=Wa.unstable_cancelCallback,pj=Wa.unstable_shouldYield,mj=Wa.unstable_requestPaint,zi=Wa.unstable_now,gj=Wa.unstable_getCurrentPriorityLevel,_3=Wa.unstable_ImmediatePriority,EB=Wa.unstable_UserBlockingPriority,Hx=Wa.unstable_NormalPriority,yj=Wa.unstable_LowPriority,MB=Wa.unstable_IdlePriority,sS=null,vc=null;function vj(n){if(vc&&typeof vc.onCommitFiberRoot=="function")try{vc.onCommitFiberRoot(sS,n,void 0,(n.current.flags&128)===128)}catch{}}var vu=Math.clz32?Math.clz32:xj,_j=Math.log,wj=Math.LN2;function xj(n){return n>>>=0,n===0?32:31-(_j(n)/wj|0)|0}var nw=64,rw=4194304;function zv(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wx(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=e&268435455;if(o!==0){var a=o&~i;a!==0?r=zv(a):(s&=o,s!==0&&(r=zv(s)))}else o=e&~i,o!==0?r=zv(o):s!==0&&(r=zv(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-vu(t),i=1<<e,r|=n[e],t&=~i;return r}function bj(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sj(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-vu(s),a=1<<o,l=i[o];l===-1?((a&e)===0||(a&r)!==0)&&(i[o]=bj(a,t)):l<=t&&(n.expiredLanes|=a),s&=~a}}function KM(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function TB(){var n=nw;return nw<<=1,(nw&4194240)===0&&(nw=64),n}function K2(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function i1(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-vu(t),n[t]=e}function Ej(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-vu(e),s=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~s}}function w3(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-vu(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var Pr=0;function AB(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var CB,x3,IB,RB,LB,JM=!1,iw=[],xd=null,bd=null,Sd=null,h_=new Map,d_=new Map,dd=[],Mj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qL(n,t){switch(n){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":bd=null;break;case"mouseover":case"mouseout":Sd=null;break;case"pointerover":case"pointerout":h_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":d_.delete(t.pointerId)}}function mv(n,t,e,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=o1(t),t!==null&&x3(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function Tj(n,t,e,r,i){switch(t){case"focusin":return xd=mv(xd,n,t,e,r,i),!0;case"dragenter":return bd=mv(bd,n,t,e,r,i),!0;case"mouseover":return Sd=mv(Sd,n,t,e,r,i),!0;case"pointerover":var s=i.pointerId;return h_.set(s,mv(h_.get(s)||null,n,t,e,r,i)),!0;case"gotpointercapture":return s=i.pointerId,d_.set(s,mv(d_.get(s)||null,n,t,e,r,i)),!0}return!1}function PB(n){var t=sm(n.target);if(t!==null){var e=Qm(t);if(e!==null){if(t=e.tag,t===13){if(t=wB(e),t!==null){n.blockedOn=t,LB(n.priority,function(){IB(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mx(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=QM(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);YM=r,e.target.dispatchEvent(r),YM=null}else return t=o1(e),t!==null&&x3(t),n.blockedOn=e,!1;t.shift()}return!0}function XL(n,t,e){mx(n)&&e.delete(t)}function Aj(){JM=!1,xd!==null&&mx(xd)&&(xd=null),bd!==null&&mx(bd)&&(bd=null),Sd!==null&&mx(Sd)&&(Sd=null),h_.forEach(XL),d_.forEach(XL)}function gv(n,t){n.blockedOn===t&&(n.blockedOn=null,JM||(JM=!0,Wa.unstable_scheduleCallback(Wa.unstable_NormalPriority,Aj)))}function p_(n){function t(i){return gv(i,n)}if(0<iw.length){gv(iw[0],n);for(var e=1;e<iw.length;e++){var r=iw[e];r.blockedOn===n&&(r.blockedOn=null)}}for(xd!==null&&gv(xd,n),bd!==null&&gv(bd,n),Sd!==null&&gv(Sd,n),h_.forEach(t),d_.forEach(t),e=0;e<dd.length;e++)r=dd[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<dd.length&&(e=dd[0],e.blockedOn===null);)PB(e),e.blockedOn===null&&dd.shift()}var N0=ih.ReactCurrentBatchConfig,Gx=!0;function Cj(n,t,e,r){var i=Pr,s=N0.transition;N0.transition=null;try{Pr=1,b3(n,t,e,r)}finally{Pr=i,N0.transition=s}}function Ij(n,t,e,r){var i=Pr,s=N0.transition;N0.transition=null;try{Pr=4,b3(n,t,e,r)}finally{Pr=i,N0.transition=s}}function b3(n,t,e,r){if(Gx){var i=QM(n,t,e,r);if(i===null)aE(n,t,r,$x,e),qL(n,r);else if(Tj(i,n,t,e,r))r.stopPropagation();else if(qL(n,r),t&4&&-1<Mj.indexOf(n)){for(;i!==null;){var s=o1(i);if(s!==null&&CB(s),s=QM(n,t,e,r),s===null&&aE(n,t,r,$x,e),s===i)break;i=s}i!==null&&r.stopPropagation()}else aE(n,t,r,null,e)}}var $x=null;function QM(n,t,e,r){if($x=null,n=v3(r),n=sm(n),n!==null)if(t=Qm(n),t===null)n=null;else if(e=t.tag,e===13){if(n=wB(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return $x=n,null}function DB(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gj()){case _3:return 1;case EB:return 4;case Hx:case yj:return 16;case MB:return 536870912;default:return 16}default:return 16}}var md=null,S3=null,gx=null;function kB(){if(gx)return gx;var n,t=S3,e=t.length,r,i="value"in md?md.value:md.textContent,s=i.length;for(n=0;n<e&&t[n]===i[n];n++);var o=e-n;for(r=1;r<=o&&t[e-r]===i[s-r];r++);return gx=i.slice(n,1<r?1-r:void 0)}function yx(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function sw(){return!0}function ZL(){return!1}function Xa(n){function t(e,r,i,s,o){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sw:ZL,this.isPropagationStopped=ZL,this}return xi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=sw)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=sw)},persist:function(){},isPersistent:sw}),t}var Py={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E3=Xa(Py),s1=xi({},Py,{view:0,detail:0}),Rj=Xa(s1),J2,Q2,yv,oS=xi({},s1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M3,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yv&&(yv&&n.type==="mousemove"?(J2=n.screenX-yv.screenX,Q2=n.screenY-yv.screenY):Q2=J2=0,yv=n),J2)},movementY:function(n){return"movementY"in n?n.movementY:Q2}}),KL=Xa(oS),Lj=xi({},oS,{dataTransfer:0}),Pj=Xa(Lj),Dj=xi({},s1,{relatedTarget:0}),tE=Xa(Dj),kj=xi({},Py,{animationName:0,elapsedTime:0,pseudoElement:0}),Oj=Xa(kj),Fj=xi({},Py,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bj=Xa(Fj),Nj=xi({},Py,{data:0}),JL=Xa(Nj),zj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hj(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Vj[n])?!!t[n]:!1}function M3(){return Hj}var Wj=xi({},s1,{key:function(n){if(n.key){var t=zj[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=yx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M3,charCode:function(n){return n.type==="keypress"?yx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Gj=Xa(Wj),$j=xi({},oS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QL=Xa($j),jj=xi({},s1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M3}),Yj=Xa(jj),qj=xi({},Py,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xj=Xa(qj),Zj=xi({},oS,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kj=Xa(Zj),Jj=[9,13,27,32],T3=qf&&"CompositionEvent"in window,$v=null;qf&&"documentMode"in document&&($v=document.documentMode);var Qj=qf&&"TextEvent"in window&&!$v,OB=qf&&(!T3||$v&&8<$v&&11>=$v),tP=String.fromCharCode(32),eP=!1;function FB(n,t){switch(n){case"keyup":return Jj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BB(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _0=!1;function tY(n,t){switch(n){case"compositionend":return BB(t);case"keypress":return t.which!==32?null:(eP=!0,tP);case"textInput":return n=t.data,n===tP&&eP?null:n;default:return null}}function eY(n,t){if(_0)return n==="compositionend"||!T3&&FB(n,t)?(n=kB(),gx=S3=md=null,_0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OB&&t.locale!=="ko"?null:t.data;default:return null}}var nY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nP(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!nY[n.type]:t==="textarea"}function NB(n,t,e,r){mB(r),t=jx(t,"onChange"),0<t.length&&(e=new E3("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var jv=null,m_=null;function rY(n){XB(n,0)}function aS(n){var t=b0(n);if(lB(t))return n}function iY(n,t){if(n==="change")return t}var zB=!1;if(qf){var eE;if(qf){var nE="oninput"in document;if(!nE){var rP=document.createElement("div");rP.setAttribute("oninput","return;"),nE=typeof rP.oninput=="function"}eE=nE}else eE=!1;zB=eE&&(!document.documentMode||9<document.documentMode)}function iP(){jv&&(jv.detachEvent("onpropertychange",UB),m_=jv=null)}function UB(n){if(n.propertyName==="value"&&aS(m_)){var t=[];NB(t,m_,n,v3(n)),_B(rY,t)}}function sY(n,t,e){n==="focusin"?(iP(),jv=t,m_=e,jv.attachEvent("onpropertychange",UB)):n==="focusout"&&iP()}function oY(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return aS(m_)}function aY(n,t){if(n==="click")return aS(t)}function lY(n,t){if(n==="input"||n==="change")return aS(t)}function uY(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Su=typeof Object.is=="function"?Object.is:uY;function g_(n,t){if(Su(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!OM.call(t,i)||!Su(n[i],t[i]))return!1}return!0}function sP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oP(n,t){var e=sP(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=sP(e)}}function VB(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?VB(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function HB(){for(var n=window,t=zx();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=zx(n.document)}return t}function A3(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function cY(n){var t=HB(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&VB(e.ownerDocument.documentElement,e)){if(r!==null&&A3(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=oP(e,s);var o=oP(e,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fY=qf&&"documentMode"in document&&11>=document.documentMode,w0=null,tT=null,Yv=null,eT=!1;function aP(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;eT||w0==null||w0!==zx(r)||(r=w0,"selectionStart"in r&&A3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yv&&g_(Yv,r)||(Yv=r,r=jx(tT,"onSelect"),0<r.length&&(t=new E3("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=w0)))}function ow(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var x0={animationend:ow("Animation","AnimationEnd"),animationiteration:ow("Animation","AnimationIteration"),animationstart:ow("Animation","AnimationStart"),transitionend:ow("Transition","TransitionEnd")},rE={},WB={};qf&&(WB=document.createElement("div").style,"AnimationEvent"in window||(delete x0.animationend.animation,delete x0.animationiteration.animation,delete x0.animationstart.animation),"TransitionEvent"in window||delete x0.transitionend.transition);function lS(n){if(rE[n])return rE[n];if(!x0[n])return n;var t=x0[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in WB)return rE[n]=t[e];return n}var GB=lS("animationend"),$B=lS("animationiteration"),jB=lS("animationstart"),YB=lS("transitionend"),qB=new Map,lP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qd(n,t){qB.set(n,t),Jm(t,[n])}for(var iE=0;iE<lP.length;iE++){var sE=lP[iE],hY=sE.toLowerCase(),dY=sE[0].toUpperCase()+sE.slice(1);qd(hY,"on"+dY)}qd(GB,"onAnimationEnd");qd($B,"onAnimationIteration");qd(jB,"onAnimationStart");qd("dblclick","onDoubleClick");qd("focusin","onFocus");qd("focusout","onBlur");qd(YB,"onTransitionEnd");Z0("onMouseEnter",["mouseout","mouseover"]);Z0("onMouseLeave",["mouseout","mouseover"]);Z0("onPointerEnter",["pointerout","pointerover"]);Z0("onPointerLeave",["pointerout","pointerover"]);Jm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uv));function uP(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,hj(r,t,void 0,n),n.currentTarget=null}function XB(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;uP(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;uP(i,a,u),s=l}}}if(Vx)throw n=ZM,Vx=!1,ZM=null,n}function Qr(n,t){var e=t[oT];e===void 0&&(e=t[oT]=new Set);var r=n+"__bubble";e.has(r)||(ZB(t,n,2,!1),e.add(r))}function oE(n,t,e){var r=0;t&&(r|=4),ZB(e,n,r,t)}var aw="_reactListening"+Math.random().toString(36).slice(2);function y_(n){if(!n[aw]){n[aw]=!0,rB.forEach(function(e){e!=="selectionchange"&&(pY.has(e)||oE(e,!1,n),oE(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[aw]||(t[aw]=!0,oE("selectionchange",!1,t))}}function ZB(n,t,e,r){switch(DB(t)){case 1:var i=Cj;break;case 4:i=Ij;break;default:i=b3}e=i.bind(null,t,e,n),i=void 0,!XM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function aE(n,t,e,r,i){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sm(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue t}a=a.parentNode}}r=r.return}_B(function(){var u=s,h=v3(e),m=[];t:{var d=qB.get(n);if(d!==void 0){var y=E3,_=n;switch(n){case"keypress":if(yx(e)===0)break t;case"keydown":case"keyup":y=Gj;break;case"focusin":_="focus",y=tE;break;case"focusout":_="blur",y=tE;break;case"beforeblur":case"afterblur":y=tE;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=KL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Pj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Yj;break;case GB:case $B:case jB:y=Oj;break;case YB:y=Xj;break;case"scroll":y=Rj;break;case"wheel":y=Kj;break;case"copy":case"cut":case"paste":y=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=QL}var v=(t&4)!==0,w=!v&&n==="scroll",x=v?d!==null?d+"Capture":null:d;v=[];for(var S=u,M;S!==null;){M=S;var T=M.stateNode;if(M.tag===5&&T!==null&&(M=T,x!==null&&(T=f_(S,x),T!=null&&v.push(v_(S,T,M)))),w)break;S=S.return}0<v.length&&(d=new y(d,_,null,e,h),m.push({event:d,listeners:v}))}}if((t&7)===0){t:{if(d=n==="mouseover"||n==="pointerover",y=n==="mouseout"||n==="pointerout",d&&e!==YM&&(_=e.relatedTarget||e.fromElement)&&(sm(_)||_[Xf]))break t;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(_=e.relatedTarget||e.toElement,y=u,_=_?sm(_):null,_!==null&&(w=Qm(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(v=KL,T="onMouseLeave",x="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(v=QL,T="onPointerLeave",x="onPointerEnter",S="pointer"),w=y==null?d:b0(y),M=_==null?d:b0(_),d=new v(T,S+"leave",y,e,h),d.target=w,d.relatedTarget=M,T=null,sm(h)===u&&(v=new v(x,S+"enter",_,e,h),v.target=M,v.relatedTarget=w,T=v),w=T,y&&_)e:{for(v=y,x=_,S=0,M=v;M;M=Hg(M))S++;for(M=0,T=x;T;T=Hg(T))M++;for(;0<S-M;)v=Hg(v),S--;for(;0<M-S;)x=Hg(x),M--;for(;S--;){if(v===x||x!==null&&v===x.alternate)break e;v=Hg(v),x=Hg(x)}v=null}else v=null;y!==null&&cP(m,d,y,v,!1),_!==null&&w!==null&&cP(m,w,_,v,!0)}}t:{if(d=u?b0(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var A=iY;else if(nP(d))if(zB)A=lY;else{A=oY;var P=sY}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=aY);if(A&&(A=A(n,u))){NB(m,A,e,h);break t}P&&P(n,d,u),n==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&HM(d,"number",d.value)}switch(P=u?b0(u):window,n){case"focusin":(nP(P)||P.contentEditable==="true")&&(w0=P,tT=u,Yv=null);break;case"focusout":Yv=tT=w0=null;break;case"mousedown":eT=!0;break;case"contextmenu":case"mouseup":case"dragend":eT=!1,aP(m,e,h);break;case"selectionchange":if(fY)break;case"keydown":case"keyup":aP(m,e,h)}var F;if(T3)t:{switch(n){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else _0?FB(n,e)&&(C="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(C="onCompositionStart");C&&(OB&&e.locale!=="ko"&&(_0||C!=="onCompositionStart"?C==="onCompositionEnd"&&_0&&(F=kB()):(md=h,S3="value"in md?md.value:md.textContent,_0=!0)),P=jx(u,C),0<P.length&&(C=new JL(C,n,null,e,h),m.push({event:C,listeners:P}),F?C.data=F:(F=BB(e),F!==null&&(C.data=F)))),(F=Qj?tY(n,e):eY(n,e))&&(u=jx(u,"onBeforeInput"),0<u.length&&(h=new JL("onBeforeInput","beforeinput",null,e,h),m.push({event:h,listeners:u}),h.data=F))}XB(m,t)})}function v_(n,t,e){return{instance:n,listener:t,currentTarget:e}}function jx(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=f_(n,e),s!=null&&r.unshift(v_(n,s,i)),s=f_(n,t),s!=null&&r.push(v_(n,s,i))),n=n.return}return r}function Hg(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cP(n,t,e,r,i){for(var s=t._reactName,o=[];e!==null&&e!==r;){var a=e,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=f_(e,s),l!=null&&o.unshift(v_(e,l,a))):i||(l=f_(e,s),l!=null&&o.push(v_(e,l,a)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var mY=/\r\n?/g,gY=/\u0000|\uFFFD/g;function fP(n){return(typeof n=="string"?n:""+n).replace(mY,`
`).replace(gY,"")}function lw(n,t,e){if(t=fP(t),fP(n)!==t&&e)throw Error(de(425))}function Yx(){}var nT=null,rT=null;function iT(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sT=typeof setTimeout=="function"?setTimeout:void 0,yY=typeof clearTimeout=="function"?clearTimeout:void 0,hP=typeof Promise=="function"?Promise:void 0,vY=typeof queueMicrotask=="function"?queueMicrotask:typeof hP!="undefined"?function(n){return hP.resolve(null).then(n).catch(_Y)}:sT;function _Y(n){setTimeout(function(){throw n})}function lE(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),p_(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);p_(t)}function Ed(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function dP(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Dy=Math.random().toString(36).slice(2),uc="__reactFiber$"+Dy,__="__reactProps$"+Dy,Xf="__reactContainer$"+Dy,oT="__reactEvents$"+Dy,wY="__reactListeners$"+Dy,xY="__reactHandles$"+Dy;function sm(n){var t=n[uc];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Xf]||e[uc]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=dP(n);n!==null;){if(e=n[uc])return e;n=dP(n)}return t}n=e,e=n.parentNode}return null}function o1(n){return n=n[uc]||n[Xf],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function b0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(de(33))}function uS(n){return n[__]||null}var aT=[],S0=-1;function Xd(n){return{current:n}}function ri(n){0>S0||(n.current=aT[S0],aT[S0]=null,S0--)}function jr(n,t){S0++,aT[S0]=n.current,n.current=t}var Od={},so=Xd(Od),sa=Xd(!1),Rm=Od;function K0(n,t){var e=n.type.contextTypes;if(!e)return Od;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in e)i[s]=t[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function oa(n){return n=n.childContextTypes,n!=null}function qx(){ri(sa),ri(so)}function pP(n,t,e){if(so.current!==Od)throw Error(de(168));jr(so,t),jr(sa,e)}function KB(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(de(108,sj(n)||"Unknown",i));return xi({},e,r)}function Xx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Od,Rm=so.current,jr(so,n),jr(sa,sa.current),!0}function mP(n,t,e){var r=n.stateNode;if(!r)throw Error(de(169));e?(n=KB(n,t,Rm),r.__reactInternalMemoizedMergedChildContext=n,ri(sa),ri(so),jr(so,n)):ri(sa),jr(sa,e)}var Bf=null,cS=!1,uE=!1;function JB(n){Bf===null?Bf=[n]:Bf.push(n)}function bY(n){cS=!0,JB(n)}function Zd(){if(!uE&&Bf!==null){uE=!0;var n=0,t=Pr;try{var e=Bf;for(Pr=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Bf=null,cS=!1}catch(i){throw Bf!==null&&(Bf=Bf.slice(n+1)),SB(_3,Zd),i}finally{Pr=t,uE=!1}}return null}var E0=[],M0=0,Zx=null,Kx=0,ll=[],ul=0,Lm=null,Vf=1,Hf="";function Qp(n,t){E0[M0++]=Kx,E0[M0++]=Zx,Zx=n,Kx=t}function QB(n,t,e){ll[ul++]=Vf,ll[ul++]=Hf,ll[ul++]=Lm,Lm=n;var r=Vf;n=Hf;var i=32-vu(r)-1;r&=~(1<<i),e+=1;var s=32-vu(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vf=1<<32-vu(t)+i|e<<i|r,Hf=s+n}else Vf=1<<s|e<<i|r,Hf=n}function C3(n){n.return!==null&&(Qp(n,1),QB(n,1,0))}function I3(n){for(;n===Zx;)Zx=E0[--M0],E0[M0]=null,Kx=E0[--M0],E0[M0]=null;for(;n===Lm;)Lm=ll[--ul],ll[ul]=null,Hf=ll[--ul],ll[ul]=null,Vf=ll[--ul],ll[ul]=null}var Va=null,za=null,oi=!1,fu=null;function tN(n,t){var e=ml(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function gP(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Va=n,za=Ed(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Va=n,za=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Lm!==null?{id:Vf,overflow:Hf}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=ml(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Va=n,za=null,!0):!1;default:return!1}}function lT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function uT(n){if(oi){var t=za;if(t){var e=t;if(!gP(n,t)){if(lT(n))throw Error(de(418));t=Ed(e.nextSibling);var r=Va;t&&gP(n,t)?tN(r,e):(n.flags=n.flags&-4097|2,oi=!1,Va=n)}}else{if(lT(n))throw Error(de(418));n.flags=n.flags&-4097|2,oi=!1,Va=n}}}function yP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Va=n}function uw(n){if(n!==Va)return!1;if(!oi)return yP(n),oi=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!iT(n.type,n.memoizedProps)),t&&(t=za)){if(lT(n))throw eN(),Error(de(418));for(;t;)tN(n,t),t=Ed(t.nextSibling)}if(yP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(de(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){za=Ed(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}za=null}}else za=Va?Ed(n.stateNode.nextSibling):null;return!0}function eN(){for(var n=za;n;)n=Ed(n.nextSibling)}function J0(){za=Va=null,oi=!1}function R3(n){fu===null?fu=[n]:fu.push(n)}var SY=ih.ReactCurrentBatchConfig;function lu(n,t){if(n&&n.defaultProps){t=xi({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var Jx=Xd(null),Qx=null,T0=null,L3=null;function P3(){L3=T0=Qx=null}function D3(n){var t=Jx.current;ri(Jx),n._currentValue=t}function cT(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function z0(n,t){Qx=n,L3=T0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&t)!==0&&(na=!0),n.firstContext=null)}function _l(n){var t=n._currentValue;if(L3!==n)if(n={context:n,memoizedValue:t,next:null},T0===null){if(Qx===null)throw Error(de(308));T0=n,Qx.dependencies={lanes:0,firstContext:n}}else T0=T0.next=n;return t}var om=null;function k3(n){om===null?om=[n]:om.push(n)}function nN(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,k3(t)):(e.next=i.next,i.next=e),t.interleaved=e,Zf(n,r)}function Zf(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var fd=!1;function O3(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rN(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $f(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Md(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(fr&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zf(n,e)}return i=r.interleaved,i===null?(t.next=t,k3(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zf(n,e)}function vx(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,w3(n,e)}}function vP(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?i=s=o:s=s.next=o,e=e.next}while(e!==null);s===null?i=s=t:s=s.next=t}else i=s=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function tb(n,t,e,r){var i=n.updateQueue;fd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,h=u=l=null,a=s;do{var d=a.lane,y=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var _=n,v=a;switch(d=t,y=e,v.tag){case 1:if(_=v.payload,typeof _=="function"){m=_.call(y,m,d);break t}m=_;break t;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(y,m,d):_,d==null)break t;m=xi({},m,d);break t;case 2:fd=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else y={eventTime:y,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,l=m):h=h.next=y,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Dm|=o,n.lanes=o,n.memoizedState=m}}function _P(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(de(191,i));i.call(r)}}}var iN=new nB.Component().refs;function fT(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:xi({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var fS={isMounted:function(n){return(n=n._reactInternals)?Qm(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Ro(),i=Ad(n),s=$f(r,i);s.payload=t,e!=null&&(s.callback=e),t=Md(n,s,i),t!==null&&(_u(t,n,i,r),vx(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Ro(),i=Ad(n),s=$f(r,i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=Md(n,s,i),t!==null&&(_u(t,n,i,r),vx(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Ro(),r=Ad(n),i=$f(e,r);i.tag=2,t!=null&&(i.callback=t),t=Md(n,i,r),t!==null&&(_u(t,n,r,e),vx(t,n,r))}};function wP(n,t,e,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!g_(e,r)||!g_(i,s):!0}function sN(n,t,e){var r=!1,i=Od,s=t.contextType;return typeof s=="object"&&s!==null?s=_l(s):(i=oa(t)?Rm:so.current,r=t.contextTypes,s=(r=r!=null)?K0(n,i):Od),t=new t(e,s),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fS,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),t}function xP(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&fS.enqueueReplaceState(t,t.state,null)}function hT(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs=iN,O3(n);var s=t.contextType;typeof s=="object"&&s!==null?i.context=_l(s):(s=oa(t)?Rm:so.current,i.context=K0(n,s)),i.state=n.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(fT(n,t,s,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fS.enqueueReplaceState(i,i.state,null),tb(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function vv(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(de(309));var r=e.stateNode}if(!r)throw Error(de(147,n));var i=r,s=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===iN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof n!="string")throw Error(de(284));if(!e._owner)throw Error(de(290,n))}return n}function cw(n,t){throw n=Object.prototype.toString.call(t),Error(de(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function bP(n){var t=n._init;return t(n._payload)}function oN(n){function t(x,S){if(n){var M=x.deletions;M===null?(x.deletions=[S],x.flags|=16):M.push(S)}}function e(x,S){if(!n)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=Cd(x,S),x.index=0,x.sibling=null,x}function s(x,S,M){return x.index=M,n?(M=x.alternate,M!==null?(M=M.index,M<S?(x.flags|=2,S):M):(x.flags|=2,S)):(x.flags|=1048576,S)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,S,M,T){return S===null||S.tag!==6?(S=gE(M,x.mode,T),S.return=x,S):(S=i(S,M),S.return=x,S)}function l(x,S,M,T){var A=M.type;return A===v0?h(x,S,M.props.children,T,M.key):S!==null&&(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===cd&&bP(A)===S.type)?(T=i(S,M.props),T.ref=vv(x,S,M),T.return=x,T):(T=Ex(M.type,M.key,M.props,null,x.mode,T),T.ref=vv(x,S,M),T.return=x,T)}function u(x,S,M,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=yE(M,x.mode,T),S.return=x,S):(S=i(S,M.children||[]),S.return=x,S)}function h(x,S,M,T,A){return S===null||S.tag!==7?(S=_m(M,x.mode,T,A),S.return=x,S):(S=i(S,M),S.return=x,S)}function m(x,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=gE(""+S,x.mode,M),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Q1:return M=Ex(S.type,S.key,S.props,null,x.mode,M),M.ref=vv(x,null,S),M.return=x,M;case y0:return S=yE(S,x.mode,M),S.return=x,S;case cd:var T=S._init;return m(x,T(S._payload),M)}if(Nv(S)||dv(S))return S=_m(S,x.mode,M,null),S.return=x,S;cw(x,S)}return null}function d(x,S,M,T){var A=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return A!==null?null:a(x,S,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q1:return M.key===A?l(x,S,M,T):null;case y0:return M.key===A?u(x,S,M,T):null;case cd:return A=M._init,d(x,S,A(M._payload),T)}if(Nv(M)||dv(M))return A!==null?null:h(x,S,M,T,null);cw(x,M)}return null}function y(x,S,M,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(M)||null,a(S,x,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Q1:return x=x.get(T.key===null?M:T.key)||null,l(S,x,T,A);case y0:return x=x.get(T.key===null?M:T.key)||null,u(S,x,T,A);case cd:var P=T._init;return y(x,S,M,P(T._payload),A)}if(Nv(T)||dv(T))return x=x.get(M)||null,h(S,x,T,A,null);cw(S,T)}return null}function _(x,S,M,T){for(var A=null,P=null,F=S,C=S=0,B=null;F!==null&&C<M.length;C++){F.index>C?(B=F,F=null):B=F.sibling;var V=d(x,F,M[C],T);if(V===null){F===null&&(F=B);break}n&&F&&V.alternate===null&&t(x,F),S=s(V,S,C),P===null?A=V:P.sibling=V,P=V,F=B}if(C===M.length)return e(x,F),oi&&Qp(x,C),A;if(F===null){for(;C<M.length;C++)F=m(x,M[C],T),F!==null&&(S=s(F,S,C),P===null?A=F:P.sibling=F,P=F);return oi&&Qp(x,C),A}for(F=r(x,F);C<M.length;C++)B=y(F,x,C,M[C],T),B!==null&&(n&&B.alternate!==null&&F.delete(B.key===null?C:B.key),S=s(B,S,C),P===null?A=B:P.sibling=B,P=B);return n&&F.forEach(function(Y){return t(x,Y)}),oi&&Qp(x,C),A}function v(x,S,M,T){var A=dv(M);if(typeof A!="function")throw Error(de(150));if(M=A.call(M),M==null)throw Error(de(151));for(var P=A=null,F=S,C=S=0,B=null,V=M.next();F!==null&&!V.done;C++,V=M.next()){F.index>C?(B=F,F=null):B=F.sibling;var Y=d(x,F,V.value,T);if(Y===null){F===null&&(F=B);break}n&&F&&Y.alternate===null&&t(x,F),S=s(Y,S,C),P===null?A=Y:P.sibling=Y,P=Y,F=B}if(V.done)return e(x,F),oi&&Qp(x,C),A;if(F===null){for(;!V.done;C++,V=M.next())V=m(x,V.value,T),V!==null&&(S=s(V,S,C),P===null?A=V:P.sibling=V,P=V);return oi&&Qp(x,C),A}for(F=r(x,F);!V.done;C++,V=M.next())V=y(F,x,C,V.value,T),V!==null&&(n&&V.alternate!==null&&F.delete(V.key===null?C:V.key),S=s(V,S,C),P===null?A=V:P.sibling=V,P=V);return n&&F.forEach(function(z){return t(x,z)}),oi&&Qp(x,C),A}function w(x,S,M,T){if(typeof M=="object"&&M!==null&&M.type===v0&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Q1:t:{for(var A=M.key,P=S;P!==null;){if(P.key===A){if(A=M.type,A===v0){if(P.tag===7){e(x,P.sibling),S=i(P,M.props.children),S.return=x,x=S;break t}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===cd&&bP(A)===P.type){e(x,P.sibling),S=i(P,M.props),S.ref=vv(x,P,M),S.return=x,x=S;break t}e(x,P);break}else t(x,P);P=P.sibling}M.type===v0?(S=_m(M.props.children,x.mode,T,M.key),S.return=x,x=S):(T=Ex(M.type,M.key,M.props,null,x.mode,T),T.ref=vv(x,S,M),T.return=x,x=T)}return o(x);case y0:t:{for(P=M.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){e(x,S.sibling),S=i(S,M.children||[]),S.return=x,x=S;break t}else{e(x,S);break}else t(x,S);S=S.sibling}S=yE(M,x.mode,T),S.return=x,x=S}return o(x);case cd:return P=M._init,w(x,S,P(M._payload),T)}if(Nv(M))return _(x,S,M,T);if(dv(M))return v(x,S,M,T);cw(x,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(e(x,S.sibling),S=i(S,M),S.return=x,x=S):(e(x,S),S=gE(M,x.mode,T),S.return=x,x=S),o(x)):e(x,S)}return w}var Q0=oN(!0),aN=oN(!1),a1={},_c=Xd(a1),w_=Xd(a1),x_=Xd(a1);function am(n){if(n===a1)throw Error(de(174));return n}function F3(n,t){switch(jr(x_,t),jr(w_,n),jr(_c,a1),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:GM(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=GM(t,n)}ri(_c),jr(_c,t)}function ty(){ri(_c),ri(w_),ri(x_)}function lN(n){am(x_.current);var t=am(_c.current),e=GM(t,n.type);t!==e&&(jr(w_,n),jr(_c,e))}function B3(n){w_.current===n&&(ri(_c),ri(w_))}var gi=Xd(0);function eb(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cE=[];function N3(){for(var n=0;n<cE.length;n++)cE[n]._workInProgressVersionPrimary=null;cE.length=0}var _x=ih.ReactCurrentDispatcher,fE=ih.ReactCurrentBatchConfig,Pm=0,wi=null,cs=null,Es=null,nb=!1,qv=!1,b_=0,EY=0;function Qs(){throw Error(de(321))}function z3(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Su(n[e],t[e]))return!1;return!0}function U3(n,t,e,r,i,s){if(Pm=s,wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_x.current=n===null||n.memoizedState===null?CY:IY,n=e(r,i),qv){s=0;do{if(qv=!1,b_=0,25<=s)throw Error(de(301));s+=1,Es=cs=null,t.updateQueue=null,_x.current=RY,n=e(r,i)}while(qv)}if(_x.current=rb,t=cs!==null&&cs.next!==null,Pm=0,Es=cs=wi=null,nb=!1,t)throw Error(de(300));return n}function V3(){var n=b_!==0;return b_=0,n}function ic(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?wi.memoizedState=Es=n:Es=Es.next=n,Es}function wl(){if(cs===null){var n=wi.alternate;n=n!==null?n.memoizedState:null}else n=cs.next;var t=Es===null?wi.memoizedState:Es.next;if(t!==null)Es=t,cs=n;else{if(n===null)throw Error(de(310));cs=n,n={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},Es===null?wi.memoizedState=Es=n:Es=Es.next=n}return Es}function S_(n,t){return typeof t=="function"?t(n):t}function hE(n){var t=wl(),e=t.queue;if(e===null)throw Error(de(311));e.lastRenderedReducer=n;var r=cs,i=r.baseQueue,s=e.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,e.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Pm&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,wi.lanes|=h,Dm|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Su(r,t.memoizedState)||(na=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do s=i.lane,wi.lanes|=s,Dm|=s,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function dE(n){var t=wl(),e=t.queue;if(e===null)throw Error(de(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,s=t.memoizedState;if(i!==null){e.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Su(s,t.memoizedState)||(na=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,r]}function uN(){}function cN(n,t){var e=wi,r=wl(),i=t(),s=!Su(r.memoizedState,i);if(s&&(r.memoizedState=i,na=!0),r=r.queue,H3(dN.bind(null,e,r,n),[n]),r.getSnapshot!==t||s||Es!==null&&Es.memoizedState.tag&1){if(e.flags|=2048,E_(9,hN.bind(null,e,r,i,t),void 0,null),As===null)throw Error(de(349));(Pm&30)!==0||fN(e,t,i)}return i}function fN(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=wi.updateQueue,t===null?(t={lastEffect:null,stores:null},wi.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function hN(n,t,e,r){t.value=e,t.getSnapshot=r,pN(t)&&mN(n)}function dN(n,t,e){return e(function(){pN(t)&&mN(n)})}function pN(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Su(n,e)}catch{return!0}}function mN(n){var t=Zf(n,1);t!==null&&_u(t,n,1,-1)}function SP(n){var t=ic();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:n},t.queue=n,n=n.dispatch=AY.bind(null,wi,n),[t.memoizedState,n]}function E_(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=wi.updateQueue,t===null?(t={lastEffect:null,stores:null},wi.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function gN(){return wl().memoizedState}function wx(n,t,e,r){var i=ic();wi.flags|=n,i.memoizedState=E_(1|t,e,void 0,r===void 0?null:r)}function hS(n,t,e,r){var i=wl();r=r===void 0?null:r;var s=void 0;if(cs!==null){var o=cs.memoizedState;if(s=o.destroy,r!==null&&z3(r,o.deps)){i.memoizedState=E_(t,e,s,r);return}}wi.flags|=n,i.memoizedState=E_(1|t,e,s,r)}function EP(n,t){return wx(8390656,8,n,t)}function H3(n,t){return hS(2048,8,n,t)}function yN(n,t){return hS(4,2,n,t)}function vN(n,t){return hS(4,4,n,t)}function _N(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function wN(n,t,e){return e=e!=null?e.concat([n]):null,hS(4,4,_N.bind(null,t,n),e)}function W3(){}function xN(n,t){var e=wl();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&z3(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function bN(n,t){var e=wl();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&z3(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function SN(n,t,e){return(Pm&21)===0?(n.baseState&&(n.baseState=!1,na=!0),n.memoizedState=e):(Su(e,t)||(e=TB(),wi.lanes|=e,Dm|=e,n.baseState=!0),t)}function MY(n,t){var e=Pr;Pr=e!==0&&4>e?e:4,n(!0);var r=fE.transition;fE.transition={};try{n(!1),t()}finally{Pr=e,fE.transition=r}}function EN(){return wl().memoizedState}function TY(n,t,e){var r=Ad(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},MN(n))TN(t,e);else if(e=nN(n,t,e,r),e!==null){var i=Ro();_u(e,n,r,i),AN(e,t,r)}}function AY(n,t,e){var r=Ad(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(MN(n))TN(t,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,e);if(i.hasEagerState=!0,i.eagerState=a,Su(a,o)){var l=t.interleaved;l===null?(i.next=i,k3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=nN(n,t,i,r),e!==null&&(i=Ro(),_u(e,n,r,i),AN(e,t,r))}}function MN(n){var t=n.alternate;return n===wi||t!==null&&t===wi}function TN(n,t){qv=nb=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function AN(n,t,e){if((e&4194240)!==0){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,w3(n,e)}}var rb={readContext:_l,useCallback:Qs,useContext:Qs,useEffect:Qs,useImperativeHandle:Qs,useInsertionEffect:Qs,useLayoutEffect:Qs,useMemo:Qs,useReducer:Qs,useRef:Qs,useState:Qs,useDebugValue:Qs,useDeferredValue:Qs,useTransition:Qs,useMutableSource:Qs,useSyncExternalStore:Qs,useId:Qs,unstable_isNewReconciler:!1},CY={readContext:_l,useCallback:function(n,t){return ic().memoizedState=[n,t===void 0?null:t],n},useContext:_l,useEffect:EP,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,wx(4194308,4,_N.bind(null,t,n),e)},useLayoutEffect:function(n,t){return wx(4194308,4,n,t)},useInsertionEffect:function(n,t){return wx(4,2,n,t)},useMemo:function(n,t){var e=ic();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=ic();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=TY.bind(null,wi,n),[r.memoizedState,n]},useRef:function(n){var t=ic();return n={current:n},t.memoizedState=n},useState:SP,useDebugValue:W3,useDeferredValue:function(n){return ic().memoizedState=n},useTransition:function(){var n=SP(!1),t=n[0];return n=MY.bind(null,n[1]),ic().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=wi,i=ic();if(oi){if(e===void 0)throw Error(de(407));e=e()}else{if(e=t(),As===null)throw Error(de(349));(Pm&30)!==0||fN(r,t,e)}i.memoizedState=e;var s={value:e,getSnapshot:t};return i.queue=s,EP(dN.bind(null,r,s,n),[n]),r.flags|=2048,E_(9,hN.bind(null,r,s,e,t),void 0,null),e},useId:function(){var n=ic(),t=As.identifierPrefix;if(oi){var e=Hf,r=Vf;e=(r&~(1<<32-vu(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=b_++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=EY++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},IY={readContext:_l,useCallback:xN,useContext:_l,useEffect:H3,useImperativeHandle:wN,useInsertionEffect:yN,useLayoutEffect:vN,useMemo:bN,useReducer:hE,useRef:gN,useState:function(){return hE(S_)},useDebugValue:W3,useDeferredValue:function(n){var t=wl();return SN(t,cs.memoizedState,n)},useTransition:function(){var n=hE(S_)[0],t=wl().memoizedState;return[n,t]},useMutableSource:uN,useSyncExternalStore:cN,useId:EN,unstable_isNewReconciler:!1},RY={readContext:_l,useCallback:xN,useContext:_l,useEffect:H3,useImperativeHandle:wN,useInsertionEffect:yN,useLayoutEffect:vN,useMemo:bN,useReducer:dE,useRef:gN,useState:function(){return dE(S_)},useDebugValue:W3,useDeferredValue:function(n){var t=wl();return cs===null?t.memoizedState=n:SN(t,cs.memoizedState,n)},useTransition:function(){var n=dE(S_)[0],t=wl().memoizedState;return[n,t]},useMutableSource:uN,useSyncExternalStore:cN,useId:EN,unstable_isNewReconciler:!1};function ey(n,t){try{var e="",r=t;do e+=ij(r),r=r.return;while(r);var i=e}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:t,stack:i,digest:null}}function pE(n,t,e){return{value:n,source:null,stack:e!=null?e:null,digest:t!=null?t:null}}function dT(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var LY=typeof WeakMap=="function"?WeakMap:Map;function CN(n,t,e){e=$f(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){sb||(sb=!0,ST=r),dT(n,t)},e}function IN(n,t,e){e=$f(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){dT(n,t)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){dT(n,t),typeof r!="function"&&(Td===null?Td=new Set([this]):Td.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function MP(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new LY;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=$Y.bind(null,n,t,e),t.then(n,n))}function TP(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function AP(n,t,e,r,i){return(n.mode&1)===0?(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=$f(-1,1),t.tag=2,Md(e,t,1))),e.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var PY=ih.ReactCurrentOwner,na=!1;function bo(n,t,e,r){t.child=n===null?aN(t,null,e,r):Q0(t,n.child,e,r)}function CP(n,t,e,r,i){e=e.render;var s=t.ref;return z0(t,i),r=U3(n,t,e,r,s,i),e=V3(),n!==null&&!na?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Kf(n,t,i)):(oi&&e&&C3(t),t.flags|=1,bo(n,t,r,i),t.child)}function IP(n,t,e,r,i){if(n===null){var s=e.type;return typeof s=="function"&&!K3(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,RN(n,t,s,r,i)):(n=Ex(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(e=e.compare,e=e!==null?e:g_,e(o,r)&&n.ref===t.ref)return Kf(n,t,i)}return t.flags|=1,n=Cd(s,r),n.ref=t.ref,n.return=t,t.child=n}function RN(n,t,e,r,i){if(n!==null){var s=n.memoizedProps;if(g_(s,r)&&n.ref===t.ref)if(na=!1,t.pendingProps=r=s,(n.lanes&i)!==0)(n.flags&131072)!==0&&(na=!0);else return t.lanes=n.lanes,Kf(n,t,i)}return pT(n,t,e,r,i)}function LN(n,t,e){var r=t.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(C0,Oa),Oa|=e;else{if((e&1073741824)===0)return n=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,jr(C0,Oa),Oa|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:e,jr(C0,Oa),Oa|=r}else s!==null?(r=s.baseLanes|e,t.memoizedState=null):r=e,jr(C0,Oa),Oa|=r;return bo(n,t,i,e),t.child}function PN(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function pT(n,t,e,r,i){var s=oa(e)?Rm:so.current;return s=K0(t,s),z0(t,i),e=U3(n,t,e,r,s,i),r=V3(),n!==null&&!na?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Kf(n,t,i)):(oi&&r&&C3(t),t.flags|=1,bo(n,t,e,i),t.child)}function RP(n,t,e,r,i){if(oa(e)){var s=!0;Xx(t)}else s=!1;if(z0(t,i),t.stateNode===null)xx(n,t),sN(t,e,r),hT(t,e,r,i),r=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=_l(u):(u=oa(e)?Rm:so.current,u=K0(t,u));var h=e.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xP(t,o,r,u),fd=!1;var d=t.memoizedState;o.state=d,tb(t,r,o,i),l=t.memoizedState,a!==r||d!==l||sa.current||fd?(typeof h=="function"&&(fT(t,e,h,r),l=t.memoizedState),(a=fd||wP(t,e,a,r,d,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rN(n,t),a=t.memoizedProps,u=t.type===t.elementType?a:lu(t.type,a),o.props=u,m=t.pendingProps,d=o.context,l=e.contextType,typeof l=="object"&&l!==null?l=_l(l):(l=oa(e)?Rm:so.current,l=K0(t,l));var y=e.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||d!==l)&&xP(t,o,r,l),fd=!1,d=t.memoizedState,o.state=d,tb(t,r,o,i);var _=t.memoizedState;a!==m||d!==_||sa.current||fd?(typeof y=="function"&&(fT(t,e,y,r),_=t.memoizedState),(u=fd||wP(t,e,u,r,d,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),r=!1)}return mT(n,t,e,r,s,i)}function mT(n,t,e,r,i,s){PN(n,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&mP(t,e,!1),Kf(n,t,s);r=t.stateNode,PY.current=t;var a=o&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&o?(t.child=Q0(t,n.child,null,s),t.child=Q0(t,null,a,s)):bo(n,t,a,s),t.memoizedState=r.state,i&&mP(t,e,!0),t.child}function DN(n){var t=n.stateNode;t.pendingContext?pP(n,t.pendingContext,t.pendingContext!==t.context):t.context&&pP(n,t.context,!1),F3(n,t.containerInfo)}function LP(n,t,e,r,i){return J0(),R3(i),t.flags|=256,bo(n,t,e,r),t.child}var gT={dehydrated:null,treeContext:null,retryLane:0};function yT(n){return{baseLanes:n,cachePool:null,transitions:null}}function kN(n,t,e){var r=t.pendingProps,i=gi.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),jr(gi,i&1),n===null)return uT(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((t.mode&1)===0?t.lanes=1:n.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=r.children,n=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mS(o,r,0,null),n=_m(n,r,e,null),s.return=t,n.return=t,s.sibling=n,t.child=s,t.child.memoizedState=yT(e),t.memoizedState=gT,n):G3(t,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return DY(n,t,o,r,a,i,e);if(s){s=r.fallback,o=t.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Cd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cd(a,s):(s=_m(s,o,e,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=n.child.memoizedState,o=o===null?yT(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~e,t.memoizedState=gT,r}return s=n.child,n=s.sibling,r=Cd(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function G3(n,t){return t=mS({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function fw(n,t,e,r){return r!==null&&R3(r),Q0(t,n.child,null,e),n=G3(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function DY(n,t,e,r,i,s,o){if(e)return t.flags&256?(t.flags&=-257,r=pE(Error(de(422))),fw(n,t,o,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=mS({mode:"visible",children:r.children},i,0,null),s=_m(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Q0(t,n.child,null,o),t.child.memoizedState=yT(o),t.memoizedState=gT,s);if((t.mode&1)===0)return fw(n,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(de(419)),r=pE(s,r,void 0),fw(n,t,o,r)}if(a=(o&n.childLanes)!==0,na||a){if(r=As,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zf(n,i),_u(r,n,i,-1))}return Z3(),r=pE(Error(de(421))),fw(n,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=jY.bind(null,n),i._reactRetry=t,null):(n=s.treeContext,za=Ed(i.nextSibling),Va=t,oi=!0,fu=null,n!==null&&(ll[ul++]=Vf,ll[ul++]=Hf,ll[ul++]=Lm,Vf=n.id,Hf=n.overflow,Lm=t),t=G3(t,r.children),t.flags|=4096,t)}function PP(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),cT(n.return,t,e)}function mE(n,t,e,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=e,s.tailMode=i)}function ON(n,t,e){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(n,t,r.children,e),r=gi.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&PP(n,e,t);else if(n.tag===19)PP(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(jr(gi,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&eb(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),mE(t,!1,i,e,s);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&eb(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}mE(t,!0,e,null,s);break;case"together":mE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xx(n,t){(t.mode&1)===0&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Kf(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Dm|=t.lanes,(e&t.childLanes)===0)return null;if(n!==null&&t.child!==n.child)throw Error(de(153));if(t.child!==null){for(n=t.child,e=Cd(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Cd(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function kY(n,t,e){switch(t.tag){case 3:DN(t),J0();break;case 5:lN(t);break;case 1:oa(t.type)&&Xx(t);break;case 4:F3(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;jr(Jx,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(jr(gi,gi.current&1),t.flags|=128,null):(e&t.child.childLanes)!==0?kN(n,t,e):(jr(gi,gi.current&1),n=Kf(n,t,e),n!==null?n.sibling:null);jr(gi,gi.current&1);break;case 19:if(r=(e&t.childLanes)!==0,(n.flags&128)!==0){if(r)return ON(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jr(gi,gi.current),r)break;return null;case 22:case 23:return t.lanes=0,LN(n,t,e)}return Kf(n,t,e)}var FN,vT,BN,NN;FN=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};vT=function(){};BN=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,am(_c.current);var s=null;switch(e){case"input":i=UM(n,i),r=UM(n,r),s=[];break;case"select":i=xi({},i,{value:void 0}),r=xi({},r,{value:void 0}),s=[];break;case"textarea":i=WM(n,i),r=WM(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Yx)}$M(e,r);var o;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(u_.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(e||(e={}),e[o]=l[o])}else e||(s||(s=[]),s.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(u_.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}e&&(s=s||[]).push("style",e);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};NN=function(n,t,e,r){e!==r&&(t.flags|=4)};function _v(n,t){if(!oi)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function to(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function OY(n,t,e){var r=t.pendingProps;switch(I3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(t),null;case 1:return oa(t.type)&&qx(),to(t),null;case 3:return r=t.stateNode,ty(),ri(sa),ri(so),N3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(uw(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fu!==null&&(TT(fu),fu=null))),vT(n,t),to(t),null;case 5:B3(t);var i=am(x_.current);if(e=t.type,n!==null&&t.stateNode!=null)BN(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(de(166));return to(t),null}if(n=am(_c.current),uw(t)){r=t.stateNode,e=t.type;var s=t.memoizedProps;switch(r[uc]=t,r[__]=s,n=(t.mode&1)!==0,e){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Uv.length;i++)Qr(Uv[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":VL(r,s),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",r);break;case"textarea":WL(r,s),Qr("invalid",r)}$M(e,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lw(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lw(r.textContent,a,n),i=["children",""+a]):u_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qr("scroll",r)}switch(e){case"input":tw(r),HL(r,s,!0);break;case"textarea":tw(r),GL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yx)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fB(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(e,{is:r.is}):(n=o.createElement(e),e==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,e),n[uc]=t,n[__]=r,FN(n,t,!1,!1),t.stateNode=n;t:{switch(o=jM(e,r),e){case"dialog":Qr("cancel",n),Qr("close",n),i=r;break;case"iframe":case"object":case"embed":Qr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Uv.length;i++)Qr(Uv[i],n);i=r;break;case"source":Qr("error",n),i=r;break;case"img":case"image":case"link":Qr("error",n),Qr("load",n),i=r;break;case"details":Qr("toggle",n),i=r;break;case"input":VL(n,r),i=UM(n,r),Qr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=xi({},r,{value:void 0}),Qr("invalid",n);break;case"textarea":WL(n,r),i=WM(n,r),Qr("invalid",n);break;default:i=r}$M(e,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pB(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hB(n,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&c_(n,l):typeof l=="number"&&c_(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(u_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qr("scroll",n):l!=null&&p3(n,s,l,o))}switch(e){case"input":tw(n),HL(n,r,!1);break;case"textarea":tw(n),GL(n);break;case"option":r.value!=null&&n.setAttribute("value",""+kd(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?O0(n,!!r.multiple,s,!1):r.defaultValue!=null&&O0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Yx)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return to(t),null;case 6:if(n&&t.stateNode!=null)NN(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(de(166));if(e=am(x_.current),am(_c.current),uw(t)){if(r=t.stateNode,e=t.memoizedProps,r[uc]=t,(s=r.nodeValue!==e)&&(n=Va,n!==null))switch(n.tag){case 3:lw(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lw(r.nodeValue,e,(n.mode&1)!==0)}s&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[uc]=t,t.stateNode=r}return to(t),null;case 13:if(ri(gi),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(oi&&za!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eN(),J0(),t.flags|=98560,s=!1;else if(s=uw(t),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(de(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[uc]=t}else J0(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;to(t),s=!1}else fu!==null&&(TT(fu),fu=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(n===null||(gi.current&1)!==0?ps===0&&(ps=3):Z3())),t.updateQueue!==null&&(t.flags|=4),to(t),null);case 4:return ty(),vT(n,t),n===null&&y_(t.stateNode.containerInfo),to(t),null;case 10:return D3(t.type._context),to(t),null;case 17:return oa(t.type)&&qx(),to(t),null;case 19:if(ri(gi),s=t.memoizedState,s===null)return to(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)_v(s,!1);else{if(ps!==0||n!==null&&(n.flags&128)!==0)for(n=t.child;n!==null;){if(o=eb(n),o!==null){for(t.flags|=128,_v(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)s=e,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return jr(gi,gi.current&1|2),t.child}n=n.sibling}s.tail!==null&&zi()>ny&&(t.flags|=128,r=!0,_v(s,!1),t.lanes=4194304)}else{if(!r)if(n=eb(o),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),_v(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!oi)return to(t),null}else 2*zi()-s.renderingStartTime>ny&&e!==1073741824&&(t.flags|=128,r=!0,_v(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=zi(),t.sibling=null,e=gi.current,jr(gi,r?e&1|2:e&1),t):(to(t),null);case 22:case 23:return X3(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Oa&1073741824)!==0&&(to(t),t.subtreeFlags&6&&(t.flags|=8192)):to(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function FY(n,t){switch(I3(t),t.tag){case 1:return oa(t.type)&&qx(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return ty(),ri(sa),ri(so),N3(),n=t.flags,(n&65536)!==0&&(n&128)===0?(t.flags=n&-65537|128,t):null;case 5:return B3(t),null;case 13:if(ri(gi),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(de(340));J0()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return ri(gi),null;case 4:return ty(),null;case 10:return D3(t.type._context),null;case 22:case 23:return X3(),null;case 24:return null;default:return null}}var hw=!1,no=!1,BY=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function A0(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Ii(n,t,r)}else e.current=null}function _T(n,t,e){try{e()}catch(r){Ii(n,t,r)}}var DP=!1;function NY(n,t){if(nT=Gx,n=HB(),A3(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break t}var o=0,a=-1,l=-1,u=0,h=0,m=n,d=null;e:for(;;){for(var y;m!==e||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)d=m,m=y;for(;;){if(m===n)break e;if(d===e&&++u===i&&(a=o),d===s&&++h===r&&(l=o),(y=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=y}e=a===-1||l===-1?null:{start:a,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(rT={focusedElem:n,selectionRange:e},Gx=!1,Oe=t;Oe!==null;)if(t=Oe,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Oe=n;else for(;Oe!==null;){t=Oe;try{var _=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,w=_.memoizedState,x=t.stateNode,S=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:lu(t.type,v),w);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(T){Ii(t,t.return,T)}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}return _=DP,DP=!1,_}function Xv(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&_T(t,e,s)}i=i.next}while(i!==r)}}function dS(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function wT(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function zN(n){var t=n.alternate;t!==null&&(n.alternate=null,zN(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[uc],delete t[__],delete t[oT],delete t[wY],delete t[xY])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function UN(n){return n.tag===5||n.tag===3||n.tag===4}function kP(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||UN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xT(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Yx));else if(r!==4&&(n=n.child,n!==null))for(xT(n,t,e),n=n.sibling;n!==null;)xT(n,t,e),n=n.sibling}function bT(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(bT(n,t,e),n=n.sibling;n!==null;)bT(n,t,e),n=n.sibling}var Os=null,uu=!1;function td(n,t,e){for(e=e.child;e!==null;)VN(n,t,e),e=e.sibling}function VN(n,t,e){if(vc&&typeof vc.onCommitFiberUnmount=="function")try{vc.onCommitFiberUnmount(sS,e)}catch{}switch(e.tag){case 5:no||A0(e,t);case 6:var r=Os,i=uu;Os=null,td(n,t,e),Os=r,uu=i,Os!==null&&(uu?(n=Os,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Os.removeChild(e.stateNode));break;case 18:Os!==null&&(uu?(n=Os,e=e.stateNode,n.nodeType===8?lE(n.parentNode,e):n.nodeType===1&&lE(n,e),p_(n)):lE(Os,e.stateNode));break;case 4:r=Os,i=uu,Os=e.stateNode.containerInfo,uu=!0,td(n,t,e),Os=r,uu=i;break;case 0:case 11:case 14:case 15:if(!no&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&_T(e,t,o),i=i.next}while(i!==r)}td(n,t,e);break;case 1:if(!no&&(A0(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(a){Ii(e,t,a)}td(n,t,e);break;case 21:td(n,t,e);break;case 22:e.mode&1?(no=(r=no)||e.memoizedState!==null,td(n,t,e),no=r):td(n,t,e);break;default:td(n,t,e)}}function OP(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new BY),t.forEach(function(r){var i=YY.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function eu(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var s=n,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:Os=a.stateNode,uu=!1;break t;case 3:Os=a.stateNode.containerInfo,uu=!0;break t;case 4:Os=a.stateNode.containerInfo,uu=!0;break t}a=a.return}if(Os===null)throw Error(de(160));VN(s,o,i),Os=null,uu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ii(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HN(t,n),t=t.sibling}function HN(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(eu(t,n),nc(n),r&4){try{Xv(3,n,n.return),dS(3,n)}catch(v){Ii(n,n.return,v)}try{Xv(5,n,n.return)}catch(v){Ii(n,n.return,v)}}break;case 1:eu(t,n),nc(n),r&512&&e!==null&&A0(e,e.return);break;case 5:if(eu(t,n),nc(n),r&512&&e!==null&&A0(e,e.return),n.flags&32){var i=n.stateNode;try{c_(i,"")}catch(v){Ii(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=e!==null?e.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uB(i,s),jM(a,o);var u=jM(a,s);for(o=0;o<l.length;o+=2){var h=l[o],m=l[o+1];h==="style"?pB(i,m):h==="dangerouslySetInnerHTML"?hB(i,m):h==="children"?c_(i,m):p3(i,h,m,u)}switch(a){case"input":VM(i,s);break;case"textarea":cB(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?O0(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?O0(i,!!s.multiple,s.defaultValue,!0):O0(i,!!s.multiple,s.multiple?[]:"",!1))}i[__]=s}catch(v){Ii(n,n.return,v)}}break;case 6:if(eu(t,n),nc(n),r&4){if(n.stateNode===null)throw Error(de(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){Ii(n,n.return,v)}}break;case 3:if(eu(t,n),nc(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{p_(t.containerInfo)}catch(v){Ii(n,n.return,v)}break;case 4:eu(t,n),nc(n);break;case 13:eu(t,n),nc(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Y3=zi())),r&4&&OP(n);break;case 22:if(h=e!==null&&e.memoizedState!==null,n.mode&1?(no=(u=no)||h,eu(t,n),no=u):eu(t,n),nc(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&(n.mode&1)!==0)for(Oe=n,h=n.child;h!==null;){for(m=Oe=h;Oe!==null;){switch(d=Oe,y=d.child,d.tag){case 0:case 11:case 14:case 15:Xv(4,d,d.return);break;case 1:A0(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,e=d.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(v){Ii(r,e,v)}}break;case 5:A0(d,d.return);break;case 22:if(d.memoizedState!==null){BP(m);continue}}y!==null?(y.return=d,Oe=y):BP(m)}h=h.sibling}t:for(h=null,m=n;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dB("display",o))}catch(v){Ii(n,n.return,v)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(v){Ii(n,n.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===n)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:eu(t,n),nc(n),r&4&&OP(n);break;case 21:break;default:eu(t,n),nc(n)}}function nc(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(UN(e)){var r=e;break t}e=e.return}throw Error(de(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(c_(i,""),r.flags&=-33);var s=kP(n);bT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kP(n);xT(n,a,o);break;default:throw Error(de(161))}}catch(l){Ii(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function zY(n,t,e){Oe=n,WN(n)}function WN(n,t,e){for(var r=(n.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hw;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||no;a=hw;var u=no;if(hw=o,(no=l)&&!u)for(Oe=i;Oe!==null;)o=Oe,l=o.child,o.tag===22&&o.memoizedState!==null?NP(i):l!==null?(l.return=o,Oe=l):NP(i);for(;s!==null;)Oe=s,WN(s),s=s.sibling;Oe=i,hw=a,no=u}FP(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,Oe=s):FP(n)}}function FP(n){for(;Oe!==null;){var t=Oe;if((t.flags&8772)!==0){var e=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:no||dS(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!no)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:lu(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_P(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}_P(t,o,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&p_(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}no||t.flags&512&&wT(t)}catch(d){Ii(t,t.return,d)}}if(t===n){Oe=null;break}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}}function BP(n){for(;Oe!==null;){var t=Oe;if(t===n){Oe=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Oe=e;break}Oe=t.return}}function NP(n){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{dS(4,t)}catch(l){Ii(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ii(t,i,l)}}var s=t.return;try{wT(t)}catch(l){Ii(t,s,l)}break;case 5:var o=t.return;try{wT(t)}catch(l){Ii(t,o,l)}}}catch(l){Ii(t,t.return,l)}if(t===n){Oe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Oe=a;break}Oe=t.return}}var UY=Math.ceil,ib=ih.ReactCurrentDispatcher,$3=ih.ReactCurrentOwner,yl=ih.ReactCurrentBatchConfig,fr=0,As=null,ns=null,zs=0,Oa=0,C0=Xd(0),ps=0,M_=null,Dm=0,pS=0,j3=0,Zv=null,ta=null,Y3=0,ny=1/0,Of=null,sb=!1,ST=null,Td=null,dw=!1,gd=null,ob=0,Kv=0,ET=null,bx=-1,Sx=0;function Ro(){return(fr&6)!==0?zi():bx!==-1?bx:bx=zi()}function Ad(n){return(n.mode&1)===0?1:(fr&2)!==0&&zs!==0?zs&-zs:SY.transition!==null?(Sx===0&&(Sx=TB()),Sx):(n=Pr,n!==0||(n=window.event,n=n===void 0?16:DB(n.type)),n)}function _u(n,t,e,r){if(50<Kv)throw Kv=0,ET=null,Error(de(185));i1(n,e,r),((fr&2)===0||n!==As)&&(n===As&&((fr&2)===0&&(pS|=e),ps===4&&pd(n,zs)),aa(n,r),e===1&&fr===0&&(t.mode&1)===0&&(ny=zi()+500,cS&&Zd()))}function aa(n,t){var e=n.callbackNode;Sj(n,t);var r=Wx(n,n===As?zs:0);if(r===0)e!==null&&YL(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&YL(e),t===1)n.tag===0?bY(zP.bind(null,n)):JB(zP.bind(null,n)),vY(function(){(fr&6)===0&&Zd()}),e=null;else{switch(AB(r)){case 1:e=_3;break;case 4:e=EB;break;case 16:e=Hx;break;case 536870912:e=MB;break;default:e=Hx}e=KN(e,GN.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function GN(n,t){if(bx=-1,Sx=0,(fr&6)!==0)throw Error(de(327));var e=n.callbackNode;if(U0()&&n.callbackNode!==e)return null;var r=Wx(n,n===As?zs:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||t)t=ab(n,r);else{t=r;var i=fr;fr|=2;var s=jN();(As!==n||zs!==t)&&(Of=null,ny=zi()+500,vm(n,t));do try{WY();break}catch(a){$N(n,a)}while(1);P3(),ib.current=s,fr=i,ns!==null?t=0:(As=null,zs=0,t=ps)}if(t!==0){if(t===2&&(i=KM(n),i!==0&&(r=i,t=MT(n,i))),t===1)throw e=M_,vm(n,0),pd(n,r),aa(n,zi()),e;if(t===6)pd(n,r);else{if(i=n.current.alternate,(r&30)===0&&!VY(i)&&(t=ab(n,r),t===2&&(s=KM(n),s!==0&&(r=s,t=MT(n,s))),t===1))throw e=M_,vm(n,0),pd(n,r),aa(n,zi()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(de(345));case 2:tm(n,ta,Of);break;case 3:if(pd(n,r),(r&130023424)===r&&(t=Y3+500-zi(),10<t)){if(Wx(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ro(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=sT(tm.bind(null,n,ta,Of),t);break}tm(n,ta,Of);break;case 4:if(pd(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var o=31-vu(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=zi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UY(r/1960))-r,10<r){n.timeoutHandle=sT(tm.bind(null,n,ta,Of),r);break}tm(n,ta,Of);break;case 5:tm(n,ta,Of);break;default:throw Error(de(329))}}}return aa(n,zi()),n.callbackNode===e?GN.bind(null,n):null}function MT(n,t){var e=Zv;return n.current.memoizedState.isDehydrated&&(vm(n,t).flags|=256),n=ab(n,t),n!==2&&(t=ta,ta=e,t!==null&&TT(t)),n}function TT(n){ta===null?ta=n:ta.push.apply(ta,n)}function VY(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],s=i.getSnapshot;i=i.value;try{if(!Su(s(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pd(n,t){for(t&=~j3,t&=~pS,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-vu(t),r=1<<e;n[e]=-1,t&=~r}}function zP(n){if((fr&6)!==0)throw Error(de(327));U0();var t=Wx(n,0);if((t&1)===0)return aa(n,zi()),null;var e=ab(n,t);if(n.tag!==0&&e===2){var r=KM(n);r!==0&&(t=r,e=MT(n,r))}if(e===1)throw e=M_,vm(n,0),pd(n,t),aa(n,zi()),e;if(e===6)throw Error(de(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,tm(n,ta,Of),aa(n,zi()),null}function q3(n,t){var e=fr;fr|=1;try{return n(t)}finally{fr=e,fr===0&&(ny=zi()+500,cS&&Zd())}}function km(n){gd!==null&&gd.tag===0&&(fr&6)===0&&U0();var t=fr;fr|=1;var e=yl.transition,r=Pr;try{if(yl.transition=null,Pr=1,n)return n()}finally{Pr=r,yl.transition=e,fr=t,(fr&6)===0&&Zd()}}function X3(){Oa=C0.current,ri(C0)}function vm(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,yY(e)),ns!==null)for(e=ns.return;e!==null;){var r=e;switch(I3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qx();break;case 3:ty(),ri(sa),ri(so),N3();break;case 5:B3(r);break;case 4:ty();break;case 13:ri(gi);break;case 19:ri(gi);break;case 10:D3(r.type._context);break;case 22:case 23:X3()}e=e.return}if(As=n,ns=n=Cd(n.current,null),zs=Oa=t,ps=0,M_=null,j3=pS=Dm=0,ta=Zv=null,om!==null){for(t=0;t<om.length;t++)if(e=om[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,s=e.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}e.pending=r}om=null}return n}function $N(n,t){do{var e=ns;try{if(P3(),_x.current=rb,nb){for(var r=wi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nb=!1}if(Pm=0,Es=cs=wi=null,qv=!1,b_=0,$3.current=null,e===null||e.return===null){ps=1,M_=t,ns=null;break}t:{var s=n,o=e.return,a=e,l=t;if(t=zs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,m=h.tag;if((h.mode&1)===0&&(m===0||m===11||m===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=TP(o);if(y!==null){y.flags&=-257,AP(y,o,a,s,t),y.mode&1&&MP(s,u,t),t=y,l=u;var _=t.updateQueue;if(_===null){var v=new Set;v.add(l),t.updateQueue=v}else _.add(l);break t}else{if((t&1)===0){MP(s,u,t),Z3();break t}l=Error(de(426))}}else if(oi&&a.mode&1){var w=TP(o);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),AP(w,o,a,s,t),R3(ey(l,a));break t}}s=l=ey(l,a),ps!==4&&(ps=2),Zv===null?Zv=[s]:Zv.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=CN(s,l,t);vP(s,x);break t;case 1:a=l;var S=s.type,M=s.stateNode;if((s.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Td===null||!Td.has(M)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=IN(s,a,t);vP(s,T);break t}}s=s.return}while(s!==null)}qN(e)}catch(A){t=A,ns===e&&e!==null&&(ns=e=e.return);continue}break}while(1)}function jN(){var n=ib.current;return ib.current=rb,n===null?rb:n}function Z3(){(ps===0||ps===3||ps===2)&&(ps=4),As===null||(Dm&268435455)===0&&(pS&268435455)===0||pd(As,zs)}function ab(n,t){var e=fr;fr|=2;var r=jN();(As!==n||zs!==t)&&(Of=null,vm(n,t));do try{HY();break}catch(i){$N(n,i)}while(1);if(P3(),fr=e,ib.current=r,ns!==null)throw Error(de(261));return As=null,zs=0,ps}function HY(){for(;ns!==null;)YN(ns)}function WY(){for(;ns!==null&&!pj();)YN(ns)}function YN(n){var t=ZN(n.alternate,n,Oa);n.memoizedProps=n.pendingProps,t===null?qN(n):ns=t,$3.current=null}function qN(n){var t=n;do{var e=t.alternate;if(n=t.return,(t.flags&32768)===0){if(e=OY(e,t,Oa),e!==null){ns=e;return}}else{if(e=FY(e,t),e!==null){e.flags&=32767,ns=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ps=6,ns=null;return}}if(t=t.sibling,t!==null){ns=t;return}ns=t=n}while(t!==null);ps===0&&(ps=5)}function tm(n,t,e){var r=Pr,i=yl.transition;try{yl.transition=null,Pr=1,GY(n,t,e,r)}finally{yl.transition=i,Pr=r}return null}function GY(n,t,e,r){do U0();while(gd!==null);if((fr&6)!==0)throw Error(de(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(de(177));n.callbackNode=null,n.callbackPriority=0;var s=e.lanes|e.childLanes;if(Ej(n,s),n===As&&(ns=As=null,zs=0),(e.subtreeFlags&2064)===0&&(e.flags&2064)===0||dw||(dw=!0,KN(Hx,function(){return U0(),null})),s=(e.flags&15990)!==0,(e.subtreeFlags&15990)!==0||s){s=yl.transition,yl.transition=null;var o=Pr;Pr=1;var a=fr;fr|=4,$3.current=null,NY(n,e),HN(e,n),cY(rT),Gx=!!nT,rT=nT=null,n.current=e,zY(e),mj(),fr=a,Pr=o,yl.transition=s}else n.current=e;if(dw&&(dw=!1,gd=n,ob=i),s=n.pendingLanes,s===0&&(Td=null),vj(e.stateNode),aa(n,zi()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(sb)throw sb=!1,n=ST,ST=null,n;return(ob&1)!==0&&n.tag!==0&&U0(),s=n.pendingLanes,(s&1)!==0?n===ET?Kv++:(Kv=0,ET=n):Kv=0,Zd(),null}function U0(){if(gd!==null){var n=AB(ob),t=yl.transition,e=Pr;try{if(yl.transition=null,Pr=16>n?16:n,gd===null)var r=!1;else{if(n=gd,gd=null,ob=0,(fr&6)!==0)throw Error(de(331));var i=fr;for(fr|=4,Oe=n.current;Oe!==null;){var s=Oe,o=s.child;if((Oe.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Oe=u;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:Xv(8,h,s)}var m=h.child;if(m!==null)m.return=h,Oe=m;else for(;Oe!==null;){h=Oe;var d=h.sibling,y=h.return;if(zN(h),h===u){Oe=null;break}if(d!==null){d.return=y,Oe=d;break}Oe=y}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Oe=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Oe=o;else t:for(;Oe!==null;){if(s=Oe,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Xv(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Oe=x;break t}Oe=s.return}}var S=n.current;for(Oe=S;Oe!==null;){o=Oe;var M=o.child;if((o.subtreeFlags&2064)!==0&&M!==null)M.return=o,Oe=M;else t:for(o=S;Oe!==null;){if(a=Oe,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:dS(9,a)}}catch(A){Ii(a,a.return,A)}if(a===o){Oe=null;break t}var T=a.sibling;if(T!==null){T.return=a.return,Oe=T;break t}Oe=a.return}}if(fr=i,Zd(),vc&&typeof vc.onPostCommitFiberRoot=="function")try{vc.onPostCommitFiberRoot(sS,n)}catch{}r=!0}return r}finally{Pr=e,yl.transition=t}}return!1}function UP(n,t,e){t=ey(e,t),t=CN(n,t,1),n=Md(n,t,1),t=Ro(),n!==null&&(i1(n,1,t),aa(n,t))}function Ii(n,t,e){if(n.tag===3)UP(n,n,e);else for(;t!==null;){if(t.tag===3){UP(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Td===null||!Td.has(r))){n=ey(e,n),n=IN(t,n,1),t=Md(t,n,1),n=Ro(),t!==null&&(i1(t,1,n),aa(t,n));break}}t=t.return}}function $Y(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Ro(),n.pingedLanes|=n.suspendedLanes&e,As===n&&(zs&e)===e&&(ps===4||ps===3&&(zs&130023424)===zs&&500>zi()-Y3?vm(n,0):j3|=e),aa(n,t)}function XN(n,t){t===0&&((n.mode&1)===0?t=1:(t=rw,rw<<=1,(rw&130023424)===0&&(rw=4194304)));var e=Ro();n=Zf(n,t),n!==null&&(i1(n,t,e),aa(n,e))}function jY(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),XN(n,e)}function YY(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(t),XN(n,e)}var ZN;ZN=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||sa.current)na=!0;else{if((n.lanes&e)===0&&(t.flags&128)===0)return na=!1,kY(n,t,e);na=(n.flags&131072)!==0}else na=!1,oi&&(t.flags&1048576)!==0&&QB(t,Kx,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xx(n,t),n=t.pendingProps;var i=K0(t,so.current);z0(t,e),i=U3(null,t,r,n,i,e);var s=V3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oa(r)?(s=!0,Xx(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O3(t),i.updater=fS,t.stateNode=i,i._reactInternals=t,hT(t,r,n,e),t=mT(null,t,r,!0,s,e)):(t.tag=0,oi&&s&&C3(t),bo(null,t,i,e),t=t.child),t;case 16:r=t.elementType;t:{switch(xx(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=XY(r),n=lu(r,n),i){case 0:t=pT(null,t,r,n,e);break t;case 1:t=RP(null,t,r,n,e);break t;case 11:t=CP(null,t,r,n,e);break t;case 14:t=IP(null,t,r,lu(r.type,n),e);break t}throw Error(de(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lu(r,i),pT(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lu(r,i),RP(n,t,r,i,e);case 3:t:{if(DN(t),n===null)throw Error(de(387));r=t.pendingProps,s=t.memoizedState,i=s.element,rN(n,t),tb(t,r,null,e);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ey(Error(de(423)),t),t=LP(n,t,r,e,i);break t}else if(r!==i){i=ey(Error(de(424)),t),t=LP(n,t,r,e,i);break t}else for(za=Ed(t.stateNode.containerInfo.firstChild),Va=t,oi=!0,fu=null,e=aN(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(J0(),r===i){t=Kf(n,t,e);break t}bo(n,t,r,e)}t=t.child}return t;case 5:return lN(t),n===null&&uT(t),r=t.type,i=t.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,iT(r,i)?o=null:s!==null&&iT(r,s)&&(t.flags|=32),PN(n,t),bo(n,t,o,e),t.child;case 6:return n===null&&uT(t),null;case 13:return kN(n,t,e);case 4:return F3(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=Q0(t,null,r,e):bo(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lu(r,i),CP(n,t,r,i,e);case 7:return bo(n,t,t.pendingProps,e),t.child;case 8:return bo(n,t,t.pendingProps.children,e),t.child;case 12:return bo(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,jr(Jx,r._currentValue),r._currentValue=o,s!==null)if(Su(s.value,o)){if(s.children===i.children&&!sa.current){t=Kf(n,t,e);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$f(-1,e&-e),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),cT(s.return,e,t),a.lanes|=e;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(de(341));o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),cT(o,e,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bo(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,z0(t,e),i=_l(i),r=r(i),t.flags|=1,bo(n,t,r,e),t.child;case 14:return r=t.type,i=lu(r,t.pendingProps),i=lu(r.type,i),IP(n,t,r,i,e);case 15:return RN(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lu(r,i),xx(n,t),t.tag=1,oa(r)?(n=!0,Xx(t)):n=!1,z0(t,e),sN(t,r,i),hT(t,r,i,e),mT(null,t,r,!0,n,e);case 19:return ON(n,t,e);case 22:return LN(n,t,e)}throw Error(de(156,t.tag))};function KN(n,t){return SB(n,t)}function qY(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ml(n,t,e,r){return new qY(n,t,e,r)}function K3(n){return n=n.prototype,!(!n||!n.isReactComponent)}function XY(n){if(typeof n=="function")return K3(n)?1:0;if(n!=null){if(n=n.$$typeof,n===g3)return 11;if(n===y3)return 14}return 2}function Cd(n,t){var e=n.alternate;return e===null?(e=ml(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Ex(n,t,e,r,i,s){var o=2;if(r=n,typeof n=="function")K3(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case v0:return _m(e.children,i,s,t);case m3:o=8,i|=8;break;case FM:return n=ml(12,e,t,i|2),n.elementType=FM,n.lanes=s,n;case BM:return n=ml(13,e,t,i),n.elementType=BM,n.lanes=s,n;case NM:return n=ml(19,e,t,i),n.elementType=NM,n.lanes=s,n;case oB:return mS(e,i,s,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iB:o=10;break t;case sB:o=9;break t;case g3:o=11;break t;case y3:o=14;break t;case cd:o=16,r=null;break t}throw Error(de(130,n==null?n:typeof n,""))}return t=ml(o,e,t,i),t.elementType=n,t.type=r,t.lanes=s,t}function _m(n,t,e,r){return n=ml(7,n,r,t),n.lanes=e,n}function mS(n,t,e,r){return n=ml(22,n,r,t),n.elementType=oB,n.lanes=e,n.stateNode={isHidden:!1},n}function gE(n,t,e){return n=ml(6,n,null,t),n.lanes=e,n}function yE(n,t,e){return t=ml(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function ZY(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K2(0),this.expirationTimes=K2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J3(n,t,e,r,i,s,o,a,l){return n=new ZY(n,t,e,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ml(3,null,null,t),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},O3(s),n}function KY(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y0,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function JN(n){if(!n)return Od;n=n._reactInternals;t:{if(Qm(n)!==n||n.tag!==1)throw Error(de(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(de(171))}if(n.tag===1){var e=n.type;if(oa(e))return KB(n,e,t)}return t}function QN(n,t,e,r,i,s,o,a,l){return n=J3(e,r,!0,n,i,s,o,a,l),n.context=JN(null),e=n.current,r=Ro(),i=Ad(e),s=$f(r,i),s.callback=t!=null?t:null,Md(e,s,i),n.current.lanes=i,i1(n,i,r),aa(n,r),n}function gS(n,t,e,r){var i=t.current,s=Ro(),o=Ad(i);return e=JN(e),t.context===null?t.context=e:t.pendingContext=e,t=$f(s,o),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=Md(i,t,o),n!==null&&(_u(n,i,o,s),vx(n,i,o)),o}function lb(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function VP(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function Q3(n,t){VP(n,t),(n=n.alternate)&&VP(n,t)}function JY(){return null}var t4=typeof reportError=="function"?reportError:function(n){console.error(n)};function tC(n){this._internalRoot=n}yS.prototype.render=tC.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(de(409));gS(n,t,null,null)};yS.prototype.unmount=tC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;km(function(){gS(null,n,null,null)}),t[Xf]=null}};function yS(n){this._internalRoot=n}yS.prototype.unstable_scheduleHydration=function(n){if(n){var t=RB();n={blockedOn:null,target:n,priority:t};for(var e=0;e<dd.length&&t!==0&&t<dd[e].priority;e++);dd.splice(e,0,n),e===0&&PB(n)}};function eC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function HP(){}function QY(n,t,e,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=lb(o);s.call(u)}}var o=QN(t,r,n,0,null,!1,!1,"",HP);return n._reactRootContainer=o,n[Xf]=o.current,y_(n.nodeType===8?n.parentNode:n),km(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lb(l);a.call(u)}}var l=J3(n,0,!1,null,null,!1,!1,"",HP);return n._reactRootContainer=l,n[Xf]=l.current,y_(n.nodeType===8?n.parentNode:n),km(function(){gS(t,l,e,r)}),l}function _S(n,t,e,r,i){var s=e._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=lb(o);a.call(l)}}gS(t,o,n,i)}else o=QY(e,t,n,i,r);return lb(o)}CB=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=zv(t.pendingLanes);e!==0&&(w3(t,e|1),aa(t,zi()),(fr&6)===0&&(ny=zi()+500,Zd()))}break;case 13:km(function(){var r=Zf(n,1);if(r!==null){var i=Ro();_u(r,n,1,i)}}),Q3(n,1)}};x3=function(n){if(n.tag===13){var t=Zf(n,134217728);if(t!==null){var e=Ro();_u(t,n,134217728,e)}Q3(n,134217728)}};IB=function(n){if(n.tag===13){var t=Ad(n),e=Zf(n,t);if(e!==null){var r=Ro();_u(e,n,t,r)}Q3(n,t)}};RB=function(){return Pr};LB=function(n,t){var e=Pr;try{return Pr=n,t()}finally{Pr=e}};qM=function(n,t,e){switch(t){case"input":if(VM(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=uS(r);if(!i)throw Error(de(90));lB(r),VM(r,i)}}}break;case"textarea":cB(n,e);break;case"select":t=e.value,t!=null&&O0(n,!!e.multiple,t,!1)}};yB=q3;vB=km;var tq={usingClientEntryPoint:!1,Events:[o1,b0,uS,mB,gB,q3]},wv={findFiberByHostInstance:sm,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eq={bundleType:wv.bundleType,version:wv.version,rendererPackageName:wv.rendererPackageName,rendererConfig:wv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ih.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xB(n),n===null?null:n.stateNode},findFiberByHostInstance:wv.findFiberByHostInstance||JY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var pw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pw.isDisabled&&pw.supportsFiber)try{sS=pw.inject(eq),vc=pw}catch{}}qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tq;qa.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eC(t))throw Error(de(200));return KY(n,t,null,e)};qa.createRoot=function(n,t){if(!eC(n))throw Error(de(299));var e=!1,r="",i=t4;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=J3(n,1,!1,null,null,e,!1,r,i),n[Xf]=t.current,y_(n.nodeType===8?n.parentNode:n),new tC(t)};qa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(de(188)):(n=Object.keys(n).join(","),Error(de(268,n)));return n=xB(t),n=n===null?null:n.stateNode,n};qa.flushSync=function(n){return km(n)};qa.hydrate=function(n,t,e){if(!vS(t))throw Error(de(200));return _S(null,n,t,!0,e)};qa.hydrateRoot=function(n,t,e){if(!eC(n))throw Error(de(405));var r=e!=null&&e.hydratedSources||null,i=!1,s="",o=t4;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=QN(t,null,n,1,e!=null?e:null,i,!1,s,o),n[Xf]=t.current,y_(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new yS(t)};qa.render=function(n,t,e){if(!vS(t))throw Error(de(200));return _S(null,n,t,!1,e)};qa.unmountComponentAtNode=function(n){if(!vS(n))throw Error(de(40));return n._reactRootContainer?(km(function(){_S(null,null,n,!1,function(){n._reactRootContainer=null,n[Xf]=null})}),!0):!1};qa.unstable_batchedUpdates=q3;qa.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!vS(e))throw Error(de(200));if(n==null||n._reactInternals===void 0)throw Error(de(38));return _S(n,t,e,!1,r)};qa.version="18.2.0-next-9e3b772b8-20220608";function e4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e4)}catch(n){console.error(n)}}e4(),f3.exports=qa;var nC=f3.exports,WP=f3.exports;kM.createRoot=WP.createRoot,kM.hydrateRoot=WP.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wS="140",nq={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},rq={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},n4=0,AT=1,r4=2,iq=3,sq=0,rC=1,iC=2,I0=3,Om=0,la=1,Fd=2,sC=1,oq=2,jf=0,wm=1,CT=2,IT=3,RT=4,i4=5,rm=100,s4=101,o4=102,LT=103,PT=104,a4=200,l4=201,u4=202,c4=203,oC=204,aC=205,f4=206,h4=207,d4=208,p4=209,m4=210,g4=0,y4=1,v4=2,ub=3,_4=4,w4=5,x4=6,b4=7,l1=0,S4=1,E4=2,wu=0,M4=1,T4=2,A4=3,lC=4,C4=5,xS=300,Bd=301,Nd=302,T_=303,A_=304,ky=306,C_=1e3,Ao=1001,I_=1002,ts=1003,cb=1004,aq=1004,fb=1005,lq=1005,Ui=1006,uC=1007,uq=1007,tg=1008,cq=1008,zd=1009,I4=1010,R4=1011,ry=1012,L4=1013,Jv=1014,Wf=1015,iy=1016,P4=1017,D4=1018,xm=1020,k4=1021,O4=1022,Ua=1023,F4=1024,B4=1025,Id=1026,Fm=1027,N4=1028,z4=1029,U4=1030,V4=1031,H4=1033,Mx=33776,Tx=33777,Ax=33778,Cx=33779,DT=35840,kT=35841,OT=35842,FT=35843,W4=36196,BT=37492,NT=37496,zT=37808,UT=37809,VT=37810,HT=37811,WT=37812,GT=37813,$T=37814,jT=37815,YT=37816,qT=37817,XT=37818,ZT=37819,KT=37820,JT=37821,QT=36492,G4=2200,$4=2201,j4=2202,R_=2300,L_=2301,Ix=2302,lm=2400,um=2401,P_=2402,bS=2500,cC=2501,Y4=0,fq=1,hq=2,Eu=3e3,Hr=3001,q4=3200,X4=3201,eg=0,Z4=1,dq="",oc="srgb",yd="srgb-linear",pq=0,Rx=7680,mq=7681,gq=7682,yq=7683,vq=34055,_q=34056,wq=5386,xq=512,bq=513,Sq=514,Eq=515,Mq=516,Tq=517,Aq=518,K4=519,sy=35044,oy=35048,Cq=35040,Iq=35045,Rq=35049,Lq=35041,Pq=35046,Dq=35050,kq=35042,Oq="100",tA="300 es",hb=1035;class sh{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(e)===-1&&r[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const r=this._listeners[t.type];if(r!==void 0){t.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,t);t.target=null}}}const ks=[];for(let n=0;n<256;n++)ks[n]=(n<16?"0":"")+n.toString(16);let GP=1234567;const bm=Math.PI/180,D_=180/Math.PI;function Ha(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ks[n&255]+ks[n>>8&255]+ks[n>>16&255]+ks[n>>24&255]+"-"+ks[t&255]+ks[t>>8&255]+"-"+ks[t>>16&15|64]+ks[t>>24&255]+"-"+ks[e&63|128]+ks[e>>8&255]+"-"+ks[e>>16&255]+ks[e>>24&255]+ks[r&255]+ks[r>>8&255]+ks[r>>16&255]+ks[r>>24&255]).toLowerCase()}function Vi(n,t,e){return Math.max(t,Math.min(e,n))}function fC(n,t){return(n%t+t)%t}function Fq(n,t,e,r,i){return r+(n-t)*(i-r)/(e-t)}function Bq(n,t,e){return n!==t?(e-n)/(t-n):0}function Qv(n,t,e){return(1-e)*n+e*t}function Nq(n,t,e,r){return Qv(n,t,1-Math.exp(-e*r))}function zq(n,t=1){return t-Math.abs(fC(n,t*2)-t)}function Uq(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function Vq(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function Hq(n,t){return n+Math.floor(Math.random()*(t-n+1))}function Wq(n,t){return n+Math.random()*(t-n)}function Gq(n){return n*(.5-Math.random())}function $q(n){n!==void 0&&(GP=n);let t=GP+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function jq(n){return n*bm}function Yq(n){return n*D_}function eA(n){return(n&n-1)===0&&n!==0}function J4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function db(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function qq(n,t,e,r,i){const s=Math.cos,o=Math.sin,a=s(e/2),l=o(e/2),u=s((t+r)/2),h=o((t+r)/2),m=s((t-r)/2),d=o((t-r)/2),y=s((r-t)/2),_=o((r-t)/2);switch(i){case"XYX":n.set(a*h,l*m,l*d,a*u);break;case"YZY":n.set(l*d,a*h,l*m,a*u);break;case"ZXZ":n.set(l*m,l*d,a*h,a*u);break;case"XZX":n.set(a*h,l*_,l*y,a*u);break;case"YXY":n.set(l*y,a*h,l*_,a*u);break;case"ZYZ":n.set(l*_,l*y,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Xq(n,t){switch(t.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Zq(n,t){switch(t.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var si=Object.freeze({__proto__:null,DEG2RAD:bm,RAD2DEG:D_,generateUUID:Ha,clamp:Vi,euclideanModulo:fC,mapLinear:Fq,inverseLerp:Bq,lerp:Qv,damp:Nq,pingpong:zq,smoothstep:Uq,smootherstep:Vq,randInt:Hq,randFloat:Wq,randFloatSpread:Gq,seededRandom:$q,degToRad:jq,radToDeg:Yq,isPowerOfTwo:eA,ceilPowerOfTwo:J4,floorPowerOfTwo:db,setQuaternionFromProperEuler:qq,normalize:Zq,denormalize:Xq});class ie{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6],this.y=i[1]*e+i[4]*r+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),i=Math.sin(e),s=this.x-t.x,o=this.y-t.y;return this.x=s*r-o*i+t.x,this.y=s*i+o*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ie.prototype.isVector2=!0;class ms{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,r,i,s,o,a,l,u){const h=this.elements;return h[0]=t,h[1]=i,h[2]=a,h[3]=e,h[4]=s,h[5]=l,h[6]=r,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,i=e.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],h=r[4],m=r[7],d=r[2],y=r[5],_=r[8],v=i[0],w=i[3],x=i[6],S=i[1],M=i[4],T=i[7],A=i[2],P=i[5],F=i[8];return s[0]=o*v+a*S+l*A,s[3]=o*w+a*M+l*P,s[6]=o*x+a*T+l*F,s[1]=u*v+h*S+m*A,s[4]=u*w+h*M+m*P,s[7]=u*x+h*T+m*F,s[2]=d*v+y*S+_*A,s[5]=d*w+y*M+_*P,s[8]=d*x+y*T+_*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8];return e*o*h-e*a*u-r*s*h+r*a*l+i*s*u-i*o*l}invert(){const t=this.elements,e=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],m=h*o-a*u,d=a*l-h*s,y=u*s-o*l,_=e*m+r*d+i*y;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/_;return t[0]=m*v,t[1]=(i*u-h*r)*v,t[2]=(a*r-i*o)*v,t[3]=d*v,t[4]=(h*e-i*l)*v,t[5]=(i*s-a*e)*v,t[6]=y*v,t[7]=(r*l-u*e)*v,t[8]=(o*e-r*s)*v,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+t,-i*u,i*l,-i*(-u*o+l*a)+a+e,0,0,1),this}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],h=i[7];return i[0]=e*s+r*l,i[3]=e*o+r*u,i[6]=e*a+r*h,i[1]=-r*s+e*l,i[4]=-r*o+e*u,i[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let i=0;i<9;i++)if(e[i]!==r[i])return!1;return!0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return new this.constructor().fromArray(this.elements)}}ms.prototype.isMatrix3=!0;function Q4(n){for(let t=n.length-1;t>=0;--t)if(n[t]>65535)return!0;return!1}const Kq={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function R0(n,t){return new Kq[n](t)}function k_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Sm(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Lx(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const vE={[oc]:{[yd]:Sm},[yd]:{[oc]:Lx}},sl={legacyMode:!0,get workingColorSpace(){return yd},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(this.legacyMode||t===e||!t||!e)return n;if(vE[t]&&vE[t][e]!==void 0){const r=vE[t][e];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}},tz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},us={r:0,g:0,b:0},nu={h:0,s:0,l:0},mw={h:0,s:0,l:0};function _E(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}function gw(n,t){return t.r=n.r,t.g=n.g,t.b=n.b,t}class Te{constructor(t,e,r){return e===void 0&&r===void 0?this.set(t):this.setRGB(t,e,r)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=oc){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,sl.toWorkingColorSpace(this,e),this}setRGB(t,e,r,i=yd){return this.r=t,this.g=e,this.b=r,sl.toWorkingColorSpace(this,i),this}setHSL(t,e,r,i=yd){if(t=fC(t,1),e=Vi(e,0,1),r=Vi(r,0,1),e===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+e):r+e-r*e,o=2*r-s;this.r=_E(o,s,t+1/3),this.g=_E(o,s,t),this.b=_E(o,s,t-1/3)}return sl.toWorkingColorSpace(this,i),this}setStyle(t,e=oc){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,sl.toWorkingColorSpace(this,e),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,sl.toWorkingColorSpace(this,e),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseInt(s[2],10)/100,h=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,u,h,e)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,sl.toWorkingColorSpace(this,e),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,sl.toWorkingColorSpace(this,e),this}return t&&t.length>0?this.setColorName(t,e):this}setColorName(t,e=oc){const r=tz[t.toLowerCase()];return r!==void 0?this.setHex(r,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Sm(t.r),this.g=Sm(t.g),this.b=Sm(t.b),this}copyLinearToSRGB(t){return this.r=Lx(t.r),this.g=Lx(t.g),this.b=Lx(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=oc){return sl.fromWorkingColorSpace(gw(this,us),t),Vi(us.r*255,0,255)<<16^Vi(us.g*255,0,255)<<8^Vi(us.b*255,0,255)<<0}getHexString(t=oc){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=yd){sl.fromWorkingColorSpace(gw(this,us),e);const r=us.r,i=us.g,s=us.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const m=o-a;switch(u=h<=.5?m/(o+a):m/(2-o-a),o){case r:l=(i-s)/m+(i<s?6:0);break;case i:l=(s-r)/m+2;break;case s:l=(r-i)/m+4;break}l/=6}return t.h=l,t.s=u,t.l=h,t}getRGB(t,e=yd){return sl.fromWorkingColorSpace(gw(this,us),e),t.r=us.r,t.g=us.g,t.b=us.b,t}getStyle(t=oc){return sl.fromWorkingColorSpace(gw(this,us),t),t!==oc?`color(${t} ${us.r} ${us.g} ${us.b})`:`rgb(${us.r*255|0},${us.g*255|0},${us.b*255|0})`}offsetHSL(t,e,r){return this.getHSL(nu),nu.h+=t,nu.s+=e,nu.l+=r,this.setHSL(nu.h,nu.s,nu.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,r){return this.r=t.r+(e.r-t.r)*r,this.g=t.g+(e.g-t.g)*r,this.b=t.b+(e.b-t.b)*r,this}lerpHSL(t,e){this.getHSL(nu),t.getHSL(mw);const r=Qv(nu.h,mw.h,e),i=Qv(nu.s,mw.s,e),s=Qv(nu.l,mw.l,e);return this.setHSL(r,i,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Te.NAMES=tz;Te.prototype.isColor=!0;Te.prototype.r=1;Te.prototype.g=1;Te.prototype.b=1;let Wg;class Kd{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement=="undefined")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Wg===void 0&&(Wg=k_("canvas")),Wg.width=t.width,Wg.height=t.height;const r=Wg.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),e=Wg}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap){const e=k_("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const i=r.getImageData(0,0,t.width,t.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Sm(s[o]/255)*255;return r.putImageData(i,0,0),e}else if(t.data){const e=t.data.slice(0);for(let r=0;r<e.length;r++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[r]=Math.floor(Sm(e[r]/255)*255):e[r]=Sm(e[r]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class vd{constructor(t=null){this.uuid=Ha(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(wE(i[o].image)):s.push(wE(i[o]))}else s=wE(i);r.url=s}return e||(t.images[this.uuid]=r),r}}function wE(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?Kd.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}vd.prototype.isSource=!0;let Jq=0;class Gi extends sh{constructor(t=Gi.DEFAULT_IMAGE,e=Gi.DEFAULT_MAPPING,r=Ao,i=Ao,s=Ui,o=tg,a=Ua,l=zd,u=1,h=Eu){super(),Object.defineProperty(this,"id",{value:Jq++}),this.uuid=Ha(),this.name="",this.source=new vd(t),this.mipmaps=[],this.mapping=e,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ie(0,0),this.repeat=new ie(1,1),this.center=new ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ms,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),e||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==xS)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case C_:t.x=t.x-Math.floor(t.x);break;case Ao:t.x=t.x<0?0:1;break;case I_:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case C_:t.y=t.y-Math.floor(t.y);break;case Ao:t.y=t.y<0?0:1;break;case I_:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}Gi.DEFAULT_IMAGE=null;Gi.DEFAULT_MAPPING=xS;Gi.prototype.isTexture=!0;class xr{constructor(t=0,e=0,r=0,i=1){this.x=t,this.y=e,this.z=r,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,r,i){return this.x=t,this.y=e,this.z=r,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,r=this.y,i=this.z,s=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*e+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*e+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*e+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,r,i,s;const l=t.elements,u=l[0],h=l[4],m=l[8],d=l[1],y=l[5],_=l[9],v=l[2],w=l[6],x=l[10];if(Math.abs(h-d)<.01&&Math.abs(m-v)<.01&&Math.abs(_-w)<.01){if(Math.abs(h+d)<.1&&Math.abs(m+v)<.1&&Math.abs(_+w)<.1&&Math.abs(u+y+x-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const M=(u+1)/2,T=(y+1)/2,A=(x+1)/2,P=(h+d)/4,F=(m+v)/4,C=(_+w)/4;return M>T&&M>A?M<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(M),i=P/r,s=F/r):T>A?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=P/i,s=C/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=F/s,i=C/s),this.set(r,i,s,e),this}let S=Math.sqrt((w-_)*(w-_)+(m-v)*(m-v)+(d-h)*(d-h));return Math.abs(S)<.001&&(S=1),this.x=(w-_)/S,this.y=(m-v)/S,this.z=(d-h)/S,this.w=Math.acos((u+y+x-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this.w=t.w+(e.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}xr.prototype.isVector4=!0;class Lo extends sh{constructor(t,e,r={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new xr(0,0,t,e),this.scissorTest=!1,this.viewport=new xr(0,0,t,e);const i={width:t,height:e,depth:1};this.texture=new Gi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ui,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(t,e,r=1){(this.width!==t||this.height!==e||this.depth!==r)&&(this.width=t,this.height=e,this.depth=r,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new vd(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Lo.prototype.isWebGLRenderTarget=!0;class Oy extends Gi{constructor(t=null,e=1,r=1,i=1){super(null),this.image={data:t,width:e,height:r,depth:i},this.magFilter=ts,this.minFilter=ts,this.wrapR=Ao,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Oy.prototype.isDataArrayTexture=!0;class ez extends Lo{constructor(t,e,r){super(t,e),this.depth=r,this.texture=new Oy(null,t,e,r),this.texture.isRenderTargetTexture=!0}}ez.prototype.isWebGLArrayRenderTarget=!0;class u1 extends Gi{constructor(t=null,e=1,r=1,i=1){super(null),this.image={data:t,width:e,height:r,depth:i},this.magFilter=ts,this.minFilter=ts,this.wrapR=Ao,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}u1.prototype.isData3DTexture=!0;class nz extends Lo{constructor(t,e,r){super(t,e),this.depth=r,this.texture=new u1(null,t,e,r),this.texture.isRenderTargetTexture=!0}}nz.prototype.isWebGL3DRenderTarget=!0;class rz extends Lo{constructor(t,e,r,i={}){super(t,e,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(t,e,r=1){if(this.width!==t||this.height!==e||this.depth!==r){this.width=t,this.height=e,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=t,this.texture[i].image.height=e,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.texture.length=0;for(let e=0,r=t.texture.length;e<r;e++)this.texture[e]=t.texture[e].clone(),this.texture[e].isRenderTargetTexture=!0;return this}}rz.prototype.isWebGLMultipleRenderTargets=!0;class Cs{constructor(t=0,e=0,r=0,i=1){this._x=t,this._y=e,this._z=r,this._w=i}static slerp(t,e,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(t,e,i)}static slerpFlat(t,e,r,i,s,o,a){let l=r[i+0],u=r[i+1],h=r[i+2],m=r[i+3];const d=s[o+0],y=s[o+1],_=s[o+2],v=s[o+3];if(a===0){t[e+0]=l,t[e+1]=u,t[e+2]=h,t[e+3]=m;return}if(a===1){t[e+0]=d,t[e+1]=y,t[e+2]=_,t[e+3]=v;return}if(m!==v||l!==d||u!==y||h!==_){let w=1-a;const x=l*d+u*y+h*_+m*v,S=x>=0?1:-1,M=1-x*x;if(M>Number.EPSILON){const A=Math.sqrt(M),P=Math.atan2(A,x*S);w=Math.sin(w*P)/A,a=Math.sin(a*P)/A}const T=a*S;if(l=l*w+d*T,u=u*w+y*T,h=h*w+_*T,m=m*w+v*T,w===1-a){const A=1/Math.sqrt(l*l+u*u+h*h+m*m);l*=A,u*=A,h*=A,m*=A}}t[e]=l,t[e+1]=u,t[e+2]=h,t[e+3]=m}static multiplyQuaternionsFlat(t,e,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],h=r[i+3],m=s[o],d=s[o+1],y=s[o+2],_=s[o+3];return t[e]=a*_+h*m+l*y-u*d,t[e+1]=l*_+h*d+u*m-a*y,t[e+2]=u*_+h*y+a*d-l*m,t[e+3]=h*_-a*m-l*d-u*y,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,r,i){return this._x=t,this._y=e,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,i=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,u=a(r/2),h=a(i/2),m=a(s/2),d=l(r/2),y=l(i/2),_=l(s/2);switch(o){case"XYZ":this._x=d*h*m+u*y*_,this._y=u*y*m-d*h*_,this._z=u*h*_+d*y*m,this._w=u*h*m-d*y*_;break;case"YXZ":this._x=d*h*m+u*y*_,this._y=u*y*m-d*h*_,this._z=u*h*_-d*y*m,this._w=u*h*m+d*y*_;break;case"ZXY":this._x=d*h*m-u*y*_,this._y=u*y*m+d*h*_,this._z=u*h*_+d*y*m,this._w=u*h*m-d*y*_;break;case"ZYX":this._x=d*h*m-u*y*_,this._y=u*y*m+d*h*_,this._z=u*h*_-d*y*m,this._w=u*h*m+d*y*_;break;case"YZX":this._x=d*h*m+u*y*_,this._y=u*y*m+d*h*_,this._z=u*h*_-d*y*m,this._w=u*h*m-d*y*_;break;case"XZY":this._x=d*h*m-u*y*_,this._y=u*y*m-d*h*_,this._z=u*h*_+d*y*m,this._w=u*h*m+d*y*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,i=Math.sin(r);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],i=e[4],s=e[8],o=e[1],a=e[5],l=e[9],u=e[2],h=e[6],m=e[10],d=r+a+m;if(d>0){const y=.5/Math.sqrt(d+1);this._w=.25/y,this._x=(h-l)*y,this._y=(s-u)*y,this._z=(o-i)*y}else if(r>a&&r>m){const y=2*Math.sqrt(1+r-a-m);this._w=(h-l)/y,this._x=.25*y,this._y=(i+o)/y,this._z=(s+u)/y}else if(a>m){const y=2*Math.sqrt(1+a-r-m);this._w=(s-u)/y,this._x=(i+o)/y,this._y=.25*y,this._z=(l+h)/y}else{const y=2*Math.sqrt(1+m-r-a);this._w=(o-i)/y,this._x=(s+u)/y,this._y=(l+h)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Vi(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(r===0)return this;const i=Math.min(1,e/r);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return e!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,i=t._y,s=t._z,o=t._w,a=e._x,l=e._y,u=e._z,h=e._w;return this._x=r*h+o*a+i*u-s*l,this._y=i*h+o*l+s*a-r*u,this._z=s*h+o*u+r*l-i*a,this._w=o*h-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*t._w+r*t._x+i*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const y=1-e;return this._w=y*o+e*this._w,this._x=y*r+e*this._x,this._y=y*i+e*this._y,this._z=y*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),m=Math.sin((1-e)*h)/u,d=Math.sin(e*h)/u;return this._w=o*m+this._w*d,this._x=r*m+this._x*d,this._y=i*m+this._y*d,this._z=s*m+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,r){return this.copy(t).slerp(e,r)}random(){const t=Math.random(),e=Math.sqrt(1-t),r=Math.sqrt(t),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(i),r*Math.sin(s),r*Math.cos(s),e*Math.sin(i))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}Cs.prototype.isQuaternion=!0;class rt{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}set(t,e,r){return r===void 0&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return e!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return e!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return e!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion($P.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion($P.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,i=this.z,s=t.elements;return this.x=s[0]*e+s[3]*r+s[6]*i,this.y=s[1]*e+s[4]*r+s[7]*i,this.z=s[2]*e+s[5]*r+s[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,i=this.z,s=t.elements,o=1/(s[3]*e+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*e+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*e+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*e+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(t){const e=this.x,r=this.y,i=this.z,s=t.x,o=t.y,a=t.z,l=t.w,u=l*e+o*i-a*r,h=l*r+a*e-s*i,m=l*i+s*r-o*e,d=-s*e-o*r-a*i;return this.x=u*l+d*-s+h*-a-m*-o,this.y=h*l+d*-o+m*-s-u*-a,this.z=m*l+d*-a+u*-o-h*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,i=this.z,s=t.elements;return this.x=s[0]*e+s[4]*r+s[8]*i,this.y=s[1]*e+s[5]*r+s[9]*i,this.z=s[2]*e+s[6]*r+s[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return e!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,i=t.y,s=t.z,o=e.x,a=e.y,l=e.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return xE.copy(this).projectOnVector(t),this.sub(xE)}reflect(t){return this.sub(xE.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(Vi(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return e*e+r*r+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const i=Math.sin(e)*t;return this.x=i*Math.sin(r),this.y=Math.cos(e)*t,this.z=i*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,r=Math.sqrt(1-t**2);return this.x=r*Math.cos(e),this.y=r*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}rt.prototype.isVector3=!0;const xE=new rt,$P=new Cs;class da{constructor(t=new rt(1/0,1/0,1/0),e=new rt(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=t.length;l<u;l+=3){const h=t[l],m=t[l+1],d=t[l+2];h<e&&(e=h),m<r&&(r=m),d<i&&(i=d),h>s&&(s=h),m>o&&(o=m),d>a&&(a=d)}return this.min.set(e,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(t){let e=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=t.count;l<u;l++){const h=t.getX(l),m=t.getY(l),d=t.getZ(l);h<e&&(e=h),m<r&&(r=m),d<i&&(i=d),h>s&&(s=h),m>o&&(o=m),d>a&&(a=d)}return this.min.set(e,r,i),this.max.set(s,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=Wp.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const r=t.geometry;if(r!==void 0)if(e&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Wp.fromBufferAttribute(s,o).applyMatrix4(t.matrixWorld),this.expandByPoint(Wp)}else r.boundingBox===null&&r.computeBoundingBox(),bE.copy(r.boundingBox),bE.applyMatrix4(t.matrixWorld),this.union(bE);const i=t.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Wp),Wp.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(xv),yw.subVectors(this.max,xv),Gg.subVectors(t.a,xv),$g.subVectors(t.b,xv),jg.subVectors(t.c,xv),ed.subVectors($g,Gg),nd.subVectors(jg,$g),Gp.subVectors(Gg,jg);let e=[0,-ed.z,ed.y,0,-nd.z,nd.y,0,-Gp.z,Gp.y,ed.z,0,-ed.x,nd.z,0,-nd.x,Gp.z,0,-Gp.x,-ed.y,ed.x,0,-nd.y,nd.x,0,-Gp.y,Gp.x,0];return!SE(e,Gg,$g,jg,yw)||(e=[1,0,0,0,1,0,0,0,1],!SE(e,Gg,$g,jg,yw))?!1:(vw.crossVectors(ed,nd),e=[vw.x,vw.y,vw.z],SE(e,Gg,$g,jg,yw))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Wp.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(Wp).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Cf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Cf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Cf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Cf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Cf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Cf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Cf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Cf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Cf),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}da.prototype.isBox3=!0;const Cf=[new rt,new rt,new rt,new rt,new rt,new rt,new rt,new rt],Wp=new rt,bE=new da,Gg=new rt,$g=new rt,jg=new rt,ed=new rt,nd=new rt,Gp=new rt,xv=new rt,yw=new rt,vw=new rt,$p=new rt;function SE(n,t,e,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){$p.fromArray(n,s);const a=i.x*Math.abs($p.x)+i.y*Math.abs($p.y)+i.z*Math.abs($p.z),l=t.dot($p),u=e.dot($p),h=r.dot($p);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const Qq=new da,jP=new rt,_w=new rt,EE=new rt;class oh{constructor(t=new rt,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const r=this.center;e!==void 0?r.copy(e):Qq.setFromPoints(t).getCenter(r);let i=0;for(let s=0,o=t.length;s<o;s++)i=Math.max(i,r.distanceToSquared(t[s]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){EE.subVectors(t,this.center);const e=EE.lengthSq();if(e>this.radius*this.radius){const r=Math.sqrt(e),i=(r-this.radius)*.5;this.center.add(EE.multiplyScalar(i/r)),this.radius+=i}return this}union(t){return this.center.equals(t.center)===!0?_w.set(0,0,1).multiplyScalar(t.radius):_w.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(jP.copy(t.center).add(_w)),this.expandByPoint(jP.copy(t.center).sub(_w)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const If=new rt,ME=new rt,ww=new rt,rd=new rt,TE=new rt,xw=new rt,AE=new rt;class Jd{constructor(t=new rt,e=new rt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,If)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=If.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(If.copy(this.direction).multiplyScalar(e).add(this.origin),If.distanceToSquared(t))}distanceSqToSegment(t,e,r,i){ME.copy(t).add(e).multiplyScalar(.5),ww.copy(e).sub(t).normalize(),rd.copy(this.origin).sub(ME);const s=t.distanceTo(e)*.5,o=-this.direction.dot(ww),a=rd.dot(this.direction),l=-rd.dot(ww),u=rd.lengthSq(),h=Math.abs(1-o*o);let m,d,y,_;if(h>0)if(m=o*l-a,d=o*a-l,_=s*h,m>=0)if(d>=-_)if(d<=_){const v=1/h;m*=v,d*=v,y=m*(m+o*d+2*a)+d*(o*m+d+2*l)+u}else d=s,m=Math.max(0,-(o*d+a)),y=-m*m+d*(d+2*l)+u;else d=-s,m=Math.max(0,-(o*d+a)),y=-m*m+d*(d+2*l)+u;else d<=-_?(m=Math.max(0,-(-o*s+a)),d=m>0?-s:Math.min(Math.max(-s,-l),s),y=-m*m+d*(d+2*l)+u):d<=_?(m=0,d=Math.min(Math.max(-s,-l),s),y=d*(d+2*l)+u):(m=Math.max(0,-(o*s+a)),d=m>0?s:Math.min(Math.max(-s,-l),s),y=-m*m+d*(d+2*l)+u);else d=o>0?-s:s,m=Math.max(0,-(o*d+a)),y=-m*m+d*(d+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(m).add(this.origin),i&&i.copy(ww).multiplyScalar(d).add(ME),y}intersectSphere(t,e){If.subVectors(t.center,this.origin);const r=If.dot(this.direction),i=If.dot(If)-r*r,s=t.radius*t.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null}intersectPlane(t,e){const r=this.distanceToPlane(t);return r===null?null:this.at(r,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let r,i,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,m=1/this.direction.z,d=this.origin;return u>=0?(r=(t.min.x-d.x)*u,i=(t.max.x-d.x)*u):(r=(t.max.x-d.x)*u,i=(t.min.x-d.x)*u),h>=0?(s=(t.min.y-d.y)*h,o=(t.max.y-d.y)*h):(s=(t.max.y-d.y)*h,o=(t.min.y-d.y)*h),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),m>=0?(a=(t.min.z-d.z)*m,l=(t.max.z-d.z)*m):(a=(t.max.z-d.z)*m,l=(t.min.z-d.z)*m),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,e)}intersectsBox(t){return this.intersectBox(t,If)!==null}intersectTriangle(t,e,r,i,s){TE.subVectors(e,t),xw.subVectors(r,t),AE.crossVectors(TE,xw);let o=this.direction.dot(AE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;rd.subVectors(this.origin,t);const l=a*this.direction.dot(xw.crossVectors(rd,xw));if(l<0)return null;const u=a*this.direction.dot(TE.cross(rd));if(u<0||l+u>o)return null;const h=-a*rd.dot(AE);return h<0?null:this.at(h/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ae{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,r,i,s,o,a,l,u,h,m,d,y,_,v,w){const x=this.elements;return x[0]=t,x[4]=e,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=h,x[10]=m,x[14]=d,x[3]=y,x[7]=_,x[11]=v,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ae().fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,i=1/Yg.setFromMatrixColumn(t,0).length(),s=1/Yg.setFromMatrixColumn(t,1).length(),o=1/Yg.setFromMatrixColumn(t,2).length();return e[0]=r[0]*i,e[1]=r[1]*i,e[2]=r[2]*i,e[3]=0,e[4]=r[4]*s,e[5]=r[5]*s,e[6]=r[6]*s,e[7]=0,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,i=t.y,s=t.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),m=Math.sin(s);if(t.order==="XYZ"){const d=o*h,y=o*m,_=a*h,v=a*m;e[0]=l*h,e[4]=-l*m,e[8]=u,e[1]=y+_*u,e[5]=d-v*u,e[9]=-a*l,e[2]=v-d*u,e[6]=_+y*u,e[10]=o*l}else if(t.order==="YXZ"){const d=l*h,y=l*m,_=u*h,v=u*m;e[0]=d+v*a,e[4]=_*a-y,e[8]=o*u,e[1]=o*m,e[5]=o*h,e[9]=-a,e[2]=y*a-_,e[6]=v+d*a,e[10]=o*l}else if(t.order==="ZXY"){const d=l*h,y=l*m,_=u*h,v=u*m;e[0]=d-v*a,e[4]=-o*m,e[8]=_+y*a,e[1]=y+_*a,e[5]=o*h,e[9]=v-d*a,e[2]=-o*u,e[6]=a,e[10]=o*l}else if(t.order==="ZYX"){const d=o*h,y=o*m,_=a*h,v=a*m;e[0]=l*h,e[4]=_*u-y,e[8]=d*u+v,e[1]=l*m,e[5]=v*u+d,e[9]=y*u-_,e[2]=-u,e[6]=a*l,e[10]=o*l}else if(t.order==="YZX"){const d=o*l,y=o*u,_=a*l,v=a*u;e[0]=l*h,e[4]=v-d*m,e[8]=_*m+y,e[1]=m,e[5]=o*h,e[9]=-a*h,e[2]=-u*h,e[6]=y*m+_,e[10]=d-v*m}else if(t.order==="XZY"){const d=o*l,y=o*u,_=a*l,v=a*u;e[0]=l*h,e[4]=-m,e[8]=u*h,e[1]=d*m+v,e[5]=o*h,e[9]=y*m-_,e[2]=_*m-y,e[6]=a*h,e[10]=v*m+d}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(tX,t,eX)}lookAt(t,e,r){const i=this.elements;return La.subVectors(t,e),La.lengthSq()===0&&(La.z=1),La.normalize(),id.crossVectors(r,La),id.lengthSq()===0&&(Math.abs(r.z)===1?La.x+=1e-4:La.z+=1e-4,La.normalize(),id.crossVectors(r,La)),id.normalize(),bw.crossVectors(La,id),i[0]=id.x,i[4]=bw.x,i[8]=La.x,i[1]=id.y,i[5]=bw.y,i[9]=La.y,i[2]=id.z,i[6]=bw.z,i[10]=La.z,this}multiply(t,e){return e!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,i=e.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],h=r[1],m=r[5],d=r[9],y=r[13],_=r[2],v=r[6],w=r[10],x=r[14],S=r[3],M=r[7],T=r[11],A=r[15],P=i[0],F=i[4],C=i[8],B=i[12],V=i[1],Y=i[5],z=i[9],q=i[13],L=i[2],tt=i[6],ct=i[10],lt=i[14],at=i[3],it=i[7],ut=i[11],j=i[15];return s[0]=o*P+a*V+l*L+u*at,s[4]=o*F+a*Y+l*tt+u*it,s[8]=o*C+a*z+l*ct+u*ut,s[12]=o*B+a*q+l*lt+u*j,s[1]=h*P+m*V+d*L+y*at,s[5]=h*F+m*Y+d*tt+y*it,s[9]=h*C+m*z+d*ct+y*ut,s[13]=h*B+m*q+d*lt+y*j,s[2]=_*P+v*V+w*L+x*at,s[6]=_*F+v*Y+w*tt+x*it,s[10]=_*C+v*z+w*ct+x*ut,s[14]=_*B+v*q+w*lt+x*j,s[3]=S*P+M*V+T*L+A*at,s[7]=S*F+M*Y+T*tt+A*it,s[11]=S*C+M*z+T*ct+A*ut,s[15]=S*B+M*q+T*lt+A*j,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],i=t[8],s=t[12],o=t[1],a=t[5],l=t[9],u=t[13],h=t[2],m=t[6],d=t[10],y=t[14],_=t[3],v=t[7],w=t[11],x=t[15];return _*(+s*l*m-i*u*m-s*a*d+r*u*d+i*a*y-r*l*y)+v*(+e*l*y-e*u*d+s*o*d-i*o*y+i*u*h-s*l*h)+w*(+e*u*m-e*a*y-s*o*m+r*o*y+s*a*h-r*u*h)+x*(-i*a*h-e*l*m+e*a*d+i*o*m-r*o*d+r*l*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],m=t[9],d=t[10],y=t[11],_=t[12],v=t[13],w=t[14],x=t[15],S=m*w*u-v*d*u+v*l*y-a*w*y-m*l*x+a*d*x,M=_*d*u-h*w*u-_*l*y+o*w*y+h*l*x-o*d*x,T=h*v*u-_*m*u+_*a*y-o*v*y-h*a*x+o*m*x,A=_*m*l-h*v*l-_*a*d+o*v*d+h*a*w-o*m*w,P=e*S+r*M+i*T+s*A;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/P;return t[0]=S*F,t[1]=(v*d*s-m*w*s-v*i*y+r*w*y+m*i*x-r*d*x)*F,t[2]=(a*w*s-v*l*s+v*i*u-r*w*u-a*i*x+r*l*x)*F,t[3]=(m*l*s-a*d*s-m*i*u+r*d*u+a*i*y-r*l*y)*F,t[4]=M*F,t[5]=(h*w*s-_*d*s+_*i*y-e*w*y-h*i*x+e*d*x)*F,t[6]=(_*l*s-o*w*s-_*i*u+e*w*u+o*i*x-e*l*x)*F,t[7]=(o*d*s-h*l*s+h*i*u-e*d*u-o*i*y+e*l*y)*F,t[8]=T*F,t[9]=(_*m*s-h*v*s-_*r*y+e*v*y+h*r*x-e*m*x)*F,t[10]=(o*v*s-_*a*s+_*r*u-e*v*u-o*r*x+e*a*x)*F,t[11]=(h*a*s-o*m*s-h*r*u+e*m*u+o*r*y-e*a*y)*F,t[12]=A*F,t[13]=(h*v*i-_*m*i+_*r*d-e*v*d-h*r*w+e*m*w)*F,t[14]=(_*a*i-o*v*i-_*r*l+e*v*l+o*r*w-e*a*w)*F,t[15]=(o*m*i-h*a*i+h*r*l-e*m*l-o*r*d+e*a*d)*F,this}scale(t){const e=this.elements,r=t.x,i=t.y,s=t.z;return e[0]*=r,e[4]*=i,e[8]*=s,e[1]*=r,e[5]*=i,e[9]*=s,e[2]*=r,e[6]*=i,e[10]*=s,e[3]*=r,e[7]*=i,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,i))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),i=Math.sin(e),s=1-r,o=t.x,a=t.y,l=t.z,u=s*o,h=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,h*a+r,h*l-i*o,0,u*l-i*a,h*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,i,s,o){return this.set(1,r,s,0,t,1,o,0,e,i,1,0,0,0,0,1),this}compose(t,e,r){const i=this.elements,s=e._x,o=e._y,a=e._z,l=e._w,u=s+s,h=o+o,m=a+a,d=s*u,y=s*h,_=s*m,v=o*h,w=o*m,x=a*m,S=l*u,M=l*h,T=l*m,A=r.x,P=r.y,F=r.z;return i[0]=(1-(v+x))*A,i[1]=(y+T)*A,i[2]=(_-M)*A,i[3]=0,i[4]=(y-T)*P,i[5]=(1-(d+x))*P,i[6]=(w+S)*P,i[7]=0,i[8]=(_+M)*F,i[9]=(w-S)*F,i[10]=(1-(d+v))*F,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,r){const i=this.elements;let s=Yg.set(i[0],i[1],i[2]).length();const o=Yg.set(i[4],i[5],i[6]).length(),a=Yg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),t.x=i[12],t.y=i[13],t.z=i[14],ru.copy(this);const u=1/s,h=1/o,m=1/a;return ru.elements[0]*=u,ru.elements[1]*=u,ru.elements[2]*=u,ru.elements[4]*=h,ru.elements[5]*=h,ru.elements[6]*=h,ru.elements[8]*=m,ru.elements[9]*=m,ru.elements[10]*=m,e.setFromRotationMatrix(ru),r.x=s,r.y=o,r.z=a,this}makePerspective(t,e,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(e-t),u=2*s/(r-i),h=(e+t)/(e-t),m=(r+i)/(r-i),d=-(o+s)/(o-s),y=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=m,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,i,s,o){const a=this.elements,l=1/(e-t),u=1/(r-i),h=1/(o-s),m=(e+t)*l,d=(r+i)*u,y=(o+s)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-m,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let i=0;i<16;i++)if(e[i]!==r[i])return!1;return!0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}Ae.prototype.isMatrix4=!0;const Yg=new rt,ru=new Ae,tX=new rt(0,0,0),eX=new rt(1,1,1),id=new rt,bw=new rt,La=new rt,YP=new Ae,qP=new Cs;class Qd{constructor(t=0,e=0,r=0,i=Qd.DefaultOrder){this._x=t,this._y=e,this._z=r,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,r,i=this._order){return this._x=t,this._y=e,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,r=!0){const i=t.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],h=i[9],m=i[2],d=i[6],y=i[10];switch(e){case"XYZ":this._y=Math.asin(Vi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,y),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Vi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,y),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Vi(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(d,y),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Vi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(a,y));break;case"XZY":this._z=Math.asin(-Vi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,r){return YP.makeRotationFromQuaternion(t),this.setFromRotationMatrix(YP,e,r)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return qP.setFromEuler(this),this.setFromQuaternion(qP,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qd.prototype.isEuler=!0;Qd.DefaultOrder="XYZ";Qd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Em{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let nX=0;const XP=new rt,qg=new Cs,Rf=new Ae,Sw=new rt,bv=new rt,rX=new rt,iX=new Cs,ZP=new rt(1,0,0),KP=new rt(0,1,0),JP=new rt(0,0,1),sX={type:"added"},QP={type:"removed"};class Yn extends sh{constructor(){super(),Object.defineProperty(this,"id",{value:nX++}),this.uuid=Ha(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yn.DefaultUp.clone();const t=new rt,e=new Qd,r=new Cs,i=new rt(1,1,1);function s(){r.setFromEuler(e,!1)}function o(){e.setFromQuaternion(r,void 0,!1)}e._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ae},normalMatrix:{value:new ms}}),this.matrix=new Ae,this.matrixWorld=new Ae,this.matrixAutoUpdate=Yn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Em,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return qg.setFromAxisAngle(t,e),this.quaternion.multiply(qg),this}rotateOnWorldAxis(t,e){return qg.setFromAxisAngle(t,e),this.quaternion.premultiply(qg),this}rotateX(t){return this.rotateOnAxis(ZP,t)}rotateY(t){return this.rotateOnAxis(KP,t)}rotateZ(t){return this.rotateOnAxis(JP,t)}translateOnAxis(t,e){return XP.copy(t).applyQuaternion(this.quaternion),this.position.add(XP.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(ZP,t)}translateY(t){return this.translateOnAxis(KP,t)}translateZ(t){return this.translateOnAxis(JP,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Rf.copy(this.matrixWorld).invert())}lookAt(t,e,r){t.isVector3?Sw.copy(t):Sw.set(t,e,r);const i=this.parent;this.updateWorldMatrix(!0,!1),bv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rf.lookAt(bv,Sw,this.up):Rf.lookAt(Sw,bv,this.up),this.quaternion.setFromRotationMatrix(Rf),i&&(Rf.extractRotation(i.matrixWorld),qg.setFromRotationMatrix(Rf),this.quaternion.premultiply(qg.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(sX)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(QP)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(QP)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Rf.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Rf.multiply(t.parent.matrixWorld)),t.applyMatrix4(Rf),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(t,e);if(o!==void 0)return o}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bv,t,rX),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bv,iX,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let r=0,i=e.length;r<i;r++)e[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let r=0,i=e.length;r<i;r++)e[r].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let r=0,i=e.length;r<i;r++)e[r].updateMatrixWorld(t)}updateWorldMatrix(t,e){const r=this.parent;if(t===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(t.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const m=l[u];s(t.shapes,m)}else s(t.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(t.materials,this.material[l]));i.material=a}else i.material=s(t.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(t.animations,l))}}if(e){const a=o(t.geometries),l=o(t.materials),u=o(t.textures),h=o(t.images),m=o(t.shapes),d=o(t.skeletons),y=o(t.animations),_=o(t.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),m.length>0&&(r.shapes=m),d.length>0&&(r.skeletons=d),y.length>0&&(r.animations=y),_.length>0&&(r.nodes=_)}return r.object=i,r;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let r=0;r<t.children.length;r++){const i=t.children[r];this.add(i.clone())}return this}}Yn.DefaultUp=new rt(0,1,0);Yn.DefaultMatrixAutoUpdate=!0;Yn.prototype.isObject3D=!0;const iu=new rt,Lf=new rt,CE=new rt,Pf=new rt,Xg=new rt,Zg=new rt,tD=new rt,IE=new rt,RE=new rt,LE=new rt;class Hi{constructor(t=new rt,e=new rt,r=new rt){this.a=t,this.b=e,this.c=r}static getNormal(t,e,r,i){i.subVectors(r,e),iu.subVectors(t,e),i.cross(iu);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(t,e,r,i,s){iu.subVectors(i,e),Lf.subVectors(r,e),CE.subVectors(t,e);const o=iu.dot(iu),a=iu.dot(Lf),l=iu.dot(CE),u=Lf.dot(Lf),h=Lf.dot(CE),m=o*u-a*a;if(m===0)return s.set(-2,-1,-1);const d=1/m,y=(u*l-a*h)*d,_=(o*h-a*l)*d;return s.set(1-y-_,_,y)}static containsPoint(t,e,r,i){return this.getBarycoord(t,e,r,i,Pf),Pf.x>=0&&Pf.y>=0&&Pf.x+Pf.y<=1}static getUV(t,e,r,i,s,o,a,l){return this.getBarycoord(t,e,r,i,Pf),l.set(0,0),l.addScaledVector(s,Pf.x),l.addScaledVector(o,Pf.y),l.addScaledVector(a,Pf.z),l}static isFrontFacing(t,e,r,i){return iu.subVectors(r,e),Lf.subVectors(t,e),iu.cross(Lf).dot(i)<0}set(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this}setFromPointsAndIndices(t,e,r,i){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,e,r,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return iu.subVectors(this.c,this.b),Lf.subVectors(this.a,this.b),iu.cross(Lf).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Hi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Hi.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,r,i,s){return Hi.getUV(t,this.a,this.b,this.c,e,r,i,s)}containsPoint(t){return Hi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Hi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const r=this.a,i=this.b,s=this.c;let o,a;Xg.subVectors(i,r),Zg.subVectors(s,r),IE.subVectors(t,r);const l=Xg.dot(IE),u=Zg.dot(IE);if(l<=0&&u<=0)return e.copy(r);RE.subVectors(t,i);const h=Xg.dot(RE),m=Zg.dot(RE);if(h>=0&&m<=h)return e.copy(i);const d=l*m-h*u;if(d<=0&&l>=0&&h<=0)return o=l/(l-h),e.copy(r).addScaledVector(Xg,o);LE.subVectors(t,s);const y=Xg.dot(LE),_=Zg.dot(LE);if(_>=0&&y<=_)return e.copy(s);const v=y*u-l*_;if(v<=0&&u>=0&&_<=0)return a=u/(u-_),e.copy(r).addScaledVector(Zg,a);const w=h*_-y*m;if(w<=0&&m-h>=0&&y-_>=0)return tD.subVectors(s,i),a=(m-h)/(m-h+(y-_)),e.copy(i).addScaledVector(tD,a);const x=1/(w+v+d);return o=v*x,a=d*x,e.copy(r).addScaledVector(Xg,o).addScaledVector(Zg,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let oX=0;class $i extends sh{constructor(){super(),Object.defineProperty(this,"id",{value:oX++}),this.uuid=Ha(),this.name="",this.type="Material",this.blending=wm,this.side=Om,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=oC,this.blendDst=aC,this.blendEquation=rm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ub,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=K4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rx,this.stencilZFail=Rx,this.stencilZPass=Rx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const r=t[e];if(r===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===sC;continue}const i=this[e];if(i===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[e]=r}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==wm&&(r.blending=this.blending),this.side!==Om&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(e){const s=i(t.textures),o=i(t.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let r=null;if(e!==null){const i=e.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=e[s].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}$i.prototype.isMaterial=!0;$i.fromType=function(){return null};class ah extends $i{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new Te(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=l1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}ah.prototype.isMeshBasicMaterial=!0;const Ki=new rt,Ew=new ie;class or{constructor(t,e,r){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=r===!0,this.usage=sy,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,r){t*=this.itemSize,r*=e.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[t+i]=e.array[r+i];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let r=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Te),e[r++]=o.r,e[r++]=o.g,e[r++]=o.b}return this}copyVector2sArray(t){const e=this.array;let r=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ie),e[r++]=o.x,e[r++]=o.y}return this}copyVector3sArray(t){const e=this.array;let r=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new rt),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z}return this}copyVector4sArray(t){const e=this.array;let r=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new xr),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z,e[r++]=o.w}return this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,r=this.count;e<r;e++)Ew.fromBufferAttribute(this,e),Ew.applyMatrix3(t),this.setXY(e,Ew.x,Ew.y);else if(this.itemSize===3)for(let e=0,r=this.count;e<r;e++)Ki.fromBufferAttribute(this,e),Ki.applyMatrix3(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}applyMatrix4(t){for(let e=0,r=this.count;e<r;e++)Ki.fromBufferAttribute(this,e),Ki.applyMatrix4(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}applyNormalMatrix(t){for(let e=0,r=this.count;e<r;e++)Ki.fromBufferAttribute(this,e),Ki.applyNormalMatrix(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}transformDirection(t){for(let e=0,r=this.count;e<r;e++)Ki.fromBufferAttribute(this,e),Ki.transformDirection(t),this.setXYZ(e,Ki.x,Ki.y,Ki.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this}setXYZ(t,e,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=i,this}setXYZW(t,e,r,i,s){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=i,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==sy&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}or.prototype.isBufferAttribute=!0;class iz extends or{constructor(t,e,r){super(new Int8Array(t),e,r)}}class sz extends or{constructor(t,e,r){super(new Uint8Array(t),e,r)}}class oz extends or{constructor(t,e,r){super(new Uint8ClampedArray(t),e,r)}}class az extends or{constructor(t,e,r){super(new Int16Array(t),e,r)}}class SS extends or{constructor(t,e,r){super(new Uint16Array(t),e,r)}}class lz extends or{constructor(t,e,r){super(new Int32Array(t),e,r)}}class ES extends or{constructor(t,e,r){super(new Uint32Array(t),e,r)}}class uz extends or{constructor(t,e,r){super(new Uint16Array(t),e,r)}}uz.prototype.isFloat16BufferAttribute=!0;class ze extends or{constructor(t,e,r){super(new Float32Array(t),e,r)}}class cz extends or{constructor(t,e,r){super(new Float64Array(t),e,r)}}let aX=0;const rl=new Ae,PE=new Yn,Kg=new rt,Pa=new da,Sv=new da,bs=new rt;class Xe extends sh{constructor(){super(),Object.defineProperty(this,"id",{value:aX++}),this.uuid=Ha(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Q4(t)?ES:SS)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,r=0){this.groups.push({start:t,count:e,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ms().getNormalMatrix(t);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return rl.makeRotationFromQuaternion(t),this.applyMatrix4(rl),this}rotateX(t){return rl.makeRotationX(t),this.applyMatrix4(rl),this}rotateY(t){return rl.makeRotationY(t),this.applyMatrix4(rl),this}rotateZ(t){return rl.makeRotationZ(t),this.applyMatrix4(rl),this}translate(t,e,r){return rl.makeTranslation(t,e,r),this.applyMatrix4(rl),this}scale(t,e,r){return rl.makeScale(t,e,r),this.applyMatrix4(rl),this}lookAt(t){return PE.lookAt(t),PE.updateMatrix(),this.applyMatrix4(PE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kg).negate(),this.translate(Kg.x,Kg.y,Kg.z),this}setFromPoints(t){const e=[];for(let r=0,i=t.length;r<i;r++){const s=t[r];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ze(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new da);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new rt(-1/0,-1/0,-1/0),new rt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let r=0,i=e.length;r<i;r++){const s=e[r];Pa.setFromBufferAttribute(s),this.morphTargetsRelative?(bs.addVectors(this.boundingBox.min,Pa.min),this.boundingBox.expandByPoint(bs),bs.addVectors(this.boundingBox.max,Pa.max),this.boundingBox.expandByPoint(bs)):(this.boundingBox.expandByPoint(Pa.min),this.boundingBox.expandByPoint(Pa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oh);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new rt,1/0);return}if(t){const r=this.boundingSphere.center;if(Pa.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++){const a=e[s];Sv.setFromBufferAttribute(a),this.morphTargetsRelative?(bs.addVectors(Pa.min,Sv.min),Pa.expandByPoint(bs),bs.addVectors(Pa.max,Sv.max),Pa.expandByPoint(bs)):(Pa.expandByPoint(Sv.min),Pa.expandByPoint(Sv.max))}Pa.getCenter(r);let i=0;for(let s=0,o=t.count;s<o;s++)bs.fromBufferAttribute(t,s),i=Math.max(i,r.distanceToSquared(bs));if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)bs.fromBufferAttribute(a,u),l&&(Kg.fromBufferAttribute(t,u),bs.add(Kg)),i=Math.max(i,r.distanceToSquared(bs))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.array,i=e.position.array,s=e.normal.array,o=e.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new or(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let V=0;V<a;V++)u[V]=new rt,h[V]=new rt;const m=new rt,d=new rt,y=new rt,_=new ie,v=new ie,w=new ie,x=new rt,S=new rt;function M(V,Y,z){m.fromArray(i,V*3),d.fromArray(i,Y*3),y.fromArray(i,z*3),_.fromArray(o,V*2),v.fromArray(o,Y*2),w.fromArray(o,z*2),d.sub(m),y.sub(m),v.sub(_),w.sub(_);const q=1/(v.x*w.y-w.x*v.y);!isFinite(q)||(x.copy(d).multiplyScalar(w.y).addScaledVector(y,-v.y).multiplyScalar(q),S.copy(y).multiplyScalar(v.x).addScaledVector(d,-w.x).multiplyScalar(q),u[V].add(x),u[Y].add(x),u[z].add(x),h[V].add(S),h[Y].add(S),h[z].add(S))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let V=0,Y=T.length;V<Y;++V){const z=T[V],q=z.start,L=z.count;for(let tt=q,ct=q+L;tt<ct;tt+=3)M(r[tt+0],r[tt+1],r[tt+2])}const A=new rt,P=new rt,F=new rt,C=new rt;function B(V){F.fromArray(s,V*3),C.copy(F);const Y=u[V];A.copy(Y),A.sub(F.multiplyScalar(F.dot(Y))).normalize(),P.crossVectors(C,Y);const q=P.dot(h[V])<0?-1:1;l[V*4]=A.x,l[V*4+1]=A.y,l[V*4+2]=A.z,l[V*4+3]=q}for(let V=0,Y=T.length;V<Y;++V){const z=T[V],q=z.start,L=z.count;for(let tt=q,ct=q+L;tt<ct;tt+=3)B(r[tt+0]),B(r[tt+1]),B(r[tt+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new or(new Float32Array(e.count*3),3),this.setAttribute("normal",r);else for(let d=0,y=r.count;d<y;d++)r.setXYZ(d,0,0,0);const i=new rt,s=new rt,o=new rt,a=new rt,l=new rt,u=new rt,h=new rt,m=new rt;if(t)for(let d=0,y=t.count;d<y;d+=3){const _=t.getX(d+0),v=t.getX(d+1),w=t.getX(d+2);i.fromBufferAttribute(e,_),s.fromBufferAttribute(e,v),o.fromBufferAttribute(e,w),h.subVectors(o,s),m.subVectors(i,s),h.cross(m),a.fromBufferAttribute(r,_),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,w),a.add(h),l.add(h),u.add(h),r.setXYZ(_,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(w,u.x,u.y,u.z)}else for(let d=0,y=e.count;d<y;d+=3)i.fromBufferAttribute(e,d+0),s.fromBufferAttribute(e,d+1),o.fromBufferAttribute(e,d+2),h.subVectors(o,s),m.subVectors(i,s),h.cross(m),r.setXYZ(d+0,h.x,h.y,h.z),r.setXYZ(d+1,h.x,h.y,h.z),r.setXYZ(d+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(t,e){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(t.attributes[i]===void 0)continue;const o=r[i].array,a=t.attributes[i],l=a.array,u=a.itemSize*e,h=Math.min(l.length,o.length-u);for(let m=0,d=u;m<h;m++,d++)o[d]=l[m]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,r=t.count;e<r;e++)bs.fromBufferAttribute(t,e),bs.normalize(),t.setXYZ(e,bs.x,bs.y,bs.z)}toNonIndexed(){function t(a,l){const u=a.array,h=a.itemSize,m=a.normalized,d=new u.constructor(l.length*h);let y=0,_=0;for(let v=0,w=l.length;v<w;v++){a.isInterleavedBufferAttribute?y=l[v]*a.data.stride+a.offset:y=l[v]*h;for(let x=0;x<h;x++)d[_++]=u[y++]}return new or(d,h,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Xe,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=t(l,r);e.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,m=u.length;h<m;h++){const d=u[h],y=t(d,r);l.push(y)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];e.addGroup(u.start,u.count,u.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(t[u]=l[u]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const r=this.attributes;for(const l in r){const u=r[l];t.data.attributes[l]=u.toJSON(t.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let m=0,d=u.length;m<d;m++){const y=u[m];h.push(y.toJSON(t.data))}h.length>0&&(i[l]=h,s=!0)}s&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const r=t.index;r!==null&&this.setIndex(r.clone(e));const i=t.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(e))}const s=t.morphAttributes;for(const u in s){const h=[],m=s[u];for(let d=0,y=m.length;d<y;d++)h.push(m[d].clone(e));this.morphAttributes[u]=h}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let u=0,h=o.length;u<h;u++){const m=o[u];this.addGroup(m.start,m.count,m.materialIndex)}const a=t.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Xe.prototype.isBufferGeometry=!0;const eD=new Ae,Jg=new Jd,DE=new oh,sd=new rt,od=new rt,ad=new rt,kE=new rt,OE=new rt,FE=new rt,Mw=new rt,Tw=new rt,Aw=new rt,Cw=new ie,Iw=new ie,Rw=new ie,BE=new rt,Lw=new rt;class rs extends Yn{constructor(t=new Xe,e=new ah){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,r=Object.keys(e);if(r.length>0){const i=e[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),DE.copy(r.boundingSphere),DE.applyMatrix4(s),t.ray.intersectsSphere(DE)===!1)||(eD.copy(s).invert(),Jg.copy(t.ray).applyMatrix4(eD),r.boundingBox!==null&&Jg.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,h=r.morphTargetsRelative,m=r.attributes.uv,d=r.attributes.uv2,y=r.groups,_=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,w=y.length;v<w;v++){const x=y[v],S=i[x.materialIndex],M=Math.max(x.start,_.start),T=Math.min(a.count,Math.min(x.start+x.count,_.start+_.count));for(let A=M,P=T;A<P;A+=3){const F=a.getX(A),C=a.getX(A+1),B=a.getX(A+2);o=Pw(this,S,t,Jg,l,u,h,m,d,F,C,B),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=x.materialIndex,e.push(o))}}else{const v=Math.max(0,_.start),w=Math.min(a.count,_.start+_.count);for(let x=v,S=w;x<S;x+=3){const M=a.getX(x),T=a.getX(x+1),A=a.getX(x+2);o=Pw(this,i,t,Jg,l,u,h,m,d,M,T,A),o&&(o.faceIndex=Math.floor(x/3),e.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,w=y.length;v<w;v++){const x=y[v],S=i[x.materialIndex],M=Math.max(x.start,_.start),T=Math.min(l.count,Math.min(x.start+x.count,_.start+_.count));for(let A=M,P=T;A<P;A+=3){const F=A,C=A+1,B=A+2;o=Pw(this,S,t,Jg,l,u,h,m,d,F,C,B),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=x.materialIndex,e.push(o))}}else{const v=Math.max(0,_.start),w=Math.min(l.count,_.start+_.count);for(let x=v,S=w;x<S;x+=3){const M=x,T=x+1,A=x+2;o=Pw(this,i,t,Jg,l,u,h,m,d,M,T,A),o&&(o.faceIndex=Math.floor(x/3),e.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}rs.prototype.isMesh=!0;function lX(n,t,e,r,i,s,o,a){let l;if(t.side===la?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,t.side!==Fd,a),l===null)return null;Lw.copy(a),Lw.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(Lw);return u<e.near||u>e.far?null:{distance:u,point:Lw.clone(),object:n}}function Pw(n,t,e,r,i,s,o,a,l,u,h,m){sd.fromBufferAttribute(i,u),od.fromBufferAttribute(i,h),ad.fromBufferAttribute(i,m);const d=n.morphTargetInfluences;if(s&&d){Mw.set(0,0,0),Tw.set(0,0,0),Aw.set(0,0,0);for(let _=0,v=s.length;_<v;_++){const w=d[_],x=s[_];w!==0&&(kE.fromBufferAttribute(x,u),OE.fromBufferAttribute(x,h),FE.fromBufferAttribute(x,m),o?(Mw.addScaledVector(kE,w),Tw.addScaledVector(OE,w),Aw.addScaledVector(FE,w)):(Mw.addScaledVector(kE.sub(sd),w),Tw.addScaledVector(OE.sub(od),w),Aw.addScaledVector(FE.sub(ad),w)))}sd.add(Mw),od.add(Tw),ad.add(Aw)}n.isSkinnedMesh&&(n.boneTransform(u,sd),n.boneTransform(h,od),n.boneTransform(m,ad));const y=lX(n,t,e,r,sd,od,ad,BE);if(y){a&&(Cw.fromBufferAttribute(a,u),Iw.fromBufferAttribute(a,h),Rw.fromBufferAttribute(a,m),y.uv=Hi.getUV(BE,sd,od,ad,Cw,Iw,Rw,new ie)),l&&(Cw.fromBufferAttribute(l,u),Iw.fromBufferAttribute(l,h),Rw.fromBufferAttribute(l,m),y.uv2=Hi.getUV(BE,sd,od,ad,Cw,Iw,Rw,new ie));const _={a:u,b:h,c:m,normal:new rt,materialIndex:0};Hi.getNormal(sd,od,ad,_.normal),y.face=_}return y}class Jf extends Xe{constructor(t=1,e=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],m=[];let d=0,y=0;_("z","y","x",-1,-1,r,e,t,o,s,0),_("z","y","x",1,-1,r,e,-t,o,s,1),_("x","z","y",1,1,t,r,e,i,o,2),_("x","z","y",1,-1,t,r,-e,i,o,3),_("x","y","z",1,-1,t,e,r,i,s,4),_("x","y","z",-1,-1,t,e,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ze(u,3)),this.setAttribute("normal",new ze(h,3)),this.setAttribute("uv",new ze(m,2));function _(v,w,x,S,M,T,A,P,F,C,B){const V=T/F,Y=A/C,z=T/2,q=A/2,L=P/2,tt=F+1,ct=C+1;let lt=0,at=0;const it=new rt;for(let ut=0;ut<ct;ut++){const j=ut*Y-q;for(let K=0;K<tt;K++){const xt=K*V-z;it[v]=xt*S,it[w]=j*M,it[x]=L,u.push(it.x,it.y,it.z),it[v]=0,it[w]=0,it[x]=P>0?1:-1,h.push(it.x,it.y,it.z),m.push(K/F),m.push(1-ut/C),lt+=1}}for(let ut=0;ut<C;ut++)for(let j=0;j<F;j++){const K=d+j+tt*ut,xt=d+j+tt*(ut+1),Lt=d+(j+1)+tt*(ut+1),Pt=d+(j+1)+tt*ut;l.push(K,xt,Pt),l.push(xt,Lt,Pt),at+=6}a.addGroup(y,at,B),y+=at,d+=lt}}static fromJSON(t){return new Jf(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function ay(n){const t={};for(const e in n){t[e]={};for(const r in n[e]){const i=n[e][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[e][r]=i.clone():Array.isArray(i)?t[e][r]=i.slice():t[e][r]=i}}return t}function eo(n){const t={};for(let e=0;e<n.length;e++){const r=ay(n[e]);for(const i in r)t[i]=r[i]}return t}const fz={clone:ay,merge:eo};var uX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xl extends $i{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=uX,this.fragmentShader=cX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ay(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?e.uniforms[i]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[i]={type:"m4",value:o.toArray()}:e.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(e.extensions=r),e}}xl.prototype.isShaderMaterial=!0;class Bm extends Yn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ae,this.projectionMatrix=new Ae,this.projectionMatrixInverse=new Ae}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Bm.prototype.isCamera=!0;class hs extends Bm{constructor(t=50,e=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=D_*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(bm*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return D_*2*Math.atan(Math.tan(bm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,r,i,s,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(bm*.5*this.fov)/this.zoom,r=2*e,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,e-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,e,e-r,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}hs.prototype.isPerspectiveCamera=!0;const Qg=90,t0=1;class MS extends Yn{constructor(t,e,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new hs(Qg,t0,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new rt(1,0,0)),this.add(i);const s=new hs(Qg,t0,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new rt(-1,0,0)),this.add(s);const o=new hs(Qg,t0,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new rt(0,1,0)),this.add(o);const a=new hs(Qg,t0,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new rt(0,-1,0)),this.add(a);const l=new hs(Qg,t0,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new rt(0,0,1)),this.add(l);const u=new hs(Qg,t0,t,e);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new rt(0,0,-1)),this.add(u)}update(t,e){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,h=t.getRenderTarget(),m=t.toneMapping,d=t.xr.enabled;t.toneMapping=wu,t.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,i),t.setRenderTarget(r,1),t.render(e,s),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,a),t.setRenderTarget(r,4),t.render(e,l),r.texture.generateMipmaps=y,t.setRenderTarget(r,5),t.render(e,u),t.setRenderTarget(h),t.toneMapping=m,t.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class Fy extends Gi{constructor(t,e,r,i,s,o,a,l,u,h){t=t!==void 0?t:[],e=e!==void 0?e:Bd,super(t,e,r,i,s,o,a,l,u,h),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Fy.prototype.isCubeTexture=!0;class TS extends Lo{constructor(t,e={}){super(t,t,e);const r={width:t,height:t,depth:1},i=[r,r,r,r,r,r];this.texture=new Fy(i,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Ui}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Jf(5,5,5),s=new xl({name:"CubemapFromEquirect",uniforms:ay(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:la,blending:jf});s.uniforms.tEquirect.value=e;const o=new rs(i,s),a=e.minFilter;return e.minFilter===tg&&(e.minFilter=Ui),new MS(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,r,i){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,r,i);t.setRenderTarget(s)}}TS.prototype.isWebGLCubeRenderTarget=!0;const NE=new rt,fX=new rt,hX=new ms;class hu{constructor(t=new rt(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,r,i){return this.normal.set(t,e,r),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,r){const i=NE.subVectors(r,e).cross(fX.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const r=t.delta(NE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:e.copy(r).multiplyScalar(s).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const r=e||hX.getNormalMatrix(t),i=this.coplanarPoint(NE).applyMatrix4(t),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}hu.prototype.isPlane=!0;const e0=new oh,Dw=new rt;class c1{constructor(t=new hu,e=new hu,r=new hu,i=new hu,s=new hu,o=new hu){this.planes=[t,e,r,i,s,o]}set(t,e,r,i,s,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(t){const e=this.planes;for(let r=0;r<6;r++)e[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t){const e=this.planes,r=t.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],h=r[6],m=r[7],d=r[8],y=r[9],_=r[10],v=r[11],w=r[12],x=r[13],S=r[14],M=r[15];return e[0].setComponents(a-i,m-l,v-d,M-w).normalize(),e[1].setComponents(a+i,m+l,v+d,M+w).normalize(),e[2].setComponents(a+s,m+u,v+y,M+x).normalize(),e[3].setComponents(a-s,m-u,v-y,M-x).normalize(),e[4].setComponents(a-o,m-h,v-_,M-S).normalize(),e[5].setComponents(a+o,m+h,v+_,M+S).normalize(),this}intersectsObject(t){const e=t.geometry;return e.boundingSphere===null&&e.computeBoundingSphere(),e0.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e0)}intersectsSprite(t){return e0.center.set(0,0,0),e0.radius=.7071067811865476,e0.applyMatrix4(t.matrixWorld),this.intersectsSphere(e0)}intersectsSphere(t){const e=this.planes,r=t.center,i=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let r=0;r<6;r++){const i=e[r];if(Dw.x=i.normal.x>0?t.max.x:t.min.x,Dw.y=i.normal.y>0?t.max.y:t.min.y,Dw.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(Dw)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function hz(){let n=null,t=!1,e=null,r=null;function i(s,o){e(s,o),r=n.requestAnimationFrame(i)}return{start:function(){t!==!0&&e!==null&&(r=n.requestAnimationFrame(i),t=!0)},stop:function(){n.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){n=s}}}function dX(n,t){const e=t.isWebGL2,r=new WeakMap;function i(u,h){const m=u.array,d=u.usage,y=n.createBuffer();n.bindBuffer(h,y),n.bufferData(h,m,d),u.onUploadCallback();let _;if(m instanceof Float32Array)_=5126;else if(m instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(e)_=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=5123;else if(m instanceof Int16Array)_=5122;else if(m instanceof Uint32Array)_=5125;else if(m instanceof Int32Array)_=5124;else if(m instanceof Int8Array)_=5120;else if(m instanceof Uint8Array)_=5121;else if(m instanceof Uint8ClampedArray)_=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:y,type:_,bytesPerElement:m.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,m){const d=h.array,y=h.updateRange;n.bindBuffer(m,u),y.count===-1?n.bufferSubData(m,0,d):(e?n.bufferSubData(m,y.offset*d.BYTES_PER_ELEMENT,d,y.offset,y.count):n.bufferSubData(m,y.offset*d.BYTES_PER_ELEMENT,d.subarray(y.offset,y.offset+y.count)),y.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(n.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const m=r.get(u);m===void 0?r.set(u,i(u,h)):m.version<u.version&&(s(m.buffer,u,h),m.version=u.version)}return{get:o,remove:a,update:l}}class Nm extends Xe{constructor(t=1,e=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:i};const s=t/2,o=e/2,a=Math.floor(r),l=Math.floor(i),u=a+1,h=l+1,m=t/a,d=e/l,y=[],_=[],v=[],w=[];for(let x=0;x<h;x++){const S=x*d-o;for(let M=0;M<u;M++){const T=M*m-s;_.push(T,-S,0),v.push(0,0,1),w.push(M/a),w.push(1-x/l)}}for(let x=0;x<l;x++)for(let S=0;S<a;S++){const M=S+u*x,T=S+u*(x+1),A=S+1+u*(x+1),P=S+1+u*x;y.push(M,T,P),y.push(T,A,P)}this.setIndex(y),this.setAttribute("position",new ze(_,3)),this.setAttribute("normal",new ze(v,3)),this.setAttribute("uv",new ze(w,2))}static fromJSON(t){return new Nm(t.width,t.height,t.widthSegments,t.heightSegments)}}var pX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,mX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gX=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,yX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,vX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_X=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,wX="vec3 transformed = vec3( position );",xX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bX=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,SX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,MX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,TX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,AX=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,CX=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,IX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,RX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,LX=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,PX=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,DX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kX=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,OX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FX=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,BX=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,NX=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zX="gl_FragColor = linearToOutputTexel( gl_FragColor );",UX=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,VX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,HX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,WX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,$X=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,YX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,XX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ZX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,KX=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,JX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,QX=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,tZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eZ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,nZ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rZ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,iZ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,sZ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,oZ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,aZ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lZ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uZ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cZ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,fZ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hZ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dZ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,pZ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,mZ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gZ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yZ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vZ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_Z=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wZ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xZ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,bZ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,SZ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,EZ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,MZ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,TZ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,AZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,CZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IZ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RZ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,LZ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,PZ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,DZ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,kZ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,OZ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,FZ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BZ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,NZ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zZ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,UZ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,VZ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,HZ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,WZ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,GZ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,$Z=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,jZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,qZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ZZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,KZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,JZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,QZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tK=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,eK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,nK=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,rK=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,iK=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,sK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,oK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,aK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,lK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cK=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hK=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dK=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,mK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_K=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xK=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SK=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EK=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,TK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,CK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,IK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,PK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,FK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BK=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,zK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jn={alphamap_fragment:pX,alphamap_pars_fragment:mX,alphatest_fragment:gX,alphatest_pars_fragment:yX,aomap_fragment:vX,aomap_pars_fragment:_X,begin_vertex:wX,beginnormal_vertex:xX,bsdfs:bX,bumpmap_pars_fragment:SX,clipping_planes_fragment:EX,clipping_planes_pars_fragment:MX,clipping_planes_pars_vertex:TX,clipping_planes_vertex:AX,color_fragment:CX,color_pars_fragment:IX,color_pars_vertex:RX,color_vertex:LX,common:PX,cube_uv_reflection_fragment:DX,defaultnormal_vertex:kX,displacementmap_pars_vertex:OX,displacementmap_vertex:FX,emissivemap_fragment:BX,emissivemap_pars_fragment:NX,encodings_fragment:zX,encodings_pars_fragment:UX,envmap_fragment:VX,envmap_common_pars_fragment:HX,envmap_pars_fragment:WX,envmap_pars_vertex:GX,envmap_physical_pars_fragment:eZ,envmap_vertex:$X,fog_vertex:jX,fog_pars_vertex:YX,fog_fragment:qX,fog_pars_fragment:XX,gradientmap_pars_fragment:ZX,lightmap_fragment:KX,lightmap_pars_fragment:JX,lights_lambert_vertex:QX,lights_pars_begin:tZ,lights_toon_fragment:nZ,lights_toon_pars_fragment:rZ,lights_phong_fragment:iZ,lights_phong_pars_fragment:sZ,lights_physical_fragment:oZ,lights_physical_pars_fragment:aZ,lights_fragment_begin:lZ,lights_fragment_maps:uZ,lights_fragment_end:cZ,logdepthbuf_fragment:fZ,logdepthbuf_pars_fragment:hZ,logdepthbuf_pars_vertex:dZ,logdepthbuf_vertex:pZ,map_fragment:mZ,map_pars_fragment:gZ,map_particle_fragment:yZ,map_particle_pars_fragment:vZ,metalnessmap_fragment:_Z,metalnessmap_pars_fragment:wZ,morphcolor_vertex:xZ,morphnormal_vertex:bZ,morphtarget_pars_vertex:SZ,morphtarget_vertex:EZ,normal_fragment_begin:MZ,normal_fragment_maps:TZ,normal_pars_fragment:AZ,normal_pars_vertex:CZ,normal_vertex:IZ,normalmap_pars_fragment:RZ,clearcoat_normal_fragment_begin:LZ,clearcoat_normal_fragment_maps:PZ,clearcoat_pars_fragment:DZ,output_fragment:kZ,packing:OZ,premultiplied_alpha_fragment:FZ,project_vertex:BZ,dithering_fragment:NZ,dithering_pars_fragment:zZ,roughnessmap_fragment:UZ,roughnessmap_pars_fragment:VZ,shadowmap_pars_fragment:HZ,shadowmap_pars_vertex:WZ,shadowmap_vertex:GZ,shadowmask_pars_fragment:$Z,skinbase_vertex:jZ,skinning_pars_vertex:YZ,skinning_vertex:qZ,skinnormal_vertex:XZ,specularmap_fragment:ZZ,specularmap_pars_fragment:KZ,tonemapping_fragment:JZ,tonemapping_pars_fragment:QZ,transmission_fragment:tK,transmission_pars_fragment:eK,uv_pars_fragment:nK,uv_pars_vertex:rK,uv_vertex:iK,uv2_pars_fragment:sK,uv2_pars_vertex:oK,uv2_vertex:aK,worldpos_vertex:lK,background_vert:uK,background_frag:cK,cube_vert:fK,cube_frag:hK,depth_vert:dK,depth_frag:pK,distanceRGBA_vert:mK,distanceRGBA_frag:gK,equirect_vert:yK,equirect_frag:vK,linedashed_vert:_K,linedashed_frag:wK,meshbasic_vert:xK,meshbasic_frag:bK,meshlambert_vert:SK,meshlambert_frag:EK,meshmatcap_vert:MK,meshmatcap_frag:TK,meshnormal_vert:AK,meshnormal_frag:CK,meshphong_vert:IK,meshphong_frag:RK,meshphysical_vert:LK,meshphysical_frag:PK,meshtoon_vert:DK,meshtoon_frag:kK,points_vert:OK,points_frag:FK,shadow_vert:BK,shadow_frag:NK,sprite_vert:zK,sprite_frag:UK},be={common:{diffuse:{value:new Te(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ms},uv2Transform:{value:new ms},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Te(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Te(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ms}},sprite:{diffuse:{value:new Te(16777215)},opacity:{value:1},center:{value:new ie(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ms}}},du={basic:{uniforms:eo([be.common,be.specularmap,be.envmap,be.aomap,be.lightmap,be.fog]),vertexShader:jn.meshbasic_vert,fragmentShader:jn.meshbasic_frag},lambert:{uniforms:eo([be.common,be.specularmap,be.envmap,be.aomap,be.lightmap,be.emissivemap,be.fog,be.lights,{emissive:{value:new Te(0)}}]),vertexShader:jn.meshlambert_vert,fragmentShader:jn.meshlambert_frag},phong:{uniforms:eo([be.common,be.specularmap,be.envmap,be.aomap,be.lightmap,be.emissivemap,be.bumpmap,be.normalmap,be.displacementmap,be.fog,be.lights,{emissive:{value:new Te(0)},specular:{value:new Te(1118481)},shininess:{value:30}}]),vertexShader:jn.meshphong_vert,fragmentShader:jn.meshphong_frag},standard:{uniforms:eo([be.common,be.envmap,be.aomap,be.lightmap,be.emissivemap,be.bumpmap,be.normalmap,be.displacementmap,be.roughnessmap,be.metalnessmap,be.fog,be.lights,{emissive:{value:new Te(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},toon:{uniforms:eo([be.common,be.aomap,be.lightmap,be.emissivemap,be.bumpmap,be.normalmap,be.displacementmap,be.gradientmap,be.fog,be.lights,{emissive:{value:new Te(0)}}]),vertexShader:jn.meshtoon_vert,fragmentShader:jn.meshtoon_frag},matcap:{uniforms:eo([be.common,be.bumpmap,be.normalmap,be.displacementmap,be.fog,{matcap:{value:null}}]),vertexShader:jn.meshmatcap_vert,fragmentShader:jn.meshmatcap_frag},points:{uniforms:eo([be.points,be.fog]),vertexShader:jn.points_vert,fragmentShader:jn.points_frag},dashed:{uniforms:eo([be.common,be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jn.linedashed_vert,fragmentShader:jn.linedashed_frag},depth:{uniforms:eo([be.common,be.displacementmap]),vertexShader:jn.depth_vert,fragmentShader:jn.depth_frag},normal:{uniforms:eo([be.common,be.bumpmap,be.normalmap,be.displacementmap,{opacity:{value:1}}]),vertexShader:jn.meshnormal_vert,fragmentShader:jn.meshnormal_frag},sprite:{uniforms:eo([be.sprite,be.fog]),vertexShader:jn.sprite_vert,fragmentShader:jn.sprite_frag},background:{uniforms:{uvTransform:{value:new ms},t2D:{value:null}},vertexShader:jn.background_vert,fragmentShader:jn.background_frag},cube:{uniforms:eo([be.envmap,{opacity:{value:1}}]),vertexShader:jn.cube_vert,fragmentShader:jn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jn.equirect_vert,fragmentShader:jn.equirect_frag},distanceRGBA:{uniforms:eo([be.common,be.displacementmap,{referencePosition:{value:new rt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jn.distanceRGBA_vert,fragmentShader:jn.distanceRGBA_frag},shadow:{uniforms:eo([be.lights,be.fog,{color:{value:new Te(0)},opacity:{value:1}}]),vertexShader:jn.shadow_vert,fragmentShader:jn.shadow_frag}};du.physical={uniforms:eo([du.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ie(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Te(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Te(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Te(1,1,1)},specularColorMap:{value:null}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag};function VK(n,t,e,r,i,s){const o=new Te(0);let a=i===!0?0:1,l,u,h=null,m=0,d=null;function y(v,w){let x=!1,S=w.isScene===!0?w.background:null;S&&S.isTexture&&(S=t.get(S));const M=n.xr,T=M.getSession&&M.getSession();T&&T.environmentBlendMode==="additive"&&(S=null),S===null?_(o,a):S&&S.isColor&&(_(S,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===ky)?(u===void 0&&(u=new rs(new Jf(1,1,1),new xl({name:"BackgroundCubeMaterial",uniforms:ay(du.cube.uniforms),vertexShader:du.cube.vertexShader,fragmentShader:du.cube.fragmentShader,side:la,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,P,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(h!==S||m!==S.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,h=S,m=S.version,d=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(l===void 0&&(l=new rs(new Nm(2,2),new xl({name:"BackgroundMaterial",uniforms:ay(du.background.uniforms),vertexShader:du.background.vertexShader,fragmentShader:du.background.fragmentShader,side:Om,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),l.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||m!==S.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,h=S,m=S.version,d=n.toneMapping),l.layers.enableAll(),v.unshift(l,l.geometry,l.material,0,0,null))}function _(v,w){e.buffers.color.setClear(v.r,v.g,v.b,w,s)}return{getClearColor:function(){return o},setClearColor:function(v,w=1){o.set(v),a=w,_(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(v){a=v,_(o,a)},render:y}}function HK(n,t,e,r){const i=n.getParameter(34921),s=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=w(null);let u=l,h=!1;function m(L,tt,ct,lt,at){let it=!1;if(o){const ut=v(lt,ct,tt);u!==ut&&(u=ut,y(u.object)),it=x(L,lt,ct,at),it&&S(L,lt,ct,at)}else{const ut=tt.wireframe===!0;(u.geometry!==lt.id||u.program!==ct.id||u.wireframe!==ut)&&(u.geometry=lt.id,u.program=ct.id,u.wireframe=ut,it=!0)}at!==null&&e.update(at,34963),(it||h)&&(h=!1,C(L,tt,ct,lt),at!==null&&n.bindBuffer(34963,e.get(at).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function y(L){return r.isWebGL2?n.bindVertexArray(L):s.bindVertexArrayOES(L)}function _(L){return r.isWebGL2?n.deleteVertexArray(L):s.deleteVertexArrayOES(L)}function v(L,tt,ct){const lt=ct.wireframe===!0;let at=a[L.id];at===void 0&&(at={},a[L.id]=at);let it=at[tt.id];it===void 0&&(it={},at[tt.id]=it);let ut=it[lt];return ut===void 0&&(ut=w(d()),it[lt]=ut),ut}function w(L){const tt=[],ct=[],lt=[];for(let at=0;at<i;at++)tt[at]=0,ct[at]=0,lt[at]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:tt,enabledAttributes:ct,attributeDivisors:lt,object:L,attributes:{},index:null}}function x(L,tt,ct,lt){const at=u.attributes,it=tt.attributes;let ut=0;const j=ct.getAttributes();for(const K in j)if(j[K].location>=0){const Lt=at[K];let Pt=it[K];if(Pt===void 0&&(K==="instanceMatrix"&&L.instanceMatrix&&(Pt=L.instanceMatrix),K==="instanceColor"&&L.instanceColor&&(Pt=L.instanceColor)),Lt===void 0||Lt.attribute!==Pt||Pt&&Lt.data!==Pt.data)return!0;ut++}return u.attributesNum!==ut||u.index!==lt}function S(L,tt,ct,lt){const at={},it=tt.attributes;let ut=0;const j=ct.getAttributes();for(const K in j)if(j[K].location>=0){let Lt=it[K];Lt===void 0&&(K==="instanceMatrix"&&L.instanceMatrix&&(Lt=L.instanceMatrix),K==="instanceColor"&&L.instanceColor&&(Lt=L.instanceColor));const Pt={};Pt.attribute=Lt,Lt&&Lt.data&&(Pt.data=Lt.data),at[K]=Pt,ut++}u.attributes=at,u.attributesNum=ut,u.index=lt}function M(){const L=u.newAttributes;for(let tt=0,ct=L.length;tt<ct;tt++)L[tt]=0}function T(L){A(L,0)}function A(L,tt){const ct=u.newAttributes,lt=u.enabledAttributes,at=u.attributeDivisors;ct[L]=1,lt[L]===0&&(n.enableVertexAttribArray(L),lt[L]=1),at[L]!==tt&&((r.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](L,tt),at[L]=tt)}function P(){const L=u.newAttributes,tt=u.enabledAttributes;for(let ct=0,lt=tt.length;ct<lt;ct++)tt[ct]!==L[ct]&&(n.disableVertexAttribArray(ct),tt[ct]=0)}function F(L,tt,ct,lt,at,it){r.isWebGL2===!0&&(ct===5124||ct===5125)?n.vertexAttribIPointer(L,tt,ct,at,it):n.vertexAttribPointer(L,tt,ct,lt,at,it)}function C(L,tt,ct,lt){if(r.isWebGL2===!1&&(L.isInstancedMesh||lt.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;M();const at=lt.attributes,it=ct.getAttributes(),ut=tt.defaultAttributeValues;for(const j in it){const K=it[j];if(K.location>=0){let xt=at[j];if(xt===void 0&&(j==="instanceMatrix"&&L.instanceMatrix&&(xt=L.instanceMatrix),j==="instanceColor"&&L.instanceColor&&(xt=L.instanceColor)),xt!==void 0){const Lt=xt.normalized,Pt=xt.itemSize,Ot=e.get(xt);if(Ot===void 0)continue;const Ee=Ot.buffer,se=Ot.type,fe=Ot.bytesPerElement;if(xt.isInterleavedBufferAttribute){const oe=xt.data,Le=oe.stride,Kt=xt.offset;if(oe.isInstancedInterleavedBuffer){for(let Yt=0;Yt<K.locationSize;Yt++)A(K.location+Yt,oe.meshPerAttribute);L.isInstancedMesh!==!0&&lt._maxInstanceCount===void 0&&(lt._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Yt=0;Yt<K.locationSize;Yt++)T(K.location+Yt);n.bindBuffer(34962,Ee);for(let Yt=0;Yt<K.locationSize;Yt++)F(K.location+Yt,Pt/K.locationSize,se,Lt,Le*fe,(Kt+Pt/K.locationSize*Yt)*fe)}else{if(xt.isInstancedBufferAttribute){for(let oe=0;oe<K.locationSize;oe++)A(K.location+oe,xt.meshPerAttribute);L.isInstancedMesh!==!0&&lt._maxInstanceCount===void 0&&(lt._maxInstanceCount=xt.meshPerAttribute*xt.count)}else for(let oe=0;oe<K.locationSize;oe++)T(K.location+oe);n.bindBuffer(34962,Ee);for(let oe=0;oe<K.locationSize;oe++)F(K.location+oe,Pt/K.locationSize,se,Lt,Pt*fe,Pt/K.locationSize*oe*fe)}}else if(ut!==void 0){const Lt=ut[j];if(Lt!==void 0)switch(Lt.length){case 2:n.vertexAttrib2fv(K.location,Lt);break;case 3:n.vertexAttrib3fv(K.location,Lt);break;case 4:n.vertexAttrib4fv(K.location,Lt);break;default:n.vertexAttrib1fv(K.location,Lt)}}}}P()}function B(){z();for(const L in a){const tt=a[L];for(const ct in tt){const lt=tt[ct];for(const at in lt)_(lt[at].object),delete lt[at];delete tt[ct]}delete a[L]}}function V(L){if(a[L.id]===void 0)return;const tt=a[L.id];for(const ct in tt){const lt=tt[ct];for(const at in lt)_(lt[at].object),delete lt[at];delete tt[ct]}delete a[L.id]}function Y(L){for(const tt in a){const ct=a[tt];if(ct[L.id]===void 0)continue;const lt=ct[L.id];for(const at in lt)_(lt[at].object),delete lt[at];delete ct[L.id]}}function z(){q(),h=!0,u!==l&&(u=l,y(u.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:m,reset:z,resetDefaultState:q,dispose:B,releaseStatesOfGeometry:V,releaseStatesOfProgram:Y,initAttributes:M,enableAttribute:T,disableUnusedAttributes:P}}function WK(n,t,e,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,h){n.drawArrays(s,u,h),e.update(h,s,1)}function l(u,h,m){if(m===0)return;let d,y;if(i)d=n,y="drawArraysInstanced";else if(d=t.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[y](s,u,h,m),e.update(h,s,m)}this.setMode=o,this.render=a,this.renderInstances=l}function GK(n,t,e){let r;function i(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const F=t.get("EXT_texture_filter_anisotropic");r=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(F){if(F==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=e.precision!==void 0?e.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||t.has("WEBGL_draw_buffers"),h=e.logarithmicDepthBuffer===!0,m=n.getParameter(34930),d=n.getParameter(35660),y=n.getParameter(3379),_=n.getParameter(34076),v=n.getParameter(34921),w=n.getParameter(36347),x=n.getParameter(36348),S=n.getParameter(36349),M=d>0,T=o||t.has("OES_texture_float"),A=M&&T,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:m,maxVertexTextures:d,maxTextureSize:y,maxCubemapSize:_,maxAttributes:v,maxVertexUniforms:w,maxVaryings:x,maxFragmentUniforms:S,vertexTextures:M,floatFragmentTextures:T,floatVertexTextures:A,maxSamples:P}}function $K(n){const t=this;let e=null,r=0,i=!1,s=!1;const o=new hu,a=new ms,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(m,d,y){const _=m.length!==0||d||r!==0||i;return i=d,e=h(m,y,0),r=m.length,_},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,u()},this.setState=function(m,d,y){const _=m.clippingPlanes,v=m.clipIntersection,w=m.clipShadows,x=n.get(m);if(!i||_===null||_.length===0||s&&!w)s?h(null):u();else{const S=s?0:r,M=S*4;let T=x.clippingState||null;l.value=T,T=h(_,d,M,y);for(let A=0;A!==M;++A)T[A]=e[A];x.clippingState=T,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==e&&(l.value=e,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function h(m,d,y,_){const v=m!==null?m.length:0;let w=null;if(v!==0){if(w=l.value,_!==!0||w===null){const x=y+v*4,S=d.matrixWorldInverse;a.getNormalMatrix(S),(w===null||w.length<x)&&(w=new Float32Array(x));for(let M=0,T=y;M!==v;++M,T+=4)o.copy(m[M]).applyMatrix4(S,a),o.normal.toArray(w,T),w[T+3]=o.constant}l.value=w,l.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,w}}function jK(n){let t=new WeakMap;function e(o,a){return a===T_?o.mapping=Bd:a===A_&&(o.mapping=Nd),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===T_||a===A_)if(t.has(o)){const l=t.get(o).texture;return e(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new TS(l.height/2);return u.fromEquirectangularTexture(n,o),t.set(o,u),o.addEventListener("dispose",i),e(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=t.get(a);l!==void 0&&(t.delete(a),l.dispose())}function s(){t=new WeakMap}return{get:r,dispose:s}}class By extends Bm{constructor(t=-1,e=1,r=1,i=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-t,o=r+t,a=i+e,l=i-e;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}By.prototype.isOrthographicCamera=!0;const L0=4,nD=[.125,.215,.35,.446,.526,.582],im=20,zE=new By,rD=new Te;let UE=null;const em=(1+Math.sqrt(5))/2,n0=1/em,iD=[new rt(1,1,1),new rt(-1,1,1),new rt(1,1,-1),new rt(-1,1,-1),new rt(0,em,n0),new rt(0,em,-n0),new rt(n0,0,em),new rt(-n0,0,em),new rt(em,n0,0),new rt(-em,n0,0)];class nA{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,r=.1,i=100){UE=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,r,i,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=aD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=oD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(UE),t.scissorTest=!1,kw(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Bd||t.mapping===Nd?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),UE=this._renderer.getRenderTarget();const r=e||this._allocateTargets();return this._textureToCubeUV(t,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,r={magFilter:Ui,minFilter:Ui,generateMipmaps:!1,type:iy,format:Ua,encoding:Eu,depthBuffer:!1},i=sD(t,e,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sD(t,e,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=YK(s)),this._blurMaterial=qK(s,t,e)}return i}_compileMaterial(t){const e=new rs(this._lodPlanes[0],t);this._renderer.compile(e,zE)}_sceneToCubeUV(t,e,r,i){const a=new hs(90,1,e,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,m=h.autoClear,d=h.toneMapping;h.getClearColor(rD),h.toneMapping=wu,h.autoClear=!1;const y=new ah({name:"PMREM.Background",side:la,depthWrite:!1,depthTest:!1}),_=new rs(new Jf,y);let v=!1;const w=t.background;w?w.isColor&&(y.color.copy(w),t.background=null,v=!0):(y.color.copy(rD),v=!0);for(let x=0;x<6;x++){const S=x%3;S===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):S===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const M=this._cubeSize;kw(i,S*M,x>2?M:0,M,M),h.setRenderTarget(i),v&&h.render(_,a),h.render(t,a)}_.geometry.dispose(),_.material.dispose(),h.toneMapping=d,h.autoClear=m,t.background=w}_textureToCubeUV(t,e){const r=this._renderer,i=t.mapping===Bd||t.mapping===Nd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=aD()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=oD());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new rs(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=t;const l=this._cubeSize;kw(e,0,0,3*l,2*l),r.setRenderTarget(e),r.render(o,zE)}_applyPMREM(t){const e=this._renderer,r=e.autoClear;e.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=iD[(i-1)%iD.length];this._blur(t,i-1,i,s,o)}e.autoClear=r}_blur(t,e,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,r,i,"latitudinal",s),this._halfBlur(o,t,r,r,i,"longitudinal",s)}_halfBlur(t,e,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,m=new rs(this._lodPlanes[i],u),d=u.uniforms,y=this._sizeLods[r]-1,_=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*im-1),v=s/_,w=isFinite(s)?1+Math.floor(h*v):im;w>im&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${im}`);const x=[];let S=0;for(let F=0;F<im;++F){const C=F/v,B=Math.exp(-C*C/2);x.push(B),F===0?S+=B:F<w&&(S+=2*B)}for(let F=0;F<x.length;F++)x[F]=x[F]/S;d.envMap.value=t.texture,d.samples.value=w,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:M}=this;d.dTheta.value=_,d.mipInt.value=M-r;const T=this._sizeLods[i],A=3*T*(i>M-L0?i-M+L0:0),P=4*(this._cubeSize-T);kw(e,A,P,3*T,2*T),l.setRenderTarget(e),l.render(m,zE)}}function YK(n){const t=[],e=[],r=[];let i=n;const s=n-L0+1+nD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);e.push(a);let l=1/a;o>n-L0?l=nD[o-n+L0-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),h=-u,m=1+u,d=[h,h,m,h,m,m,h,h,m,m,h,m],y=6,_=6,v=3,w=2,x=1,S=new Float32Array(v*_*y),M=new Float32Array(w*_*y),T=new Float32Array(x*_*y);for(let P=0;P<y;P++){const F=P%3*2/3-1,C=P>2?0:-1,B=[F,C,0,F+2/3,C,0,F+2/3,C+1,0,F,C,0,F+2/3,C+1,0,F,C+1,0];S.set(B,v*_*P),M.set(d,w*_*P);const V=[P,P,P,P,P,P];T.set(V,x*_*P)}const A=new Xe;A.setAttribute("position",new or(S,v)),A.setAttribute("uv",new or(M,w)),A.setAttribute("faceIndex",new or(T,x)),t.push(A),i>L0&&i--}return{lodPlanes:t,sizeLods:e,sigmas:r}}function sD(n,t,e){const r=new Lo(n,t,e);return r.texture.mapping=ky,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function kw(n,t,e,r,i){n.viewport.set(t,e,r,i),n.scissor.set(t,e,r,i)}function qK(n,t,e){const r=new Float32Array(im),i=new rt(0,1,0);return new xl({name:"SphericalGaussianBlur",defines:{n:im,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:jf,depthTest:!1,depthWrite:!1})}function oD(){return new xl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:jf,depthTest:!1,depthWrite:!1})}function aD(){return new xl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:jf,depthTest:!1,depthWrite:!1})}function hC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function XK(n){let t=new WeakMap,e=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===T_||l===A_,h=l===Bd||l===Nd;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let m=t.get(a);return e===null&&(e=new nA(n)),m=u?e.fromEquirectangular(a,m):e.fromCubemap(a,m),t.set(a,m),m.texture}else{if(t.has(a))return t.get(a).texture;{const m=a.image;if(u&&m&&m.height>0||h&&m&&i(m)){e===null&&(e=new nA(n));const d=u?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=t.get(l);u!==void 0&&(t.delete(l),u.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:r,dispose:o}}function ZK(n){const t={};function e(r){if(t[r]!==void 0)return t[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return t[r]=i,i}return{has:function(r){return e(r)!==null},init:function(r){r.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(r){const i=e(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function KK(n,t,e,r){const i={},s=new WeakMap;function o(m){const d=m.target;d.index!==null&&t.remove(d.index);for(const _ in d.attributes)t.remove(d.attributes[_]);d.removeEventListener("dispose",o),delete i[d.id];const y=s.get(d);y&&(t.remove(y),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,e.memory.geometries--}function a(m,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,e.memory.geometries++),d}function l(m){const d=m.attributes;for(const _ in d)t.update(d[_],34962);const y=m.morphAttributes;for(const _ in y){const v=y[_];for(let w=0,x=v.length;w<x;w++)t.update(v[w],34962)}}function u(m){const d=[],y=m.index,_=m.attributes.position;let v=0;if(y!==null){const S=y.array;v=y.version;for(let M=0,T=S.length;M<T;M+=3){const A=S[M+0],P=S[M+1],F=S[M+2];d.push(A,P,P,F,F,A)}}else{const S=_.array;v=_.version;for(let M=0,T=S.length/3-1;M<T;M+=3){const A=M+0,P=M+1,F=M+2;d.push(A,P,P,F,F,A)}}const w=new(Q4(d)?ES:SS)(d,1);w.version=v;const x=s.get(m);x&&t.remove(x),s.set(m,w)}function h(m){const d=s.get(m);if(d){const y=m.index;y!==null&&d.version<y.version&&u(m)}else u(m);return s.get(m)}return{get:a,update:l,getWireframeAttribute:h}}function JK(n,t,e,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function h(d,y){n.drawElements(s,y,a,d*l),e.update(y,s,1)}function m(d,y,_){if(_===0)return;let v,w;if(i)v=n,w="drawElementsInstanced";else if(v=t.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[w](s,y,a,d*l,_),e.update(y,s,_)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=m}function QK(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(e.calls++,o){case 4:e.triangles+=a*(s/3);break;case 1:e.lines+=a*(s/2);break;case 3:e.lines+=a*(s-1);break;case 2:e.lines+=a*s;break;case 0:e.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:i,update:r}}function tJ(n,t){return n[0]-t[0]}function eJ(n,t){return Math.abs(t[1])-Math.abs(n[1])}function VE(n,t){let e=1;const r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?e=127:r instanceof Int16Array?e=32767:r instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(e)}function nJ(n,t,e){const r={},i=new Float32Array(8),s=new WeakMap,o=new xr,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,m,d){const y=u.morphTargetInfluences;if(t.isWebGL2===!0){const v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,w=v!==void 0?v.length:0;let x=s.get(h);if(x===void 0||x.count!==w){let ct=function(){L.dispose(),s.delete(h),h.removeEventListener("dispose",ct)};var _=ct;x!==void 0&&x.texture.dispose();const T=h.morphAttributes.position!==void 0,A=h.morphAttributes.normal!==void 0,P=h.morphAttributes.color!==void 0,F=h.morphAttributes.position||[],C=h.morphAttributes.normal||[],B=h.morphAttributes.color||[];let V=0;T===!0&&(V=1),A===!0&&(V=2),P===!0&&(V=3);let Y=h.attributes.position.count*V,z=1;Y>t.maxTextureSize&&(z=Math.ceil(Y/t.maxTextureSize),Y=t.maxTextureSize);const q=new Float32Array(Y*z*4*w),L=new Oy(q,Y,z,w);L.type=Wf,L.needsUpdate=!0;const tt=V*4;for(let lt=0;lt<w;lt++){const at=F[lt],it=C[lt],ut=B[lt],j=Y*z*4*lt;for(let K=0;K<at.count;K++){const xt=K*tt;T===!0&&(o.fromBufferAttribute(at,K),at.normalized===!0&&VE(o,at),q[j+xt+0]=o.x,q[j+xt+1]=o.y,q[j+xt+2]=o.z,q[j+xt+3]=0),A===!0&&(o.fromBufferAttribute(it,K),it.normalized===!0&&VE(o,it),q[j+xt+4]=o.x,q[j+xt+5]=o.y,q[j+xt+6]=o.z,q[j+xt+7]=0),P===!0&&(o.fromBufferAttribute(ut,K),ut.normalized===!0&&VE(o,ut),q[j+xt+8]=o.x,q[j+xt+9]=o.y,q[j+xt+10]=o.z,q[j+xt+11]=ut.itemSize===4?o.w:1)}}x={count:w,texture:L,size:new ie(Y,z)},s.set(h,x),h.addEventListener("dispose",ct)}let S=0;for(let T=0;T<y.length;T++)S+=y[T];const M=h.morphTargetsRelative?1:1-S;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",y),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,e),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=y===void 0?0:y.length;let w=r[h.id];if(w===void 0||w.length!==v){w=[];for(let A=0;A<v;A++)w[A]=[A,0];r[h.id]=w}for(let A=0;A<v;A++){const P=w[A];P[0]=A,P[1]=y[A]}w.sort(eJ);for(let A=0;A<8;A++)A<v&&w[A][1]?(a[A][0]=w[A][0],a[A][1]=w[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(tJ);const x=h.morphAttributes.position,S=h.morphAttributes.normal;let M=0;for(let A=0;A<8;A++){const P=a[A],F=P[0],C=P[1];F!==Number.MAX_SAFE_INTEGER&&C?(x&&h.getAttribute("morphTarget"+A)!==x[F]&&h.setAttribute("morphTarget"+A,x[F]),S&&h.getAttribute("morphNormal"+A)!==S[F]&&h.setAttribute("morphNormal"+A,S[F]),i[A]=C,M+=C):(x&&h.hasAttribute("morphTarget"+A)===!0&&h.deleteAttribute("morphTarget"+A),S&&h.hasAttribute("morphNormal"+A)===!0&&h.deleteAttribute("morphNormal"+A),i[A]=0)}const T=h.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",T),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function rJ(n,t,e,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,m=t.get(l,h);return i.get(m)!==u&&(t.update(m),i.set(m,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),e.update(l.instanceMatrix,34962),l.instanceColor!==null&&e.update(l.instanceColor,34962)),m}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),e.remove(u.instanceMatrix),u.instanceColor!==null&&e.remove(u.instanceColor)}return{update:s,dispose:o}}const dz=new Gi,pz=new Oy,mz=new u1,gz=new Fy,lD=[],uD=[],cD=new Float32Array(16),fD=new Float32Array(9),hD=new Float32Array(4);function Ny(n,t,e){const r=n[0];if(r<=0||r>0)return n;const i=t*e;let s=lD[i];if(s===void 0&&(s=new Float32Array(i),lD[i]=s),t!==0){r.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=e,n[o].toArray(s,a)}return s}function Do(n,t){if(n.length!==t.length)return!1;for(let e=0,r=n.length;e<r;e++)if(n[e]!==t[e])return!1;return!0}function ko(n,t){for(let e=0,r=t.length;e<r;e++)n[e]=t[e]}function AS(n,t){let e=uD[t];e===void 0&&(e=new Int32Array(t),uD[t]=e);for(let r=0;r!==t;++r)e[r]=n.allocateTextureUnit();return e}function iJ(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function sJ(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Do(e,t))return;n.uniform2fv(this.addr,t),ko(e,t)}}function oJ(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Do(e,t))return;n.uniform3fv(this.addr,t),ko(e,t)}}function aJ(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Do(e,t))return;n.uniform4fv(this.addr,t),ko(e,t)}}function lJ(n,t){const e=this.cache,r=t.elements;if(r===void 0){if(Do(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),ko(e,t)}else{if(Do(e,r))return;hD.set(r),n.uniformMatrix2fv(this.addr,!1,hD),ko(e,r)}}function uJ(n,t){const e=this.cache,r=t.elements;if(r===void 0){if(Do(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),ko(e,t)}else{if(Do(e,r))return;fD.set(r),n.uniformMatrix3fv(this.addr,!1,fD),ko(e,r)}}function cJ(n,t){const e=this.cache,r=t.elements;if(r===void 0){if(Do(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),ko(e,t)}else{if(Do(e,r))return;cD.set(r),n.uniformMatrix4fv(this.addr,!1,cD),ko(e,r)}}function fJ(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function hJ(n,t){const e=this.cache;Do(e,t)||(n.uniform2iv(this.addr,t),ko(e,t))}function dJ(n,t){const e=this.cache;Do(e,t)||(n.uniform3iv(this.addr,t),ko(e,t))}function pJ(n,t){const e=this.cache;Do(e,t)||(n.uniform4iv(this.addr,t),ko(e,t))}function mJ(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function gJ(n,t){const e=this.cache;Do(e,t)||(n.uniform2uiv(this.addr,t),ko(e,t))}function yJ(n,t){const e=this.cache;Do(e,t)||(n.uniform3uiv(this.addr,t),ko(e,t))}function vJ(n,t){const e=this.cache;Do(e,t)||(n.uniform4uiv(this.addr,t),ko(e,t))}function _J(n,t,e){const r=this.cache,i=e.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),e.setTexture2D(t||dz,i)}function wJ(n,t,e){const r=this.cache,i=e.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),e.setTexture3D(t||mz,i)}function xJ(n,t,e){const r=this.cache,i=e.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),e.setTextureCube(t||gz,i)}function bJ(n,t,e){const r=this.cache,i=e.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),e.setTexture2DArray(t||pz,i)}function SJ(n){switch(n){case 5126:return iJ;case 35664:return sJ;case 35665:return oJ;case 35666:return aJ;case 35674:return lJ;case 35675:return uJ;case 35676:return cJ;case 5124:case 35670:return fJ;case 35667:case 35671:return hJ;case 35668:case 35672:return dJ;case 35669:case 35673:return pJ;case 5125:return mJ;case 36294:return gJ;case 36295:return yJ;case 36296:return vJ;case 35678:case 36198:case 36298:case 36306:case 35682:return _J;case 35679:case 36299:case 36307:return wJ;case 35680:case 36300:case 36308:case 36293:return xJ;case 36289:case 36303:case 36311:case 36292:return bJ}}function EJ(n,t){n.uniform1fv(this.addr,t)}function MJ(n,t){const e=Ny(t,this.size,2);n.uniform2fv(this.addr,e)}function TJ(n,t){const e=Ny(t,this.size,3);n.uniform3fv(this.addr,e)}function AJ(n,t){const e=Ny(t,this.size,4);n.uniform4fv(this.addr,e)}function CJ(n,t){const e=Ny(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function IJ(n,t){const e=Ny(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function RJ(n,t){const e=Ny(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function LJ(n,t){n.uniform1iv(this.addr,t)}function PJ(n,t){n.uniform2iv(this.addr,t)}function DJ(n,t){n.uniform3iv(this.addr,t)}function kJ(n,t){n.uniform4iv(this.addr,t)}function OJ(n,t){n.uniform1uiv(this.addr,t)}function FJ(n,t){n.uniform2uiv(this.addr,t)}function BJ(n,t){n.uniform3uiv(this.addr,t)}function NJ(n,t){n.uniform4uiv(this.addr,t)}function zJ(n,t,e){const r=t.length,i=AS(e,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)e.setTexture2D(t[s]||dz,i[s])}function UJ(n,t,e){const r=t.length,i=AS(e,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)e.setTexture3D(t[s]||mz,i[s])}function VJ(n,t,e){const r=t.length,i=AS(e,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)e.setTextureCube(t[s]||gz,i[s])}function HJ(n,t,e){const r=t.length,i=AS(e,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)e.setTexture2DArray(t[s]||pz,i[s])}function WJ(n){switch(n){case 5126:return EJ;case 35664:return MJ;case 35665:return TJ;case 35666:return AJ;case 35674:return CJ;case 35675:return IJ;case 35676:return RJ;case 5124:case 35670:return LJ;case 35667:case 35671:return PJ;case 35668:case 35672:return DJ;case 35669:case 35673:return kJ;case 5125:return OJ;case 36294:return FJ;case 36295:return BJ;case 36296:return NJ;case 35678:case 36198:case 36298:case 36306:case 35682:return zJ;case 35679:case 36299:case 36307:return UJ;case 35680:case 36300:case 36308:case 36293:return VJ;case 36289:case 36303:case 36311:case 36292:return HJ}}function GJ(n,t,e){this.id=n,this.addr=e,this.cache=[],this.setValue=SJ(t.type)}function $J(n,t,e){this.id=n,this.addr=e,this.cache=[],this.size=t.size,this.setValue=WJ(t.type)}function yz(n){this.id=n,this.seq=[],this.map={}}yz.prototype.setValue=function(n,t,e){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,t[o.id],e)}};const HE=/(\w+)(\])?(\[|\.)?/g;function dD(n,t){n.seq.push(t),n.map[t.id]=t}function jJ(n,t,e){const r=n.name,i=r.length;for(HE.lastIndex=0;;){const s=HE.exec(r),o=HE.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){dD(e,u===void 0?new GJ(a,n,t):new $J(a,n,t));break}else{let m=e.map[a];m===void 0&&(m=new yz(a),dD(e,m)),e=m}}}function Rd(n,t){this.seq=[],this.map={};const e=n.getProgramParameter(t,35718);for(let r=0;r<e;++r){const i=n.getActiveUniform(t,r),s=n.getUniformLocation(t,i.name);jJ(i,s,this)}}Rd.prototype.setValue=function(n,t,e,r){const i=this.map[t];i!==void 0&&i.setValue(n,e,r)};Rd.prototype.setOptional=function(n,t,e){const r=t[e];r!==void 0&&this.setValue(n,e,r)};Rd.upload=function(n,t,e,r){for(let i=0,s=t.length;i!==s;++i){const o=t[i],a=e[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,r)}};Rd.seqWithValue=function(n,t){const e=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in t&&e.push(s)}return e};function pD(n,t,e){const r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}let YJ=0;function qJ(n,t){const e=n.split(`
`),r=[],i=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let o=i;o<s;o++)r.push(o+1+": "+e[o]);return r.join(`
`)}function XJ(n){switch(n){case Eu:return["Linear","( value )"];case Hr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function mD(n,t,e){const r=n.getShaderParameter(t,35713),i=n.getShaderInfoLog(t).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[0]);return e.toUpperCase()+`

`+i+`

`+qJ(n.getShaderSource(t),o)}else return i}function ZJ(n,t){const e=XJ(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function KJ(n,t){let e;switch(t){case M4:e="Linear";break;case T4:e="Reinhard";break;case A4:e="OptimizedCineon";break;case lC:e="ACESFilmic";break;case C4:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function JJ(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vv).join(`
`)}function QJ(n){const t=[];for(const e in n){const r=n[e];r!==!1&&t.push("#define "+e+" "+r)}return t.join(`
`)}function tQ(n,t){const e={},r=n.getProgramParameter(t,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(t,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),e[o]={type:s.type,location:n.getAttribLocation(t,o),locationSize:a}}return e}function Vv(n){return n!==""}function gD(n,t){return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function yD(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const eQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function rA(n){return n.replace(eQ,nQ)}function nQ(n,t){const e=jn[t];if(e===void 0)throw new Error("Can not resolve #include <"+t+">");return rA(e)}const rQ=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,iQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vD(n){return n.replace(iQ,vz).replace(rQ,sQ)}function sQ(n,t,e,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),vz(n,t,e,r)}function vz(n,t,e,r){let i="";for(let s=parseInt(t);s<parseInt(e);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function _D(n){let t="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function oQ(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===rC?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===iC?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===I0&&(t="SHADOWMAP_TYPE_VSM"),t}function aQ(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Bd:case Nd:t="ENVMAP_TYPE_CUBE";break;case ky:t="ENVMAP_TYPE_CUBE_UV";break}return t}function lQ(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Nd:t="ENVMAP_MODE_REFRACTION";break}return t}function uQ(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case l1:t="ENVMAP_BLENDING_MULTIPLY";break;case S4:t="ENVMAP_BLENDING_MIX";break;case E4:t="ENVMAP_BLENDING_ADD";break}return t}function cQ(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:r,maxMip:e}}function fQ(n,t,e,r){const i=n.getContext(),s=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=oQ(e),u=aQ(e),h=lQ(e),m=uQ(e),d=cQ(e),y=e.isWebGL2?"":JJ(e),_=QJ(s),v=i.createProgram();let w,x,S=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(w=[_].filter(Vv).join(`
`),w.length>0&&(w+=`
`),x=[y,_].filter(Vv).join(`
`),x.length>0&&(x+=`
`)):(w=[_D(e),"#define SHADER_NAME "+e.shaderName,_,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+h:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Vv).join(`
`),x=[y,_D(e),"#define SHADER_NAME "+e.shaderName,_,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.envMap?"#define "+h:"",e.envMap?"#define "+m:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==wu?"#define TONE_MAPPING":"",e.toneMapping!==wu?jn.tonemapping_pars_fragment:"",e.toneMapping!==wu?KJ("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",jn.encodings_pars_fragment,ZJ("linearToOutputTexel",e.outputEncoding),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Vv).join(`
`)),o=rA(o),o=gD(o,e),o=yD(o,e),a=rA(a),a=gD(a,e),a=yD(a,e),o=vD(o),a=vD(a),e.isWebGL2&&e.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",e.glslVersion===tA?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===tA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const M=S+w+o,T=S+x+a,A=pD(i,35633,M),P=pD(i,35632,T);if(i.attachShader(v,A),i.attachShader(v,P),e.index0AttributeName!==void 0?i.bindAttribLocation(v,0,e.index0AttributeName):e.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const B=i.getProgramInfoLog(v).trim(),V=i.getShaderInfoLog(A).trim(),Y=i.getShaderInfoLog(P).trim();let z=!0,q=!0;if(i.getProgramParameter(v,35714)===!1){z=!1;const L=mD(i,A,"vertex"),tt=mD(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+B+`
`+L+`
`+tt)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(V===""||Y==="")&&(q=!1);q&&(this.diagnostics={runnable:z,programLog:B,vertexShader:{log:V,prefix:w},fragmentShader:{log:Y,prefix:x}})}i.deleteShader(A),i.deleteShader(P);let F;this.getUniforms=function(){return F===void 0&&(F=new Rd(i,v)),F};let C;return this.getAttributes=function(){return C===void 0&&(C=tQ(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=e.shaderName,this.id=YJ++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=A,this.fragmentShader=P,this}let hQ=0;class dQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,r=t.fragmentShader,i=this._getShaderStage(e),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(t);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const r of e)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return e.has(t)===!1&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(e.has(t)===!1){const r=new pQ(t);e.set(t,r)}return e.get(t)}}class pQ{constructor(t){this.id=hQ++,this.code=t,this.usedTimes=0}}function mQ(n,t,e,r,i,s,o){const a=new Em,l=new dQ,u=[],h=i.isWebGL2,m=i.logarithmicDepthBuffer,d=i.vertexTextures;let y=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C,B,V,Y,z){const q=Y.fog,L=z.geometry,tt=C.isMeshStandardMaterial?Y.environment:null,ct=(C.isMeshStandardMaterial?e:t).get(C.envMap||tt),lt=!!ct&&ct.mapping===ky?ct.image.height:null,at=_[C.type];C.precision!==null&&(y=i.getMaxPrecision(C.precision),y!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",y,"instead."));const it=L.morphAttributes.position||L.morphAttributes.normal||L.morphAttributes.color,ut=it!==void 0?it.length:0;let j=0;L.morphAttributes.position!==void 0&&(j=1),L.morphAttributes.normal!==void 0&&(j=2),L.morphAttributes.color!==void 0&&(j=3);let K,xt,Lt,Pt;if(at){const oe=du[at];K=oe.vertexShader,xt=oe.fragmentShader}else K=C.vertexShader,xt=C.fragmentShader,l.update(C),Lt=l.getVertexShaderID(C),Pt=l.getFragmentShaderID(C);const Ot=n.getRenderTarget(),Ee=C.alphaTest>0,se=C.clearcoat>0;return{isWebGL2:h,shaderID:at,shaderName:C.type,vertexShader:K,fragmentShader:xt,defines:C.defines,customVertexShaderID:Lt,customFragmentShaderID:Pt,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:y,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Ot===null?n.outputEncoding:Ot.isXRRenderTarget===!0?Ot.texture.encoding:Eu,map:!!C.map,matcap:!!C.matcap,envMap:!!ct,envMapMode:ct&&ct.mapping,envMapCubeUVHeight:lt,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===Z4,tangentSpaceNormalMap:C.normalMapType===eg,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Hr,clearcoat:se,clearcoatMap:se&&!!C.clearcoatMap,clearcoatRoughnessMap:se&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:se&&!!C.clearcoatNormalMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===wm,alphaMap:!!C.alphaMap,alphaTest:Ee,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!L.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!L.attributes.color&&L.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatNormalMap||C.transmission>0||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||C.sheen>0||!!C.sheenColorMap||!!C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!q,useFog:C.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:m,skinning:z.isSkinnedMesh===!0,morphTargets:L.morphAttributes.position!==void 0,morphNormals:L.morphAttributes.normal!==void 0,morphColors:L.morphAttributes.color!==void 0,morphTargetsCount:ut,morphTextureStride:j,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:wu,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Fd,flipSided:C.side===la,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function w(C){const B=[];if(C.shaderID?B.push(C.shaderID):(B.push(C.customVertexShaderID),B.push(C.customFragmentShaderID)),C.defines!==void 0)for(const V in C.defines)B.push(V),B.push(C.defines[V]);return C.isRawShaderMaterial===!1&&(x(B,C),S(B,C),B.push(n.outputEncoding)),B.push(C.customProgramCacheKey),B.join()}function x(C,B){C.push(B.precision),C.push(B.outputEncoding),C.push(B.envMapMode),C.push(B.envMapCubeUVHeight),C.push(B.combine),C.push(B.vertexUvs),C.push(B.fogExp2),C.push(B.sizeAttenuation),C.push(B.morphTargetsCount),C.push(B.morphAttributeCount),C.push(B.numDirLights),C.push(B.numPointLights),C.push(B.numSpotLights),C.push(B.numHemiLights),C.push(B.numRectAreaLights),C.push(B.numDirLightShadows),C.push(B.numPointLightShadows),C.push(B.numSpotLightShadows),C.push(B.shadowMapType),C.push(B.toneMapping),C.push(B.numClippingPlanes),C.push(B.numClipIntersection),C.push(B.depthPacking)}function S(C,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.displacementMap&&a.enable(18),B.specularMap&&a.enable(19),B.roughnessMap&&a.enable(20),B.metalnessMap&&a.enable(21),B.gradientMap&&a.enable(22),B.alphaMap&&a.enable(23),B.alphaTest&&a.enable(24),B.vertexColors&&a.enable(25),B.vertexAlphas&&a.enable(26),B.vertexUvs&&a.enable(27),B.vertexTangents&&a.enable(28),B.uvsVertexOnly&&a.enable(29),B.fog&&a.enable(30),C.push(a.mask),a.disableAll(),B.useFog&&a.enable(0),B.flatShading&&a.enable(1),B.logarithmicDepthBuffer&&a.enable(2),B.skinning&&a.enable(3),B.morphTargets&&a.enable(4),B.morphNormals&&a.enable(5),B.morphColors&&a.enable(6),B.premultipliedAlpha&&a.enable(7),B.shadowMapEnabled&&a.enable(8),B.physicallyCorrectLights&&a.enable(9),B.doubleSided&&a.enable(10),B.flipSided&&a.enable(11),B.useDepthPacking&&a.enable(12),B.dithering&&a.enable(13),B.specularIntensityMap&&a.enable(14),B.specularColorMap&&a.enable(15),B.transmission&&a.enable(16),B.transmissionMap&&a.enable(17),B.thicknessMap&&a.enable(18),B.sheen&&a.enable(19),B.sheenColorMap&&a.enable(20),B.sheenRoughnessMap&&a.enable(21),B.decodeVideoTexture&&a.enable(22),B.opaque&&a.enable(23),C.push(a.mask)}function M(C){const B=_[C.type];let V;if(B){const Y=du[B];V=fz.clone(Y.uniforms)}else V=C.uniforms;return V}function T(C,B){let V;for(let Y=0,z=u.length;Y<z;Y++){const q=u[Y];if(q.cacheKey===B){V=q,++V.usedTimes;break}}return V===void 0&&(V=new fQ(n,B,C,s),u.push(V)),V}function A(C){if(--C.usedTimes===0){const B=u.indexOf(C);u[B]=u[u.length-1],u.pop(),C.destroy()}}function P(C){l.remove(C)}function F(){l.dispose()}return{getParameters:v,getProgramCacheKey:w,getUniforms:M,acquireProgram:T,releaseProgram:A,releaseShaderCache:P,programs:u,dispose:F}}function gQ(){let n=new WeakMap;function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function e(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:t,remove:e,update:r,dispose:i}}function yQ(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function wD(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function xD(){const n=[];let t=0;const e=[],r=[],i=[];function s(){t=0,e.length=0,r.length=0,i.length=0}function o(m,d,y,_,v,w){let x=n[t];return x===void 0?(x={id:m.id,object:m,geometry:d,material:y,groupOrder:_,renderOrder:m.renderOrder,z:v,group:w},n[t]=x):(x.id=m.id,x.object=m,x.geometry=d,x.material=y,x.groupOrder=_,x.renderOrder=m.renderOrder,x.z=v,x.group=w),t++,x}function a(m,d,y,_,v,w){const x=o(m,d,y,_,v,w);y.transmission>0?r.push(x):y.transparent===!0?i.push(x):e.push(x)}function l(m,d,y,_,v,w){const x=o(m,d,y,_,v,w);y.transmission>0?r.unshift(x):y.transparent===!0?i.unshift(x):e.unshift(x)}function u(m,d){e.length>1&&e.sort(m||yQ),r.length>1&&r.sort(d||wD),i.length>1&&i.sort(d||wD)}function h(){for(let m=t,d=n.length;m<d;m++){const y=n[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:e,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:h,sort:u}}function vQ(){let n=new WeakMap;function t(r,i){let s;return n.has(r)===!1?(s=new xD,n.set(r,[s])):i>=n.get(r).length?(s=new xD,n.get(r).push(s)):s=n.get(r)[i],s}function e(){n=new WeakMap}return{get:t,dispose:e}}function _Q(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new rt,color:new Te};break;case"SpotLight":e={position:new rt,direction:new rt,color:new Te,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new rt,color:new Te,distance:0,decay:0};break;case"HemisphereLight":e={direction:new rt,skyColor:new Te,groundColor:new Te};break;case"RectAreaLight":e={color:new Te,position:new rt,halfWidth:new rt,halfHeight:new rt};break}return n[t.id]=e,e}}}function wQ(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie};break;case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let xQ=0;function bQ(n,t){return(t.castShadow?1:0)-(n.castShadow?1:0)}function SQ(n,t){const e=new _Q,r=wQ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)i.probe.push(new rt);const s=new rt,o=new Ae,a=new Ae;function l(h,m){let d=0,y=0,_=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let v=0,w=0,x=0,S=0,M=0,T=0,A=0,P=0;h.sort(bQ);const F=m!==!0?Math.PI:1;for(let B=0,V=h.length;B<V;B++){const Y=h[B],z=Y.color,q=Y.intensity,L=Y.distance,tt=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)d+=z.r*q*F,y+=z.g*q*F,_+=z.b*q*F;else if(Y.isLightProbe)for(let ct=0;ct<9;ct++)i.probe[ct].addScaledVector(Y.sh.coefficients[ct],q);else if(Y.isDirectionalLight){const ct=e.get(Y);if(ct.color.copy(Y.color).multiplyScalar(Y.intensity*F),Y.castShadow){const lt=Y.shadow,at=r.get(Y);at.shadowBias=lt.bias,at.shadowNormalBias=lt.normalBias,at.shadowRadius=lt.radius,at.shadowMapSize=lt.mapSize,i.directionalShadow[v]=at,i.directionalShadowMap[v]=tt,i.directionalShadowMatrix[v]=Y.shadow.matrix,T++}i.directional[v]=ct,v++}else if(Y.isSpotLight){const ct=e.get(Y);if(ct.position.setFromMatrixPosition(Y.matrixWorld),ct.color.copy(z).multiplyScalar(q*F),ct.distance=L,ct.coneCos=Math.cos(Y.angle),ct.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),ct.decay=Y.decay,Y.castShadow){const lt=Y.shadow,at=r.get(Y);at.shadowBias=lt.bias,at.shadowNormalBias=lt.normalBias,at.shadowRadius=lt.radius,at.shadowMapSize=lt.mapSize,i.spotShadow[x]=at,i.spotShadowMap[x]=tt,i.spotShadowMatrix[x]=Y.shadow.matrix,P++}i.spot[x]=ct,x++}else if(Y.isRectAreaLight){const ct=e.get(Y);ct.color.copy(z).multiplyScalar(q),ct.halfWidth.set(Y.width*.5,0,0),ct.halfHeight.set(0,Y.height*.5,0),i.rectArea[S]=ct,S++}else if(Y.isPointLight){const ct=e.get(Y);if(ct.color.copy(Y.color).multiplyScalar(Y.intensity*F),ct.distance=Y.distance,ct.decay=Y.decay,Y.castShadow){const lt=Y.shadow,at=r.get(Y);at.shadowBias=lt.bias,at.shadowNormalBias=lt.normalBias,at.shadowRadius=lt.radius,at.shadowMapSize=lt.mapSize,at.shadowCameraNear=lt.camera.near,at.shadowCameraFar=lt.camera.far,i.pointShadow[w]=at,i.pointShadowMap[w]=tt,i.pointShadowMatrix[w]=Y.shadow.matrix,A++}i.point[w]=ct,w++}else if(Y.isHemisphereLight){const ct=e.get(Y);ct.skyColor.copy(Y.color).multiplyScalar(q*F),ct.groundColor.copy(Y.groundColor).multiplyScalar(q*F),i.hemi[M]=ct,M++}}S>0&&(t.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=be.LTC_FLOAT_1,i.rectAreaLTC2=be.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=be.LTC_HALF_1,i.rectAreaLTC2=be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=y,i.ambient[2]=_;const C=i.hash;(C.directionalLength!==v||C.pointLength!==w||C.spotLength!==x||C.rectAreaLength!==S||C.hemiLength!==M||C.numDirectionalShadows!==T||C.numPointShadows!==A||C.numSpotShadows!==P)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=S,i.point.length=w,i.hemi.length=M,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=A,i.spotShadowMatrix.length=P,C.directionalLength=v,C.pointLength=w,C.spotLength=x,C.rectAreaLength=S,C.hemiLength=M,C.numDirectionalShadows=T,C.numPointShadows=A,C.numSpotShadows=P,i.version=xQ++)}function u(h,m){let d=0,y=0,_=0,v=0,w=0;const x=m.matrixWorldInverse;for(let S=0,M=h.length;S<M;S++){const T=h[S];if(T.isDirectionalLight){const A=i.directional[d];A.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(x),d++}else if(T.isSpotLight){const A=i.spot[_];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(x),A.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(x),_++}else if(T.isRectAreaLight){const A=i.rectArea[v];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(x),a.identity(),o.copy(T.matrixWorld),o.premultiply(x),a.extractRotation(o),A.halfWidth.set(T.width*.5,0,0),A.halfHeight.set(0,T.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),v++}else if(T.isPointLight){const A=i.point[y];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(x),y++}else if(T.isHemisphereLight){const A=i.hemi[w];A.direction.setFromMatrixPosition(T.matrixWorld),A.direction.transformDirection(x),w++}}}return{setup:l,setupView:u,state:i}}function bD(n,t){const e=new SQ(n,t),r=[],i=[];function s(){r.length=0,i.length=0}function o(m){r.push(m)}function a(m){i.push(m)}function l(m){e.setup(r,m)}function u(m){e.setupView(r,m)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:e},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function EQ(n,t){let e=new WeakMap;function r(s,o=0){let a;return e.has(s)===!1?(a=new bD(n,t),e.set(s,[a])):o>=e.get(s).length?(a=new bD(n,t),e.get(s).push(a)):a=e.get(s)[o],a}function i(){e=new WeakMap}return{get:r,dispose:i}}class CS extends $i{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=q4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}CS.prototype.isMeshDepthMaterial=!0;class IS extends $i{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new rt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}IS.prototype.isMeshDistanceMaterial=!0;const MQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,TQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _z(n,t,e){let r=new c1;const i=new ie,s=new ie,o=new xr,a=new CS({depthPacking:X4}),l=new IS,u={},h=e.maxTextureSize,m={0:la,1:Om,2:Fd},d=new xl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ie},radius:{value:4}},vertexShader:MQ,fragmentShader:TQ}),y=d.clone();y.defines.HORIZONTAL_PASS=1;const _=new Xe;_.setAttribute("position",new or(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new rs(_,d),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rC,this.render=function(T,A,P){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||T.length===0)return;const F=n.getRenderTarget(),C=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),V=n.state;V.setBlending(jf),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);for(let Y=0,z=T.length;Y<z;Y++){const q=T[Y],L=q.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;i.copy(L.mapSize);const tt=L.getFrameExtents();if(i.multiply(tt),s.copy(L.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/tt.x),i.x=s.x*tt.x,L.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/tt.y),i.y=s.y*tt.y,L.mapSize.y=s.y)),L.map===null&&!L.isPointLightShadow&&this.type===I0&&(L.map=new Lo(i.x,i.y),L.map.texture.name=q.name+".shadowMap",L.mapPass=new Lo(i.x,i.y),L.camera.updateProjectionMatrix()),L.map===null){const lt={minFilter:ts,magFilter:ts,format:Ua};L.map=new Lo(i.x,i.y,lt),L.map.texture.name=q.name+".shadowMap",L.camera.updateProjectionMatrix()}n.setRenderTarget(L.map),n.clear();const ct=L.getViewportCount();for(let lt=0;lt<ct;lt++){const at=L.getViewport(lt);o.set(s.x*at.x,s.y*at.y,s.x*at.z,s.y*at.w),V.viewport(o),L.updateMatrices(q,lt),r=L.getFrustum(),M(A,P,L.camera,q,this.type)}!L.isPointLightShadow&&this.type===I0&&x(L,P),L.needsUpdate=!1}w.needsUpdate=!1,n.setRenderTarget(F,C,B)};function x(T,A){const P=t.update(v);d.defines.VSM_SAMPLES!==T.blurSamples&&(d.defines.VSM_SAMPLES=T.blurSamples,y.defines.VSM_SAMPLES=T.blurSamples,d.needsUpdate=!0,y.needsUpdate=!0),d.uniforms.shadow_pass.value=T.map.texture,d.uniforms.resolution.value=T.mapSize,d.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(A,null,P,d,v,null),y.uniforms.shadow_pass.value=T.mapPass.texture,y.uniforms.resolution.value=T.mapSize,y.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(A,null,P,y,v,null)}function S(T,A,P,F,C,B){let V=null;const Y=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(Y!==void 0?V=Y:V=P.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0){const z=V.uuid,q=A.uuid;let L=u[z];L===void 0&&(L={},u[z]=L);let tt=L[q];tt===void 0&&(tt=V.clone(),L[q]=tt),V=tt}return V.visible=A.visible,V.wireframe=A.wireframe,B===I0?V.side=A.shadowSide!==null?A.shadowSide:A.side:V.side=A.shadowSide!==null?A.shadowSide:m[A.side],V.alphaMap=A.alphaMap,V.alphaTest=A.alphaTest,V.clipShadows=A.clipShadows,V.clippingPlanes=A.clippingPlanes,V.clipIntersection=A.clipIntersection,V.displacementMap=A.displacementMap,V.displacementScale=A.displacementScale,V.displacementBias=A.displacementBias,V.wireframeLinewidth=A.wireframeLinewidth,V.linewidth=A.linewidth,P.isPointLight===!0&&V.isMeshDistanceMaterial===!0&&(V.referencePosition.setFromMatrixPosition(P.matrixWorld),V.nearDistance=F,V.farDistance=C),V}function M(T,A,P,F,C){if(T.visible===!1)return;if(T.layers.test(A.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===I0)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const Y=t.update(T),z=T.material;if(Array.isArray(z)){const q=Y.groups;for(let L=0,tt=q.length;L<tt;L++){const ct=q[L],lt=z[ct.materialIndex];if(lt&&lt.visible){const at=S(T,lt,F,P.near,P.far,C);n.renderBufferDirect(P,null,Y,at,T,ct)}}}else if(z.visible){const q=S(T,z,F,P.near,P.far,C);n.renderBufferDirect(P,null,Y,q,T,null)}}const V=T.children;for(let Y=0,z=V.length;Y<z;Y++)M(V[Y],A,P,F,C)}}function AQ(n,t,e){const r=e.isWebGL2;function i(){let gt=!1;const me=new xr;let pe=null;const De=new xr(0,0,0,0);return{setMask:function(_e){pe!==_e&&!gt&&(n.colorMask(_e,_e,_e,_e),pe=_e)},setLocked:function(_e){gt=_e},setClear:function(_e,We,ye,Ye,Hn){Hn===!0&&(_e*=Ye,We*=Ye,ye*=Ye),me.set(_e,We,ye,Ye),De.equals(me)===!1&&(n.clearColor(_e,We,ye,Ye),De.copy(me))},reset:function(){gt=!1,pe=null,De.set(-1,0,0,0)}}}function s(){let gt=!1,me=null,pe=null,De=null;return{setTest:function(_e){_e?Pt(2929):Ot(2929)},setMask:function(_e){me!==_e&&!gt&&(n.depthMask(_e),me=_e)},setFunc:function(_e){if(pe!==_e){if(_e)switch(_e){case g4:n.depthFunc(512);break;case y4:n.depthFunc(519);break;case v4:n.depthFunc(513);break;case ub:n.depthFunc(515);break;case _4:n.depthFunc(514);break;case w4:n.depthFunc(518);break;case x4:n.depthFunc(516);break;case b4:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);pe=_e}},setLocked:function(_e){gt=_e},setClear:function(_e){De!==_e&&(n.clearDepth(_e),De=_e)},reset:function(){gt=!1,me=null,pe=null,De=null}}}function o(){let gt=!1,me=null,pe=null,De=null,_e=null,We=null,ye=null,Ye=null,Hn=null;return{setTest:function(ln){gt||(ln?Pt(2960):Ot(2960))},setMask:function(ln){me!==ln&&!gt&&(n.stencilMask(ln),me=ln)},setFunc:function(ln,Ri,Vs){(pe!==ln||De!==Ri||_e!==Vs)&&(n.stencilFunc(ln,Ri,Vs),pe=ln,De=Ri,_e=Vs)},setOp:function(ln,Ri,Vs){(We!==ln||ye!==Ri||Ye!==Vs)&&(n.stencilOp(ln,Ri,Vs),We=ln,ye=Ri,Ye=Vs)},setLocked:function(ln){gt=ln},setClear:function(ln){Hn!==ln&&(n.clearStencil(ln),Hn=ln)},reset:function(){gt=!1,me=null,pe=null,De=null,_e=null,We=null,ye=null,Ye=null,Hn=null}}}const a=new i,l=new s,u=new o;let h={},m={},d=new WeakMap,y=[],_=null,v=!1,w=null,x=null,S=null,M=null,T=null,A=null,P=null,F=!1,C=null,B=null,V=null,Y=null,z=null;const q=n.getParameter(35661);let L=!1,tt=0;const ct=n.getParameter(7938);ct.indexOf("WebGL")!==-1?(tt=parseFloat(/^WebGL (\d)/.exec(ct)[1]),L=tt>=1):ct.indexOf("OpenGL ES")!==-1&&(tt=parseFloat(/^OpenGL ES (\d)/.exec(ct)[1]),L=tt>=2);let lt=null,at={};const it=n.getParameter(3088),ut=n.getParameter(2978),j=new xr().fromArray(it),K=new xr().fromArray(ut);function xt(gt,me,pe){const De=new Uint8Array(4),_e=n.createTexture();n.bindTexture(gt,_e),n.texParameteri(gt,10241,9728),n.texParameteri(gt,10240,9728);for(let We=0;We<pe;We++)n.texImage2D(me+We,0,6408,1,1,0,6408,5121,De);return _e}const Lt={};Lt[3553]=xt(3553,3553,1),Lt[34067]=xt(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Pt(2929),l.setFunc(ub),O(!1),Tt(AT),Pt(2884),Kt(jf);function Pt(gt){h[gt]!==!0&&(n.enable(gt),h[gt]=!0)}function Ot(gt){h[gt]!==!1&&(n.disable(gt),h[gt]=!1)}function Ee(gt,me){return m[gt]!==me?(n.bindFramebuffer(gt,me),m[gt]=me,r&&(gt===36009&&(m[36160]=me),gt===36160&&(m[36009]=me)),!0):!1}function se(gt,me){let pe=y,De=!1;if(gt)if(pe=d.get(me),pe===void 0&&(pe=[],d.set(me,pe)),gt.isWebGLMultipleRenderTargets){const _e=gt.texture;if(pe.length!==_e.length||pe[0]!==36064){for(let We=0,ye=_e.length;We<ye;We++)pe[We]=36064+We;pe.length=_e.length,De=!0}}else pe[0]!==36064&&(pe[0]=36064,De=!0);else pe[0]!==1029&&(pe[0]=1029,De=!0);De&&(e.isWebGL2?n.drawBuffers(pe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(pe))}function fe(gt){return _!==gt?(n.useProgram(gt),_=gt,!0):!1}const oe={[rm]:32774,[s4]:32778,[o4]:32779};if(r)oe[LT]=32775,oe[PT]=32776;else{const gt=t.get("EXT_blend_minmax");gt!==null&&(oe[LT]=gt.MIN_EXT,oe[PT]=gt.MAX_EXT)}const Le={[a4]:0,[l4]:1,[u4]:768,[oC]:770,[m4]:776,[d4]:774,[f4]:772,[c4]:769,[aC]:771,[p4]:775,[h4]:773};function Kt(gt,me,pe,De,_e,We,ye,Ye){if(gt===jf){v===!0&&(Ot(3042),v=!1);return}if(v===!1&&(Pt(3042),v=!0),gt!==i4){if(gt!==w||Ye!==F){if((x!==rm||T!==rm)&&(n.blendEquation(32774),x=rm,T=rm),Ye)switch(gt){case wm:n.blendFuncSeparate(1,771,1,771);break;case CT:n.blendFunc(1,1);break;case IT:n.blendFuncSeparate(0,769,0,1);break;case RT:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",gt);break}else switch(gt){case wm:n.blendFuncSeparate(770,771,1,771);break;case CT:n.blendFunc(770,1);break;case IT:n.blendFuncSeparate(0,769,0,1);break;case RT:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",gt);break}S=null,M=null,A=null,P=null,w=gt,F=Ye}return}_e=_e||me,We=We||pe,ye=ye||De,(me!==x||_e!==T)&&(n.blendEquationSeparate(oe[me],oe[_e]),x=me,T=_e),(pe!==S||De!==M||We!==A||ye!==P)&&(n.blendFuncSeparate(Le[pe],Le[De],Le[We],Le[ye]),S=pe,M=De,A=We,P=ye),w=gt,F=null}function Yt(gt,me){gt.side===Fd?Ot(2884):Pt(2884);let pe=gt.side===la;me&&(pe=!pe),O(pe),gt.blending===wm&&gt.transparent===!1?Kt(jf):Kt(gt.blending,gt.blendEquation,gt.blendSrc,gt.blendDst,gt.blendEquationAlpha,gt.blendSrcAlpha,gt.blendDstAlpha,gt.premultipliedAlpha),l.setFunc(gt.depthFunc),l.setTest(gt.depthTest),l.setMask(gt.depthWrite),a.setMask(gt.colorWrite);const De=gt.stencilWrite;u.setTest(De),De&&(u.setMask(gt.stencilWriteMask),u.setFunc(gt.stencilFunc,gt.stencilRef,gt.stencilFuncMask),u.setOp(gt.stencilFail,gt.stencilZFail,gt.stencilZPass)),nt(gt.polygonOffset,gt.polygonOffsetFactor,gt.polygonOffsetUnits),gt.alphaToCoverage===!0?Pt(32926):Ot(32926)}function O(gt){C!==gt&&(gt?n.frontFace(2304):n.frontFace(2305),C=gt)}function Tt(gt){gt!==n4?(Pt(2884),gt!==B&&(gt===AT?n.cullFace(1029):gt===r4?n.cullFace(1028):n.cullFace(1032))):Ot(2884),B=gt}function vt(gt){gt!==V&&(L&&n.lineWidth(gt),V=gt)}function nt(gt,me,pe){gt?(Pt(32823),(Y!==me||z!==pe)&&(n.polygonOffset(me,pe),Y=me,z=pe)):Ot(32823)}function J(gt){gt?Pt(3089):Ot(3089)}function dt(gt){gt===void 0&&(gt=33984+q-1),lt!==gt&&(n.activeTexture(gt),lt=gt)}function Gt(gt,me){lt===null&&dt();let pe=at[lt];pe===void 0&&(pe={type:void 0,texture:void 0},at[lt]=pe),(pe.type!==gt||pe.texture!==me)&&(n.bindTexture(gt,me||Lt[gt]),pe.type=gt,pe.texture=me)}function Vt(){const gt=at[lt];gt!==void 0&&gt.type!==void 0&&(n.bindTexture(gt.type,null),gt.type=void 0,gt.texture=void 0)}function G(){try{n.compressedTexImage2D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function U(){try{n.texSubImage2D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function ft(){try{n.texSubImage3D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Et(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Ht(){try{n.texStorage2D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Qt(){try{n.texStorage3D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function ue(){try{n.texImage2D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Wt(){try{n.texImage3D.apply(n,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function He(gt){j.equals(gt)===!1&&(n.scissor(gt.x,gt.y,gt.z,gt.w),j.copy(gt))}function Ue(gt){K.equals(gt)===!1&&(n.viewport(gt.x,gt.y,gt.z,gt.w),K.copy(gt))}function xe(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},lt=null,at={},m={},d=new WeakMap,y=[],_=null,v=!1,w=null,x=null,S=null,M=null,T=null,A=null,P=null,F=!1,C=null,B=null,V=null,Y=null,z=null,j.set(0,0,n.canvas.width,n.canvas.height),K.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Pt,disable:Ot,bindFramebuffer:Ee,drawBuffers:se,useProgram:fe,setBlending:Kt,setMaterial:Yt,setFlipSided:O,setCullFace:Tt,setLineWidth:vt,setPolygonOffset:nt,setScissorTest:J,activeTexture:dt,bindTexture:Gt,unbindTexture:Vt,compressedTexImage2D:G,texImage2D:ue,texImage3D:Wt,texStorage2D:Ht,texStorage3D:Qt,texSubImage2D:U,texSubImage3D:ft,compressedTexSubImage2D:Et,scissor:He,viewport:Ue,reset:xe}}function CQ(n,t,e,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,m=i.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,y=/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let v;const w=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(G,U){return x?new OffscreenCanvas(G,U):k_("canvas")}function M(G,U,ft,Et){let Ht=1;if((G.width>Et||G.height>Et)&&(Ht=Et/Math.max(G.width,G.height)),Ht<1||U===!0)if(typeof HTMLImageElement!="undefined"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&G instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&G instanceof ImageBitmap){const Qt=U?db:Math.floor,ue=Qt(Ht*G.width),Wt=Qt(Ht*G.height);v===void 0&&(v=S(ue,Wt));const He=ft?S(ue,Wt):v;return He.width=ue,He.height=Wt,He.getContext("2d").drawImage(G,0,0,ue,Wt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+ue+"x"+Wt+")."),He}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function T(G){return eA(G.width)&&eA(G.height)}function A(G){return a?!1:G.wrapS!==Ao||G.wrapT!==Ao||G.minFilter!==ts&&G.minFilter!==Ui}function P(G,U){return G.generateMipmaps&&U&&G.minFilter!==ts&&G.minFilter!==Ui}function F(G){n.generateMipmap(G)}function C(G,U,ft,Et,Ht=!1){if(a===!1)return U;if(G!==null){if(n[G]!==void 0)return n[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let Qt=U;return U===6403&&(ft===5126&&(Qt=33326),ft===5131&&(Qt=33325),ft===5121&&(Qt=33321)),U===33319&&(ft===5126&&(Qt=33328),ft===5131&&(Qt=33327),ft===5121&&(Qt=33323)),U===6408&&(ft===5126&&(Qt=34836),ft===5131&&(Qt=34842),ft===5121&&(Qt=Et===Hr&&Ht===!1?35907:32856),ft===32819&&(Qt=32854),ft===32820&&(Qt=32855)),(Qt===33325||Qt===33326||Qt===33327||Qt===33328||Qt===34842||Qt===34836)&&t.get("EXT_color_buffer_float"),Qt}function B(G,U,ft){return P(G,ft)===!0||G.isFramebufferTexture&&G.minFilter!==ts&&G.minFilter!==Ui?Math.log2(Math.max(U.width,U.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?U.mipmaps.length:1}function V(G){return G===ts||G===cb||G===fb?9728:9729}function Y(G){const U=G.target;U.removeEventListener("dispose",Y),q(U),U.isVideoTexture&&_.delete(U)}function z(G){const U=G.target;U.removeEventListener("dispose",z),tt(U)}function q(G){const U=r.get(G);if(U.__webglInit===void 0)return;const ft=G.source,Et=w.get(ft);if(Et){const Ht=Et[U.__cacheKey];Ht.usedTimes--,Ht.usedTimes===0&&L(G),Object.keys(Et).length===0&&w.delete(ft)}r.remove(G)}function L(G){const U=r.get(G);n.deleteTexture(U.__webglTexture);const ft=G.source,Et=w.get(ft);delete Et[U.__cacheKey],o.memory.textures--}function tt(G){const U=G.texture,ft=r.get(G),Et=r.get(U);if(Et.__webglTexture!==void 0&&(n.deleteTexture(Et.__webglTexture),o.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Ht=0;Ht<6;Ht++)n.deleteFramebuffer(ft.__webglFramebuffer[Ht]),ft.__webglDepthbuffer&&n.deleteRenderbuffer(ft.__webglDepthbuffer[Ht]);else n.deleteFramebuffer(ft.__webglFramebuffer),ft.__webglDepthbuffer&&n.deleteRenderbuffer(ft.__webglDepthbuffer),ft.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ft.__webglMultisampledFramebuffer),ft.__webglColorRenderbuffer&&n.deleteRenderbuffer(ft.__webglColorRenderbuffer),ft.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ft.__webglDepthRenderbuffer);if(G.isWebGLMultipleRenderTargets)for(let Ht=0,Qt=U.length;Ht<Qt;Ht++){const ue=r.get(U[Ht]);ue.__webglTexture&&(n.deleteTexture(ue.__webglTexture),o.memory.textures--),r.remove(U[Ht])}r.remove(U),r.remove(G)}let ct=0;function lt(){ct=0}function at(){const G=ct;return G>=l&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+l),ct+=1,G}function it(G){const U=[];return U.push(G.wrapS),U.push(G.wrapT),U.push(G.magFilter),U.push(G.minFilter),U.push(G.anisotropy),U.push(G.internalFormat),U.push(G.format),U.push(G.type),U.push(G.generateMipmaps),U.push(G.premultiplyAlpha),U.push(G.flipY),U.push(G.unpackAlignment),U.push(G.encoding),U.join()}function ut(G,U){const ft=r.get(G);if(G.isVideoTexture&&Gt(G),G.isRenderTargetTexture===!1&&G.version>0&&ft.__version!==G.version){const Et=G.image;if(Et===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Et.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(ft,G,U);return}}e.activeTexture(33984+U),e.bindTexture(3553,ft.__webglTexture)}function j(G,U){const ft=r.get(G);if(G.version>0&&ft.__version!==G.version){se(ft,G,U);return}e.activeTexture(33984+U),e.bindTexture(35866,ft.__webglTexture)}function K(G,U){const ft=r.get(G);if(G.version>0&&ft.__version!==G.version){se(ft,G,U);return}e.activeTexture(33984+U),e.bindTexture(32879,ft.__webglTexture)}function xt(G,U){const ft=r.get(G);if(G.version>0&&ft.__version!==G.version){fe(ft,G,U);return}e.activeTexture(33984+U),e.bindTexture(34067,ft.__webglTexture)}const Lt={[C_]:10497,[Ao]:33071,[I_]:33648},Pt={[ts]:9728,[cb]:9984,[fb]:9986,[Ui]:9729,[uC]:9985,[tg]:9987};function Ot(G,U,ft){if(ft?(n.texParameteri(G,10242,Lt[U.wrapS]),n.texParameteri(G,10243,Lt[U.wrapT]),(G===32879||G===35866)&&n.texParameteri(G,32882,Lt[U.wrapR]),n.texParameteri(G,10240,Pt[U.magFilter]),n.texParameteri(G,10241,Pt[U.minFilter])):(n.texParameteri(G,10242,33071),n.texParameteri(G,10243,33071),(G===32879||G===35866)&&n.texParameteri(G,32882,33071),(U.wrapS!==Ao||U.wrapT!==Ao)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(G,10240,V(U.magFilter)),n.texParameteri(G,10241,V(U.minFilter)),U.minFilter!==ts&&U.minFilter!==Ui&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const Et=t.get("EXT_texture_filter_anisotropic");if(U.type===Wf&&t.has("OES_texture_float_linear")===!1||a===!1&&U.type===iy&&t.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||r.get(U).__currentAnisotropy)&&(n.texParameterf(G,Et.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy)}}function Ee(G,U){let ft=!1;G.__webglInit===void 0&&(G.__webglInit=!0,U.addEventListener("dispose",Y));const Et=U.source;let Ht=w.get(Et);Ht===void 0&&(Ht={},w.set(Et,Ht));const Qt=it(U);if(Qt!==G.__cacheKey){Ht[Qt]===void 0&&(Ht[Qt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ft=!0),Ht[Qt].usedTimes++;const ue=Ht[G.__cacheKey];ue!==void 0&&(Ht[G.__cacheKey].usedTimes--,ue.usedTimes===0&&L(U)),G.__cacheKey=Qt,G.__webglTexture=Ht[Qt].texture}return ft}function se(G,U,ft){let Et=3553;U.isDataArrayTexture&&(Et=35866),U.isData3DTexture&&(Et=32879);const Ht=Ee(G,U),Qt=U.source;if(e.activeTexture(33984+ft),e.bindTexture(Et,G.__webglTexture),Qt.version!==Qt.__currentVersion||Ht===!0){n.pixelStorei(37440,U.flipY),n.pixelStorei(37441,U.premultiplyAlpha),n.pixelStorei(3317,U.unpackAlignment),n.pixelStorei(37443,0);const ue=A(U)&&T(U.image)===!1;let Wt=M(U.image,ue,!1,h);Wt=Vt(U,Wt);const He=T(Wt)||a,Ue=s.convert(U.format,U.encoding);let xe=s.convert(U.type),gt=C(U.internalFormat,Ue,xe,U.encoding,U.isVideoTexture);Ot(Et,U,He);let me;const pe=U.mipmaps,De=a&&U.isVideoTexture!==!0,_e=G.__version===void 0||Ht===!0,We=B(U,Wt,He);if(U.isDepthTexture)gt=6402,a?U.type===Wf?gt=36012:U.type===Jv?gt=33190:U.type===xm?gt=35056:gt=33189:U.type===Wf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===Id&&gt===6402&&U.type!==ry&&U.type!==Jv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=ry,xe=s.convert(U.type)),U.format===Fm&&gt===6402&&(gt=34041,U.type!==xm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=xm,xe=s.convert(U.type))),_e&&(De?e.texStorage2D(3553,1,gt,Wt.width,Wt.height):e.texImage2D(3553,0,gt,Wt.width,Wt.height,0,Ue,xe,null));else if(U.isDataTexture)if(pe.length>0&&He){De&&_e&&e.texStorage2D(3553,We,gt,pe[0].width,pe[0].height);for(let ye=0,Ye=pe.length;ye<Ye;ye++)me=pe[ye],De?e.texSubImage2D(3553,ye,0,0,me.width,me.height,Ue,xe,me.data):e.texImage2D(3553,ye,gt,me.width,me.height,0,Ue,xe,me.data);U.generateMipmaps=!1}else De?(_e&&e.texStorage2D(3553,We,gt,Wt.width,Wt.height),e.texSubImage2D(3553,0,0,0,Wt.width,Wt.height,Ue,xe,Wt.data)):e.texImage2D(3553,0,gt,Wt.width,Wt.height,0,Ue,xe,Wt.data);else if(U.isCompressedTexture){De&&_e&&e.texStorage2D(3553,We,gt,pe[0].width,pe[0].height);for(let ye=0,Ye=pe.length;ye<Ye;ye++)me=pe[ye],U.format!==Ua?Ue!==null?De?e.compressedTexSubImage2D(3553,ye,0,0,me.width,me.height,Ue,me.data):e.compressedTexImage2D(3553,ye,gt,me.width,me.height,0,me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?e.texSubImage2D(3553,ye,0,0,me.width,me.height,Ue,xe,me.data):e.texImage2D(3553,ye,gt,me.width,me.height,0,Ue,xe,me.data)}else if(U.isDataArrayTexture)De?(_e&&e.texStorage3D(35866,We,gt,Wt.width,Wt.height,Wt.depth),e.texSubImage3D(35866,0,0,0,0,Wt.width,Wt.height,Wt.depth,Ue,xe,Wt.data)):e.texImage3D(35866,0,gt,Wt.width,Wt.height,Wt.depth,0,Ue,xe,Wt.data);else if(U.isData3DTexture)De?(_e&&e.texStorage3D(32879,We,gt,Wt.width,Wt.height,Wt.depth),e.texSubImage3D(32879,0,0,0,0,Wt.width,Wt.height,Wt.depth,Ue,xe,Wt.data)):e.texImage3D(32879,0,gt,Wt.width,Wt.height,Wt.depth,0,Ue,xe,Wt.data);else if(U.isFramebufferTexture){if(_e)if(De)e.texStorage2D(3553,We,gt,Wt.width,Wt.height);else{let ye=Wt.width,Ye=Wt.height;for(let Hn=0;Hn<We;Hn++)e.texImage2D(3553,Hn,gt,ye,Ye,0,Ue,xe,null),ye>>=1,Ye>>=1}}else if(pe.length>0&&He){De&&_e&&e.texStorage2D(3553,We,gt,pe[0].width,pe[0].height);for(let ye=0,Ye=pe.length;ye<Ye;ye++)me=pe[ye],De?e.texSubImage2D(3553,ye,0,0,Ue,xe,me):e.texImage2D(3553,ye,gt,Ue,xe,me);U.generateMipmaps=!1}else De?(_e&&e.texStorage2D(3553,We,gt,Wt.width,Wt.height),e.texSubImage2D(3553,0,0,0,Ue,xe,Wt)):e.texImage2D(3553,0,gt,Ue,xe,Wt);P(U,He)&&F(Et),Qt.__currentVersion=Qt.version,U.onUpdate&&U.onUpdate(U)}G.__version=U.version}function fe(G,U,ft){if(U.image.length!==6)return;const Et=Ee(G,U),Ht=U.source;if(e.activeTexture(33984+ft),e.bindTexture(34067,G.__webglTexture),Ht.version!==Ht.__currentVersion||Et===!0){n.pixelStorei(37440,U.flipY),n.pixelStorei(37441,U.premultiplyAlpha),n.pixelStorei(3317,U.unpackAlignment),n.pixelStorei(37443,0);const Qt=U.isCompressedTexture||U.image[0].isCompressedTexture,ue=U.image[0]&&U.image[0].isDataTexture,Wt=[];for(let ye=0;ye<6;ye++)!Qt&&!ue?Wt[ye]=M(U.image[ye],!1,!0,u):Wt[ye]=ue?U.image[ye].image:U.image[ye],Wt[ye]=Vt(U,Wt[ye]);const He=Wt[0],Ue=T(He)||a,xe=s.convert(U.format,U.encoding),gt=s.convert(U.type),me=C(U.internalFormat,xe,gt,U.encoding),pe=a&&U.isVideoTexture!==!0,De=G.__version===void 0;let _e=B(U,He,Ue);Ot(34067,U,Ue);let We;if(Qt){pe&&De&&e.texStorage2D(34067,_e,me,He.width,He.height);for(let ye=0;ye<6;ye++){We=Wt[ye].mipmaps;for(let Ye=0;Ye<We.length;Ye++){const Hn=We[Ye];U.format!==Ua?xe!==null?pe?e.compressedTexSubImage2D(34069+ye,Ye,0,0,Hn.width,Hn.height,xe,Hn.data):e.compressedTexImage2D(34069+ye,Ye,me,Hn.width,Hn.height,0,Hn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):pe?e.texSubImage2D(34069+ye,Ye,0,0,Hn.width,Hn.height,xe,gt,Hn.data):e.texImage2D(34069+ye,Ye,me,Hn.width,Hn.height,0,xe,gt,Hn.data)}}}else{We=U.mipmaps,pe&&De&&(We.length>0&&_e++,e.texStorage2D(34067,_e,me,Wt[0].width,Wt[0].height));for(let ye=0;ye<6;ye++)if(ue){pe?e.texSubImage2D(34069+ye,0,0,0,Wt[ye].width,Wt[ye].height,xe,gt,Wt[ye].data):e.texImage2D(34069+ye,0,me,Wt[ye].width,Wt[ye].height,0,xe,gt,Wt[ye].data);for(let Ye=0;Ye<We.length;Ye++){const ln=We[Ye].image[ye].image;pe?e.texSubImage2D(34069+ye,Ye+1,0,0,ln.width,ln.height,xe,gt,ln.data):e.texImage2D(34069+ye,Ye+1,me,ln.width,ln.height,0,xe,gt,ln.data)}}else{pe?e.texSubImage2D(34069+ye,0,0,0,xe,gt,Wt[ye]):e.texImage2D(34069+ye,0,me,xe,gt,Wt[ye]);for(let Ye=0;Ye<We.length;Ye++){const Hn=We[Ye];pe?e.texSubImage2D(34069+ye,Ye+1,0,0,xe,gt,Hn.image[ye]):e.texImage2D(34069+ye,Ye+1,me,xe,gt,Hn.image[ye])}}}P(U,Ue)&&F(34067),Ht.__currentVersion=Ht.version,U.onUpdate&&U.onUpdate(U)}G.__version=U.version}function oe(G,U,ft,Et,Ht){const Qt=s.convert(ft.format,ft.encoding),ue=s.convert(ft.type),Wt=C(ft.internalFormat,Qt,ue,ft.encoding);r.get(U).__hasExternalTextures||(Ht===32879||Ht===35866?e.texImage3D(Ht,0,Wt,U.width,U.height,U.depth,0,Qt,ue,null):e.texImage2D(Ht,0,Wt,U.width,U.height,0,Qt,ue,null)),e.bindFramebuffer(36160,G),dt(U)?d.framebufferTexture2DMultisampleEXT(36160,Et,Ht,r.get(ft).__webglTexture,0,J(U)):n.framebufferTexture2D(36160,Et,Ht,r.get(ft).__webglTexture,0),e.bindFramebuffer(36160,null)}function Le(G,U,ft){if(n.bindRenderbuffer(36161,G),U.depthBuffer&&!U.stencilBuffer){let Et=33189;if(ft||dt(U)){const Ht=U.depthTexture;Ht&&Ht.isDepthTexture&&(Ht.type===Wf?Et=36012:Ht.type===Jv&&(Et=33190));const Qt=J(U);dt(U)?d.renderbufferStorageMultisampleEXT(36161,Qt,Et,U.width,U.height):n.renderbufferStorageMultisample(36161,Qt,Et,U.width,U.height)}else n.renderbufferStorage(36161,Et,U.width,U.height);n.framebufferRenderbuffer(36160,36096,36161,G)}else if(U.depthBuffer&&U.stencilBuffer){const Et=J(U);ft&&dt(U)===!1?n.renderbufferStorageMultisample(36161,Et,35056,U.width,U.height):dt(U)?d.renderbufferStorageMultisampleEXT(36161,Et,35056,U.width,U.height):n.renderbufferStorage(36161,34041,U.width,U.height),n.framebufferRenderbuffer(36160,33306,36161,G)}else{const Et=U.isWebGLMultipleRenderTargets===!0?U.texture[0]:U.texture,Ht=s.convert(Et.format,Et.encoding),Qt=s.convert(Et.type),ue=C(Et.internalFormat,Ht,Qt,Et.encoding),Wt=J(U);ft&&dt(U)===!1?n.renderbufferStorageMultisample(36161,Wt,ue,U.width,U.height):dt(U)?d.renderbufferStorageMultisampleEXT(36161,Wt,ue,U.width,U.height):n.renderbufferStorage(36161,ue,U.width,U.height)}n.bindRenderbuffer(36161,null)}function Kt(G,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,G),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),ut(U.depthTexture,0);const Et=r.get(U.depthTexture).__webglTexture,Ht=J(U);if(U.depthTexture.format===Id)dt(U)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,Et,0,Ht):n.framebufferTexture2D(36160,36096,3553,Et,0);else if(U.depthTexture.format===Fm)dt(U)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,Et,0,Ht):n.framebufferTexture2D(36160,33306,3553,Et,0);else throw new Error("Unknown depthTexture format")}function Yt(G){const U=r.get(G),ft=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!U.__autoAllocateDepthBuffer){if(ft)throw new Error("target.depthTexture not supported in Cube render targets");Kt(U.__webglFramebuffer,G)}else if(ft){U.__webglDepthbuffer=[];for(let Et=0;Et<6;Et++)e.bindFramebuffer(36160,U.__webglFramebuffer[Et]),U.__webglDepthbuffer[Et]=n.createRenderbuffer(),Le(U.__webglDepthbuffer[Et],G,!1)}else e.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=n.createRenderbuffer(),Le(U.__webglDepthbuffer,G,!1);e.bindFramebuffer(36160,null)}function O(G,U,ft){const Et=r.get(G);U!==void 0&&oe(Et.__webglFramebuffer,G,G.texture,36064,3553),ft!==void 0&&Yt(G)}function Tt(G){const U=G.texture,ft=r.get(G),Et=r.get(U);G.addEventListener("dispose",z),G.isWebGLMultipleRenderTargets!==!0&&(Et.__webglTexture===void 0&&(Et.__webglTexture=n.createTexture()),Et.__version=U.version,o.memory.textures++);const Ht=G.isWebGLCubeRenderTarget===!0,Qt=G.isWebGLMultipleRenderTargets===!0,ue=T(G)||a;if(Ht){ft.__webglFramebuffer=[];for(let Wt=0;Wt<6;Wt++)ft.__webglFramebuffer[Wt]=n.createFramebuffer()}else if(ft.__webglFramebuffer=n.createFramebuffer(),Qt)if(i.drawBuffers){const Wt=G.texture;for(let He=0,Ue=Wt.length;He<Ue;He++){const xe=r.get(Wt[He]);xe.__webglTexture===void 0&&(xe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&G.samples>0&&dt(G)===!1){ft.__webglMultisampledFramebuffer=n.createFramebuffer(),ft.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,ft.__webglColorRenderbuffer);const Wt=s.convert(U.format,U.encoding),He=s.convert(U.type),Ue=C(U.internalFormat,Wt,He,U.encoding),xe=J(G);n.renderbufferStorageMultisample(36161,xe,Ue,G.width,G.height),e.bindFramebuffer(36160,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,ft.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),G.depthBuffer&&(ft.__webglDepthRenderbuffer=n.createRenderbuffer(),Le(ft.__webglDepthRenderbuffer,G,!0)),e.bindFramebuffer(36160,null)}if(Ht){e.bindTexture(34067,Et.__webglTexture),Ot(34067,U,ue);for(let Wt=0;Wt<6;Wt++)oe(ft.__webglFramebuffer[Wt],G,U,36064,34069+Wt);P(U,ue)&&F(34067),e.unbindTexture()}else if(Qt){const Wt=G.texture;for(let He=0,Ue=Wt.length;He<Ue;He++){const xe=Wt[He],gt=r.get(xe);e.bindTexture(3553,gt.__webglTexture),Ot(3553,xe,ue),oe(ft.__webglFramebuffer,G,xe,36064+He,3553),P(xe,ue)&&F(3553)}e.unbindTexture()}else{let Wt=3553;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(a?Wt=G.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Wt,Et.__webglTexture),Ot(Wt,U,ue),oe(ft.__webglFramebuffer,G,U,36064,Wt),P(U,ue)&&F(Wt),e.unbindTexture()}G.depthBuffer&&Yt(G)}function vt(G){const U=T(G)||a,ft=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Et=0,Ht=ft.length;Et<Ht;Et++){const Qt=ft[Et];if(P(Qt,U)){const ue=G.isWebGLCubeRenderTarget?34067:3553,Wt=r.get(Qt).__webglTexture;e.bindTexture(ue,Wt),F(ue),e.unbindTexture()}}}function nt(G){if(a&&G.samples>0&&dt(G)===!1){const U=G.width,ft=G.height;let Et=16384;const Ht=[36064],Qt=G.stencilBuffer?33306:36096;G.depthBuffer&&Ht.push(Qt);const ue=r.get(G),Wt=ue.__ignoreDepthValues!==void 0?ue.__ignoreDepthValues:!1;Wt===!1&&(G.depthBuffer&&(Et|=256),G.stencilBuffer&&(Et|=1024)),e.bindFramebuffer(36008,ue.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,ue.__webglFramebuffer),Wt===!0&&(n.invalidateFramebuffer(36008,[Qt]),n.invalidateFramebuffer(36009,[Qt])),n.blitFramebuffer(0,0,U,ft,0,0,U,ft,Et,9728),y&&n.invalidateFramebuffer(36008,Ht),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,ue.__webglMultisampledFramebuffer)}}function J(G){return Math.min(m,G.samples)}function dt(G){const U=r.get(G);return a&&G.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Gt(G){const U=o.render.frame;_.get(G)!==U&&(_.set(G,U),G.update())}function Vt(G,U){const ft=G.encoding,Et=G.format,Ht=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||G.format===hb||ft!==Eu&&(ft===Hr?a===!1?t.has("EXT_sRGB")===!0&&Et===Ua?(G.format=hb,G.minFilter=Ui,G.generateMipmaps=!1):U=Kd.sRGBToLinear(U):(Et!==Ua||Ht!==zd)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ft)),U}this.allocateTextureUnit=at,this.resetTextureUnits=lt,this.setTexture2D=ut,this.setTexture2DArray=j,this.setTexture3D=K,this.setTextureCube=xt,this.rebindTextures=O,this.setupRenderTarget=Tt,this.updateRenderTargetMipmap=vt,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=Yt,this.setupFrameBufferTexture=oe,this.useMultisampledRTT=dt}function wz(n,t,e){const r=e.isWebGL2;function i(s,o=null){let a;if(s===zd)return 5121;if(s===P4)return 32819;if(s===D4)return 32820;if(s===I4)return 5120;if(s===R4)return 5122;if(s===ry)return 5123;if(s===L4)return 5124;if(s===Jv)return 5125;if(s===Wf)return 5126;if(s===iy)return r?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===k4)return 6406;if(s===Ua)return 6408;if(s===F4)return 6409;if(s===B4)return 6410;if(s===Id)return 6402;if(s===Fm)return 34041;if(s===N4)return 6403;if(s===O4)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===hb)return a=t.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===z4)return 36244;if(s===U4)return 33319;if(s===V4)return 33320;if(s===H4)return 36249;if(s===Mx||s===Tx||s===Ax||s===Cx)if(o===Hr)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Mx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Tx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Ax)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Cx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Mx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Tx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Ax)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Cx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===DT||s===kT||s===OT||s===FT)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===DT)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===kT)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===OT)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===FT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===W4)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===BT||s===NT)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(s===BT)return o===Hr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===NT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===zT||s===UT||s===VT||s===HT||s===WT||s===GT||s===$T||s===jT||s===YT||s===qT||s===XT||s===ZT||s===KT||s===JT)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(s===zT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===UT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===VT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===HT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===WT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===GT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$T)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===jT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===YT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===qT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===XT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===ZT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===KT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===JT)return o===Hr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===QT)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(s===QT)return o===Hr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===xm?r?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class dC extends hs{constructor(t=[]){super(),this.cameras=t}}dC.prototype.isArrayCamera=!0;class _d extends Yn{constructor(){super(),this.type="Group"}}_d.prototype.isGroup=!0;const IQ={type:"move"};class WE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new _d,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new _d,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new rt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new rt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new _d,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new rt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new rt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(t&&e.session.visibilityState!=="visible-blurred")if(a!==null&&(i=e.getPose(t.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(IQ))),u&&t.hand){o=!0;for(const v of t.hand.values()){const w=e.getJointPose(v,r);if(u.joints[v.jointName]===void 0){const S=new _d;S.matrixAutoUpdate=!1,S.visible=!1,u.joints[v.jointName]=S,u.add(S)}const x=u.joints[v.jointName];w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=w.radius),x.visible=w!==null}const h=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],d=h.position.distanceTo(m.position),y=.02,_=.005;u.inputState.pinching&&d>y+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!u.inputState.pinching&&d<=y-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class pC extends Gi{constructor(t,e,r,i,s,o,a,l,u,h){if(h=h!==void 0?h:Id,h!==Id&&h!==Fm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===Id&&(r=ry),r===void 0&&h===Fm&&(r=xm),super(null,i,s,o,a,l,h,r,u),this.image={width:t,height:e},this.magFilter=a!==void 0?a:ts,this.minFilter=l!==void 0?l:ts,this.flipY=!1,this.generateMipmaps=!1}}pC.prototype.isDepthTexture=!0;class RQ extends sh{constructor(t,e){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,h=null,m=null,d=null,y=null;const _=e.getContextAttributes();let v=null,w=null;const x=[],S=new Map,M=new hs;M.layers.enable(1),M.viewport=new xr;const T=new hs;T.layers.enable(2),T.viewport=new xr;const A=[M,T],P=new dC;P.layers.enable(1),P.layers.enable(2);let F=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(it){let ut=x[it];return ut===void 0&&(ut=new WE,x[it]=ut),ut.getTargetRaySpace()},this.getControllerGrip=function(it){let ut=x[it];return ut===void 0&&(ut=new WE,x[it]=ut),ut.getGripSpace()},this.getHand=function(it){let ut=x[it];return ut===void 0&&(ut=new WE,x[it]=ut),ut.getHandSpace()};function B(it){const ut=S.get(it.inputSource);ut&&ut.dispatchEvent({type:it.type,data:it.inputSource})}function V(){S.forEach(function(it,ut){it.disconnect(ut)}),S.clear(),F=null,C=null,t.setRenderTarget(v),d=null,m=null,h=null,i=null,w=null,at.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(it){s=it,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(it){a=it,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(it){l=it},this.getBaseLayer=function(){return m!==null?m:d},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(it){if(i=it,i!==null){if(v=t.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",V),i.addEventListener("inputsourceschange",Y),_.xrCompatible!==!0&&await e.makeXRCompatible(),i.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const ut={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,e,ut),i.updateRenderState({baseLayer:d}),w=new Lo(d.framebufferWidth,d.framebufferHeight,{format:Ua,type:zd,encoding:t.outputEncoding})}else{let ut=null,j=null,K=null;_.depth&&(K=_.stencil?35056:33190,ut=_.stencil?Fm:Id,j=_.stencil?xm:ry);const xt={colorFormat:t.outputEncoding===Hr?35907:32856,depthFormat:K,scaleFactor:s};h=new XRWebGLBinding(i,e),m=h.createProjectionLayer(xt),i.updateRenderState({layers:[m]}),w=new Lo(m.textureWidth,m.textureHeight,{format:Ua,type:zd,depthTexture:new pC(m.textureWidth,m.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,ut),stencilBuffer:_.stencil,encoding:t.outputEncoding,samples:_.antialias?4:0});const Lt=t.properties.get(w);Lt.__ignoreDepthValues=m.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),at.setContext(i),at.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function Y(it){const ut=i.inputSources;for(let j=0;j<ut.length;j++){const K=ut[j].handedness==="right"?1:0;S.set(ut[j],x[K])}for(let j=0;j<it.removed.length;j++){const K=it.removed[j],xt=S.get(K);xt&&(xt.dispatchEvent({type:"disconnected",data:K}),S.delete(K))}for(let j=0;j<it.added.length;j++){const K=it.added[j],xt=S.get(K);xt&&xt.dispatchEvent({type:"connected",data:K})}}const z=new rt,q=new rt;function L(it,ut,j){z.setFromMatrixPosition(ut.matrixWorld),q.setFromMatrixPosition(j.matrixWorld);const K=z.distanceTo(q),xt=ut.projectionMatrix.elements,Lt=j.projectionMatrix.elements,Pt=xt[14]/(xt[10]-1),Ot=xt[14]/(xt[10]+1),Ee=(xt[9]+1)/xt[5],se=(xt[9]-1)/xt[5],fe=(xt[8]-1)/xt[0],oe=(Lt[8]+1)/Lt[0],Le=Pt*fe,Kt=Pt*oe,Yt=K/(-fe+oe),O=Yt*-fe;ut.matrixWorld.decompose(it.position,it.quaternion,it.scale),it.translateX(O),it.translateZ(Yt),it.matrixWorld.compose(it.position,it.quaternion,it.scale),it.matrixWorldInverse.copy(it.matrixWorld).invert();const Tt=Pt+Yt,vt=Ot+Yt,nt=Le-O,J=Kt+(K-O),dt=Ee*Ot/vt*Tt,Gt=se*Ot/vt*Tt;it.projectionMatrix.makePerspective(nt,J,dt,Gt,Tt,vt)}function tt(it,ut){ut===null?it.matrixWorld.copy(it.matrix):it.matrixWorld.multiplyMatrices(ut.matrixWorld,it.matrix),it.matrixWorldInverse.copy(it.matrixWorld).invert()}this.updateCamera=function(it){if(i===null)return;P.near=T.near=M.near=it.near,P.far=T.far=M.far=it.far,(F!==P.near||C!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),F=P.near,C=P.far);const ut=it.parent,j=P.cameras;tt(P,ut);for(let xt=0;xt<j.length;xt++)tt(j[xt],ut);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),it.position.copy(P.position),it.quaternion.copy(P.quaternion),it.scale.copy(P.scale),it.matrix.copy(P.matrix),it.matrixWorld.copy(P.matrixWorld);const K=it.children;for(let xt=0,Lt=K.length;xt<Lt;xt++)K[xt].updateMatrixWorld(!0);j.length===2?L(P,M,T):P.projectionMatrix.copy(M.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(it){m!==null&&(m.fixedFoveation=it),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=it)};let ct=null;function lt(it,ut){if(u=ut.getViewerPose(l||o),y=ut,u!==null){const K=u.views;d!==null&&(t.setRenderTargetFramebuffer(w,d.framebuffer),t.setRenderTarget(w));let xt=!1;K.length!==P.cameras.length&&(P.cameras.length=0,xt=!0);for(let Lt=0;Lt<K.length;Lt++){const Pt=K[Lt];let Ot=null;if(d!==null)Ot=d.getViewport(Pt);else{const se=h.getViewSubImage(m,Pt);Ot=se.viewport,Lt===0&&(t.setRenderTargetTextures(w,se.colorTexture,m.ignoreDepthValues?void 0:se.depthStencilTexture),t.setRenderTarget(w))}const Ee=A[Lt];Ee.matrix.fromArray(Pt.transform.matrix),Ee.projectionMatrix.fromArray(Pt.projectionMatrix),Ee.viewport.set(Ot.x,Ot.y,Ot.width,Ot.height),Lt===0&&P.matrix.copy(Ee.matrix),xt===!0&&P.cameras.push(Ee)}}const j=i.inputSources;for(let K=0;K<x.length;K++){const xt=j[K],Lt=S.get(xt);Lt!==void 0&&Lt.update(xt,ut,l||o)}ct&&ct(it,ut),y=null}const at=new hz;at.setAnimationLoop(lt),this.setAnimationLoop=function(it){ct=it},this.dispose=function(){}}}function LQ(n,t){function e(v,w){v.fogColor.value.copy(w.color),w.isFog?(v.fogNear.value=w.near,v.fogFar.value=w.far):w.isFogExp2&&(v.fogDensity.value=w.density)}function r(v,w,x,S,M){w.isMeshBasicMaterial||w.isMeshLambertMaterial?i(v,w):w.isMeshToonMaterial?(i(v,w),h(v,w)):w.isMeshPhongMaterial?(i(v,w),u(v,w)):w.isMeshStandardMaterial?(i(v,w),m(v,w),w.isMeshPhysicalMaterial&&d(v,w,M)):w.isMeshMatcapMaterial?(i(v,w),y(v,w)):w.isMeshDepthMaterial?i(v,w):w.isMeshDistanceMaterial?(i(v,w),_(v,w)):w.isMeshNormalMaterial?i(v,w):w.isLineBasicMaterial?(s(v,w),w.isLineDashedMaterial&&o(v,w)):w.isPointsMaterial?a(v,w,x,S):w.isSpriteMaterial?l(v,w):w.isShadowMaterial?(v.color.value.copy(w.color),v.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function i(v,w){v.opacity.value=w.opacity,w.color&&v.diffuse.value.copy(w.color),w.emissive&&v.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===la&&(v.bumpScale.value*=-1)),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias),w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===la&&v.normalScale.value.negate()),w.specularMap&&(v.specularMap.value=w.specularMap),w.alphaTest>0&&(v.alphaTest.value=w.alphaTest);const x=t.get(w).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=w.reflectivity,v.ior.value=w.ior,v.refractionRatio.value=w.refractionRatio),w.lightMap){v.lightMap.value=w.lightMap;const T=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=w.lightMapIntensity*T}w.aoMap&&(v.aoMap.value=w.aoMap,v.aoMapIntensity.value=w.aoMapIntensity);let S;w.map?S=w.map:w.specularMap?S=w.specularMap:w.displacementMap?S=w.displacementMap:w.normalMap?S=w.normalMap:w.bumpMap?S=w.bumpMap:w.roughnessMap?S=w.roughnessMap:w.metalnessMap?S=w.metalnessMap:w.alphaMap?S=w.alphaMap:w.emissiveMap?S=w.emissiveMap:w.clearcoatMap?S=w.clearcoatMap:w.clearcoatNormalMap?S=w.clearcoatNormalMap:w.clearcoatRoughnessMap?S=w.clearcoatRoughnessMap:w.specularIntensityMap?S=w.specularIntensityMap:w.specularColorMap?S=w.specularColorMap:w.transmissionMap?S=w.transmissionMap:w.thicknessMap?S=w.thicknessMap:w.sheenColorMap?S=w.sheenColorMap:w.sheenRoughnessMap&&(S=w.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix));let M;w.aoMap?M=w.aoMap:w.lightMap&&(M=w.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uv2Transform.value.copy(M.matrix))}function s(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity}function o(v,w){v.dashSize.value=w.dashSize,v.totalSize.value=w.dashSize+w.gapSize,v.scale.value=w.scale}function a(v,w,x,S){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.size.value=w.size*x,v.scale.value=S*.5,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap),w.alphaTest>0&&(v.alphaTest.value=w.alphaTest);let M;w.map?M=w.map:w.alphaMap&&(M=w.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uvTransform.value.copy(M.matrix))}function l(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.rotation.value=w.rotation,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap),w.alphaTest>0&&(v.alphaTest.value=w.alphaTest);let x;w.map?x=w.map:w.alphaMap&&(x=w.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function u(v,w){v.specular.value.copy(w.specular),v.shininess.value=Math.max(w.shininess,1e-4)}function h(v,w){w.gradientMap&&(v.gradientMap.value=w.gradientMap)}function m(v,w){v.roughness.value=w.roughness,v.metalness.value=w.metalness,w.roughnessMap&&(v.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(v.metalnessMap.value=w.metalnessMap),t.get(w).envMap&&(v.envMapIntensity.value=w.envMapIntensity)}function d(v,w,x){v.ior.value=w.ior,w.sheen>0&&(v.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),v.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(v.sheenColorMap.value=w.sheenColorMap),w.sheenRoughnessMap&&(v.sheenRoughnessMap.value=w.sheenRoughnessMap)),w.clearcoat>0&&(v.clearcoat.value=w.clearcoat,v.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(v.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),v.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===la&&v.clearcoatNormalScale.value.negate())),w.transmission>0&&(v.transmission.value=w.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),w.transmissionMap&&(v.transmissionMap.value=w.transmissionMap),v.thickness.value=w.thickness,w.thicknessMap&&(v.thicknessMap.value=w.thicknessMap),v.attenuationDistance.value=w.attenuationDistance,v.attenuationColor.value.copy(w.attenuationColor)),v.specularIntensity.value=w.specularIntensity,v.specularColor.value.copy(w.specularColor),w.specularIntensityMap&&(v.specularIntensityMap.value=w.specularIntensityMap),w.specularColorMap&&(v.specularColorMap.value=w.specularColorMap)}function y(v,w){w.matcap&&(v.matcap.value=w.matcap)}function _(v,w){v.referencePosition.value.copy(w.referencePosition),v.nearDistance.value=w.nearDistance,v.farDistance.value=w.farDistance}return{refreshFogUniforms:e,refreshMaterialUniforms:r}}function PQ(){const n=k_("canvas");return n.style.display="block",n}function br(n={}){const t=n.canvas!==void 0?n.canvas:PQ(),e=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let h;e!==null?h=e.getContextAttributes().alpha:h=n.alpha!==void 0?n.alpha:!1;let m=null,d=null;const y=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Eu,this.physicallyCorrectLights=!1,this.toneMapping=wu,this.toneMappingExposure=1;const v=this;let w=!1,x=0,S=0,M=null,T=-1,A=null;const P=new xr,F=new xr;let C=null,B=t.width,V=t.height,Y=1,z=null,q=null;const L=new xr(0,0,B,V),tt=new xr(0,0,B,V);let ct=!1;const lt=new c1;let at=!1,it=!1,ut=null;const j=new Ae,K=new ie,xt=new rt,Lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Pt(){return M===null?Y:1}let Ot=e;function Ee(ot,zt){for(let Xt=0;Xt<ot.length;Xt++){const $t=ot[Xt],te=t.getContext($t,zt);if(te!==null)return te}return null}try{const ot={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${wS}`),t.addEventListener("webglcontextlost",gt,!1),t.addEventListener("webglcontextrestored",me,!1),Ot===null){const zt=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&zt.shift(),Ot=Ee(zt,ot),Ot===null)throw Ee(zt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Ot.getShaderPrecisionFormat===void 0&&(Ot.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ot){throw console.error("THREE.WebGLRenderer: "+ot.message),ot}let se,fe,oe,Le,Kt,Yt,O,Tt,vt,nt,J,dt,Gt,Vt,G,U,ft,Et,Ht,Qt,ue,Wt,He;function Ue(){se=new ZK(Ot),fe=new GK(Ot,se,n),se.init(fe),Wt=new wz(Ot,se,fe),oe=new AQ(Ot,se,fe),Le=new QK,Kt=new gQ,Yt=new CQ(Ot,se,oe,Kt,fe,Wt,Le),O=new jK(v),Tt=new XK(v),vt=new dX(Ot,fe),He=new HK(Ot,se,vt,fe),nt=new KK(Ot,vt,Le,He),J=new rJ(Ot,nt,vt,Le),Ht=new nJ(Ot,fe,Yt),U=new $K(Kt),dt=new mQ(v,O,Tt,se,fe,He,U),Gt=new LQ(v,Kt),Vt=new vQ,G=new EQ(se,fe),Et=new VK(v,O,oe,J,h,o),ft=new _z(v,J,fe),Qt=new WK(Ot,se,Le,fe),ue=new JK(Ot,se,Le,fe),Le.programs=dt.programs,v.capabilities=fe,v.extensions=se,v.properties=Kt,v.renderLists=Vt,v.shadowMap=ft,v.state=oe,v.info=Le}Ue();const xe=new RQ(v,Ot);this.xr=xe,this.getContext=function(){return Ot},this.getContextAttributes=function(){return Ot.getContextAttributes()},this.forceContextLoss=function(){const ot=se.get("WEBGL_lose_context");ot&&ot.loseContext()},this.forceContextRestore=function(){const ot=se.get("WEBGL_lose_context");ot&&ot.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(ot){ot!==void 0&&(Y=ot,this.setSize(B,V,!1))},this.getSize=function(ot){return ot.set(B,V)},this.setSize=function(ot,zt,Xt){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=ot,V=zt,t.width=Math.floor(ot*Y),t.height=Math.floor(zt*Y),Xt!==!1&&(t.style.width=ot+"px",t.style.height=zt+"px"),this.setViewport(0,0,ot,zt)},this.getDrawingBufferSize=function(ot){return ot.set(B*Y,V*Y).floor()},this.setDrawingBufferSize=function(ot,zt,Xt){B=ot,V=zt,Y=Xt,t.width=Math.floor(ot*Xt),t.height=Math.floor(zt*Xt),this.setViewport(0,0,ot,zt)},this.getCurrentViewport=function(ot){return ot.copy(P)},this.getViewport=function(ot){return ot.copy(L)},this.setViewport=function(ot,zt,Xt,$t){ot.isVector4?L.set(ot.x,ot.y,ot.z,ot.w):L.set(ot,zt,Xt,$t),oe.viewport(P.copy(L).multiplyScalar(Y).floor())},this.getScissor=function(ot){return ot.copy(tt)},this.setScissor=function(ot,zt,Xt,$t){ot.isVector4?tt.set(ot.x,ot.y,ot.z,ot.w):tt.set(ot,zt,Xt,$t),oe.scissor(F.copy(tt).multiplyScalar(Y).floor())},this.getScissorTest=function(){return ct},this.setScissorTest=function(ot){oe.setScissorTest(ct=ot)},this.setOpaqueSort=function(ot){z=ot},this.setTransparentSort=function(ot){q=ot},this.getClearColor=function(ot){return ot.copy(Et.getClearColor())},this.setClearColor=function(){Et.setClearColor.apply(Et,arguments)},this.getClearAlpha=function(){return Et.getClearAlpha()},this.setClearAlpha=function(){Et.setClearAlpha.apply(Et,arguments)},this.clear=function(ot=!0,zt=!0,Xt=!0){let $t=0;ot&&($t|=16384),zt&&($t|=256),Xt&&($t|=1024),Ot.clear($t)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gt,!1),t.removeEventListener("webglcontextrestored",me,!1),Vt.dispose(),G.dispose(),Kt.dispose(),O.dispose(),Tt.dispose(),J.dispose(),He.dispose(),dt.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",Ye),xe.removeEventListener("sessionend",Hn),ut&&(ut.dispose(),ut=null),ln.stop()};function gt(ot){ot.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const ot=Le.autoReset,zt=ft.enabled,Xt=ft.autoUpdate,$t=ft.needsUpdate,te=ft.type;Ue(),Le.autoReset=ot,ft.enabled=zt,ft.autoUpdate=Xt,ft.needsUpdate=$t,ft.type=te}function pe(ot){const zt=ot.target;zt.removeEventListener("dispose",pe),De(zt)}function De(ot){_e(ot),Kt.remove(ot)}function _e(ot){const zt=Kt.get(ot).programs;zt!==void 0&&(zt.forEach(function(Xt){dt.releaseProgram(Xt)}),ot.isShaderMaterial&&dt.releaseShaderCache(ot))}this.renderBufferDirect=function(ot,zt,Xt,$t,te,Ze){zt===null&&(zt=Lt);const on=te.isMesh&&te.matrixWorld.determinant()<0,dn=mh(ot,zt,Xt,$t,te);oe.setMaterial($t,on);let fn=Xt.index;const qn=Xt.attributes.position;if(fn===null){if(qn===void 0||qn.count===0)return}else if(fn.count===0)return;let Bn=1;$t.wireframe===!0&&(fn=nt.getWireframeAttribute(Xt),Bn=2),He.setup(te,$t,dn,Xt,fn);let Nn,ar=Qt;fn!==null&&(Nn=vt.get(fn),ar=ue,ar.setIndex(Nn));const lo=fn!==null?fn.count:qn.count,Hs=Xt.drawRange.start*Bn,No=Xt.drawRange.count*Bn,ii=Ze!==null?Ze.start*Bn:0,pn=Ze!==null?Ze.count*Bn:1/0,Wn=Math.max(Hs,ii),un=Math.min(lo,Hs+No,ii+pn)-1,ai=Math.max(0,un-Wn+1);if(ai!==0){if(te.isMesh)$t.wireframe===!0?(oe.setLineWidth($t.wireframeLinewidth*Pt()),ar.setMode(1)):ar.setMode(4);else if(te.isLine){let Sr=$t.linewidth;Sr===void 0&&(Sr=1),oe.setLineWidth(Sr*Pt()),te.isLineSegments?ar.setMode(1):te.isLineLoop?ar.setMode(2):ar.setMode(3)}else te.isPoints?ar.setMode(0):te.isSprite&&ar.setMode(4);if(te.isInstancedMesh)ar.renderInstances(Wn,ai,te.count);else if(Xt.isInstancedBufferGeometry){const Sr=Math.min(Xt.instanceCount,Xt._maxInstanceCount);ar.renderInstances(Wn,ai,Sr)}else ar.render(Wn,ai)}},this.compile=function(ot,zt){d=G.get(ot),d.init(),_.push(d),ot.traverseVisible(function(Xt){Xt.isLight&&Xt.layers.test(zt.layers)&&(d.pushLight(Xt),Xt.castShadow&&d.pushShadow(Xt))}),d.setupLights(v.physicallyCorrectLights),ot.traverse(function(Xt){const $t=Xt.material;if($t)if(Array.isArray($t))for(let te=0;te<$t.length;te++){const Ze=$t[te];ku(Ze,ot,Xt)}else ku($t,ot,Xt)}),_.pop(),d=null};let We=null;function ye(ot){We&&We(ot)}function Ye(){ln.stop()}function Hn(){ln.start()}const ln=new hz;ln.setAnimationLoop(ye),typeof self!="undefined"&&ln.setContext(self),this.setAnimationLoop=function(ot){We=ot,xe.setAnimationLoop(ot),ot===null?ln.stop():ln.start()},xe.addEventListener("sessionstart",Ye),xe.addEventListener("sessionend",Hn),this.render=function(ot,zt){if(zt!==void 0&&zt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;ot.autoUpdate===!0&&ot.updateMatrixWorld(),zt.parent===null&&zt.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(zt),zt=xe.getCamera()),ot.isScene===!0&&ot.onBeforeRender(v,ot,zt,M),d=G.get(ot,_.length),d.init(),_.push(d),j.multiplyMatrices(zt.projectionMatrix,zt.matrixWorldInverse),lt.setFromProjectionMatrix(j),it=this.localClippingEnabled,at=U.init(this.clippingPlanes,it,zt),m=Vt.get(ot,y.length),m.init(),y.push(m),Ri(ot,zt,0,v.sortObjects),m.finish(),v.sortObjects===!0&&m.sort(z,q),at===!0&&U.beginShadows();const Xt=d.state.shadowsArray;if(ft.render(Xt,ot,zt),at===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),Et.render(m,ot),d.setupLights(v.physicallyCorrectLights),zt.isArrayCamera){const $t=zt.cameras;for(let te=0,Ze=$t.length;te<Ze;te++){const on=$t[te];Vs(m,ot,on,on.viewport)}}else Vs(m,ot,zt);M!==null&&(Yt.updateMultisampleRenderTarget(M),Yt.updateRenderTargetMipmap(M)),ot.isScene===!0&&ot.onAfterRender(v,ot,zt),He.resetDefaultState(),T=-1,A=null,_.pop(),_.length>0?d=_[_.length-1]:d=null,y.pop(),y.length>0?m=y[y.length-1]:m=null};function Ri(ot,zt,Xt,$t){if(ot.visible===!1)return;if(ot.layers.test(zt.layers)){if(ot.isGroup)Xt=ot.renderOrder;else if(ot.isLOD)ot.autoUpdate===!0&&ot.update(zt);else if(ot.isLight)d.pushLight(ot),ot.castShadow&&d.pushShadow(ot);else if(ot.isSprite){if(!ot.frustumCulled||lt.intersectsSprite(ot)){$t&&xt.setFromMatrixPosition(ot.matrixWorld).applyMatrix4(j);const on=J.update(ot),dn=ot.material;dn.visible&&m.push(ot,on,dn,Xt,xt.z,null)}}else if((ot.isMesh||ot.isLine||ot.isPoints)&&(ot.isSkinnedMesh&&ot.skeleton.frame!==Le.render.frame&&(ot.skeleton.update(),ot.skeleton.frame=Le.render.frame),!ot.frustumCulled||lt.intersectsObject(ot))){$t&&xt.setFromMatrixPosition(ot.matrixWorld).applyMatrix4(j);const on=J.update(ot),dn=ot.material;if(Array.isArray(dn)){const fn=on.groups;for(let qn=0,Bn=fn.length;qn<Bn;qn++){const Nn=fn[qn],ar=dn[Nn.materialIndex];ar&&ar.visible&&m.push(ot,on,ar,Xt,xt.z,Nn)}}else dn.visible&&m.push(ot,on,dn,Xt,xt.z,null)}}const Ze=ot.children;for(let on=0,dn=Ze.length;on<dn;on++)Ri(Ze[on],zt,Xt,$t)}function Vs(ot,zt,Xt,$t){const te=ot.opaque,Ze=ot.transmissive,on=ot.transparent;d.setupLightsView(Xt),Ze.length>0&&Fc(te,zt,Xt),$t&&oe.viewport(P.copy($t)),te.length>0&&Du(te,zt,Xt),Ze.length>0&&Du(Ze,zt,Xt),on.length>0&&Du(on,zt,Xt),oe.buffers.depth.setTest(!0),oe.buffers.depth.setMask(!0),oe.buffers.color.setMask(!0),oe.setPolygonOffset(!1)}function Fc(ot,zt,Xt){const $t=fe.isWebGL2;ut===null&&(ut=new Lo(1,1,{generateMipmaps:!0,type:se.has("EXT_color_buffer_half_float")?iy:zd,minFilter:tg,samples:$t&&s===!0?4:0})),v.getDrawingBufferSize(K),$t?ut.setSize(K.x,K.y):ut.setSize(db(K.x),db(K.y));const te=v.getRenderTarget();v.setRenderTarget(ut),v.clear();const Ze=v.toneMapping;v.toneMapping=wu,Du(ot,zt,Xt),v.toneMapping=Ze,Yt.updateMultisampleRenderTarget(ut),Yt.updateRenderTargetMipmap(ut),v.setRenderTarget(te)}function Du(ot,zt,Xt){const $t=zt.isScene===!0?zt.overrideMaterial:null;for(let te=0,Ze=ot.length;te<Ze;te++){const on=ot[te],dn=on.object,fn=on.geometry,qn=$t===null?on.material:$t,Bn=on.group;dn.layers.test(Xt.layers)&&Bc(dn,zt,Xt,fn,qn,Bn)}}function Bc(ot,zt,Xt,$t,te,Ze){ot.onBeforeRender(v,zt,Xt,$t,te,Ze),ot.modelViewMatrix.multiplyMatrices(Xt.matrixWorldInverse,ot.matrixWorld),ot.normalMatrix.getNormalMatrix(ot.modelViewMatrix),te.onBeforeRender(v,zt,Xt,$t,ot,Ze),te.transparent===!0&&te.side===Fd?(te.side=la,te.needsUpdate=!0,v.renderBufferDirect(Xt,zt,$t,te,ot,Ze),te.side=Om,te.needsUpdate=!0,v.renderBufferDirect(Xt,zt,$t,te,ot,Ze),te.side=Fd):v.renderBufferDirect(Xt,zt,$t,te,ot,Ze),ot.onAfterRender(v,zt,Xt,$t,te,Ze)}function ku(ot,zt,Xt){zt.isScene!==!0&&(zt=Lt);const $t=Kt.get(ot),te=d.state.lights,Ze=d.state.shadowsArray,on=te.state.version,dn=dt.getParameters(ot,te.state,Ze,zt,Xt),fn=dt.getProgramCacheKey(dn);let qn=$t.programs;$t.environment=ot.isMeshStandardMaterial?zt.environment:null,$t.fog=zt.fog,$t.envMap=(ot.isMeshStandardMaterial?Tt:O).get(ot.envMap||$t.environment),qn===void 0&&(ot.addEventListener("dispose",pe),qn=new Map,$t.programs=qn);let Bn=qn.get(fn);if(Bn!==void 0){if($t.currentProgram===Bn&&$t.lightsStateVersion===on)return ph(ot,dn),Bn}else dn.uniforms=dt.getUniforms(ot),ot.onBuild(Xt,dn,v),ot.onBeforeCompile(dn,v),Bn=dt.acquireProgram(dn,fn),qn.set(fn,Bn),$t.uniforms=dn.uniforms;const Nn=$t.uniforms;(!ot.isShaderMaterial&&!ot.isRawShaderMaterial||ot.clipping===!0)&&(Nn.clippingPlanes=U.uniform),ph(ot,dn),$t.needsLights=Nc(ot),$t.lightsStateVersion=on,$t.needsLights&&(Nn.ambientLightColor.value=te.state.ambient,Nn.lightProbe.value=te.state.probe,Nn.directionalLights.value=te.state.directional,Nn.directionalLightShadows.value=te.state.directionalShadow,Nn.spotLights.value=te.state.spot,Nn.spotLightShadows.value=te.state.spotShadow,Nn.rectAreaLights.value=te.state.rectArea,Nn.ltc_1.value=te.state.rectAreaLTC1,Nn.ltc_2.value=te.state.rectAreaLTC2,Nn.pointLights.value=te.state.point,Nn.pointLightShadows.value=te.state.pointShadow,Nn.hemisphereLights.value=te.state.hemi,Nn.directionalShadowMap.value=te.state.directionalShadowMap,Nn.directionalShadowMatrix.value=te.state.directionalShadowMatrix,Nn.spotShadowMap.value=te.state.spotShadowMap,Nn.spotShadowMatrix.value=te.state.spotShadowMatrix,Nn.pointShadowMap.value=te.state.pointShadowMap,Nn.pointShadowMatrix.value=te.state.pointShadowMatrix);const ar=Bn.getUniforms(),lo=Rd.seqWithValue(ar.seq,Nn);return $t.currentProgram=Bn,$t.uniformsList=lo,Bn}function ph(ot,zt){const Xt=Kt.get(ot);Xt.outputEncoding=zt.outputEncoding,Xt.instancing=zt.instancing,Xt.skinning=zt.skinning,Xt.morphTargets=zt.morphTargets,Xt.morphNormals=zt.morphNormals,Xt.morphColors=zt.morphColors,Xt.morphTargetsCount=zt.morphTargetsCount,Xt.numClippingPlanes=zt.numClippingPlanes,Xt.numIntersection=zt.numClipIntersection,Xt.vertexAlphas=zt.vertexAlphas,Xt.vertexTangents=zt.vertexTangents,Xt.toneMapping=zt.toneMapping}function mh(ot,zt,Xt,$t,te){zt.isScene!==!0&&(zt=Lt),Yt.resetTextureUnits();const Ze=zt.fog,on=$t.isMeshStandardMaterial?zt.environment:null,dn=M===null?v.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:Eu,fn=($t.isMeshStandardMaterial?Tt:O).get($t.envMap||on),qn=$t.vertexColors===!0&&!!Xt.attributes.color&&Xt.attributes.color.itemSize===4,Bn=!!$t.normalMap&&!!Xt.attributes.tangent,Nn=!!Xt.morphAttributes.position,ar=!!Xt.morphAttributes.normal,lo=!!Xt.morphAttributes.color,Hs=$t.toneMapped?v.toneMapping:wu,No=Xt.morphAttributes.position||Xt.morphAttributes.normal||Xt.morphAttributes.color,ii=No!==void 0?No.length:0,pn=Kt.get($t),Wn=d.state.lights;if(at===!0&&(it===!0||ot!==A)){const bi=ot===A&&$t.id===T;U.setState($t,ot,bi)}let un=!1;$t.version===pn.__version?(pn.needsLights&&pn.lightsStateVersion!==Wn.state.version||pn.outputEncoding!==dn||te.isInstancedMesh&&pn.instancing===!1||!te.isInstancedMesh&&pn.instancing===!0||te.isSkinnedMesh&&pn.skinning===!1||!te.isSkinnedMesh&&pn.skinning===!0||pn.envMap!==fn||$t.fog===!0&&pn.fog!==Ze||pn.numClippingPlanes!==void 0&&(pn.numClippingPlanes!==U.numPlanes||pn.numIntersection!==U.numIntersection)||pn.vertexAlphas!==qn||pn.vertexTangents!==Bn||pn.morphTargets!==Nn||pn.morphNormals!==ar||pn.morphColors!==lo||pn.toneMapping!==Hs||fe.isWebGL2===!0&&pn.morphTargetsCount!==ii)&&(un=!0):(un=!0,pn.__version=$t.version);let ai=pn.currentProgram;un===!0&&(ai=ku($t,zt,te));let Sr=!1,qr=!1,Ws=!1;const Er=ai.getUniforms(),Mr=pn.uniforms;if(oe.useProgram(ai.program)&&(Sr=!0,qr=!0,Ws=!0),$t.id!==T&&(T=$t.id,qr=!0),Sr||A!==ot){if(Er.setValue(Ot,"projectionMatrix",ot.projectionMatrix),fe.logarithmicDepthBuffer&&Er.setValue(Ot,"logDepthBufFC",2/(Math.log(ot.far+1)/Math.LN2)),A!==ot&&(A=ot,qr=!0,Ws=!0),$t.isShaderMaterial||$t.isMeshPhongMaterial||$t.isMeshToonMaterial||$t.isMeshStandardMaterial||$t.envMap){const bi=Er.map.cameraPosition;bi!==void 0&&bi.setValue(Ot,xt.setFromMatrixPosition(ot.matrixWorld))}($t.isMeshPhongMaterial||$t.isMeshToonMaterial||$t.isMeshLambertMaterial||$t.isMeshBasicMaterial||$t.isMeshStandardMaterial||$t.isShaderMaterial)&&Er.setValue(Ot,"isOrthographic",ot.isOrthographicCamera===!0),($t.isMeshPhongMaterial||$t.isMeshToonMaterial||$t.isMeshLambertMaterial||$t.isMeshBasicMaterial||$t.isMeshStandardMaterial||$t.isShaderMaterial||$t.isShadowMaterial||te.isSkinnedMesh)&&Er.setValue(Ot,"viewMatrix",ot.matrixWorldInverse)}if(te.isSkinnedMesh){Er.setOptional(Ot,te,"bindMatrix"),Er.setOptional(Ot,te,"bindMatrixInverse");const bi=te.skeleton;bi&&(fe.floatVertexTextures?(bi.boneTexture===null&&bi.computeBoneTexture(),Er.setValue(Ot,"boneTexture",bi.boneTexture,Yt),Er.setValue(Ot,"boneTextureSize",bi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const zo=Xt.morphAttributes;return(zo.position!==void 0||zo.normal!==void 0||zo.color!==void 0&&fe.isWebGL2===!0)&&Ht.update(te,Xt,$t,ai),(qr||pn.receiveShadow!==te.receiveShadow)&&(pn.receiveShadow=te.receiveShadow,Er.setValue(Ot,"receiveShadow",te.receiveShadow)),qr&&(Er.setValue(Ot,"toneMappingExposure",v.toneMappingExposure),pn.needsLights&&Ou(Mr,Ws),Ze&&$t.fog===!0&&Gt.refreshFogUniforms(Mr,Ze),Gt.refreshMaterialUniforms(Mr,$t,Y,V,ut),Rd.upload(Ot,pn.uniformsList,Mr,Yt)),$t.isShaderMaterial&&$t.uniformsNeedUpdate===!0&&(Rd.upload(Ot,pn.uniformsList,Mr,Yt),$t.uniformsNeedUpdate=!1),$t.isSpriteMaterial&&Er.setValue(Ot,"center",te.center),Er.setValue(Ot,"modelViewMatrix",te.modelViewMatrix),Er.setValue(Ot,"normalMatrix",te.normalMatrix),Er.setValue(Ot,"modelMatrix",te.matrixWorld),ai}function Ou(ot,zt){ot.ambientLightColor.needsUpdate=zt,ot.lightProbe.needsUpdate=zt,ot.directionalLights.needsUpdate=zt,ot.directionalLightShadows.needsUpdate=zt,ot.pointLights.needsUpdate=zt,ot.pointLightShadows.needsUpdate=zt,ot.spotLights.needsUpdate=zt,ot.spotLightShadows.needsUpdate=zt,ot.rectAreaLights.needsUpdate=zt,ot.hemisphereLights.needsUpdate=zt}function Nc(ot){return ot.isMeshLambertMaterial||ot.isMeshToonMaterial||ot.isMeshPhongMaterial||ot.isMeshStandardMaterial||ot.isShadowMaterial||ot.isShaderMaterial&&ot.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(ot,zt,Xt){Kt.get(ot.texture).__webglTexture=zt,Kt.get(ot.depthTexture).__webglTexture=Xt;const $t=Kt.get(ot);$t.__hasExternalTextures=!0,$t.__hasExternalTextures&&($t.__autoAllocateDepthBuffer=Xt===void 0,$t.__autoAllocateDepthBuffer||se.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),$t.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ot,zt){const Xt=Kt.get(ot);Xt.__webglFramebuffer=zt,Xt.__useDefaultFramebuffer=zt===void 0},this.setRenderTarget=function(ot,zt=0,Xt=0){M=ot,x=zt,S=Xt;let $t=!0;if(ot){const fn=Kt.get(ot);fn.__useDefaultFramebuffer!==void 0?(oe.bindFramebuffer(36160,null),$t=!1):fn.__webglFramebuffer===void 0?Yt.setupRenderTarget(ot):fn.__hasExternalTextures&&Yt.rebindTextures(ot,Kt.get(ot.texture).__webglTexture,Kt.get(ot.depthTexture).__webglTexture)}let te=null,Ze=!1,on=!1;if(ot){const fn=ot.texture;(fn.isData3DTexture||fn.isDataArrayTexture)&&(on=!0);const qn=Kt.get(ot).__webglFramebuffer;ot.isWebGLCubeRenderTarget?(te=qn[zt],Ze=!0):fe.isWebGL2&&ot.samples>0&&Yt.useMultisampledRTT(ot)===!1?te=Kt.get(ot).__webglMultisampledFramebuffer:te=qn,P.copy(ot.viewport),F.copy(ot.scissor),C=ot.scissorTest}else P.copy(L).multiplyScalar(Y).floor(),F.copy(tt).multiplyScalar(Y).floor(),C=ct;if(oe.bindFramebuffer(36160,te)&&fe.drawBuffers&&$t&&oe.drawBuffers(ot,te),oe.viewport(P),oe.scissor(F),oe.setScissorTest(C),Ze){const fn=Kt.get(ot.texture);Ot.framebufferTexture2D(36160,36064,34069+zt,fn.__webglTexture,Xt)}else if(on){const fn=Kt.get(ot.texture),qn=zt||0;Ot.framebufferTextureLayer(36160,36064,fn.__webglTexture,Xt||0,qn)}T=-1},this.readRenderTargetPixels=function(ot,zt,Xt,$t,te,Ze,on){if(!(ot&&ot.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dn=Kt.get(ot).__webglFramebuffer;if(ot.isWebGLCubeRenderTarget&&on!==void 0&&(dn=dn[on]),dn){oe.bindFramebuffer(36160,dn);try{const fn=ot.texture,qn=fn.format,Bn=fn.type;if(qn!==Ua&&Wt.convert(qn)!==Ot.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Nn=Bn===iy&&(se.has("EXT_color_buffer_half_float")||fe.isWebGL2&&se.has("EXT_color_buffer_float"));if(Bn!==zd&&Wt.convert(Bn)!==Ot.getParameter(35738)&&!(Bn===Wf&&(fe.isWebGL2||se.has("OES_texture_float")||se.has("WEBGL_color_buffer_float")))&&!Nn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}zt>=0&&zt<=ot.width-$t&&Xt>=0&&Xt<=ot.height-te&&Ot.readPixels(zt,Xt,$t,te,Wt.convert(qn),Wt.convert(Bn),Ze)}finally{const fn=M!==null?Kt.get(M).__webglFramebuffer:null;oe.bindFramebuffer(36160,fn)}}},this.copyFramebufferToTexture=function(ot,zt,Xt=0){if(zt.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const $t=Math.pow(2,-Xt),te=Math.floor(zt.image.width*$t),Ze=Math.floor(zt.image.height*$t);Yt.setTexture2D(zt,0),Ot.copyTexSubImage2D(3553,Xt,0,0,ot.x,ot.y,te,Ze),oe.unbindTexture()},this.copyTextureToTexture=function(ot,zt,Xt,$t=0){const te=zt.image.width,Ze=zt.image.height,on=Wt.convert(Xt.format),dn=Wt.convert(Xt.type);Yt.setTexture2D(Xt,0),Ot.pixelStorei(37440,Xt.flipY),Ot.pixelStorei(37441,Xt.premultiplyAlpha),Ot.pixelStorei(3317,Xt.unpackAlignment),zt.isDataTexture?Ot.texSubImage2D(3553,$t,ot.x,ot.y,te,Ze,on,dn,zt.image.data):zt.isCompressedTexture?Ot.compressedTexSubImage2D(3553,$t,ot.x,ot.y,zt.mipmaps[0].width,zt.mipmaps[0].height,on,zt.mipmaps[0].data):Ot.texSubImage2D(3553,$t,ot.x,ot.y,on,dn,zt.image),$t===0&&Xt.generateMipmaps&&Ot.generateMipmap(3553),oe.unbindTexture()},this.copyTextureToTexture3D=function(ot,zt,Xt,$t,te=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ze=ot.max.x-ot.min.x+1,on=ot.max.y-ot.min.y+1,dn=ot.max.z-ot.min.z+1,fn=Wt.convert($t.format),qn=Wt.convert($t.type);let Bn;if($t.isData3DTexture)Yt.setTexture3D($t,0),Bn=32879;else if($t.isDataArrayTexture)Yt.setTexture2DArray($t,0),Bn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ot.pixelStorei(37440,$t.flipY),Ot.pixelStorei(37441,$t.premultiplyAlpha),Ot.pixelStorei(3317,$t.unpackAlignment);const Nn=Ot.getParameter(3314),ar=Ot.getParameter(32878),lo=Ot.getParameter(3316),Hs=Ot.getParameter(3315),No=Ot.getParameter(32877),ii=Xt.isCompressedTexture?Xt.mipmaps[0]:Xt.image;Ot.pixelStorei(3314,ii.width),Ot.pixelStorei(32878,ii.height),Ot.pixelStorei(3316,ot.min.x),Ot.pixelStorei(3315,ot.min.y),Ot.pixelStorei(32877,ot.min.z),Xt.isDataTexture||Xt.isData3DTexture?Ot.texSubImage3D(Bn,te,zt.x,zt.y,zt.z,Ze,on,dn,fn,qn,ii.data):Xt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ot.compressedTexSubImage3D(Bn,te,zt.x,zt.y,zt.z,Ze,on,dn,fn,ii.data)):Ot.texSubImage3D(Bn,te,zt.x,zt.y,zt.z,Ze,on,dn,fn,qn,ii),Ot.pixelStorei(3314,Nn),Ot.pixelStorei(32878,ar),Ot.pixelStorei(3316,lo),Ot.pixelStorei(3315,Hs),Ot.pixelStorei(32877,No),te===0&&$t.generateMipmaps&&Ot.generateMipmap(Bn),oe.unbindTexture()},this.initTexture=function(ot){Yt.setTexture2D(ot,0),oe.unbindTexture()},this.resetState=function(){x=0,S=0,M=null,oe.reset(),He.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}br.prototype.isWebGLRenderer=!0;class xz extends br{}xz.prototype.isWebGL1Renderer=!0;class f1{constructor(t,e=25e-5){this.name="",this.color=new Te(t),this.density=e}clone(){return new f1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}f1.prototype.isFogExp2=!0;class h1{constructor(t,e=1,r=1e3){this.name="",this.color=new Te(t),this.near=e,this.far=r}clone(){return new h1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}h1.prototype.isFog=!0;class d1 extends Yn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),e}}d1.prototype.isScene=!0;class ng{constructor(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=sy,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ha()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,r){t*=this.stride,r*=e.stride;for(let i=0,s=this.stride;i<s;i++)this.array[t+i]=e.array[r+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ha()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(e,this.stride);return r.setUsage(this.usage),r}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ha()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}ng.prototype.isInterleavedBuffer=!0;const _o=new rt;class Ud{constructor(t,e,r,i=!1){this.name="",this.data=t,this.itemSize=e,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,r=this.data.count;e<r;e++)_o.fromBufferAttribute(this,e),_o.applyMatrix4(t),this.setXYZ(e,_o.x,_o.y,_o.z);return this}applyNormalMatrix(t){for(let e=0,r=this.count;e<r;e++)_o.fromBufferAttribute(this,e),_o.applyNormalMatrix(t),this.setXYZ(e,_o.x,_o.y,_o.z);return this}transformDirection(t){for(let e=0,r=this.count;e<r;e++)_o.fromBufferAttribute(this,e),_o.transformDirection(t),this.setXYZ(e,_o.x,_o.y,_o.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this}setXYZ(t,e,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=i,this}setXYZW(t,e,r,i,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=i,this.data.array[t+3]=s,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return new or(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ud(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Ud.prototype.isInterleavedBufferAttribute=!0;class RS extends $i{constructor(t){super(),this.type="SpriteMaterial",this.color=new Te(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}RS.prototype.isSpriteMaterial=!0;let r0;const Ev=new rt,i0=new rt,s0=new rt,o0=new ie,Mv=new ie,bz=new Ae,Ow=new rt,Tv=new rt,Fw=new rt,SD=new ie,GE=new ie,ED=new ie;class LS extends Yn{constructor(t){if(super(),this.type="Sprite",r0===void 0){r0=new Xe;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ng(e,5);r0.setIndex([0,1,2,0,2,3]),r0.setAttribute("position",new Ud(r,3,0,!1)),r0.setAttribute("uv",new Ud(r,2,3,!1))}this.geometry=r0,this.material=t!==void 0?t:new RS,this.center=new ie(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),i0.setFromMatrixScale(this.matrixWorld),bz.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),s0.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&i0.multiplyScalar(-s0.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Bw(Ow.set(-.5,-.5,0),s0,o,i0,i,s),Bw(Tv.set(.5,-.5,0),s0,o,i0,i,s),Bw(Fw.set(.5,.5,0),s0,o,i0,i,s),SD.set(0,0),GE.set(1,0),ED.set(1,1);let a=t.ray.intersectTriangle(Ow,Tv,Fw,!1,Ev);if(a===null&&(Bw(Tv.set(-.5,.5,0),s0,o,i0,i,s),GE.set(0,1),a=t.ray.intersectTriangle(Ow,Fw,Tv,!1,Ev),a===null))return;const l=t.ray.origin.distanceTo(Ev);l<t.near||l>t.far||e.push({distance:l,point:Ev.clone(),uv:Hi.getUV(Ev,Ow,Tv,Fw,SD,GE,ED,new ie),face:null,object:this})}copy(t){return super.copy(t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}LS.prototype.isSprite=!0;function Bw(n,t,e,r,i,s){o0.subVectors(n,e).addScalar(.5).multiply(r),i!==void 0?(Mv.x=s*o0.x-i*o0.y,Mv.y=i*o0.x+s*o0.y):Mv.copy(o0),n.copy(t),n.x+=Mv.x,n.y+=Mv.y,n.applyMatrix4(bz)}const Nw=new rt,MD=new rt;class Sz extends Yn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let r=0,i=e.length;r<i;r++){const s=e[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0){e=Math.abs(e);const r=this.levels;let i;for(i=0;i<r.length&&!(e<r[i].distance);i++);return r.splice(i,0,{distance:e,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let r,i;for(r=1,i=e.length;r<i&&!(t<e[r].distance);r++);return e[r-1].object}return null}raycast(t,e){if(this.levels.length>0){Nw.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Nw);this.getObjectForDistance(i).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Nw.setFromMatrixPosition(t.matrixWorld),MD.setFromMatrixPosition(this.matrixWorld);const r=Nw.distanceTo(MD)/t.zoom;e[0].object.visible=!0;let i,s;for(i=1,s=e.length;i<s&&r>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)e[i].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}const TD=new rt,AD=new xr,CD=new xr,DQ=new rt,ID=new Ae;class PS extends rs{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ae,this.bindMatrixInverse=new Ae}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new xr,e=this.geometry.attributes.skinWeight;for(let r=0,i=e.count;r<i;r++){t.fromBufferAttribute(e,r);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(r,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const r=this.skeleton,i=this.geometry;AD.fromBufferAttribute(i.attributes.skinIndex,t),CD.fromBufferAttribute(i.attributes.skinWeight,t),TD.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const o=CD.getComponent(s);if(o!==0){const a=AD.getComponent(s);ID.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),e.addScaledVector(DQ.copy(TD).applyMatrix4(ID),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}PS.prototype.isSkinnedMesh=!0;class DS extends Yn{constructor(){super(),this.type="Bone"}}DS.prototype.isBone=!0;class Mm extends Gi{constructor(t=null,e=1,r=1,i,s,o,a,l,u=ts,h=ts,m,d){super(null,o,a,l,u,h,i,s,m,d),this.image={data:t,width:e,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Mm.prototype.isDataTexture=!0;const RD=new Ae,kQ=new Ae;class kS{constructor(t=[],e=[]){this.uuid=Ha(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ae)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const r=new Ae;this.bones[t]&&r.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const r=this.bones[t];r&&r.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const r=this.bones[t];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const t=this.bones,e=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=t.length;s<o;s++){const a=t[s]?t[s].matrixWorld:kQ;RD.multiplyMatrices(a,e[s]),RD.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new kS(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=J4(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const r=new Mm(e,t,t,Ua,Wf);return r.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=r,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,r=this.bones.length;e<r;e++){const i=this.bones[e];if(i.name===t)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let r=0,i=t.bones.length;r<i;r++){const s=t.bones[r];let o=e[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new DS),this.bones.push(o),this.boneInverses.push(new Ae().fromArray(t.boneInverses[r]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,r=this.boneInverses;for(let i=0,s=e.length;i<s;i++){const o=e[i];t.bones.push(o.uuid);const a=r[i];t.boneInverses.push(a.toArray())}return t}}class zm extends or{constructor(t,e,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,r),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}zm.prototype.isInstancedBufferAttribute=!0;const LD=new Ae,PD=new Ae,zw=[],Av=new rs;class mC extends rs{constructor(t,e,r){super(t,e),this.instanceMatrix=new zm(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}raycast(t,e){const r=this.matrixWorld,i=this.count;if(Av.geometry=this.geometry,Av.material=this.material,Av.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,LD),PD.multiplyMatrices(r,LD),Av.matrixWorld=PD,Av.raycast(t,zw);for(let o=0,a=zw.length;o<a;o++){const l=zw[o];l.instanceId=s,l.object=this,e.push(l)}zw.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new zm(new Float32Array(this.instanceMatrix.count*3),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}mC.prototype.isInstancedMesh=!0;class Wi extends $i{constructor(t){super(),this.type="LineBasicMaterial",this.color=new Te(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}Wi.prototype.isLineBasicMaterial=!0;const DD=new rt,kD=new rt,OD=new Ae,$E=new Jd,Uw=new oh;class vl extends Yn{constructor(t=new Xe,e=new Wi){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,r=[0];for(let i=1,s=e.count;i<s;i++)DD.fromBufferAttribute(e,i-1),kD.fromBufferAttribute(e,i),r[i]=r[i-1],r[i]+=DD.distanceTo(kD);t.setAttribute("lineDistance",new ze(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const r=this.geometry,i=this.matrixWorld,s=t.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Uw.copy(r.boundingSphere),Uw.applyMatrix4(i),Uw.radius+=s,t.ray.intersectsSphere(Uw)===!1)return;OD.copy(i).invert(),$E.copy(t.ray).applyMatrix4(OD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new rt,h=new rt,m=new rt,d=new rt,y=this.isLineSegments?2:1;if(r.isBufferGeometry){const _=r.index,w=r.attributes.position;if(_!==null){const x=Math.max(0,o.start),S=Math.min(_.count,o.start+o.count);for(let M=x,T=S-1;M<T;M+=y){const A=_.getX(M),P=_.getX(M+1);if(u.fromBufferAttribute(w,A),h.fromBufferAttribute(w,P),$E.distanceSqToSegment(u,h,d,m)>l)continue;d.applyMatrix4(this.matrixWorld);const C=t.ray.origin.distanceTo(d);C<t.near||C>t.far||e.push({distance:C,point:m.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),S=Math.min(w.count,o.start+o.count);for(let M=x,T=S-1;M<T;M+=y){if(u.fromBufferAttribute(w,M),h.fromBufferAttribute(w,M+1),$E.distanceSqToSegment(u,h,d,m)>l)continue;d.applyMatrix4(this.matrixWorld);const P=t.ray.origin.distanceTo(d);P<t.near||P>t.far||e.push({distance:P,point:m.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,r=Object.keys(e);if(r.length>0){const i=e[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}vl.prototype.isLine=!0;const FD=new rt,BD=new rt;class ua extends vl{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,r=[];for(let i=0,s=e.count;i<s;i+=2)FD.fromBufferAttribute(e,i),BD.fromBufferAttribute(e,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+FD.distanceTo(BD);t.setAttribute("lineDistance",new ze(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}ua.prototype.isLineSegments=!0;class gC extends vl{constructor(t,e){super(t,e),this.type="LineLoop"}}gC.prototype.isLineLoop=!0;class rg extends $i{constructor(t){super(),this.type="PointsMaterial",this.color=new Te(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}rg.prototype.isPointsMaterial=!0;const ND=new Ae,iA=new Jd,Vw=new oh,Hw=new rt;class p1 extends Yn{constructor(t=new Xe,e=new rg){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const r=this.geometry,i=this.matrixWorld,s=t.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Vw.copy(r.boundingSphere),Vw.applyMatrix4(i),Vw.radius+=s,t.ray.intersectsSphere(Vw)===!1)return;ND.copy(i).invert(),iA.copy(t.ray).applyMatrix4(ND);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const u=r.index,m=r.attributes.position;if(u!==null){const d=Math.max(0,o.start),y=Math.min(u.count,o.start+o.count);for(let _=d,v=y;_<v;_++){const w=u.getX(_);Hw.fromBufferAttribute(m,w),zD(Hw,w,l,i,t,e,this)}}else{const d=Math.max(0,o.start),y=Math.min(m.count,o.start+o.count);for(let _=d,v=y;_<v;_++)Hw.fromBufferAttribute(m,_),zD(Hw,_,l,i,t,e,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,r=Object.keys(e);if(r.length>0){const i=e[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}p1.prototype.isPoints=!0;function zD(n,t,e,r,i,s,o){const a=iA.distanceSqToPoint(n);if(a<e){const l=new rt;iA.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}class Ez extends Gi{constructor(t,e,r,i,s,o,a,l,u){super(t,e,r,i,s,o,a,l,u),this.minFilter=o!==void 0?o:Ui,this.magFilter=s!==void 0?s:Ui,this.generateMipmaps=!1;const h=this;function m(){h.needsUpdate=!0,t.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Ez.prototype.isVideoTexture=!0;class Mz extends Gi{constructor(t,e,r){super({width:t,height:e}),this.format=r,this.magFilter=ts,this.minFilter=ts,this.generateMipmaps=!1,this.needsUpdate=!0}}Mz.prototype.isFramebufferTexture=!0;class yC extends Gi{constructor(t,e,r,i,s,o,a,l,u,h,m,d){super(null,o,a,l,u,h,i,s,m,d),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}yC.prototype.isCompressedTexture=!0;class Tz extends Gi{constructor(t,e,r,i,s,o,a,l,u){super(t,e,r,i,s,o,a,l,u),this.needsUpdate=!0}}Tz.prototype.isCanvasTexture=!0;class Ga{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const r=this.getUtoTmapping(t);return this.getPoint(r,e)}getPoints(t=5){const e=[];for(let r=0;r<=t;r++)e.push(this.getPoint(r/t));return e}getSpacedPoints(t=5){const e=[];for(let r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let r,i=this.getPoint(0),s=0;e.push(0);for(let o=1;o<=t;o++)r=this.getPoint(o/t),s+=r.distanceTo(i),e.push(s),i=r;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const r=this.getLengths();let i=0;const s=r.length;let o;e?o=e:o=t*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const h=r[i],d=r[i+1]-h,y=(o-h)/d;return(i+y)/(s-1)}getTangent(t,e){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=e||(o.isVector2?new ie:new rt);return l.copy(a).sub(o).normalize(),l}getTangentAt(t,e){const r=this.getUtoTmapping(t);return this.getTangent(r,e)}computeFrenetFrames(t,e){const r=new rt,i=[],s=[],o=[],a=new rt,l=new Ae;for(let y=0;y<=t;y++){const _=y/t;i[y]=this.getTangentAt(_,new rt)}s[0]=new rt,o[0]=new rt;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),m=Math.abs(i[0].y),d=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),m<=u&&(u=m,r.set(0,1,0)),d<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let y=1;y<=t;y++){if(s[y]=s[y-1].clone(),o[y]=o[y-1].clone(),a.crossVectors(i[y-1],i[y]),a.length()>Number.EPSILON){a.normalize();const _=Math.acos(Vi(i[y-1].dot(i[y]),-1,1));s[y].applyMatrix4(l.makeRotationAxis(a,_))}o[y].crossVectors(i[y],s[y])}if(e===!0){let y=Math.acos(Vi(s[0].dot(s[t]),-1,1));y/=t,i[0].dot(a.crossVectors(s[0],s[t]))>0&&(y=-y);for(let _=1;_<=t;_++)s[_].applyMatrix4(l.makeRotationAxis(i[_],y*_)),o[_].crossVectors(i[_],s[_])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Ld extends Ga{constructor(t=0,e=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(t,e){const r=e||new ie,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+t*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),m=Math.sin(this.aRotation),d=l-this.aX,y=u-this.aY;l=d*h-y*m+this.aX,u=d*m+y*h+this.aY}return r.set(l,u)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Ld.prototype.isEllipseCurve=!0;class vC extends Ld{constructor(t,e,r,i,s,o){super(t,e,r,r,i,s,o),this.type="ArcCurve"}}vC.prototype.isArcCurve=!0;function _C(){let n=0,t=0,e=0,r=0;function i(s,o,a,l){n=s,t=a,e=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,m){let d=(o-s)/u-(a-s)/(u+h)+(a-o)/h,y=(a-o)/h-(l-o)/(h+m)+(l-a)/m;d*=h,y*=h,i(o,a,d,y)},calc:function(s){const o=s*s,a=o*s;return n+t*s+e*o+r*a}}}const Ww=new rt,jE=new _C,YE=new _C,qE=new _C;class wC extends Ga{constructor(t=[],e=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=r,this.tension=i}getPoint(t,e=new rt){const r=e,i=this.points,s=i.length,o=(s-(this.closed?0:1))*t;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=i[(a-1)%s]:(Ww.subVectors(i[0],i[1]).add(i[0]),u=Ww);const m=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(Ww.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=Ww),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(m),y),v=Math.pow(m.distanceToSquared(d),y),w=Math.pow(d.distanceToSquared(h),y);v<1e-4&&(v=1),_<1e-4&&(_=v),w<1e-4&&(w=v),jE.initNonuniformCatmullRom(u.x,m.x,d.x,h.x,_,v,w),YE.initNonuniformCatmullRom(u.y,m.y,d.y,h.y,_,v,w),qE.initNonuniformCatmullRom(u.z,m.z,d.z,h.z,_,v,w)}else this.curveType==="catmullrom"&&(jE.initCatmullRom(u.x,m.x,d.x,h.x,this.tension),YE.initCatmullRom(u.y,m.y,d.y,h.y,this.tension),qE.initCatmullRom(u.z,m.z,d.z,h.z,this.tension));return r.set(jE.calc(l),YE.calc(l),qE.calc(l)),r}copy(t){super.copy(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,r=this.points.length;e<r;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const i=t.points[e];this.points.push(new rt().fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}wC.prototype.isCatmullRomCurve3=!0;function UD(n,t,e,r,i){const s=(r-t)*.5,o=(i-e)*.5,a=n*n,l=n*a;return(2*e-2*r+s+o)*l+(-3*e+3*r-2*s-o)*a+s*n+e}function OQ(n,t){const e=1-n;return e*e*t}function FQ(n,t){return 2*(1-n)*n*t}function BQ(n,t){return n*n*t}function t_(n,t,e,r){return OQ(n,t)+FQ(n,e)+BQ(n,r)}function NQ(n,t){const e=1-n;return e*e*e*t}function zQ(n,t){const e=1-n;return 3*e*e*n*t}function UQ(n,t){return 3*(1-n)*n*n*t}function VQ(n,t){return n*n*n*t}function e_(n,t,e,r,i){return NQ(n,t)+zQ(n,e)+UQ(n,r)+VQ(n,i)}class OS extends Ga{constructor(t=new ie,e=new ie,r=new ie,i=new ie){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=r,this.v3=i}getPoint(t,e=new ie){const r=e,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(e_(t,i.x,s.x,o.x,a.x),e_(t,i.y,s.y,o.y,a.y)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}OS.prototype.isCubicBezierCurve=!0;class xC extends Ga{constructor(t=new rt,e=new rt,r=new rt,i=new rt){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=r,this.v3=i}getPoint(t,e=new rt){const r=e,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(e_(t,i.x,s.x,o.x,a.x),e_(t,i.y,s.y,o.y,a.y),e_(t,i.z,s.z,o.z,a.z)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}xC.prototype.isCubicBezierCurve3=!0;class m1 extends Ga{constructor(t=new ie,e=new ie){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new ie){const r=e;return t===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const r=e||new ie;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}m1.prototype.isLineCurve=!0;class Az extends Ga{constructor(t=new rt,e=new rt){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new rt){const r=e;return t===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class FS extends Ga{constructor(t=new ie,e=new ie,r=new ie){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=r}getPoint(t,e=new ie){const r=e,i=this.v0,s=this.v1,o=this.v2;return r.set(t_(t,i.x,s.x,o.x),t_(t,i.y,s.y,o.y)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}FS.prototype.isQuadraticBezierCurve=!0;class BS extends Ga{constructor(t=new rt,e=new rt,r=new rt){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=r}getPoint(t,e=new rt){const r=e,i=this.v0,s=this.v1,o=this.v2;return r.set(t_(t,i.x,s.x,o.x),t_(t,i.y,s.y,o.y),t_(t,i.z,s.z,o.z)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}BS.prototype.isQuadraticBezierCurve3=!0;class NS extends Ga{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new ie){const r=e,i=this.points,s=(i.length-1)*t,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],h=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return r.set(UD(a,l.x,u.x,h.x,m.x),UD(a,l.y,u.y,h.y,m.y)),r}copy(t){super.copy(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const i=t.points[e];this.points.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,r=this.points.length;e<r;e++){const i=this.points[e];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,r=t.points.length;e<r;e++){const i=t.points[e];this.points.push(new ie().fromArray(i))}return this}}NS.prototype.isSplineCurve=!0;var bC=Object.freeze({__proto__:null,ArcCurve:vC,CatmullRomCurve3:wC,CubicBezierCurve:OS,CubicBezierCurve3:xC,EllipseCurve:Ld,LineCurve:m1,LineCurve3:Az,QuadraticBezierCurve:FS,QuadraticBezierCurve3:BS,SplineCurve:NS});class Cz extends Ga{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new m1(e,t))}getPoint(t,e){const r=t*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,e)}s++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let r=0,i=this.curves.length;r<i;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(e.push(h),r=h)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,r=t.curves.length;e<r;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,r=this.curves.length;e<r;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,r=t.curves.length;e<r;e++){const i=t.curves[e];this.curves.push(new bC[i.type]().fromJSON(i))}return this}}class ly extends Cz{constructor(t){super(),this.type="Path",this.currentPoint=new ie,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const r=new m1(this.currentPoint.clone(),new ie(t,e));return this.curves.push(r),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,r,i){const s=new FS(this.currentPoint.clone(),new ie(t,e),new ie(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(t,e,r,i,s,o){const a=new OS(this.currentPoint.clone(),new ie(t,e),new ie(r,i),new ie(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),r=new NS(e);return this.curves.push(r),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(t+a,e+l,r,i,s,o),this}absarc(t,e,r,i,s,o){return this.absellipse(t,e,r,r,i,s,o),this}ellipse(t,e,r,i,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(t+u,e+h,r,i,s,o,a,l),this}absellipse(t,e,r,i,s,o,a,l){const u=new Ld(t,e,r,i,s,o,a,l);if(this.curves.length>0){const m=u.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Um extends Xe{constructor(t=[new ie(0,.5),new ie(.5,0),new ie(0,-.5)],e=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:i},e=Math.floor(e),i=Vi(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/e,m=new rt,d=new ie,y=new rt,_=new rt,v=new rt;let w=0,x=0;for(let S=0;S<=t.length-1;S++)switch(S){case 0:w=t[S+1].x-t[S].x,x=t[S+1].y-t[S].y,y.x=x*1,y.y=-w,y.z=x*0,v.copy(y),y.normalize(),l.push(y.x,y.y,y.z);break;case t.length-1:l.push(v.x,v.y,v.z);break;default:w=t[S+1].x-t[S].x,x=t[S+1].y-t[S].y,y.x=x*1,y.y=-w,y.z=x*0,_.copy(y),y.x+=v.x,y.y+=v.y,y.z+=v.z,y.normalize(),l.push(y.x,y.y,y.z),v.copy(_)}for(let S=0;S<=e;S++){const M=r+S*h*i,T=Math.sin(M),A=Math.cos(M);for(let P=0;P<=t.length-1;P++){m.x=t[P].x*T,m.y=t[P].y,m.z=t[P].x*A,o.push(m.x,m.y,m.z),d.x=S/e,d.y=P/(t.length-1),a.push(d.x,d.y);const F=l[3*P+0]*T,C=l[3*P+1],B=l[3*P+0]*A;u.push(F,C,B)}}for(let S=0;S<e;S++)for(let M=0;M<t.length-1;M++){const T=M+S*t.length,A=T,P=T+t.length,F=T+t.length+1,C=T+1;s.push(A,P,C),s.push(F,C,P)}this.setIndex(s),this.setAttribute("position",new ze(o,3)),this.setAttribute("uv",new ze(a,2)),this.setAttribute("normal",new ze(u,3))}static fromJSON(t){return new Um(t.points,t.segments,t.phiStart,t.phiLength)}}class uy extends Um{constructor(t=1,e=1,r=4,i=8){const s=new ly;s.absarc(0,-e/2,t,Math.PI*1.5,0),s.absarc(0,e/2,t,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:r,radialSegments:i}}static fromJSON(t){return new uy(t.radius,t.length,t.capSegments,t.radialSegments)}}class cy extends Xe{constructor(t=1,e=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:i},e=Math.max(3,e);const s=[],o=[],a=[],l=[],u=new rt,h=new ie;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let m=0,d=3;m<=e;m++,d+=3){const y=r+m/e*i;u.x=t*Math.cos(y),u.y=t*Math.sin(y),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[d]/t+1)/2,h.y=(o[d+1]/t+1)/2,l.push(h.x,h.y)}for(let m=1;m<=e;m++)s.push(m,m+1,0);this.setIndex(s),this.setAttribute("position",new ze(o,3)),this.setAttribute("normal",new ze(a,3)),this.setAttribute("uv",new ze(l,2))}static fromJSON(t){return new cy(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Vd extends Xe{constructor(t=1,e=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],m=[],d=[],y=[];let _=0;const v=[],w=r/2;let x=0;S(),o===!1&&(t>0&&M(!0),e>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new ze(m,3)),this.setAttribute("normal",new ze(d,3)),this.setAttribute("uv",new ze(y,2));function S(){const T=new rt,A=new rt;let P=0;const F=(e-t)/r;for(let C=0;C<=s;C++){const B=[],V=C/s,Y=V*(e-t)+t;for(let z=0;z<=i;z++){const q=z/i,L=q*l+a,tt=Math.sin(L),ct=Math.cos(L);A.x=Y*tt,A.y=-V*r+w,A.z=Y*ct,m.push(A.x,A.y,A.z),T.set(tt,F,ct).normalize(),d.push(T.x,T.y,T.z),y.push(q,1-V),B.push(_++)}v.push(B)}for(let C=0;C<i;C++)for(let B=0;B<s;B++){const V=v[B][C],Y=v[B+1][C],z=v[B+1][C+1],q=v[B][C+1];h.push(V,Y,q),h.push(Y,z,q),P+=6}u.addGroup(x,P,0),x+=P}function M(T){const A=_,P=new ie,F=new rt;let C=0;const B=T===!0?t:e,V=T===!0?1:-1;for(let z=1;z<=i;z++)m.push(0,w*V,0),d.push(0,V,0),y.push(.5,.5),_++;const Y=_;for(let z=0;z<=i;z++){const L=z/i*l+a,tt=Math.cos(L),ct=Math.sin(L);F.x=B*ct,F.y=w*V,F.z=B*tt,m.push(F.x,F.y,F.z),d.push(0,V,0),P.x=tt*.5+.5,P.y=ct*.5*V+.5,y.push(P.x,P.y),_++}for(let z=0;z<i;z++){const q=A+z,L=Y+z;T===!0?h.push(L,L+1,q):h.push(L+1,L,q),C+=3}u.addGroup(x,C,T===!0?1:2),x+=C}}static fromJSON(t){return new Vd(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class fy extends Vd{constructor(t=1,e=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,t,e,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(t){return new fy(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Sc extends Xe{constructor(t=[],e=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:i};const s=[],o=[];a(i),u(r),h(),this.setAttribute("position",new ze(s,3)),this.setAttribute("normal",new ze(s.slice(),3)),this.setAttribute("uv",new ze(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const M=new rt,T=new rt,A=new rt;for(let P=0;P<e.length;P+=3)y(e[P+0],M),y(e[P+1],T),y(e[P+2],A),l(M,T,A,S)}function l(S,M,T,A){const P=A+1,F=[];for(let C=0;C<=P;C++){F[C]=[];const B=S.clone().lerp(T,C/P),V=M.clone().lerp(T,C/P),Y=P-C;for(let z=0;z<=Y;z++)z===0&&C===P?F[C][z]=B:F[C][z]=B.clone().lerp(V,z/Y)}for(let C=0;C<P;C++)for(let B=0;B<2*(P-C)-1;B++){const V=Math.floor(B/2);B%2===0?(d(F[C][V+1]),d(F[C+1][V]),d(F[C][V])):(d(F[C][V+1]),d(F[C+1][V+1]),d(F[C+1][V]))}}function u(S){const M=new rt;for(let T=0;T<s.length;T+=3)M.x=s[T+0],M.y=s[T+1],M.z=s[T+2],M.normalize().multiplyScalar(S),s[T+0]=M.x,s[T+1]=M.y,s[T+2]=M.z}function h(){const S=new rt;for(let M=0;M<s.length;M+=3){S.x=s[M+0],S.y=s[M+1],S.z=s[M+2];const T=w(S)/2/Math.PI+.5,A=x(S)/Math.PI+.5;o.push(T,1-A)}_(),m()}function m(){for(let S=0;S<o.length;S+=6){const M=o[S+0],T=o[S+2],A=o[S+4],P=Math.max(M,T,A),F=Math.min(M,T,A);P>.9&&F<.1&&(M<.2&&(o[S+0]+=1),T<.2&&(o[S+2]+=1),A<.2&&(o[S+4]+=1))}}function d(S){s.push(S.x,S.y,S.z)}function y(S,M){const T=S*3;M.x=t[T+0],M.y=t[T+1],M.z=t[T+2]}function _(){const S=new rt,M=new rt,T=new rt,A=new rt,P=new ie,F=new ie,C=new ie;for(let B=0,V=0;B<s.length;B+=9,V+=6){S.set(s[B+0],s[B+1],s[B+2]),M.set(s[B+3],s[B+4],s[B+5]),T.set(s[B+6],s[B+7],s[B+8]),P.set(o[V+0],o[V+1]),F.set(o[V+2],o[V+3]),C.set(o[V+4],o[V+5]),A.copy(S).add(M).add(T).divideScalar(3);const Y=w(A);v(P,V+0,S,Y),v(F,V+2,M,Y),v(C,V+4,T,Y)}}function v(S,M,T,A){A<0&&S.x===1&&(o[M]=S.x-1),T.x===0&&T.z===0&&(o[M]=A/2/Math.PI+.5)}function w(S){return Math.atan2(S.z,-S.x)}function x(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}static fromJSON(t){return new Sc(t.vertices,t.indices,t.radius,t.details)}}class hy extends Sc{constructor(t=1,e=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new hy(t.radius,t.detail)}}const Gw=new rt,$w=new rt,XE=new rt,jw=new Hi;class SC extends Xe{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const i=Math.pow(10,4),s=Math.cos(bm*e),o=t.getIndex(),a=t.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],m=new Array(3),d={},y=[];for(let _=0;_<l;_+=3){o?(u[0]=o.getX(_),u[1]=o.getX(_+1),u[2]=o.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:v,b:w,c:x}=jw;if(v.fromBufferAttribute(a,u[0]),w.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),jw.getNormal(XE),m[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,m[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,m[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let S=0;S<3;S++){const M=(S+1)%3,T=m[S],A=m[M],P=jw[h[S]],F=jw[h[M]],C=`${T}_${A}`,B=`${A}_${T}`;B in d&&d[B]?(XE.dot(d[B].normal)<=s&&(y.push(P.x,P.y,P.z),y.push(F.x,F.y,F.z)),d[B]=null):C in d||(d[C]={index0:u[S],index1:u[M],normal:XE.clone()})}}for(const _ in d)if(d[_]){const{index0:v,index1:w}=d[_];Gw.fromBufferAttribute(a,v),$w.fromBufferAttribute(a,w),y.push(Gw.x,Gw.y,Gw.z),y.push($w.x,$w.y,$w.z)}this.setAttribute("position",new ze(y,3))}}}class wc extends ly{constructor(t){super(t),this.uuid=Ha(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let r=0,i=this.holes.length;r<i;r++)e[r]=this.holes[r].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,r=t.holes.length;e<r;e++){const i=t.holes[e];this.holes.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,r=this.holes.length;e<r;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,r=t.holes.length;e<r;e++){const i=t.holes[e];this.holes.push(new ly().fromJSON(i))}return this}}const HQ={triangulate:function(n,t,e=2){const r=t&&t.length,i=r?t[0]*e:n.length;let s=Iz(n,0,i,e,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,m,d,y;if(r&&(s=YQ(n,t,s,e)),n.length>80*e){a=u=n[0],l=h=n[1];for(let _=e;_<i;_+=e)m=n[_],d=n[_+1],m<a&&(a=m),d<l&&(l=d),m>u&&(u=m),d>h&&(h=d);y=Math.max(u-a,h-l),y=y!==0?1/y:0}return O_(s,o,e,a,l,y),o}};function Iz(n,t,e,r,i){let s,o;if(i===itt(n,t,e,r)>0)for(s=t;s<e;s+=r)o=VD(s,n[s],n[s+1],o);else for(s=e-r;s>=t;s-=r)o=VD(s,n[s],n[s+1],o);return o&&zS(o,o.next)&&(B_(o),o=o.next),o}function Hd(n,t){if(!n)return n;t||(t=n);let e=n,r;do if(r=!1,!e.steiner&&(zS(e,e.next)||yi(e.prev,e,e.next)===0)){if(B_(e),e=t=e.prev,e===e.next)break;r=!0}else e=e.next;while(r||e!==t);return t}function O_(n,t,e,r,i,s,o){if(!n)return;!o&&s&&JQ(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?GQ(n,r,i,s):WQ(n)){t.push(l.i/e),t.push(n.i/e),t.push(u.i/e),B_(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=$Q(Hd(n),t,e),O_(n,t,e,r,i,s,2)):o===2&&jQ(n,t,e,r,i,s):O_(Hd(n),t,e,r,i,s,1);break}}}function WQ(n){const t=n.prev,e=n,r=n.next;if(yi(t,e,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(P0(t.x,t.y,e.x,e.y,r.x,r.y,i.x,i.y)&&yi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function GQ(n,t,e,r){const i=n.prev,s=n,o=n.next;if(yi(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,h=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,m=sA(a,l,t,e,r),d=sA(u,h,t,e,r);let y=n.prevZ,_=n.nextZ;for(;y&&y.z>=m&&_&&_.z<=d;){if(y!==n.prev&&y!==n.next&&P0(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&yi(y.prev,y,y.next)>=0||(y=y.prevZ,_!==n.prev&&_!==n.next&&P0(i.x,i.y,s.x,s.y,o.x,o.y,_.x,_.y)&&yi(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;y&&y.z>=m;){if(y!==n.prev&&y!==n.next&&P0(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&yi(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;_&&_.z<=d;){if(_!==n.prev&&_!==n.next&&P0(i.x,i.y,s.x,s.y,o.x,o.y,_.x,_.y)&&yi(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function $Q(n,t,e){let r=n;do{const i=r.prev,s=r.next.next;!zS(i,s)&&Rz(i,r,r.next,s)&&F_(i,s)&&F_(s,i)&&(t.push(i.i/e),t.push(r.i/e),t.push(s.i/e),B_(r),B_(r.next),r=n=s),r=r.next}while(r!==n);return Hd(r)}function jQ(n,t,e,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ett(o,a)){let l=Lz(o,a);o=Hd(o,o.next),l=Hd(l,l.next),O_(o,t,e,r,i,s),O_(l,t,e,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function YQ(n,t,e,r){const i=[];let s,o,a,l,u;for(s=0,o=t.length;s<o;s++)a=t[s]*r,l=s<o-1?t[s+1]*r:n.length,u=Iz(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(ttt(u));for(i.sort(qQ),s=0;s<i.length;s++)XQ(i[s],e),e=Hd(e,e.next);return e}function qQ(n,t){return n.x-t.x}function XQ(n,t){if(t=ZQ(n,t),t){const e=Lz(t,n);Hd(t,t.next),Hd(e,e.next)}}function ZQ(n,t){let e=t;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=e.y&&i>=e.next.y&&e.next.y!==e.y){const d=e.x+(i-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(d<=r&&d>s){if(s=d,d===r){if(i===e.y)return e;if(i===e.next.y)return e.next}o=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!o)return null;if(r===s)return o;const a=o,l=o.x,u=o.y;let h=1/0,m;e=o;do r>=e.x&&e.x>=l&&r!==e.x&&P0(i<u?r:s,i,l,u,i<u?s:r,i,e.x,e.y)&&(m=Math.abs(i-e.y)/(r-e.x),F_(e,n)&&(m<h||m===h&&(e.x>o.x||e.x===o.x&&KQ(o,e)))&&(o=e,h=m)),e=e.next;while(e!==a);return o}function KQ(n,t){return yi(n.prev,n,t.prev)<0&&yi(t.next,n,n.next)<0}function JQ(n,t,e,r){let i=n;do i.z===null&&(i.z=sA(i.x,i.y,t,e,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,QQ(i)}function QQ(n){let t,e,r,i,s,o,a,l,u=1;do{for(e=n,n=null,s=null,o=0;e;){for(o++,r=e,a=0,t=0;t<u&&(a++,r=r.nextZ,!!r);t++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||e.z<=r.z)?(i=e,e=e.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;e=r}s.nextZ=null,u*=2}while(o>1);return n}function sA(n,t,e,r,i){return n=32767*(n-e)*i,t=32767*(t-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function ttt(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function P0(n,t,e,r,i,s,o,a){return(i-o)*(t-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(e-o)*(t-a)>=0&&(e-o)*(s-a)-(i-o)*(r-a)>=0}function ett(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!ntt(n,t)&&(F_(n,t)&&F_(t,n)&&rtt(n,t)&&(yi(n.prev,n,t.prev)||yi(n,t.prev,t))||zS(n,t)&&yi(n.prev,n,n.next)>0&&yi(t.prev,t,t.next)>0)}function yi(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function zS(n,t){return n.x===t.x&&n.y===t.y}function Rz(n,t,e,r){const i=qw(yi(n,t,e)),s=qw(yi(n,t,r)),o=qw(yi(e,r,n)),a=qw(yi(e,r,t));return!!(i!==s&&o!==a||i===0&&Yw(n,e,t)||s===0&&Yw(n,r,t)||o===0&&Yw(e,n,r)||a===0&&Yw(e,t,r))}function Yw(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function qw(n){return n>0?1:n<0?-1:0}function ntt(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&Rz(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function F_(n,t){return yi(n.prev,n,n.next)<0?yi(n,t,n.next)>=0&&yi(n,n.prev,t)>=0:yi(n,t,n.prev)<0||yi(n,n.next,t)<0}function rtt(n,t){let e=n,r=!1;const i=(n.x+t.x)/2,s=(n.y+t.y)/2;do e.y>s!=e.next.y>s&&e.next.y!==e.y&&i<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(r=!r),e=e.next;while(e!==n);return r}function Lz(n,t){const e=new oA(n.i,n.x,n.y),r=new oA(t.i,t.x,t.y),i=n.next,s=t.prev;return n.next=t,t.prev=n,e.next=i,i.prev=e,r.next=e,e.prev=r,s.next=r,r.prev=s,r}function VD(n,t,e,r){const i=new oA(n,t,e);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function B_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function oA(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function itt(n,t,e,r){let i=0;for(let s=t,o=e-r;s<e;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class xc{static area(t){const e=t.length;let r=0;for(let i=e-1,s=0;s<e;i=s++)r+=t[i].x*t[s].y-t[s].x*t[i].y;return r*.5}static isClockWise(t){return xc.area(t)<0}static triangulateShape(t,e){const r=[],i=[],s=[];HD(t),WD(r,t);let o=t.length;e.forEach(HD);for(let l=0;l<e.length;l++)i.push(o),o+=e[l].length,WD(r,e[l]);const a=HQ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function HD(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function WD(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class Ec extends Xe{constructor(t=new wc([new ie(.5,.5),new ie(-.5,.5),new ie(-.5,-.5),new ie(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const r=this,i=[],s=[];for(let a=0,l=t.length;a<l;a++){const u=t[a];o(u)}this.setAttribute("position",new ze(i,3)),this.setAttribute("uv",new ze(s,2)),this.computeVertexNormals();function o(a){const l=[],u=e.curveSegments!==void 0?e.curveSegments:12,h=e.steps!==void 0?e.steps:1;let m=e.depth!==void 0?e.depth:1,d=e.bevelEnabled!==void 0?e.bevelEnabled:!0,y=e.bevelThickness!==void 0?e.bevelThickness:.2,_=e.bevelSize!==void 0?e.bevelSize:y-.1,v=e.bevelOffset!==void 0?e.bevelOffset:0,w=e.bevelSegments!==void 0?e.bevelSegments:3;const x=e.extrudePath,S=e.UVGenerator!==void 0?e.UVGenerator:stt;e.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=e.amount);let M,T=!1,A,P,F,C;x&&(M=x.getSpacedPoints(h),T=!0,d=!1,A=x.computeFrenetFrames(h,!1),P=new rt,F=new rt,C=new rt),d||(w=0,y=0,_=0,v=0);const B=a.extractPoints(u);let V=B.shape;const Y=B.holes;if(!xc.isClockWise(V)){V=V.reverse();for(let Kt=0,Yt=Y.length;Kt<Yt;Kt++){const O=Y[Kt];xc.isClockWise(O)&&(Y[Kt]=O.reverse())}}const q=xc.triangulateShape(V,Y),L=V;for(let Kt=0,Yt=Y.length;Kt<Yt;Kt++){const O=Y[Kt];V=V.concat(O)}function tt(Kt,Yt,O){return Yt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Yt.clone().multiplyScalar(O).add(Kt)}const ct=V.length,lt=q.length;function at(Kt,Yt,O){let Tt,vt,nt;const J=Kt.x-Yt.x,dt=Kt.y-Yt.y,Gt=O.x-Kt.x,Vt=O.y-Kt.y,G=J*J+dt*dt,U=J*Vt-dt*Gt;if(Math.abs(U)>Number.EPSILON){const ft=Math.sqrt(G),Et=Math.sqrt(Gt*Gt+Vt*Vt),Ht=Yt.x-dt/ft,Qt=Yt.y+J/ft,ue=O.x-Vt/Et,Wt=O.y+Gt/Et,He=((ue-Ht)*Vt-(Wt-Qt)*Gt)/(J*Vt-dt*Gt);Tt=Ht+J*He-Kt.x,vt=Qt+dt*He-Kt.y;const Ue=Tt*Tt+vt*vt;if(Ue<=2)return new ie(Tt,vt);nt=Math.sqrt(Ue/2)}else{let ft=!1;J>Number.EPSILON?Gt>Number.EPSILON&&(ft=!0):J<-Number.EPSILON?Gt<-Number.EPSILON&&(ft=!0):Math.sign(dt)===Math.sign(Vt)&&(ft=!0),ft?(Tt=-dt,vt=J,nt=Math.sqrt(G)):(Tt=J,vt=dt,nt=Math.sqrt(G/2))}return new ie(Tt/nt,vt/nt)}const it=[];for(let Kt=0,Yt=L.length,O=Yt-1,Tt=Kt+1;Kt<Yt;Kt++,O++,Tt++)O===Yt&&(O=0),Tt===Yt&&(Tt=0),it[Kt]=at(L[Kt],L[O],L[Tt]);const ut=[];let j,K=it.concat();for(let Kt=0,Yt=Y.length;Kt<Yt;Kt++){const O=Y[Kt];j=[];for(let Tt=0,vt=O.length,nt=vt-1,J=Tt+1;Tt<vt;Tt++,nt++,J++)nt===vt&&(nt=0),J===vt&&(J=0),j[Tt]=at(O[Tt],O[nt],O[J]);ut.push(j),K=K.concat(j)}for(let Kt=0;Kt<w;Kt++){const Yt=Kt/w,O=y*Math.cos(Yt*Math.PI/2),Tt=_*Math.sin(Yt*Math.PI/2)+v;for(let vt=0,nt=L.length;vt<nt;vt++){const J=tt(L[vt],it[vt],Tt);Ee(J.x,J.y,-O)}for(let vt=0,nt=Y.length;vt<nt;vt++){const J=Y[vt];j=ut[vt];for(let dt=0,Gt=J.length;dt<Gt;dt++){const Vt=tt(J[dt],j[dt],Tt);Ee(Vt.x,Vt.y,-O)}}}const xt=_+v;for(let Kt=0;Kt<ct;Kt++){const Yt=d?tt(V[Kt],K[Kt],xt):V[Kt];T?(F.copy(A.normals[0]).multiplyScalar(Yt.x),P.copy(A.binormals[0]).multiplyScalar(Yt.y),C.copy(M[0]).add(F).add(P),Ee(C.x,C.y,C.z)):Ee(Yt.x,Yt.y,0)}for(let Kt=1;Kt<=h;Kt++)for(let Yt=0;Yt<ct;Yt++){const O=d?tt(V[Yt],K[Yt],xt):V[Yt];T?(F.copy(A.normals[Kt]).multiplyScalar(O.x),P.copy(A.binormals[Kt]).multiplyScalar(O.y),C.copy(M[Kt]).add(F).add(P),Ee(C.x,C.y,C.z)):Ee(O.x,O.y,m/h*Kt)}for(let Kt=w-1;Kt>=0;Kt--){const Yt=Kt/w,O=y*Math.cos(Yt*Math.PI/2),Tt=_*Math.sin(Yt*Math.PI/2)+v;for(let vt=0,nt=L.length;vt<nt;vt++){const J=tt(L[vt],it[vt],Tt);Ee(J.x,J.y,m+O)}for(let vt=0,nt=Y.length;vt<nt;vt++){const J=Y[vt];j=ut[vt];for(let dt=0,Gt=J.length;dt<Gt;dt++){const Vt=tt(J[dt],j[dt],Tt);T?Ee(Vt.x,Vt.y+M[h-1].y,M[h-1].x+O):Ee(Vt.x,Vt.y,m+O)}}}Lt(),Pt();function Lt(){const Kt=i.length/3;if(d){let Yt=0,O=ct*Yt;for(let Tt=0;Tt<lt;Tt++){const vt=q[Tt];se(vt[2]+O,vt[1]+O,vt[0]+O)}Yt=h+w*2,O=ct*Yt;for(let Tt=0;Tt<lt;Tt++){const vt=q[Tt];se(vt[0]+O,vt[1]+O,vt[2]+O)}}else{for(let Yt=0;Yt<lt;Yt++){const O=q[Yt];se(O[2],O[1],O[0])}for(let Yt=0;Yt<lt;Yt++){const O=q[Yt];se(O[0]+ct*h,O[1]+ct*h,O[2]+ct*h)}}r.addGroup(Kt,i.length/3-Kt,0)}function Pt(){const Kt=i.length/3;let Yt=0;Ot(L,Yt),Yt+=L.length;for(let O=0,Tt=Y.length;O<Tt;O++){const vt=Y[O];Ot(vt,Yt),Yt+=vt.length}r.addGroup(Kt,i.length/3-Kt,1)}function Ot(Kt,Yt){let O=Kt.length;for(;--O>=0;){const Tt=O;let vt=O-1;vt<0&&(vt=Kt.length-1);for(let nt=0,J=h+w*2;nt<J;nt++){const dt=ct*nt,Gt=ct*(nt+1),Vt=Yt+Tt+dt,G=Yt+vt+dt,U=Yt+vt+Gt,ft=Yt+Tt+Gt;fe(Vt,G,U,ft)}}}function Ee(Kt,Yt,O){l.push(Kt),l.push(Yt),l.push(O)}function se(Kt,Yt,O){oe(Kt),oe(Yt),oe(O);const Tt=i.length/3,vt=S.generateTopUV(r,i,Tt-3,Tt-2,Tt-1);Le(vt[0]),Le(vt[1]),Le(vt[2])}function fe(Kt,Yt,O,Tt){oe(Kt),oe(Yt),oe(Tt),oe(Yt),oe(O),oe(Tt);const vt=i.length/3,nt=S.generateSideWallUV(r,i,vt-6,vt-3,vt-2,vt-1);Le(nt[0]),Le(nt[1]),Le(nt[3]),Le(nt[1]),Le(nt[2]),Le(nt[3])}function oe(Kt){i.push(l[Kt*3+0]),i.push(l[Kt*3+1]),i.push(l[Kt*3+2])}function Le(Kt){s.push(Kt.x),s.push(Kt.y)}}}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,r=this.parameters.options;return ott(e,r,t)}static fromJSON(t,e){const r=[];for(let s=0,o=t.shapes.length;s<o;s++){const a=e[t.shapes[s]];r.push(a)}const i=t.options.extrudePath;return i!==void 0&&(t.options.extrudePath=new bC[i.type]().fromJSON(i)),new Ec(r,t.options)}}const stt={generateTopUV:function(n,t,e,r,i){const s=t[e*3],o=t[e*3+1],a=t[r*3],l=t[r*3+1],u=t[i*3],h=t[i*3+1];return[new ie(s,o),new ie(a,l),new ie(u,h)]},generateSideWallUV:function(n,t,e,r,i,s){const o=t[e*3],a=t[e*3+1],l=t[e*3+2],u=t[r*3],h=t[r*3+1],m=t[r*3+2],d=t[i*3],y=t[i*3+1],_=t[i*3+2],v=t[s*3],w=t[s*3+1],x=t[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new ie(o,1-l),new ie(u,1-m),new ie(d,1-_),new ie(v,1-x)]:[new ie(a,1-l),new ie(h,1-m),new ie(y,1-_),new ie(w,1-x)]}};function ott(n,t,e){if(e.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class dy extends Sc{constructor(t=1,e=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new dy(t.radius,t.detail)}}class Vm extends Sc{constructor(t=1,e=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Vm(t.radius,t.detail)}}class py extends Xe{constructor(t=.5,e=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],h=[];let m=t;const d=(e-t)/i,y=new rt,_=new ie;for(let v=0;v<=i;v++){for(let w=0;w<=r;w++){const x=s+w/r*o;y.x=m*Math.cos(x),y.y=m*Math.sin(x),l.push(y.x,y.y,y.z),u.push(0,0,1),_.x=(y.x/e+1)/2,_.y=(y.y/e+1)/2,h.push(_.x,_.y)}m+=d}for(let v=0;v<i;v++){const w=v*(r+1);for(let x=0;x<r;x++){const S=x+w,M=S,T=S+r+1,A=S+r+2,P=S+1;a.push(M,T,P),a.push(T,A,P)}}this.setIndex(a),this.setAttribute("position",new ze(l,3)),this.setAttribute("normal",new ze(u,3)),this.setAttribute("uv",new ze(h,2))}static fromJSON(t){return new py(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Hm extends Xe{constructor(t=new wc([new ie(0,.5),new ie(-.5,-.5),new ie(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(t)===!1)u(t);else for(let h=0;h<t.length;h++)u(t[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ze(i,3)),this.setAttribute("normal",new ze(s,3)),this.setAttribute("uv",new ze(o,2));function u(h){const m=i.length/3,d=h.extractPoints(e);let y=d.shape;const _=d.holes;xc.isClockWise(y)===!1&&(y=y.reverse());for(let w=0,x=_.length;w<x;w++){const S=_[w];xc.isClockWise(S)===!0&&(_[w]=S.reverse())}const v=xc.triangulateShape(y,_);for(let w=0,x=_.length;w<x;w++){const S=_[w];y=y.concat(S)}for(let w=0,x=y.length;w<x;w++){const S=y[w];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let w=0,x=v.length;w<x;w++){const S=v[w],M=S[0]+m,T=S[1]+m,A=S[2]+m;r.push(M,T,A),l+=3}}}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return att(e,t)}static fromJSON(t,e){const r=[];for(let i=0,s=t.shapes.length;i<s;i++){const o=e[t.shapes[i]];r.push(o)}return new Hm(r,t.curveSegments)}}function att(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const i=n[e];t.shapes.push(i.uuid)}else t.shapes.push(n.uuid);return t}class Wm extends Xe{constructor(t=1,e=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},e=Math.max(3,Math.floor(e)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const h=[],m=new rt,d=new rt,y=[],_=[],v=[],w=[];for(let x=0;x<=r;x++){const S=[],M=x/r;let T=0;x==0&&o==0?T=.5/e:x==r&&l==Math.PI&&(T=-.5/e);for(let A=0;A<=e;A++){const P=A/e;m.x=-t*Math.cos(i+P*s)*Math.sin(o+M*a),m.y=t*Math.cos(o+M*a),m.z=t*Math.sin(i+P*s)*Math.sin(o+M*a),_.push(m.x,m.y,m.z),d.copy(m).normalize(),v.push(d.x,d.y,d.z),w.push(P+T,1-M),S.push(u++)}h.push(S)}for(let x=0;x<r;x++)for(let S=0;S<e;S++){const M=h[x][S+1],T=h[x][S],A=h[x+1][S],P=h[x+1][S+1];(x!==0||o>0)&&y.push(M,T,P),(x!==r-1||l<Math.PI)&&y.push(T,A,P)}this.setIndex(y),this.setAttribute("position",new ze(_,3)),this.setAttribute("normal",new ze(v,3)),this.setAttribute("uv",new ze(w,2))}static fromJSON(t){return new Wm(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class my extends Sc{constructor(t=1,e=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new my(t.radius,t.detail)}}class gy extends Xe{constructor(t=1,e=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],h=new rt,m=new rt,d=new rt;for(let y=0;y<=r;y++)for(let _=0;_<=i;_++){const v=_/i*s,w=y/r*Math.PI*2;m.x=(t+e*Math.cos(w))*Math.cos(v),m.y=(t+e*Math.cos(w))*Math.sin(v),m.z=e*Math.sin(w),a.push(m.x,m.y,m.z),h.x=t*Math.cos(v),h.y=t*Math.sin(v),d.subVectors(m,h).normalize(),l.push(d.x,d.y,d.z),u.push(_/i),u.push(y/r)}for(let y=1;y<=r;y++)for(let _=1;_<=i;_++){const v=(i+1)*y+_-1,w=(i+1)*(y-1)+_-1,x=(i+1)*(y-1)+_,S=(i+1)*y+_;o.push(v,w,S),o.push(w,x,S)}this.setIndex(o),this.setAttribute("position",new ze(a,3)),this.setAttribute("normal",new ze(l,3)),this.setAttribute("uv",new ze(u,2))}static fromJSON(t){return new gy(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class yy extends Xe{constructor(t=1,e=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],h=[],m=new rt,d=new rt,y=new rt,_=new rt,v=new rt,w=new rt,x=new rt;for(let M=0;M<=r;++M){const T=M/r*s*Math.PI*2;S(T,s,o,t,y),S(T+.01,s,o,t,_),w.subVectors(_,y),x.addVectors(_,y),v.crossVectors(w,x),x.crossVectors(v,w),v.normalize(),x.normalize();for(let A=0;A<=i;++A){const P=A/i*Math.PI*2,F=-e*Math.cos(P),C=e*Math.sin(P);m.x=y.x+(F*x.x+C*v.x),m.y=y.y+(F*x.y+C*v.y),m.z=y.z+(F*x.z+C*v.z),l.push(m.x,m.y,m.z),d.subVectors(m,y).normalize(),u.push(d.x,d.y,d.z),h.push(M/r),h.push(A/i)}}for(let M=1;M<=r;M++)for(let T=1;T<=i;T++){const A=(i+1)*(M-1)+(T-1),P=(i+1)*M+(T-1),F=(i+1)*M+T,C=(i+1)*(M-1)+T;a.push(A,P,C),a.push(P,F,C)}this.setIndex(a),this.setAttribute("position",new ze(l,3)),this.setAttribute("normal",new ze(u,3)),this.setAttribute("uv",new ze(h,2));function S(M,T,A,P,F){const C=Math.cos(M),B=Math.sin(M),V=A/T*M,Y=Math.cos(V);F.x=P*(2+Y)*.5*C,F.y=P*(2+Y)*B*.5,F.z=P*Math.sin(V)*.5}}static fromJSON(t){return new yy(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class vy extends Xe{constructor(t=new BS(new rt(-1,-1,0),new rt(-1,1,0),new rt(1,1,0)),e=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:i,closed:s};const o=t.computeFrenetFrames(e,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new rt,l=new rt,u=new ie;let h=new rt;const m=[],d=[],y=[],_=[];v(),this.setIndex(_),this.setAttribute("position",new ze(m,3)),this.setAttribute("normal",new ze(d,3)),this.setAttribute("uv",new ze(y,2));function v(){for(let M=0;M<e;M++)w(M);w(s===!1?e:0),S(),x()}function w(M){h=t.getPointAt(M/e,h);const T=o.normals[M],A=o.binormals[M];for(let P=0;P<=i;P++){const F=P/i*Math.PI*2,C=Math.sin(F),B=-Math.cos(F);l.x=B*T.x+C*A.x,l.y=B*T.y+C*A.y,l.z=B*T.z+C*A.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=h.x+r*l.x,a.y=h.y+r*l.y,a.z=h.z+r*l.z,m.push(a.x,a.y,a.z)}}function x(){for(let M=1;M<=e;M++)for(let T=1;T<=i;T++){const A=(i+1)*(M-1)+(T-1),P=(i+1)*M+(T-1),F=(i+1)*M+T,C=(i+1)*(M-1)+T;_.push(A,P,C),_.push(P,F,C)}}function S(){for(let M=0;M<=e;M++)for(let T=0;T<=i;T++)u.x=M/e,u.y=T/i,y.push(u.x,u.y)}}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new vy(new bC[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class EC extends Xe{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],r=new Set,i=new rt,s=new rt;if(t.index!==null){const o=t.attributes.position,a=t.index;let l=t.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const m=l[u],d=m.start,y=m.count;for(let _=d,v=d+y;_<v;_+=3)for(let w=0;w<3;w++){const x=a.getX(_+w),S=a.getX(_+(w+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,S),GD(i,s,r)===!0&&(e.push(i.x,i.y,i.z),e.push(s.x,s.y,s.z))}}}else{const o=t.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,m=3*a+(u+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,m),GD(i,s,r)===!0&&(e.push(i.x,i.y,i.z),e.push(s.x,s.y,s.z))}}this.setAttribute("position",new ze(e,3))}}}function GD(n,t,e){const r=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(r)===!0||e.has(i)===!0?!1:(e.add(r),e.add(i),!0)}var $D=Object.freeze({__proto__:null,BoxGeometry:Jf,BoxBufferGeometry:Jf,CapsuleGeometry:uy,CapsuleBufferGeometry:uy,CircleGeometry:cy,CircleBufferGeometry:cy,ConeGeometry:fy,ConeBufferGeometry:fy,CylinderGeometry:Vd,CylinderBufferGeometry:Vd,DodecahedronGeometry:hy,DodecahedronBufferGeometry:hy,EdgesGeometry:SC,ExtrudeGeometry:Ec,ExtrudeBufferGeometry:Ec,IcosahedronGeometry:dy,IcosahedronBufferGeometry:dy,LatheGeometry:Um,LatheBufferGeometry:Um,OctahedronGeometry:Vm,OctahedronBufferGeometry:Vm,PlaneGeometry:Nm,PlaneBufferGeometry:Nm,PolyhedronGeometry:Sc,PolyhedronBufferGeometry:Sc,RingGeometry:py,RingBufferGeometry:py,ShapeGeometry:Hm,ShapeBufferGeometry:Hm,SphereGeometry:Wm,SphereBufferGeometry:Wm,TetrahedronGeometry:my,TetrahedronBufferGeometry:my,TorusGeometry:gy,TorusBufferGeometry:gy,TorusKnotGeometry:yy,TorusKnotBufferGeometry:yy,TubeGeometry:vy,TubeBufferGeometry:vy,WireframeGeometry:EC});class MC extends $i{constructor(t){super(),this.type="ShadowMaterial",this.color=new Te(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}MC.prototype.isShadowMaterial=!0;class TC extends xl{constructor(t){super(t),this.type="RawShaderMaterial"}}TC.prototype.isRawShaderMaterial=!0;class US extends $i{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Te(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Te(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eg,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}US.prototype.isMeshStandardMaterial=!0;class AC extends US{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Te(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Te(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Te(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}AC.prototype.isMeshPhysicalMaterial=!0;class CC extends $i{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new Te(16777215),this.specular=new Te(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Te(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eg,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=l1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}CC.prototype.isMeshPhongMaterial=!0;class IC extends $i{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Te(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Te(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eg,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}IC.prototype.isMeshToonMaterial=!0;class RC extends $i{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eg,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}RC.prototype.isMeshNormalMaterial=!0;class LC extends $i{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new Te(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Te(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=l1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}LC.prototype.isMeshLambertMaterial=!0;class PC extends $i{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Te(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eg,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}PC.prototype.isMeshMatcapMaterial=!0;class DC extends Wi{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}DC.prototype.isLineDashedMaterial=!0;const ltt={ShadowMaterial:MC,SpriteMaterial:RS,RawShaderMaterial:TC,ShaderMaterial:xl,PointsMaterial:rg,MeshPhysicalMaterial:AC,MeshStandardMaterial:US,MeshPhongMaterial:CC,MeshToonMaterial:IC,MeshNormalMaterial:RC,MeshLambertMaterial:LC,MeshDepthMaterial:CS,MeshDistanceMaterial:IS,MeshBasicMaterial:ah,MeshMatcapMaterial:PC,LineDashedMaterial:DC,LineBasicMaterial:Wi,Material:$i};$i.fromType=function(n){return new ltt[n]};const ti={arraySlice:function(n,t,e){return ti.isTypedArray(n)?new n.constructor(n.subarray(t,e!==void 0?e:n.length)):n.slice(t,e)},convertArray:function(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function t(i,s){return n[i]-n[s]}const e=n.length,r=new Array(e);for(let i=0;i!==e;++i)r[i]=i;return r.sort(t),r},sortedArray:function(n,t,e){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=e[s]*t;for(let l=0;l!==t;++l)i[o++]=n[a+l]}return i},flattenJSON:function(n,t,e,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(t.push(s.time),e.push.apply(e,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(t.push(s.time),o.toArray(e,e.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(t.push(s.time),e.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,t,e,r,i=30){const s=n.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),m=[],d=[];for(let y=0;y<u.times.length;++y){const _=u.times[y]*i;if(!(_<e||_>=r)){m.push(u.times[y]);for(let v=0;v<h;++v)d.push(u.values[y*h+v])}}m.length!==0&&(u.times=ti.convertArray(m,u.times.constructor),u.values=ti.convertArray(d,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,t=0,e=n,r=30){r<=0&&(r=30);const i=e.tracks.length,s=t/r;for(let o=0;o<i;++o){const a=e.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let h=0;const m=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);let d=0;const y=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=y/3);const _=a.times.length-1;let v;if(s<=a.times[0]){const x=h,S=m-h;v=ti.arraySlice(a.values,x,S)}else if(s>=a.times[_]){const x=_*m+h,S=x+m-h;v=ti.arraySlice(a.values,x,S)}else{const x=a.createInterpolant(),S=h,M=m-h;x.evaluate(s),v=ti.arraySlice(x.resultBuffer,S,M)}l==="quaternion"&&new Cs().fromArray(v).normalize().conjugate().toArray(v);const w=u.times.length;for(let x=0;x<w;++x){const S=x*y+d;if(l==="quaternion")Cs.multiplyQuaternionsFlat(u.values,S,v,0,u.values,S);else{const M=y-d*2;for(let T=0;T<M;++T)u.values[S+T]-=v[T]}}}return n.blendMode=cC,n}};class Qf{constructor(t,e,r,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new e.constructor(r),this.sampleValues=e,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let r=this._cachedIndex,i=e[r],s=e[r-1];t:{e:{let o;n:{r:if(!(t<i)){for(let a=r+2;;){if(i===void 0){if(t<s)break r;return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,t,s)}if(r===a)break;if(s=i,i=e[++r],t<i)break e}o=e.length;break n}if(!(t>=s)){const a=e[1];t<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(r===l)break;if(i=s,s=e[--r-1],t>=s)break e}o=r,r=0;break n}break t}for(;r<o;){const a=r+o>>>1;t<e[a]?o=a:r=a+1}if(i=e[r],s=e[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(i===void 0)return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,s,t)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=t*i;for(let o=0;o!==i;++o)e[o]=r[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Qf.prototype.beforeStart_=Qf.prototype.copySampleValue_;Qf.prototype.afterEnd_=Qf.prototype.copySampleValue_;class Pz extends Qf{constructor(t,e,r,i){super(t,e,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lm,endingEnd:lm}}intervalChanged_(t,e,r){const i=this.parameterPositions;let s=t-2,o=t+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case um:s=t,a=2*e-r;break;case P_:s=i.length-2,a=e+i[s]-i[s+1];break;default:s=t,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case um:o=t,l=2*r-e;break;case P_:o=1,l=r+i[1]-i[0];break;default:o=t-1,l=e}const u=(r-e)*.5,h=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(t,e,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,u=l-a,h=this._offsetPrev,m=this._offsetNext,d=this._weightPrev,y=this._weightNext,_=(r-e)/(i-e),v=_*_,w=v*_,x=-d*w+2*d*v-d*_,S=(1+d)*w+(-1.5-2*d)*v+(-.5+d)*_+1,M=(-1-y)*w+(1.5+y)*v+.5*_,T=y*w-y*v;for(let A=0;A!==a;++A)s[A]=x*o[h+A]+S*o[u+A]+M*o[l+A]+T*o[m+A];return s}}class kC extends Qf{constructor(t,e,r,i){super(t,e,r,i)}interpolate_(t,e,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,u=l-a,h=(r-e)/(i-e),m=1-h;for(let d=0;d!==a;++d)s[d]=o[u+d]*m+o[l+d]*h;return s}}class Dz extends Qf{constructor(t,e,r,i){super(t,e,r,i)}interpolate_(t){return this.copySampleValue_(t-1)}}class Cu{constructor(t,e,r,i){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ti.convertArray(e,this.TimeBufferType),this.values=ti.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let r;if(e.toJSON!==this.toJSON)r=e.toJSON(t);else{r={name:t.name,times:ti.convertArray(t.times,Array),values:ti.convertArray(t.values,Array)};const i=t.getInterpolation();i!==t.DefaultInterpolation&&(r.interpolation=i)}return r.type=t.ValueTypeName,r}InterpolantFactoryMethodDiscrete(t){return new Dz(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new kC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Pz(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case R_:e=this.InterpolantFactoryMethodDiscrete;break;case L_:e=this.InterpolantFactoryMethodLinear;break;case Ix:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return R_;case this.InterpolantFactoryMethodLinear:return L_;case this.InterpolantFactoryMethodSmooth:return Ix}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let r=0,i=e.length;r!==i;++r)e[r]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let r=0,i=e.length;r!==i;++r)e[r]*=t}return this}trim(t,e){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<t;)++s;for(;o!==-1&&r[o]>e;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ti.arraySlice(r,s,o),this.values=ti.arraySlice(this.values,s*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(i!==void 0&&ti.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),t=!1;break}}return t}optimize(){const t=ti.arraySlice(this.times),e=ti.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===Ix,s=t.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=t[a],h=t[a+1];if(u!==h&&(a!==1||u!==t[0]))if(i)l=!0;else{const m=a*r,d=m-r,y=m+r;for(let _=0;_!==r;++_){const v=e[m+_];if(v!==e[d+_]||v!==e[y+_]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const m=a*r,d=o*r;for(let y=0;y!==r;++y)e[d+y]=e[m+y]}++o}}if(s>0){t[o]=t[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)e[l+u]=e[a+u];++o}return o!==t.length?(this.times=ti.arraySlice(t,0,o),this.values=ti.arraySlice(e,0,o*r)):(this.times=t,this.values=e),this}clone(){const t=ti.arraySlice(this.times,0),e=ti.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}Cu.prototype.TimeBufferType=Float32Array;Cu.prototype.ValueBufferType=Float32Array;Cu.prototype.DefaultInterpolation=L_;class ig extends Cu{}ig.prototype.ValueTypeName="bool";ig.prototype.ValueBufferType=Array;ig.prototype.DefaultInterpolation=R_;ig.prototype.InterpolantFactoryMethodLinear=void 0;ig.prototype.InterpolantFactoryMethodSmooth=void 0;class OC extends Cu{}OC.prototype.ValueTypeName="color";class N_ extends Cu{}N_.prototype.ValueTypeName="number";class kz extends Qf{constructor(t,e,r,i){super(t,e,r,i)}interpolate_(t,e,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-e)/(i-e);let u=t*a;for(let h=u+a;u!==h;u+=4)Cs.slerpFlat(s,0,o,u-a,o,u,l);return s}}class zy extends Cu{InterpolantFactoryMethodLinear(t){return new kz(this.times,this.values,this.getValueSize(),t)}}zy.prototype.ValueTypeName="quaternion";zy.prototype.DefaultInterpolation=L_;zy.prototype.InterpolantFactoryMethodSmooth=void 0;class sg extends Cu{}sg.prototype.ValueTypeName="string";sg.prototype.ValueBufferType=Array;sg.prototype.DefaultInterpolation=R_;sg.prototype.InterpolantFactoryMethodLinear=void 0;sg.prototype.InterpolantFactoryMethodSmooth=void 0;class z_ extends Cu{}z_.prototype.ValueTypeName="vector";class U_{constructor(t,e=-1,r,i=bS){this.name=t,this.tracks=r,this.duration=e,this.blendMode=i,this.uuid=Ha(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],r=t.tracks,i=1/(t.fps||1);for(let o=0,a=r.length;o!==a;++o)e.push(ctt(r[o]).scale(i));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){const e=[],r=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,o=r.length;s!==o;++s)e.push(Cu.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(t,e,r,i){const s=e.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=ti.getKeyframeOrder(l);l=ti.sortedArray(l,1,h),u=ti.sortedArray(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new N_(".morphTargetInfluences["+e[a].name+"]",l,u).scale(1/r))}return new this(t,-1,o)}static findByName(t,e){let r=t;if(!Array.isArray(t)){const i=t;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===e)return r[i];return null}static CreateClipsFromMorphTargetSequences(t,e,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){const u=t[a],h=u.name.match(s);if(h&&h.length>1){const m=h[1];let d=i[m];d||(i[m]=d=[]),d.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],e,r));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(m,d,y,_,v){if(y.length!==0){const w=[],x=[];ti.flattenJSON(y,w,x,_),w.length!==0&&v.push(new m(d,w,x))}},i=[],s=t.name||"default",o=t.fps||30,a=t.blendMode;let l=t.length||-1;const u=t.hierarchy||[];for(let m=0;m<u.length;m++){const d=u[m].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const y={};let _;for(_=0;_<d.length;_++)if(d[_].morphTargets)for(let v=0;v<d[_].morphTargets.length;v++)y[d[_].morphTargets[v]]=-1;for(const v in y){const w=[],x=[];for(let S=0;S!==d[_].morphTargets.length;++S){const M=d[_];w.push(M.time),x.push(M.morphTarget===v?1:0)}i.push(new N_(".morphTargetInfluence["+v+"]",w,x))}l=y.length*o}else{const y=".bones["+e[m].name+"]";r(z_,y+".position",d,"pos",i),r(zy,y+".quaternion",d,"rot",i),r(z_,y+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const t=this.tracks;let e=0;for(let r=0,i=t.length;r!==i;++r){const s=this.tracks[r];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function utt(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return N_;case"vector":case"vector2":case"vector3":case"vector4":return z_;case"color":return OC;case"quaternion":return zy;case"bool":case"boolean":return ig;case"string":return sg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function ctt(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=utt(n.type);if(n.times===void 0){const e=[],r=[];ti.flattenJSON(n.keys,e,r,"value"),n.times=e,n.values=r}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const Gm={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class FC{constructor(t,e,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,m){return u.push(h,m),this},this.removeHandler=function(h){const m=u.indexOf(h);return m!==-1&&u.splice(m,2),this},this.getHandler=function(h){for(let m=0,d=u.length;m<d;m+=2){const y=u[m],_=u[m+1];if(y.global&&(y.lastIndex=0),y.test(h))return _}return null}}}const Oz=new FC;class Bo{constructor(t){this.manager=t!==void 0?t:Oz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const r=this;return new Promise(function(i,s){r.load(t,i,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const Df={};class Mc extends Bo{constructor(t){super(t)}load(t,e,r,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=Gm.get(t);if(s!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(Df[t]!==void 0){Df[t].push({onLoad:e,onProgress:r,onError:i});return}Df[t]=[],Df[t].push({onLoad:e,onProgress:r,onError:i});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const h=Df[t],m=u.body.getReader(),d=u.headers.get("Content-Length"),y=d?parseInt(d):0,_=y!==0;let v=0;const w=new ReadableStream({start(x){S();function S(){m.read().then(({done:M,value:T})=>{if(M)x.close();else{v+=T.byteLength;const A=new ProgressEvent("progress",{lengthComputable:_,loaded:v,total:y});for(let P=0,F=h.length;P<F;P++){const C=h[P];C.onProgress&&C.onProgress(A)}x.enqueue(T),S()}})}}});return new Response(w)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const m=/charset="?([^;"\s]*)"?/i.exec(a),d=m&&m[1]?m[1].toLowerCase():void 0,y=new TextDecoder(d);return u.arrayBuffer().then(_=>y.decode(_))}}}).then(u=>{Gm.add(t,u);const h=Df[t];delete Df[t];for(let m=0,d=h.length;m<d;m++){const y=h[m];y.onLoad&&y.onLoad(u)}}).catch(u=>{const h=Df[t];if(h===void 0)throw this.manager.itemError(t),u;delete Df[t];for(let m=0,d=h.length;m<d;m++){const y=h[m];y.onError&&y.onError(u)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class ftt extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=this,o=new Mc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{e(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(t)}},r,i)}parse(t){const e=[];for(let r=0;r<t.length;r++){const i=U_.parse(t[r]);e.push(i)}return e}}class htt extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=this,o=[],a=new yC,l=new Mc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(m){l.load(t[m],function(d){const y=s.parse(d,!0);o[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},u+=1,u===6&&(y.mipmapCount===1&&(a.minFilter=Ui),a.image=o,a.format=y.format,a.needsUpdate=!0,e&&e(a))},r,i)}if(Array.isArray(t))for(let m=0,d=t.length;m<d;++m)h(m);else l.load(t,function(m){const d=s.parse(m,!0);if(d.isCubemap){const y=d.mipmaps.length/d.mipmapCount;for(let _=0;_<y;_++){o[_]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[_].mipmaps.push(d.mipmaps[_*d.mipmapCount+v]),o[_].format=d.format,o[_].width=d.width,o[_].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Ui),a.format=d.format,a.needsUpdate=!0,e&&e(a)},r,i);return a}}class V_ extends Bo{constructor(t){super(t)}load(t,e,r,i){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=Gm.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a=k_("img");function l(){h(),Gm.add(t,this),e&&e(this),s.manager.itemEnd(t)}function u(m){h(),i&&i(m),s.manager.itemError(t),s.manager.itemEnd(t)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(t),a.src=t,a}}class Fz extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=new Fy,o=new V_(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(t[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,e&&e(s))},void 0,i)}for(let u=0;u<t.length;++u)l(u);return s}}class Bz extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=this,o=new Mm,a=new Mc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(t,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ao,o.wrapT=u.wrapT!==void 0?u.wrapT:Ao,o.magFilter=u.magFilter!==void 0?u.magFilter:Ui,o.minFilter=u.minFilter!==void 0?u.minFilter:Ui,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=tg),u.mipmapCount===1&&(o.minFilter=Ui),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,e&&e(o,u))},r,i),o}}class Nz extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=new Gi,o=new V_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(a){s.image=a,s.needsUpdate=!0,e!==void 0&&e(s)},r,i),s}}class Mu extends Yn{constructor(t,e=1){super(),this.type="Light",this.color=new Te(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}Mu.prototype.isLight=!0;class BC extends Mu{constructor(t,e,r){super(t,r),this.type="HemisphereLight",this.position.copy(Yn.DefaultUp),this.updateMatrix(),this.groundColor=new Te(e)}copy(t){return Mu.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}BC.prototype.isHemisphereLight=!0;const jD=new Ae,YD=new rt,qD=new rt;class NC{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Ae,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new c1,this._frameExtents=new ie(1,1),this._viewportCount=1,this._viewports=[new xr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,r=this.matrix;YD.setFromMatrixPosition(t.matrixWorld),e.position.copy(YD),qD.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(qD),e.updateMatrixWorld(),jD.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jD),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(e.projectionMatrix),r.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class zz extends NC{constructor(){super(new hs(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,r=D_*2*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(r!==e.fov||i!==e.aspect||s!==e.far)&&(e.fov=r,e.aspect=i,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}zz.prototype.isSpotLightShadow=!0;class zC extends Mu{constructor(t,e,r=0,i=Math.PI/3,s=0,o=1){super(t,e),this.type="SpotLight",this.position.copy(Yn.DefaultUp),this.updateMatrix(),this.target=new Yn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new zz}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}zC.prototype.isSpotLight=!0;const XD=new Ae,Cv=new rt,ZE=new rt;class Uz extends NC{constructor(){super(new hs(90,1,.5,500)),this._frameExtents=new ie(4,2),this._viewportCount=6,this._viewports=[new xr(2,1,1,1),new xr(0,1,1,1),new xr(3,1,1,1),new xr(1,1,1,1),new xr(3,0,1,1),new xr(1,0,1,1)],this._cubeDirections=[new rt(1,0,0),new rt(-1,0,0),new rt(0,0,1),new rt(0,0,-1),new rt(0,1,0),new rt(0,-1,0)],this._cubeUps=[new rt(0,1,0),new rt(0,1,0),new rt(0,1,0),new rt(0,1,0),new rt(0,0,1),new rt(0,0,-1)]}updateMatrices(t,e=0){const r=this.camera,i=this.matrix,s=t.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Cv.setFromMatrixPosition(t.matrixWorld),r.position.copy(Cv),ZE.copy(r.position),ZE.add(this._cubeDirections[e]),r.up.copy(this._cubeUps[e]),r.lookAt(ZE),r.updateMatrixWorld(),i.makeTranslation(-Cv.x,-Cv.y,-Cv.z),XD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XD)}}Uz.prototype.isPointLightShadow=!0;class UC extends Mu{constructor(t,e,r=0,i=1){super(t,e),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Uz}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}UC.prototype.isPointLight=!0;class Vz extends NC{constructor(){super(new By(-5,5,5,-5,.5,500))}}Vz.prototype.isDirectionalLightShadow=!0;class VC extends Mu{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(Yn.DefaultUp),this.updateMatrix(),this.target=new Yn,this.shadow=new Vz}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}VC.prototype.isDirectionalLight=!0;class HC extends Mu{constructor(t,e){super(t,e),this.type="AmbientLight"}}HC.prototype.isAmbientLight=!0;class WC extends Mu{constructor(t,e,r=10,i=10){super(t,e),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}WC.prototype.isRectAreaLight=!0;class GC{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new rt)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const r=t.x,i=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*i),e.addScaledVector(o[2],.488603*s),e.addScaledVector(o[3],.488603*r),e.addScaledVector(o[4],1.092548*(r*i)),e.addScaledVector(o[5],1.092548*(i*s)),e.addScaledVector(o[6],.315392*(3*s*s-1)),e.addScaledVector(o[7],1.092548*(r*s)),e.addScaledVector(o[8],.546274*(r*r-i*i)),e}getIrradianceAt(t,e){const r=t.x,i=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*i),e.addScaledVector(o[2],2*.511664*s),e.addScaledVector(o[3],2*.511664*r),e.addScaledVector(o[4],2*.429043*r*i),e.addScaledVector(o[5],2*.429043*i*s),e.addScaledVector(o[6],.743125*s*s-.247708),e.addScaledVector(o[7],2*.429043*r*s),e.addScaledVector(o[8],.429043*(r*r-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(t.coefficients[r],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let r=0;r<9;r++)this.coefficients[r].lerp(t.coefficients[r],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(t,e+i*3);return this}toArray(t=[],e=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(t,e+i*3);return t}static getBasisAt(t,e){const r=t.x,i=t.y,s=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*s,e[3]=.488603*r,e[4]=1.092548*r*i,e[5]=1.092548*i*s,e[6]=.315392*(3*s*s-1),e[7]=1.092548*r*s,e[8]=.546274*(r*r-i*i)}}GC.prototype.isSphericalHarmonics3=!0;class g1 extends Mu{constructor(t=new GC,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}g1.prototype.isLightProbe=!0;class Hz extends Bo{constructor(t){super(t),this.textures={}}load(t,e,r,i){const s=this,o=new Mc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(a){try{e(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(t)}},r,i)}parse(t){const e=this.textures;function r(s){return e[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),e[s]}const i=$i.fromType(t.type);if(t.uuid!==void 0&&(i.uuid=t.uuid),t.name!==void 0&&(i.name=t.name),t.color!==void 0&&i.color!==void 0&&i.color.setHex(t.color),t.roughness!==void 0&&(i.roughness=t.roughness),t.metalness!==void 0&&(i.metalness=t.metalness),t.sheen!==void 0&&(i.sheen=t.sheen),t.sheenColor!==void 0&&(i.sheenColor=new Te().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(i.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(t.emissive),t.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(t.specular),t.specularIntensity!==void 0&&(i.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(i.shininess=t.shininess),t.clearcoat!==void 0&&(i.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=t.clearcoatRoughness),t.transmission!==void 0&&(i.transmission=t.transmission),t.thickness!==void 0&&(i.thickness=t.thickness),t.attenuationDistance!==void 0&&(i.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(t.attenuationColor),t.fog!==void 0&&(i.fog=t.fog),t.flatShading!==void 0&&(i.flatShading=t.flatShading),t.blending!==void 0&&(i.blending=t.blending),t.combine!==void 0&&(i.combine=t.combine),t.side!==void 0&&(i.side=t.side),t.shadowSide!==void 0&&(i.shadowSide=t.shadowSide),t.opacity!==void 0&&(i.opacity=t.opacity),t.transparent!==void 0&&(i.transparent=t.transparent),t.alphaTest!==void 0&&(i.alphaTest=t.alphaTest),t.depthTest!==void 0&&(i.depthTest=t.depthTest),t.depthWrite!==void 0&&(i.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(i.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(i.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(i.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(i.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(i.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(i.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(i.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(i.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(i.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(i.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(i.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(i.rotation=t.rotation),t.linewidth!==1&&(i.linewidth=t.linewidth),t.dashSize!==void 0&&(i.dashSize=t.dashSize),t.gapSize!==void 0&&(i.gapSize=t.gapSize),t.scale!==void 0&&(i.scale=t.scale),t.polygonOffset!==void 0&&(i.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(i.dithering=t.dithering),t.alphaToCoverage!==void 0&&(i.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=t.premultipliedAlpha),t.visible!==void 0&&(i.visible=t.visible),t.toneMapped!==void 0&&(i.toneMapped=t.toneMapped),t.userData!==void 0&&(i.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const s in t.uniforms){const o=t.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Te().setHex(o.value);break;case"v2":i.uniforms[s].value=new ie().fromArray(o.value);break;case"v3":i.uniforms[s].value=new rt().fromArray(o.value);break;case"v4":i.uniforms[s].value=new xr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ms().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ae().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(t.defines!==void 0&&(i.defines=t.defines),t.vertexShader!==void 0&&(i.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(i.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const s in t.extensions)i.extensions[s]=t.extensions[s];if(t.shading!==void 0&&(i.flatShading=t.shading===1),t.size!==void 0&&(i.size=t.size),t.sizeAttenuation!==void 0&&(i.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(i.map=r(t.map)),t.matcap!==void 0&&(i.matcap=r(t.matcap)),t.alphaMap!==void 0&&(i.alphaMap=r(t.alphaMap)),t.bumpMap!==void 0&&(i.bumpMap=r(t.bumpMap)),t.bumpScale!==void 0&&(i.bumpScale=t.bumpScale),t.normalMap!==void 0&&(i.normalMap=r(t.normalMap)),t.normalMapType!==void 0&&(i.normalMapType=t.normalMapType),t.normalScale!==void 0){let s=t.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ie().fromArray(s)}return t.displacementMap!==void 0&&(i.displacementMap=r(t.displacementMap)),t.displacementScale!==void 0&&(i.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(i.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(i.roughnessMap=r(t.roughnessMap)),t.metalnessMap!==void 0&&(i.metalnessMap=r(t.metalnessMap)),t.emissiveMap!==void 0&&(i.emissiveMap=r(t.emissiveMap)),t.emissiveIntensity!==void 0&&(i.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(i.specularMap=r(t.specularMap)),t.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(t.specularIntensityMap)),t.specularColorMap!==void 0&&(i.specularColorMap=r(t.specularColorMap)),t.envMap!==void 0&&(i.envMap=r(t.envMap)),t.envMapIntensity!==void 0&&(i.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(i.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(i.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(i.lightMap=r(t.lightMap)),t.lightMapIntensity!==void 0&&(i.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(i.aoMap=r(t.aoMap)),t.aoMapIntensity!==void 0&&(i.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(i.gradientMap=r(t.gradientMap)),t.clearcoatMap!==void 0&&(i.clearcoatMap=r(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ie().fromArray(t.clearcoatNormalScale)),t.transmissionMap!==void 0&&(i.transmissionMap=r(t.transmissionMap)),t.thicknessMap!==void 0&&(i.thicknessMap=r(t.thicknessMap)),t.sheenColorMap!==void 0&&(i.sheenColorMap=r(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(t.sheenRoughnessMap)),i}setTextures(t){return this.textures=t,this}}class pb{static decodeText(t){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(t);let e="";for(let r=0,i=t.length;r<i;r++)e+=String.fromCharCode(t[r]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class $C extends Xe{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}$C.prototype.isInstancedBufferGeometry=!0;class Wz extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=this,o=new Mc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(a){try{e(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(t)}},r,i)}parse(t){const e={},r={};function i(y,_){if(e[_]!==void 0)return e[_];const w=y.interleavedBuffers[_],x=s(y,w.buffer),S=R0(w.type,x),M=new ng(S,w.stride);return M.uuid=w.uuid,e[_]=M,M}function s(y,_){if(r[_]!==void 0)return r[_];const w=y.arrayBuffers[_],x=new Uint32Array(w).buffer;return r[_]=x,x}const o=t.isInstancedBufferGeometry?new $C:new Xe,a=t.data.index;if(a!==void 0){const y=R0(a.type,a.array);o.setIndex(new or(y,1))}const l=t.data.attributes;for(const y in l){const _=l[y];let v;if(_.isInterleavedBufferAttribute){const w=i(t.data,_.data);v=new Ud(w,_.itemSize,_.offset,_.normalized)}else{const w=R0(_.type,_.array),x=_.isInstancedBufferAttribute?zm:or;v=new x(w,_.itemSize,_.normalized)}_.name!==void 0&&(v.name=_.name),_.usage!==void 0&&v.setUsage(_.usage),_.updateRange!==void 0&&(v.updateRange.offset=_.updateRange.offset,v.updateRange.count=_.updateRange.count),o.setAttribute(y,v)}const u=t.data.morphAttributes;if(u)for(const y in u){const _=u[y],v=[];for(let w=0,x=_.length;w<x;w++){const S=_[w];let M;if(S.isInterleavedBufferAttribute){const T=i(t.data,S.data);M=new Ud(T,S.itemSize,S.offset,S.normalized)}else{const T=R0(S.type,S.array);M=new or(T,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),v.push(M)}o.morphAttributes[y]=v}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=t.data.groups||t.data.drawcalls||t.data.offsets;if(m!==void 0)for(let y=0,_=m.length;y!==_;++y){const v=m[y];o.addGroup(v.start,v.count,v.materialIndex)}const d=t.data.boundingSphere;if(d!==void 0){const y=new rt;d.center!==void 0&&y.fromArray(d.center),o.boundingSphere=new oh(y,d.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class dtt extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=this,o=this.path===""?pb.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const a=new Mc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(l){let u=null;try{u=JSON.parse(l)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+t+".",m.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+t);return}s.parse(u,e)},r,i)}async loadAsync(t,e){const r=this,i=this.path===""?pb.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||i;const s=new Mc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(t,e),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await r.parseAsync(a)}parse(t,e){const r=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),o=this.parseImages(t.images,function(){e!==void 0&&e(u)}),a=this.parseTextures(t.textures,o),l=this.parseMaterials(t.materials,a),u=this.parseObject(t.object,s,l,a,r),h=this.parseSkeletons(t.skeletons,u);if(this.bindSkeletons(u,h),e!==void 0){let m=!1;for(const d in o)if(o[d]instanceof HTMLImageElement){m=!0;break}m===!1&&e(u)}return u}async parseAsync(t){const e=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),s=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,s),a=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,i,a,o,e),u=this.parseSkeletons(t.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(t){const e={};if(t!==void 0)for(let r=0,i=t.length;r<i;r++){const s=new wc().fromJSON(t[r]);e[s.uuid]=s}return e}parseSkeletons(t,e){const r={},i={};if(e.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),t!==void 0)for(let s=0,o=t.length;s<o;s++){const a=new kS().fromJSON(t[s],i);r[a.uuid]=a}return r}parseGeometries(t,e){const r={};if(t!==void 0){const i=new Wz;for(let s=0,o=t.length;s<o;s++){let a;const l=t[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in $D?a=$D[l.type].fromJSON(l,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(t,e){const r={},i={};if(t!==void 0){const s=new Hz;s.setTextures(e);for(let o=0,a=t.length;o<a;o++){const l=t[o];if(l.type==="MultiMaterial"){const u=[];for(let h=0;h<l.materials.length;h++){const m=l.materials[h];r[m.uuid]===void 0&&(r[m.uuid]=s.parse(m)),u.push(r[m.uuid])}i[l.uuid]=u}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(t){const e={};if(t!==void 0)for(let r=0;r<t.length;r++){const i=t[r],s=U_.parse(i);e[s.uuid]=s}return e}parseImages(t,e){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(h)}else return l.data?{data:R0(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){const l=new FC(e);s=new V_(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=t.length;u<h;u++){const m=t[u],d=m.url;if(Array.isArray(d)){const y=[];for(let _=0,v=d.length;_<v;_++){const w=d[_],x=a(w);x!==null&&(x instanceof HTMLImageElement?y.push(x):y.push(new Mm(x.data,x.width,x.height)))}i[m.uuid]=new vd(y)}else{const y=a(m.url);i[m.uuid]=new vd(y)}}}return i}async parseImagesAsync(t){const e=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:e.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:R0(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){i=new V_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=t.length;o<a;o++){const l=t[o],u=l.url;if(Array.isArray(u)){const h=[];for(let m=0,d=u.length;m<d;m++){const y=u[m],_=await s(y);_!==null&&(_ instanceof HTMLImageElement?h.push(_):h.push(new Mm(_.data,_.width,_.height)))}r[l.uuid]=new vd(h)}else{const h=await s(l.url);r[l.uuid]=new vd(h)}}}return r}parseTextures(t,e){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(t!==void 0)for(let s=0,o=t.length;s<o;s++){const a=t[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),e[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=e[a.image],u=l.data;let h;Array.isArray(u)?(h=new Fy,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Mm:h=new Gi,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=r(a.mapping,ptt)),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=r(a.wrap[0],ZD),h.wrapT=r(a.wrap[1],ZD)),a.format!==void 0&&(h.format=a.format),a.type!==void 0&&(h.type=a.type),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=r(a.minFilter,KD)),a.magFilter!==void 0&&(h.magFilter=r(a.magFilter,KD)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(h.userData=a.userData),i[a.uuid]=h}return i}parseObject(t,e,r,i,s){let o;function a(d){return e[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),e[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const y=[];for(let _=0,v=d.length;_<v;_++){const w=d[_];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),y.push(r[w])}return y}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let h,m;switch(t.type){case"Scene":o=new d1,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new Te(t.background):o.background=u(t.background)),t.environment!==void 0&&(o.environment=u(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new h1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new f1(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new hs(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new By(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new HC(t.color,t.intensity);break;case"DirectionalLight":o=new VC(t.color,t.intensity);break;case"PointLight":o=new UC(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new WC(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new zC(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new BC(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new g1().fromJSON(t);break;case"SkinnedMesh":h=a(t.geometry),m=l(t.material),o=new PS(h,m),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":h=a(t.geometry),m=l(t.material),o=new rs(h,m);break;case"InstancedMesh":h=a(t.geometry),m=l(t.material);const d=t.count,y=t.instanceMatrix,_=t.instanceColor;o=new mC(h,m,d),o.instanceMatrix=new zm(new Float32Array(y.array),16),_!==void 0&&(o.instanceColor=new zm(new Float32Array(_.array),_.itemSize));break;case"LOD":o=new Sz;break;case"Line":o=new vl(a(t.geometry),l(t.material));break;case"LineLoop":o=new gC(a(t.geometry),l(t.material));break;case"LineSegments":o=new ua(a(t.geometry),l(t.material));break;case"PointCloud":case"Points":o=new p1(a(t.geometry),l(t.material));break;case"Sprite":o=new LS(l(t.material));break;case"Group":o=new _d;break;case"Bone":o=new DS;break;default:o=new Yn}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const d=t.children;for(let y=0;y<d.length;y++)o.add(this.parseObject(d[y],e,r,i,s))}if(t.animations!==void 0){const d=t.animations;for(let y=0;y<d.length;y++){const _=d[y];o.animations.push(s[_])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const d=t.levels;for(let y=0;y<d.length;y++){const _=d[y],v=o.getObjectByProperty("uuid",_.object);v!==void 0&&o.addLevel(v,_.distance)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=e[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const ptt={UVMapping:xS,CubeReflectionMapping:Bd,CubeRefractionMapping:Nd,EquirectangularReflectionMapping:T_,EquirectangularRefractionMapping:A_,CubeUVReflectionMapping:ky},ZD={RepeatWrapping:C_,ClampToEdgeWrapping:Ao,MirroredRepeatWrapping:I_},KD={NearestFilter:ts,NearestMipmapNearestFilter:cb,NearestMipmapLinearFilter:fb,LinearFilter:Ui,LinearMipmapNearestFilter:uC,LinearMipmapLinearFilter:tg};class Gz extends Bo{constructor(t){super(t),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,r,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=Gm.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Gm.add(t,l),e&&e(l),s.manager.itemEnd(t)}).catch(function(l){i&&i(l),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}}Gz.prototype.isImageBitmapLoader=!0;let Xw;const jC={getContext:function(){return Xw===void 0&&(Xw=new(window.AudioContext||window.webkitAudioContext)),Xw},setContext:function(n){Xw=n}};class $z extends Bo{constructor(t){super(t)}load(t,e,r,i){const s=this,o=new Mc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{const l=a.slice(0);jC.getContext().decodeAudioData(l,function(h){e(h)})}catch(l){i?i(l):console.error(l),s.manager.itemError(t)}},r,i)}}class jz extends g1{constructor(t,e,r=1){super(void 0,r);const i=new Te().set(t),s=new Te().set(e),o=new rt(i.r,i.g,i.b),a=new rt(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}jz.prototype.isHemisphereLightProbe=!0;class Yz extends g1{constructor(t,e=1){super(void 0,e);const r=new Te().set(t);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Yz.prototype.isAmbientLightProbe=!0;const JD=new Ae,QD=new Ae,jp=new Ae;class mtt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new hs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new hs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,jp.copy(t.projectionMatrix);const i=e.eyeSep/2,s=i*e.near/e.focus,o=e.near*Math.tan(bm*e.fov*.5)/e.zoom;let a,l;QD.elements[12]=-i,JD.elements[12]=i,a=-o*e.aspect+s,l=o*e.aspect+s,jp.elements[0]=2*e.near/(l-a),jp.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(jp),a=-o*e.aspect-s,l=o*e.aspect-s,jp.elements[0]=2*e.near/(l-a),jp.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(jp)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(QD),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(JD)}}class YC{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=tk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=tk();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function tk(){return(typeof performance=="undefined"?Date:performance).now()}const Yp=new rt,ek=new Cs,gtt=new rt,qp=new rt;class ytt extends Yn{constructor(){super(),this.type="AudioListener",this.context=jC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yp,ek,gtt),qp.set(0,0,-1).applyQuaternion(ek),e.positionX){const i=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Yp.x,i),e.positionY.linearRampToValueAtTime(Yp.y,i),e.positionZ.linearRampToValueAtTime(Yp.z,i),e.forwardX.linearRampToValueAtTime(qp.x,i),e.forwardY.linearRampToValueAtTime(qp.y,i),e.forwardZ.linearRampToValueAtTime(qp.z,i),e.upX.linearRampToValueAtTime(r.x,i),e.upY.linearRampToValueAtTime(r.y,i),e.upZ.linearRampToValueAtTime(r.z,i)}else e.setPosition(Yp.x,Yp.y,Yp.z),e.setOrientation(qp.x,qp.y,qp.z,r.x,r.y,r.z)}}class qC extends Yn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const Xp=new rt,nk=new Cs,vtt=new rt,Zp=new rt;class _tt extends qC{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,r){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=r,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xp,nk,vtt),Zp.set(0,0,1).applyQuaternion(nk);const e=this.panner;if(e.positionX){const r=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Xp.x,r),e.positionY.linearRampToValueAtTime(Xp.y,r),e.positionZ.linearRampToValueAtTime(Xp.z,r),e.orientationX.linearRampToValueAtTime(Zp.x,r),e.orientationY.linearRampToValueAtTime(Zp.y,r),e.orientationZ.linearRampToValueAtTime(Zp.z,r)}else e.setPosition(Xp.x,Xp.y,Xp.z),e.setOrientation(Zp.x,Zp.y,Zp.z)}}class qz{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let r=0;r<e.length;r++)t+=e[r];return t/e.length}}class Xz{constructor(t,e,r){this.binding=t,this.valueSize=r;let i,s,o;switch(e){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const r=this.buffer,i=this.valueSize,s=t*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=e}else{o+=e;const a=e/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,r),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,r=this.buffer,i=t*e+e,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=e*this._origIndex;this._mixBufferRegion(r,i,l,1-s,e)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*e,1,e);for(let l=e,u=e+e;l!==u;++l)if(r[l]!==r[l+e]){a.setValue(r,i);break}}saveOriginalState(){const t=this.binding,e=this.buffer,r=this.valueSize,i=r*this._origIndex;t.getValue(e,i);for(let s=r,o=i;s!==o;++s)e[s]=e[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let r=t;r<e;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[e+r]=this.buffer[t+r]}_select(t,e,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)t[e+o]=t[r+o]}_slerp(t,e,r,i){Cs.slerpFlat(t,e,t,e,t,r,i)}_slerpAdditive(t,e,r,i,s){const o=this._workIndex*s;Cs.multiplyQuaternionsFlat(t,o,t,e,t,r),Cs.slerpFlat(t,e,t,e,t,o,i)}_lerp(t,e,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=e+a;t[l]=t[l]*o+t[r+a]*i}}_lerpAdditive(t,e,r,i,s){for(let o=0;o!==s;++o){const a=e+o;t[a]=t[a]+t[r+o]*i}}}const XC="\\[\\]\\.:\\/",wtt=new RegExp("["+XC+"]","g"),ZC="[^"+XC+"]",xtt="[^"+XC.replace("\\.","")+"]",btt=/((?:WC+[\/:])*)/.source.replace("WC",ZC),Stt=/(WCOD+)?/.source.replace("WCOD",xtt),Ett=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ZC),Mtt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ZC),Ttt=new RegExp("^"+btt+Stt+Ett+Mtt+"$"),Att=["material","materials","bones"];class Ctt{constructor(t,e,r){const i=r||cr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}getValue(t,e){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(t,e)}setValue(t,e){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}}class cr{constructor(t,e,r){this.path=e,this.parsedPath=r||cr.parseTrackName(e),this.node=cr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,r){return t&&t.isAnimationObjectGroup?new cr.Composite(t,e,r):new cr(t,e,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(wtt,"")}static parseTrackName(t){const e=Ttt.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Att.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(e);if(r!==void 0)return r}if(t.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===e||a.uuid===e)return a;const l=r(a.children);if(l)return l}return null},i=r(t.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)t[e++]=r[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,r=e.objectName,i=e.propertyName;let s=e.propertyIndex;if(t||(t=cr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=e.objectIndex;switch(r){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===u){u=h;break}break;default:if(t[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[r]}if(u!==void 0){if(t[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[u]}}const o=t[i];if(o===void 0){const u=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",t);return}let a=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cr.Composite=Ctt;cr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cr.prototype.GetterByBindingType=[cr.prototype._getValue_direct,cr.prototype._getValue_array,cr.prototype._getValue_arrayElement,cr.prototype._getValue_toArray];cr.prototype.SetterByBindingTypeAndVersioning=[[cr.prototype._setValue_direct,cr.prototype._setValue_direct_setNeedsUpdate,cr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_array,cr.prototype._setValue_array_setNeedsUpdate,cr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_arrayElement,cr.prototype._setValue_arrayElement_setNeedsUpdate,cr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_fromArray,cr.prototype._setValue_fromArray_setNeedsUpdate,cr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Zz{constructor(){this.uuid=Ha(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let r=0,i=arguments.length;r!==i;++r)t[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=t.length,u=this.nCachedObjects_;for(let h=0,m=arguments.length;h!==m;++h){const d=arguments[h],y=d.uuid;let _=e[y];if(_===void 0){_=l++,e[y]=_,t.push(d);for(let v=0,w=o;v!==w;++v)s[v].push(new cr(d,r[v],i[v]))}else if(_<u){a=t[_];const v=--u,w=t[v];e[w.uuid]=_,t[_]=w,e[y]=v,t[v]=d;for(let x=0,S=o;x!==S;++x){const M=s[x],T=M[v];let A=M[_];M[_]=T,A===void 0&&(A=new cr(d,r[x],i[x])),M[v]=A}}else t[_]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const t=this._objects,e=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=e[u];if(h!==void 0&&h>=s){const m=s++,d=t[m];e[d.uuid]=h,t[h]=d,e[u]=m,t[m]=l;for(let y=0,_=i;y!==_;++y){const v=r[y],w=v[m],x=v[h];v[h]=w,v[m]=x}}}this.nCachedObjects_=s}uncache(){const t=this._objects,e=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=t.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,m=e[h];if(m!==void 0)if(delete e[h],m<s){const d=--s,y=t[d],_=--o,v=t[_];e[y.uuid]=m,t[m]=y,e[v.uuid]=d,t[d]=v,t.pop();for(let w=0,x=i;w!==x;++w){const S=r[w],M=S[d],T=S[_];S[m]=M,S[d]=T,S.pop()}}else{const d=--o,y=t[d];d>0&&(e[y.uuid]=m),t[m]=y,t.pop();for(let _=0,v=i;_!==v;++_){const w=r[_];w[m]=w[d],w.pop()}}}this.nCachedObjects_=s}subscribe_(t,e){const r=this._bindingsIndicesByPath;let i=r[t];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,m=new Array(u);i=s.length,r[t]=i,o.push(t),a.push(e),s.push(m);for(let d=h,y=l.length;d!==y;++d){const _=l[d];m[d]=new cr(_,t,e)}return m}unsubscribe_(t){const e=this._bindingsIndicesByPath,r=e[t];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=t[a];e[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}Zz.prototype.isAnimationObjectGroup=!0;class Itt{constructor(t,e,r=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=r,this.blendMode=i;const s=e.tracks,o=s.length,a=new Array(o),l={endingStart:lm,endingEnd:lm};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,r){if(t.fadeOut(e),this.fadeIn(e),r){const i=this._clip.duration,s=t._clip.duration,o=s/i,a=i/s;t.warp(1,o,e),this.warp(a,1,e)}return this}crossFadeTo(t,e,r){return t.crossFadeFrom(this,e,r)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=t/o,u[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,r,i){if(!this.enabled){this._updateWeight(t);return}const s=this._startTime;if(s!==null){const l=(t-s)*r;if(l<0||r===0)return;this._startTime=null,e=r*l}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case cC:for(let h=0,m=l.length;h!==m;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case bS:default:for(let h=0,m=l.length;h!==m;++h)l[h].evaluate(o),u[h].accumulate(i,a)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(t)[0];e*=i,t>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(e*=r.evaluate(t)[0],t>r.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,r=this.loop;let i=this.time+t,s=this._loopCount;const o=r===j4;if(t===0)return s===-1?i:o&&(s&1)===1?e-i:i;if(r===G4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else if(i<0)i=0;else{this.time=i;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(s===-1&&(t>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=e||i<0){const a=Math.floor(i/e);i-=e*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return e-i}return i}_setEndings(t,e,r){const i=this._interpolantSettings;r?(i.endingStart=um,i.endingEnd=um):(t?i.endingStart=this.zeroSlopeAtStart?um:lm:i.endingStart=P_,e?i.endingEnd=this.zeroSlopeAtEnd?um:lm:i.endingEnd=P_)}_scheduleFading(t,e,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=e,a[1]=s+t,l[1]=r,this}}class Kz extends sh{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const r=t._localRoot||this._root,i=t._clip.tracks,s=i.length,o=t._propertyBindings,a=t._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let m=0;m!==s;++m){const d=i[m],y=d.name;let _=h[y];if(_!==void 0)++_.referenceCount,o[m]=_;else{if(_=o[m],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,y));continue}const v=e&&e._propertyBindings[m].binding.parsedPath;_=new Xz(cr.create(r,y,v),d.ValueTypeName,d.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,y),o[m]=_}a[m].resultBuffer=_.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const r=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,r)}const e=t._propertyBindings;for(let r=0,i=e.length;r!==i;++r){const s=e[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let r=0,i=e.length;r!==i;++r){const s=e[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,r){const i=this._actions,s=this._actionsByClip;let o=s[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=o;else{const a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[r]=t}_removeInactiveAction(t){const e=this._actions,r=e[e.length-1],i=t._cacheIndex;r._cacheIndex=i,e[i]=r,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=t._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),t._byClipCacheIndex=null;const m=a.actionByRoot,d=(t._localRoot||this._root).uuid;delete m[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let r=0,i=e.length;r!==i;++r){const s=e[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(t){const e=this._actions,r=t._cacheIndex,i=this._nActiveActions++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=r,e[r]=s}_takeBackAction(t){const e=this._actions,r=t._cacheIndex,i=--this._nActiveActions,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=r,e[r]=s}_addInactiveBinding(t,e,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[e];o===void 0&&(o={},i[e]=o),o[r]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){const e=this._bindings,r=t.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=e[e.length-1],u=t._cacheIndex;l._cacheIndex=u,e[u]=l,e.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(t){const e=this._bindings,r=t._cacheIndex,i=this._nActiveBindings++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=r,e[r]=s}_takeBackBinding(t){const e=this._bindings,r=t._cacheIndex,i=--this._nActiveBindings,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=r,e[r]=s}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let r=t[e];return r===void 0&&(r=new kC(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=e,t[e]=r),r}_takeBackControlInterpolant(t){const e=this._controlInterpolants,r=t.__cacheIndex,i=--this._nActiveControlInterpolants,s=e[i];t.__cacheIndex=i,e[i]=t,s.__cacheIndex=r,e[r]=s}clipAction(t,e,r){const i=e||this._root,s=i.uuid;let o=typeof t=="string"?U_.findByName(i,t):t;const a=o!==null?o.uuid:t,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=bS),l!==void 0){const m=l.actionByRoot[s];if(m!==void 0&&m.blendMode===r)return m;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new Itt(this,o,e,r);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(t,e){const r=e||this._root,i=r.uuid,s=typeof t=="string"?U_.findByName(r,t):t,o=s?s.uuid:t,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let r=e-1;r>=0;--r)t[r].stop();return this}update(t){t*=this.timeScale;const e=this._actions,r=this._nActiveActions,i=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let u=0;u!==r;++u)e[u]._update(i,t,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,r=t.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,m=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,m._cacheIndex=h,e[h]=m,e.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(t){const e=t.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[e];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[e];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(t,e){const r=this.existingAction(t,e);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}Kz.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class VS{constructor(t){typeof t=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new VS(this.value.clone===void 0?this.value:this.value.clone())}}class Jz extends ng{constructor(t,e,r=1){super(t,e),this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}Jz.prototype.isInstancedInterleavedBuffer=!0;class Qz{constructor(t,e,r,i,s){this.buffer=t,this.type=e,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}Qz.prototype.isGLBufferAttribute=!0;class KC{constructor(t,e,r=0,i=1/0){this.ray=new Jd(t,e),this.near=r,this.far=i,this.camera=null,this.layers=new Em,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,r=[]){return aA(t,this,r,e),r.sort(rk),r}intersectObjects(t,e=!0,r=[]){for(let i=0,s=t.length;i<s;i++)aA(t[i],this,r,e);return r.sort(rk),r}}function rk(n,t){return n.distance-t.distance}function aA(n,t,e,r){if(n.layers.test(t.layers)&&n.raycast(t,e),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)aA(i[s],t,e,!0)}}class Rtt{constructor(t=1,e=0,r=0){return this.radius=t,this.phi=e,this.theta=r,this}set(t,e,r){return this.radius=t,this.phi=e,this.theta=r,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,r){return this.radius=Math.sqrt(t*t+e*e+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,r),this.phi=Math.acos(Vi(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Ltt{constructor(t=1,e=0,r=0){return this.radius=t,this.theta=e,this.y=r,this}set(t,e,r){return this.radius=t,this.theta=e,this.y=r,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,r){return this.radius=Math.sqrt(t*t+r*r),this.theta=Math.atan2(t,r),this.y=e,this}clone(){return new this.constructor().copy(this)}}const ik=new ie;class Uy{constructor(t=new ie(1/0,1/0),e=new ie(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=ik.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return ik.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}Uy.prototype.isBox2=!0;const sk=new rt,Zw=new rt;class t5{constructor(t=new rt,e=new rt){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){sk.subVectors(t,this.start),Zw.subVectors(this.end,this.start);const r=Zw.dot(Zw);let s=Zw.dot(sk)/r;return e&&(s=Vi(s,0,1)),s}closestPointToPoint(t,e,r){const i=this.closestPointToPointParameter(t,e);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ok=new rt;class Ptt extends Yn{constructor(t,e){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const r=new Xe,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new ze(i,3));const s=new Wi({fog:!1,toneMapped:!1});this.cone=new ua(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),ok.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ok),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ld=new rt,Kw=new Ae,KE=new Ae;class e5 extends ua{constructor(t){const e=n5(t),r=new Xe,i=[],s=[],o=new Te(0,0,1),a=new Te(0,1,0);for(let u=0;u<e.length;u++){const h=e[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ze(i,3)),r.setAttribute("color",new ze(s,3));const l=new Wi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,r=this.geometry,i=r.getAttribute("position");KE.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<e.length;s++){const a=e[s];a.parent&&a.parent.isBone&&(Kw.multiplyMatrices(KE,a.matrixWorld),ld.setFromMatrixPosition(Kw),i.setXYZ(o,ld.x,ld.y,ld.z),Kw.multiplyMatrices(KE,a.parent.matrixWorld),ld.setFromMatrixPosition(Kw),i.setXYZ(o+1,ld.x,ld.y,ld.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function n5(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,n5(n.children[e]));return t}class Dtt extends rs{constructor(t,e,r){const i=new Wm(e,4,2),s=new ah({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=t,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ktt=new rt,ak=new Te,lk=new Te;class Ott extends Yn{constructor(t,e,r){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Vm(e);i.rotateY(Math.PI*.5),this.material=new ah({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new or(o,3)),this.add(new rs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");ak.copy(this.light.color),lk.copy(this.light.groundColor);for(let r=0,i=e.count;r<i;r++){const s=r<i/2?ak:lk;e.setXYZ(r,s.r,s.g,s.b)}e.needsUpdate=!0}t.lookAt(ktt.setFromMatrixPosition(this.light.matrixWorld).negate())}}class JC extends ua{constructor(t=10,e=10,r=4473924,i=8947848){r=new Te(r),i=new Te(i);const s=e/2,o=t/e,a=t/2,l=[],u=[];for(let d=0,y=0,_=-a;d<=e;d++,_+=o){l.push(-a,0,_,a,0,_),l.push(_,0,-a,_,0,a);const v=d===s?r:i;v.toArray(u,y),y+=3,v.toArray(u,y),y+=3,v.toArray(u,y),y+=3,v.toArray(u,y),y+=3}const h=new Xe;h.setAttribute("position",new ze(l,3)),h.setAttribute("color",new ze(u,3));const m=new Wi({vertexColors:!0,toneMapped:!1});super(h,m),this.type="GridHelper"}}class Ftt extends ua{constructor(t=10,e=16,r=8,i=64,s=4473924,o=8947848){s=new Te(s),o=new Te(o);const a=[],l=[];for(let m=0;m<=e;m++){const d=m/e*(Math.PI*2),y=Math.sin(d)*t,_=Math.cos(d)*t;a.push(0,0,0),a.push(y,0,_);const v=m&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let m=0;m<=r;m++){const d=m&1?s:o,y=t-t/r*m;for(let _=0;_<i;_++){let v=_/i*(Math.PI*2),w=Math.sin(v)*y,x=Math.cos(v)*y;a.push(w,0,x),l.push(d.r,d.g,d.b),v=(_+1)/i*(Math.PI*2),w=Math.sin(v)*y,x=Math.cos(v)*y,a.push(w,0,x),l.push(d.r,d.g,d.b)}}const u=new Xe;u.setAttribute("position",new ze(a,3)),u.setAttribute("color",new ze(l,3));const h=new Wi({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}}const uk=new rt,Jw=new rt,ck=new rt;class Btt extends Yn{constructor(t,e,r){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,e===void 0&&(e=1);let i=new Xe;i.setAttribute("position",new ze([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const s=new Wi({fog:!1,toneMapped:!1});this.lightPlane=new vl(i,s),this.add(this.lightPlane),i=new Xe,i.setAttribute("position",new ze([0,0,0,0,0,1],3)),this.targetLine=new vl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){uk.setFromMatrixPosition(this.light.matrixWorld),Jw.setFromMatrixPosition(this.light.target.matrixWorld),ck.subVectors(Jw,uk),this.lightPlane.lookAt(Jw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Jw),this.targetLine.scale.z=ck.length()}}const Qw=new rt,Ci=new Bm;class Ntt extends ua{constructor(t){const e=new Xe,r=new Wi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new Te(16755200),l=new Te(16711680),u=new Te(43775),h=new Te(16777215),m=new Te(3355443);d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",l),d("p","n2",l),d("p","n3",l),d("p","n4",l),d("u1","u2",u),d("u2","u3",u),d("u3","u1",u),d("c","t",h),d("p","c",m),d("cn1","cn2",m),d("cn3","cn4",m),d("cf1","cf2",m),d("cf3","cf4",m);function d(_,v,w){y(_,w),y(v,w)}function y(_,v){i.push(0,0,0),s.push(v.r,v.g,v.b),o[_]===void 0&&(o[_]=[]),o[_].push(i.length/3-1)}e.setAttribute("position",new ze(i,3)),e.setAttribute("color",new ze(s,3)),super(e,r),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const t=this.geometry,e=this.pointMap,r=1,i=1;Ci.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ni("c",e,t,Ci,0,0,-1),Ni("t",e,t,Ci,0,0,1),Ni("n1",e,t,Ci,-r,-i,-1),Ni("n2",e,t,Ci,r,-i,-1),Ni("n3",e,t,Ci,-r,i,-1),Ni("n4",e,t,Ci,r,i,-1),Ni("f1",e,t,Ci,-r,-i,1),Ni("f2",e,t,Ci,r,-i,1),Ni("f3",e,t,Ci,-r,i,1),Ni("f4",e,t,Ci,r,i,1),Ni("u1",e,t,Ci,r*.7,i*1.1,-1),Ni("u2",e,t,Ci,-r*.7,i*1.1,-1),Ni("u3",e,t,Ci,0,i*2,-1),Ni("cf1",e,t,Ci,-r,0,1),Ni("cf2",e,t,Ci,r,0,1),Ni("cf3",e,t,Ci,0,-i,1),Ni("cf4",e,t,Ci,0,i,1),Ni("cn1",e,t,Ci,-r,0,-1),Ni("cn2",e,t,Ci,r,0,-1),Ni("cn3",e,t,Ci,0,-i,-1),Ni("cn4",e,t,Ci,0,i,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ni(n,t,e,r,i,s,o){Qw.set(i,s,o).unproject(r);const a=t[n];if(a!==void 0){const l=e.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],Qw.x,Qw.y,Qw.z)}}const tx=new da;class r5 extends ua{constructor(t,e=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Xe;s.setIndex(new or(r,1)),s.setAttribute("position",new or(i,3)),super(s,new Wi({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&tx.setFromObject(this.object),tx.isEmpty())return;const e=tx.min,r=tx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=e.x,s[4]=r.y,s[5]=r.z,s[6]=e.x,s[7]=e.y,s[8]=r.z,s[9]=r.x,s[10]=e.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=e.z,s[15]=e.x,s[16]=r.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=r.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return ua.prototype.copy.call(this,t),this.object=t.object,this}}class ztt extends ua{constructor(t,e=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Xe;s.setIndex(new or(r,1)),s.setAttribute("position",new ze(i,3)),super(s,new Wi({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class Utt extends vl{constructor(t,e=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Xe;o.setAttribute("position",new ze(s,3)),o.computeBoundingSphere(),super(o,new Wi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Xe;l.setAttribute("position",new ze(a,3)),l.computeBoundingSphere(),this.add(new rs(l,new ah({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?la:Om,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const fk=new rt;let ex,JE;class Vtt extends Yn{constructor(t=new rt(0,0,1),e=new rt(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",ex===void 0&&(ex=new Xe,ex.setAttribute("position",new ze([0,0,0,0,1,0],3)),JE=new Vd(0,.5,1,5,1),JE.translate(0,-.5,0)),this.position.copy(e),this.line=new vl(ex,new Wi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rs(JE,new ah({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,s,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{fk.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(fk,e)}}setLength(t,e=t*.2,r=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class i5 extends ua{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Xe;i.setAttribute("position",new ze(e,3)),i.setAttribute("color",new ze(r,3));const s=new Wi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(t,e,r){const i=new Te,s=this.geometry.attributes.color.array;return i.set(t),i.toArray(s,0),i.toArray(s,3),i.set(e),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Htt{constructor(){this.type="ShapePath",this.color=new Te,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new ly,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,r,i){return this.currentPath.quadraticCurveTo(t,e,r,i),this}bezierCurveTo(t,e,r,i,s,o){return this.currentPath.bezierCurveTo(t,e,r,i,s,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t,e){function r(S){const M=[];for(let T=0,A=S.length;T<A;T++){const P=S[T],F=new wc;F.curves=P.curves,M.push(F)}return M}function i(S,M){const T=M.length;let A=!1;for(let P=T-1,F=0;F<T;P=F++){let C=M[P],B=M[F],V=B.x-C.x,Y=B.y-C.y;if(Math.abs(Y)>Number.EPSILON){if(Y<0&&(C=M[F],V=-V,B=M[P],Y=-Y),S.y<C.y||S.y>B.y)continue;if(S.y===C.y){if(S.x===C.x)return!0}else{const z=Y*(S.x-C.x)-V*(S.y-C.y);if(z===0)return!0;if(z<0)continue;A=!A}}else{if(S.y!==C.y)continue;if(B.x<=S.x&&S.x<=C.x||C.x<=S.x&&S.x<=B.x)return!0}}return A}const s=xc.isClockWise,o=this.subPaths;if(o.length===0)return[];if(e===!0)return r(o);let a,l,u;const h=[];if(o.length===1)return l=o[0],u=new wc,u.curves=l.curves,h.push(u),h;let m=!s(o[0].getPoints());m=t?!m:m;const d=[],y=[];let _=[],v=0,w;y[v]=void 0,_[v]=[];for(let S=0,M=o.length;S<M;S++)l=o[S],w=l.getPoints(),a=s(w),a=t?!a:a,a?(!m&&y[v]&&v++,y[v]={s:new wc,p:w},y[v].s.curves=l.curves,m&&v++,_[v]=[]):_[v].push({h:l,p:w[0]});if(!y[0])return r(o);if(y.length>1){let S=!1,M=0;for(let T=0,A=y.length;T<A;T++)d[T]=[];for(let T=0,A=y.length;T<A;T++){const P=_[T];for(let F=0;F<P.length;F++){const C=P[F];let B=!0;for(let V=0;V<y.length;V++)i(C.p,y[V].p)&&(T!==V&&M++,B?(B=!1,d[V].push(C)):S=!0);B&&d[T].push(C)}}M>0&&S===!1&&(_=d)}let x;for(let S=0,M=y.length;S<M;S++){u=y[S].s,h.push(u),x=_[S];for(let T=0,A=x.length;T<A;T++)u.holes.push(x[T].h)}return h}}class Wtt{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Vi(t,-65504,65504),hk[0]=t;const e=dk[0],r=e>>23&511;return ou[r]+((e&8388607)>>au[r])}static fromHalfFloat(t){const e=t>>10;return dk[0]=QC[o5[e]+(t&1023)]+Vy[e],hk[0]}}const s5=new ArrayBuffer(4),hk=new Float32Array(s5),dk=new Uint32Array(s5),ou=new Uint32Array(512),au=new Uint32Array(512);for(let n=0;n<256;++n){const t=n-127;t<-27?(ou[n]=0,ou[n|256]=32768,au[n]=24,au[n|256]=24):t<-14?(ou[n]=1024>>-t-14,ou[n|256]=1024>>-t-14|32768,au[n]=-t-1,au[n|256]=-t-1):t<=15?(ou[n]=t+15<<10,ou[n|256]=t+15<<10|32768,au[n]=13,au[n|256]=13):t<128?(ou[n]=31744,ou[n|256]=64512,au[n]=24,au[n|256]=24):(ou[n]=31744,ou[n|256]=64512,au[n]=13,au[n|256]=13)}const QC=new Uint32Array(2048),Vy=new Uint32Array(64),o5=new Uint32Array(64);for(let n=1;n<1024;++n){let t=n<<13,e=0;for(;(t&8388608)===0;)t<<=1,e-=8388608;t&=-8388609,e+=947912704,QC[n]=t|e}for(let n=1024;n<2048;++n)QC[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Vy[n]=n<<23;Vy[31]=1199570944;Vy[32]=2147483648;for(let n=33;n<63;++n)Vy[n]=2147483648+(n-32<<23);Vy[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(o5[n]=1024);const Gtt=0,$tt=1,jtt=0,Ytt=1,qtt=2;function Xtt(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function Ztt(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}class Ktt extends p1{constructor(t,e){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(t,e)}}class Jtt extends LS{constructor(t){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(t)}}class Qtt extends p1{constructor(t,e){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(t,e)}}class tet extends rg{constructor(t){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class eet extends rg{constructor(t){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class net extends rg{constructor(t){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class ret extends rt{constructor(t,e,r){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(t,e,r)}}class iet extends or{constructor(t,e){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(t,e),this.setUsage(oy)}}class set extends iz{constructor(t,e){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(t,e)}}class oet extends sz{constructor(t,e){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(t,e)}}class aet extends oz{constructor(t,e){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(t,e)}}class uet extends az{constructor(t,e){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(t,e)}}class cet extends SS{constructor(t,e){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(t,e)}}class fet extends lz{constructor(t,e){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(t,e)}}class het extends ES{constructor(t,e){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(t,e)}}class det extends ze{constructor(t,e){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(t,e)}}class pet extends cz{constructor(t,e){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(t,e)}}Ga.create=function(n,t){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Ga.prototype),n.prototype.constructor=n,n.prototype.getPoint=t,n};ly.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};class met extends i5{constructor(t){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(t)}}class get extends r5{constructor(t,e){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(t,e)}}class yet extends ua{constructor(t,e){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new SC(t.geometry),new Wi({color:e!==void 0?e:16777215}))}}JC.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};e5.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class vet extends ua{constructor(t,e){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new EC(t.geometry),new Wi({color:e!==void 0?e:16777215}))}}Bo.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),pb.extractUrlBase(n)};Bo.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class _et extends Mc{constructor(t){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(t)}}class wet extends Bz{constructor(t){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(t)}}Uy.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Uy.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Uy.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Uy.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};da.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};da.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};da.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};da.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};da.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Qd.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};oh.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};c1.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};t5.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};ms.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)};ms.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ms.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};ms.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ms.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};ms.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ae.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Ae.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)};Ae.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new rt().setFromMatrixColumn(this,3)};Ae.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Ae.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ae.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ae.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ae.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ae.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Ae.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ae.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ae.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ae.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ae.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ae.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ae.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ae.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ae.prototype.makeFrustum=function(n,t,e,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,t,r,e,i,s)};Ae.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};hu.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Cs.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Cs.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Jd.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Jd.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Jd.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Hi.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Hi.prototype.barycoordFromPoint=function(n,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,t)};Hi.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Hi.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Hi.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Hi.barycoordFromPoint=function(n,t,e,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Hi.getBarycoord(n,t,e,r,i)};Hi.normal=function(n,t,e,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Hi.getNormal(n,t,e,r)};wc.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};wc.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ec(this,n)};wc.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Hm(this,n)};ie.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};ie.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ie.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};rt.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};rt.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};rt.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};rt.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};rt.prototype.getColumnFromMatrix=function(n,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,n)};rt.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};rt.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};rt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};rt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};xr.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)};xr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Yn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Yn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Yn.prototype.translate=function(n,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,n)};Yn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Yn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Yn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});rs.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(rs.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Y4},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});PS.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};hs.prototype.setLens=function(n,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(n)};Object.defineProperties(Mu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(or.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===oy},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(oy)}}});or.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?oy:sy),this};or.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},or.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Xe.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Xe.prototype.addAttribute=function(n,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new or(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(n,t)};Xe.prototype.addDrawCall=function(n,t,e){e!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,t)};Xe.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Xe.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Xe.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Xe.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Xe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});ng.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?oy:sy),this};ng.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ec.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ec.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ec.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};d1.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};VS.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties($i.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Te}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===sC}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(xl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});br.prototype.clearTarget=function(n,t,e,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(t,e,r)};br.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};br.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};br.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};br.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};br.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};br.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};br.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};br.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};br.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};br.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};br.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};br.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};br.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};br.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};br.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};br.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};br.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};br.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};br.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};br.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};br.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};br.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};br.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};br.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(br.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Hr:Eu}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(_z.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class xet extends TS{constructor(t,e,r){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(t,r)}}Object.defineProperties(Lo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});qC.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new $z().load(n,function(r){t.setBuffer(r)}),this};qz.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};MS.prototype.updateCubeMap=function(n,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,t)};MS.prototype.clear=function(n,t,e,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,t,e,r)};Kd.crossOrigin=void 0;Kd.loadTexture=function(n,t,e,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new Nz;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,e,void 0,r);return t&&(s.mapping=t),s};Kd.loadTextureCube=function(n,t,e,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new Fz;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,e,void 0,r);return t&&(s.mapping=t),s};Kd.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Kd.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function bet(){console.error("THREE.CanvasRenderer has been removed")}function Eet(){console.error("THREE.JSONLoader has been removed.")}const Met={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Tet(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class Aet extends Xe{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class Cet extends Xe{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function Iet(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Ret(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Let(){console.error("THREE.ImmediateRenderObject has been removed.")}class Pet extends Lo{constructor(t,e,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(t,e,r),this.samples=4}}class Det extends Oy{constructor(t,e,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(t,e,r,i)}}class ket extends u1{constructor(t,e,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(t,e,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wS}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wS);var Oet=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lC,AddEquation:rm,AddOperation:E4,AdditiveAnimationBlendMode:cC,AdditiveBlending:CT,AlphaFormat:k4,AlwaysDepth:y4,AlwaysStencilFunc:K4,AmbientLight:HC,AmbientLightProbe:Yz,AnimationClip:U_,AnimationLoader:ftt,AnimationMixer:Kz,AnimationObjectGroup:Zz,AnimationUtils:ti,ArcCurve:vC,ArrayCamera:dC,ArrowHelper:Vtt,Audio:qC,AudioAnalyser:qz,AudioContext:jC,AudioListener:ytt,AudioLoader:$z,AxesHelper:i5,AxisHelper:met,BackSide:la,BasicDepthPacking:q4,BasicShadowMap:sq,BinaryTextureLoader:wet,Bone:DS,BooleanKeyframeTrack:ig,BoundingBoxHelper:get,Box2:Uy,Box3:da,Box3Helper:ztt,BoxBufferGeometry:Jf,BoxGeometry:Jf,BoxHelper:r5,BufferAttribute:or,BufferGeometry:Xe,BufferGeometryLoader:Wz,ByteType:I4,Cache:Gm,Camera:Bm,CameraHelper:Ntt,CanvasRenderer:bet,CanvasTexture:Tz,CapsuleBufferGeometry:uy,CapsuleGeometry:uy,CatmullRomCurve3:wC,CineonToneMapping:A4,CircleBufferGeometry:cy,CircleGeometry:cy,ClampToEdgeWrapping:Ao,Clock:YC,Color:Te,ColorKeyframeTrack:OC,ColorManagement:sl,CompressedTexture:yC,CompressedTextureLoader:htt,ConeBufferGeometry:fy,ConeGeometry:fy,CubeCamera:MS,CubeReflectionMapping:Bd,CubeRefractionMapping:Nd,CubeTexture:Fy,CubeTextureLoader:Fz,CubeUVReflectionMapping:ky,CubicBezierCurve:OS,CubicBezierCurve3:xC,CubicInterpolant:Pz,CullFaceBack:AT,CullFaceFront:r4,CullFaceFrontBack:iq,CullFaceNone:n4,Curve:Ga,CurvePath:Cz,CustomBlending:i4,CustomToneMapping:C4,CylinderBufferGeometry:Vd,CylinderGeometry:Vd,Cylindrical:Ltt,Data3DTexture:u1,DataArrayTexture:Oy,DataTexture:Mm,DataTexture2DArray:Det,DataTexture3D:ket,DataTextureLoader:Bz,DataUtils:Wtt,DecrementStencilOp:yq,DecrementWrapStencilOp:_q,DefaultLoadingManager:Oz,DepthFormat:Id,DepthStencilFormat:Fm,DepthTexture:pC,DirectionalLight:VC,DirectionalLightHelper:Btt,DiscreteInterpolant:Dz,DodecahedronBufferGeometry:hy,DodecahedronGeometry:hy,DoubleSide:Fd,DstAlphaFactor:f4,DstColorFactor:d4,DynamicBufferAttribute:iet,DynamicCopyUsage:Dq,DynamicDrawUsage:oy,DynamicReadUsage:Rq,EdgesGeometry:SC,EdgesHelper:yet,EllipseCurve:Ld,EqualDepth:_4,EqualStencilFunc:Sq,EquirectangularReflectionMapping:T_,EquirectangularRefractionMapping:A_,Euler:Qd,EventDispatcher:sh,ExtrudeBufferGeometry:Ec,ExtrudeGeometry:Ec,FaceColors:Ytt,FileLoader:Mc,FlatShading:sC,Float16BufferAttribute:uz,Float32Attribute:det,Float32BufferAttribute:ze,Float64Attribute:pet,Float64BufferAttribute:cz,FloatType:Wf,Fog:h1,FogExp2:f1,Font:Ret,FontLoader:Iet,FramebufferTexture:Mz,FrontSide:Om,Frustum:c1,GLBufferAttribute:Qz,GLSL1:Oq,GLSL3:tA,GreaterDepth:x4,GreaterEqualDepth:w4,GreaterEqualStencilFunc:Aq,GreaterStencilFunc:Mq,GridHelper:JC,Group:_d,HalfFloatType:iy,HemisphereLight:BC,HemisphereLightHelper:Ott,HemisphereLightProbe:jz,IcosahedronBufferGeometry:dy,IcosahedronGeometry:dy,ImageBitmapLoader:Gz,ImageLoader:V_,ImageUtils:Kd,ImmediateRenderObject:Let,IncrementStencilOp:gq,IncrementWrapStencilOp:vq,InstancedBufferAttribute:zm,InstancedBufferGeometry:$C,InstancedInterleavedBuffer:Jz,InstancedMesh:mC,Int16Attribute:uet,Int16BufferAttribute:az,Int32Attribute:fet,Int32BufferAttribute:lz,Int8Attribute:set,Int8BufferAttribute:iz,IntType:L4,InterleavedBuffer:ng,InterleavedBufferAttribute:Ud,Interpolant:Qf,InterpolateDiscrete:R_,InterpolateLinear:L_,InterpolateSmooth:Ix,InvertStencilOp:wq,JSONLoader:Eet,KeepStencilOp:Rx,KeyframeTrack:Cu,LOD:Sz,LatheBufferGeometry:Um,LatheGeometry:Um,Layers:Em,LensFlare:Tet,LessDepth:v4,LessEqualDepth:ub,LessEqualStencilFunc:Eq,LessStencilFunc:bq,Light:Mu,LightProbe:g1,Line:vl,Line3:t5,LineBasicMaterial:Wi,LineCurve:m1,LineCurve3:Az,LineDashedMaterial:DC,LineLoop:gC,LinePieces:$tt,LineSegments:ua,LineStrip:Gtt,LinearEncoding:Eu,LinearFilter:Ui,LinearInterpolant:kC,LinearMipMapLinearFilter:cq,LinearMipMapNearestFilter:uq,LinearMipmapLinearFilter:tg,LinearMipmapNearestFilter:uC,LinearSRGBColorSpace:yd,LinearToneMapping:M4,Loader:Bo,LoaderUtils:pb,LoadingManager:FC,LoopOnce:G4,LoopPingPong:j4,LoopRepeat:$4,LuminanceAlphaFormat:B4,LuminanceFormat:F4,MOUSE:nq,Material:$i,MaterialLoader:Hz,Math:si,MathUtils:si,Matrix3:ms,Matrix4:Ae,MaxEquation:PT,Mesh:rs,MeshBasicMaterial:ah,MeshDepthMaterial:CS,MeshDistanceMaterial:IS,MeshFaceMaterial:Xtt,MeshLambertMaterial:LC,MeshMatcapMaterial:PC,MeshNormalMaterial:RC,MeshPhongMaterial:CC,MeshPhysicalMaterial:AC,MeshStandardMaterial:US,MeshToonMaterial:IC,MinEquation:LT,MirroredRepeatWrapping:I_,MixOperation:S4,MultiMaterial:Ztt,MultiplyBlending:RT,MultiplyOperation:l1,NearestFilter:ts,NearestMipMapLinearFilter:lq,NearestMipMapNearestFilter:aq,NearestMipmapLinearFilter:fb,NearestMipmapNearestFilter:cb,NeverDepth:g4,NeverStencilFunc:xq,NoBlending:jf,NoColorSpace:dq,NoColors:jtt,NoToneMapping:wu,NormalAnimationBlendMode:bS,NormalBlending:wm,NotEqualDepth:b4,NotEqualStencilFunc:Tq,NumberKeyframeTrack:N_,Object3D:Yn,ObjectLoader:dtt,ObjectSpaceNormalMap:Z4,OctahedronBufferGeometry:Vm,OctahedronGeometry:Vm,OneFactor:l4,OneMinusDstAlphaFactor:h4,OneMinusDstColorFactor:p4,OneMinusSrcAlphaFactor:aC,OneMinusSrcColorFactor:c4,OrthographicCamera:By,PCFShadowMap:rC,PCFSoftShadowMap:iC,PMREMGenerator:nA,ParametricGeometry:Aet,Particle:Jtt,ParticleBasicMaterial:eet,ParticleSystem:Qtt,ParticleSystemMaterial:net,Path:ly,PerspectiveCamera:hs,Plane:hu,PlaneBufferGeometry:Nm,PlaneGeometry:Nm,PlaneHelper:Utt,PointCloud:Ktt,PointCloudMaterial:tet,PointLight:UC,PointLightHelper:Dtt,Points:p1,PointsMaterial:rg,PolarGridHelper:Ftt,PolyhedronBufferGeometry:Sc,PolyhedronGeometry:Sc,PositionalAudio:_tt,PropertyBinding:cr,PropertyMixer:Xz,QuadraticBezierCurve:FS,QuadraticBezierCurve3:BS,Quaternion:Cs,QuaternionKeyframeTrack:zy,QuaternionLinearInterpolant:kz,REVISION:wS,RGBADepthPacking:X4,RGBAFormat:Ua,RGBAIntegerFormat:H4,RGBA_ASTC_10x10_Format:ZT,RGBA_ASTC_10x5_Format:YT,RGBA_ASTC_10x6_Format:qT,RGBA_ASTC_10x8_Format:XT,RGBA_ASTC_12x10_Format:KT,RGBA_ASTC_12x12_Format:JT,RGBA_ASTC_4x4_Format:zT,RGBA_ASTC_5x4_Format:UT,RGBA_ASTC_5x5_Format:VT,RGBA_ASTC_6x5_Format:HT,RGBA_ASTC_6x6_Format:WT,RGBA_ASTC_8x5_Format:GT,RGBA_ASTC_8x6_Format:$T,RGBA_ASTC_8x8_Format:jT,RGBA_BPTC_Format:QT,RGBA_ETC2_EAC_Format:NT,RGBA_PVRTC_2BPPV1_Format:FT,RGBA_PVRTC_4BPPV1_Format:OT,RGBA_S3TC_DXT1_Format:Tx,RGBA_S3TC_DXT3_Format:Ax,RGBA_S3TC_DXT5_Format:Cx,RGBFormat:O4,RGB_ETC1_Format:W4,RGB_ETC2_Format:BT,RGB_PVRTC_2BPPV1_Format:kT,RGB_PVRTC_4BPPV1_Format:DT,RGB_S3TC_DXT1_Format:Mx,RGFormat:U4,RGIntegerFormat:V4,RawShaderMaterial:TC,Ray:Jd,Raycaster:KC,RectAreaLight:WC,RedFormat:N4,RedIntegerFormat:z4,ReinhardToneMapping:T4,RepeatWrapping:C_,ReplaceStencilOp:mq,ReverseSubtractEquation:o4,RingBufferGeometry:py,RingGeometry:py,SRGBColorSpace:oc,Scene:d1,SceneUtils:Met,ShaderChunk:jn,ShaderLib:du,ShaderMaterial:xl,ShadowMaterial:MC,Shape:wc,ShapeBufferGeometry:Hm,ShapeGeometry:Hm,ShapePath:Htt,ShapeUtils:xc,ShortType:R4,Skeleton:kS,SkeletonHelper:e5,SkinnedMesh:PS,SmoothShading:oq,Source:vd,Sphere:oh,SphereBufferGeometry:Wm,SphereGeometry:Wm,Spherical:Rtt,SphericalHarmonics3:GC,SplineCurve:NS,SpotLight:zC,SpotLightHelper:Ptt,Sprite:LS,SpriteMaterial:RS,SrcAlphaFactor:oC,SrcAlphaSaturateFactor:m4,SrcColorFactor:u4,StaticCopyUsage:Pq,StaticDrawUsage:sy,StaticReadUsage:Iq,StereoCamera:mtt,StreamCopyUsage:kq,StreamDrawUsage:Cq,StreamReadUsage:Lq,StringKeyframeTrack:sg,SubtractEquation:s4,SubtractiveBlending:IT,TOUCH:rq,TangentSpaceNormalMap:eg,TetrahedronBufferGeometry:my,TetrahedronGeometry:my,TextGeometry:Cet,Texture:Gi,TextureLoader:Nz,TorusBufferGeometry:gy,TorusGeometry:gy,TorusKnotBufferGeometry:yy,TorusKnotGeometry:yy,Triangle:Hi,TriangleFanDrawMode:hq,TriangleStripDrawMode:fq,TrianglesDrawMode:Y4,TubeBufferGeometry:vy,TubeGeometry:vy,UVMapping:xS,Uint16Attribute:cet,Uint16BufferAttribute:SS,Uint32Attribute:het,Uint32BufferAttribute:ES,Uint8Attribute:oet,Uint8BufferAttribute:sz,Uint8ClampedAttribute:aet,Uint8ClampedBufferAttribute:oz,Uniform:VS,UniformsLib:be,UniformsUtils:fz,UnsignedByteType:zd,UnsignedInt248Type:xm,UnsignedIntType:Jv,UnsignedShort4444Type:P4,UnsignedShort5551Type:D4,UnsignedShortType:ry,VSMShadowMap:I0,Vector2:ie,Vector3:rt,Vector4:xr,VectorKeyframeTrack:z_,Vertex:ret,VertexColors:qtt,VideoTexture:Ez,WebGL1Renderer:xz,WebGL3DRenderTarget:nz,WebGLArrayRenderTarget:ez,WebGLCubeRenderTarget:TS,WebGLMultipleRenderTargets:rz,WebGLMultisampleRenderTarget:Pet,WebGLRenderTarget:Lo,WebGLRenderTargetCube:xet,WebGLRenderer:br,WebGLUtils:wz,WireframeGeometry:EC,WireframeHelper:vet,WrapAroundEnding:P_,XHRLoader:_et,ZeroCurvatureEnding:lm,ZeroFactor:a4,ZeroSlopeEnding:um,ZeroStencilOp:pq,_SRGBAFormat:hb,sRGBEncoding:Hr},Symbol.toStringTag,{value:"Module"}));function Fet(n){let t;const e=new Set,r=(u,h)=>{const m=typeof u=="function"?u(t):u;if(m!==t){const d=t;t=h?m:Object.assign({},t,m),e.forEach(y=>y(t,d))}},i=()=>t,s=(u,h=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=h(t);function y(){const _=h(t);if(!m(d,_)){const v=d;u(d=_,v)}}return e.add(y),()=>e.delete(y)},l={setState:r,getState:i,subscribe:(u,h,m)=>h||m?s(u,h,m):(e.add(u),()=>e.delete(u)),destroy:()=>e.clear()};return t=n(r,i,l),l}const Bet=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),pk=Bet?Z.exports.useEffect:Z.exports.useLayoutEffect;function a5(n){const t=typeof n=="function"?Fet(n):n,e=(r=t.getState,i=Object.is)=>{const[,s]=Z.exports.useReducer(w=>w+1,0),o=t.getState(),a=Z.exports.useRef(o),l=Z.exports.useRef(r),u=Z.exports.useRef(i),h=Z.exports.useRef(!1),m=Z.exports.useRef();m.current===void 0&&(m.current=r(o));let d,y=!1;(a.current!==o||l.current!==r||u.current!==i||h.current)&&(d=r(o),y=!i(m.current,d)),pk(()=>{y&&(m.current=d),a.current=o,l.current=r,u.current=i,h.current=!1});const _=Z.exports.useRef(o);pk(()=>{const w=()=>{try{const S=t.getState(),M=l.current(S);u.current(m.current,M)||(a.current=S,m.current=M,s())}catch{h.current=!0,s()}},x=t.subscribe(w);return t.getState()!==_.current&&w(),x},[]);const v=y?d:m.current;return Z.exports.useDebugValue(v),v};return Object.assign(e,t),e[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[e,t];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},e}var l5={exports:{}},u5={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var mk=Object.getOwnPropertySymbols,Net=Object.prototype.hasOwnProperty,zet=Object.prototype.propertyIsEnumerable;function Uet(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Vet(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Het=Vet()?Object.assign:function(n,t){for(var e,r=Uet(n),i,s=1;s<arguments.length;s++){e=Object(arguments[s]);for(var o in e)Net.call(e,o)&&(r[o]=e[o]);if(mk){i=mk(e);for(var a=0;a<i.length;a++)zet.call(e,i[a])&&(r[i[a]]=e[i[a]])}}return r},n_={exports:{}},c5={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var t,e,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,u=null,h=function(){if(l!==null)try{var j=n.unstable_now();l(!0,j),l=null}catch(K){throw setTimeout(h,0),K}};t=function(j){l!==null?setTimeout(t,0,j):(l=j,setTimeout(h,0))},e=function(j,K){u=setTimeout(j,K)},r=function(){clearTimeout(u)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,d=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,v=null,w=-1,x=5,S=0;n.unstable_shouldYield=function(){return n.unstable_now()>=S},i=function(){},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<j?Math.floor(1e3/j):5};var M=new MessageChannel,T=M.port2;M.port1.onmessage=function(){if(v!==null){var j=n.unstable_now();S=j+x;try{v(!0,j)?T.postMessage(null):(_=!1,v=null)}catch(K){throw T.postMessage(null),K}}else _=!1},t=function(j){v=j,_||(_=!0,T.postMessage(null))},e=function(j,K){w=m(function(){j(n.unstable_now())},K)},r=function(){d(w),w=-1}}function A(j,K){var xt=j.length;j.push(K);t:for(;;){var Lt=xt-1>>>1,Pt=j[Lt];if(Pt!==void 0&&0<C(Pt,K))j[Lt]=K,j[xt]=Pt,xt=Lt;else break t}}function P(j){return j=j[0],j===void 0?null:j}function F(j){var K=j[0];if(K!==void 0){var xt=j.pop();if(xt!==K){j[0]=xt;t:for(var Lt=0,Pt=j.length;Lt<Pt;){var Ot=2*(Lt+1)-1,Ee=j[Ot],se=Ot+1,fe=j[se];if(Ee!==void 0&&0>C(Ee,xt))fe!==void 0&&0>C(fe,Ee)?(j[Lt]=fe,j[se]=xt,Lt=se):(j[Lt]=Ee,j[Ot]=xt,Lt=Ot);else if(fe!==void 0&&0>C(fe,xt))j[Lt]=fe,j[se]=xt,Lt=se;else break t}}return K}return null}function C(j,K){var xt=j.sortIndex-K.sortIndex;return xt!==0?xt:j.id-K.id}var B=[],V=[],Y=1,z=null,q=3,L=!1,tt=!1,ct=!1;function lt(j){for(var K=P(V);K!==null;){if(K.callback===null)F(V);else if(K.startTime<=j)F(V),K.sortIndex=K.expirationTime,A(B,K);else break;K=P(V)}}function at(j){if(ct=!1,lt(j),!tt)if(P(B)!==null)tt=!0,t(it);else{var K=P(V);K!==null&&e(at,K.startTime-j)}}function it(j,K){tt=!1,ct&&(ct=!1,r()),L=!0;var xt=q;try{for(lt(K),z=P(B);z!==null&&(!(z.expirationTime>K)||j&&!n.unstable_shouldYield());){var Lt=z.callback;if(typeof Lt=="function"){z.callback=null,q=z.priorityLevel;var Pt=Lt(z.expirationTime<=K);K=n.unstable_now(),typeof Pt=="function"?z.callback=Pt:z===P(B)&&F(B),lt(K)}else F(B);z=P(B)}if(z!==null)var Ot=!0;else{var Ee=P(V);Ee!==null&&e(at,Ee.startTime-K),Ot=!1}return Ot}finally{z=null,q=xt,L=!1}}var ut=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){tt||L||(tt=!0,t(it))},n.unstable_getCurrentPriorityLevel=function(){return q},n.unstable_getFirstCallbackNode=function(){return P(B)},n.unstable_next=function(j){switch(q){case 1:case 2:case 3:var K=3;break;default:K=q}var xt=q;q=K;try{return j()}finally{q=xt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=ut,n.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var xt=q;q=j;try{return K()}finally{q=xt}},n.unstable_scheduleCallback=function(j,K,xt){var Lt=n.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?Lt+xt:Lt):xt=Lt,j){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=xt+Pt,j={id:Y++,callback:K,priorityLevel:j,startTime:xt,expirationTime:Pt,sortIndex:-1},xt>Lt?(j.sortIndex=xt,A(V,j),P(B)===null&&j===P(V)&&(ct?r():ct=!0,e(at,xt-Lt))):(j.sortIndex=Pt,A(B,j),tt||L||(tt=!0,t(it))),j},n.unstable_wrapCallback=function(j){var K=q;return function(){var xt=q;q=K;try{return j.apply(this,arguments)}finally{q=xt}}}})(c5);n_.exports=c5;/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(e){var r={},i=Het,s=Z.exports,o=n_.exports;function a(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,h=60106,m=60107,d=60108,y=60114,_=60109,v=60110,w=60112,x=60113,S=60120,M=60115,T=60116,A=60121,P=60129,F=60130,C=60131;if(typeof Symbol=="function"&&Symbol.for){var B=Symbol.for;u=B("react.element"),h=B("react.portal"),m=B("react.fragment"),d=B("react.strict_mode"),y=B("react.profiler"),_=B("react.provider"),v=B("react.context"),w=B("react.forward_ref"),x=B("react.suspense"),S=B("react.suspense_list"),M=B("react.memo"),T=B("react.lazy"),A=B("react.block"),B("react.scope"),P=B("react.debug_trace_mode"),F=B("react.offscreen"),C=B("react.legacy_hidden")}var V=typeof Symbol=="function"&&Symbol.iterator;function Y(f){return f===null||typeof f!="object"?null:(f=V&&f[V]||f["@@iterator"],typeof f=="function"?f:null)}function z(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case v:return(f.displayName||"Context")+".Consumer";case _:return(f._context.displayName||"Context")+".Provider";case w:var p=f.render;return p=p.displayName||p.name||"",f.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case M:return z(f.type);case A:return z(f._render);case T:p=f._payload,f=f._init;try{return z(f(p))}catch{}}return null}function q(f){var p=f,b=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&1026)!==0&&(b=p.return),f=p.return;while(f)}return p.tag===3?b:null}function L(f){if(q(f)!==f)throw Error(a(188))}function tt(f){var p=f.alternate;if(!p){if(p=q(f),p===null)throw Error(a(188));return p!==f?null:f}for(var b=f,I=p;;){var k=b.return;if(k===null)break;var H=k.alternate;if(H===null){if(I=k.return,I!==null){b=I;continue}break}if(k.child===H.child){for(H=k.child;H;){if(H===b)return L(k),f;if(H===I)return L(k),p;H=H.sibling}throw Error(a(188))}if(b.return!==I.return)b=k,I=H;else{for(var st=!1,mt=k.child;mt;){if(mt===b){st=!0,b=k,I=H;break}if(mt===I){st=!0,I=k,b=H;break}mt=mt.sibling}if(!st){for(mt=H.child;mt;){if(mt===b){st=!0,b=H,I=k;break}if(mt===I){st=!0,I=H,b=k;break}mt=mt.sibling}if(!st)throw Error(a(189))}}if(b.alternate!==I)throw Error(a(190))}if(b.tag!==3)throw Error(a(188));return b.stateNode.current===b?f:p}function ct(f){if(f=tt(f),!f)return null;for(var p=f;;){if(p.tag===5||p.tag===6)return p;if(p.child)p.child.return=p,p=p.child;else{if(p===f)break;for(;!p.sibling;){if(!p.return||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}}return null}function lt(f){if(f=tt(f),!f)return null;for(var p=f;;){if(p.tag===5||p.tag===6)return p;if(p.child&&p.tag!==4)p.child.return=p,p=p.child;else{if(p===f)break;for(;!p.sibling;){if(!p.return||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}}return null}function at(f,p){for(var b=f.alternate;p!==null;){if(p===f||p===b)return!0;p=p.return}return!1}var it=e.getPublicInstance,ut=e.getRootHostContext,j=e.getChildHostContext,K=e.prepareForCommit,xt=e.resetAfterCommit,Lt=e.createInstance,Pt=e.appendInitialChild,Ot=e.finalizeInitialChildren,Ee=e.prepareUpdate,se=e.shouldSetTextContent,fe=e.createTextInstance,oe=e.scheduleTimeout,Le=e.cancelTimeout,Kt=e.noTimeout,Yt=e.isPrimaryRenderer,O=e.supportsMutation,Tt=e.supportsPersistence,vt=e.supportsHydration,nt=e.getInstanceFromNode,J=e.makeOpaqueHydratingObject,dt=e.makeClientId,Gt=e.beforeActiveInstanceBlur,Vt=e.afterActiveInstanceBlur,G=e.preparePortalMount,U=e.supportsTestSelectors,ft=e.findFiberRoot,Et=e.getBoundingRect,Ht=e.getTextContent,Qt=e.isHiddenSubtree,ue=e.matchAccessibilityRole,Wt=e.setFocusIfFocusable,He=e.setupIntersectionObserver,Ue=e.appendChild,xe=e.appendChildToContainer,gt=e.commitTextUpdate,me=e.commitMount,pe=e.commitUpdate,De=e.insertBefore,_e=e.insertInContainerBefore,We=e.removeChild,ye=e.removeChildFromContainer,Ye=e.resetTextContent,Hn=e.hideInstance,ln=e.hideTextInstance,Ri=e.unhideInstance,Vs=e.unhideTextInstance,Fc=e.clearContainer,Du=e.cloneInstance,Bc=e.createContainerChildSet,ku=e.appendChildToContainerChildSet,ph=e.finalizeContainerChildren,mh=e.replaceContainerChildren,Ou=e.cloneHiddenInstance,Nc=e.cloneHiddenTextInstance,ot=e.canHydrateInstance,zt=e.canHydrateTextInstance,Xt=e.isSuspenseInstancePending,$t=e.isSuspenseInstanceFallback,te=e.getNextHydratableSibling,Ze=e.getFirstHydratableChild,on=e.hydrateInstance,dn=e.hydrateTextInstance,fn=e.getNextHydratableInstanceAfterSuspenseInstance,qn=e.commitHydratedContainer,Bn=e.commitHydratedSuspenseInstance,Nn;function ar(f){if(Nn===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Nn=p&&p[1]||""}return`
`+Nn+f}var lo=!1;function Hs(f,p){if(!f||lo)return"";lo=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(yt){var I=yt}Reflect.construct(f,[],p)}else{try{p.call()}catch(yt){I=yt}f.call(p.prototype)}else{try{throw Error()}catch(yt){I=yt}f()}}catch(yt){if(yt&&I&&typeof yt.stack=="string"){for(var k=yt.stack.split(`
`),H=I.stack.split(`
`),st=k.length-1,mt=H.length-1;1<=st&&0<=mt&&k[st]!==H[mt];)mt--;for(;1<=st&&0<=mt;st--,mt--)if(k[st]!==H[mt]){if(st!==1||mt!==1)do if(st--,mt--,0>mt||k[st]!==H[mt])return`
`+k[st].replace(" at new "," at ");while(1<=st&&0<=mt);break}}}finally{lo=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?ar(f):""}var No=[],ii=-1;function pn(f){return{current:f}}function Wn(f){0>ii||(f.current=No[ii],No[ii]=null,ii--)}function un(f,p){ii++,No[ii]=f.current,f.current=p}var ai={},Sr=pn(ai),qr=pn(!1),Ws=ai;function Er(f,p){var b=f.type.contextTypes;if(!b)return ai;var I=f.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===p)return I.__reactInternalMemoizedMaskedChildContext;var k={},H;for(H in b)k[H]=p[H];return I&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=k),k}function Mr(f){return f=f.childContextTypes,f!=null}function zo(){Wn(qr),Wn(Sr)}function bi(f,p,b){if(Sr.current!==ai)throw Error(a(168));un(Sr,p),un(qr,b)}function lg(f,p,b){var I=f.stateNode;if(f=p.childContextTypes,typeof I.getChildContext!="function")return b;I=I.getChildContext();for(var k in I)if(!(k in f))throw Error(a(108,z(p)||"Unknown",k));return i({},b,I)}function zc(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ai,Ws=Sr.current,un(Sr,f),un(qr,qr.current),!0}function sp(f,p,b){var I=f.stateNode;if(!I)throw Error(a(169));b?(f=lg(f,p,Ws),I.__reactInternalMemoizedMergedChildContext=f,Wn(qr),Wn(Sr),un(Sr,f)):Wn(qr),un(qr,b)}var gh=null,ya=null,ug=o.unstable_now;ug();var Fu=0,lr=8;function Za(f){if((1&f)!==0)return lr=15,1;if((2&f)!==0)return lr=14,2;if((4&f)!==0)return lr=13,4;var p=24&f;return p!==0?(lr=12,p):(f&32)!==0?(lr=11,32):(p=192&f,p!==0?(lr=10,p):(f&256)!==0?(lr=9,256):(p=3584&f,p!==0?(lr=8,p):(f&4096)!==0?(lr=7,4096):(p=4186112&f,p!==0?(lr=6,p):(p=62914560&f,p!==0?(lr=5,p):f&67108864?(lr=4,67108864):(f&134217728)!==0?(lr=3,134217728):(p=805306368&f,p!==0?(lr=2,p):(1073741824&f)!==0?(lr=1,1073741824):(lr=8,f))))))}function tv(f){switch(f){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function cg(f){switch(f){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,f))}}function Ml(f,p){var b=f.pendingLanes;if(b===0)return lr=0;var I=0,k=0,H=f.expiredLanes,st=f.suspendedLanes,mt=f.pingedLanes;if(H!==0)I=H,k=lr=15;else if(H=b&134217727,H!==0){var yt=H&~st;yt!==0?(I=Za(yt),k=lr):(mt&=H,mt!==0&&(I=Za(mt),k=lr))}else H=b&~st,H!==0?(I=Za(H),k=lr):mt!==0&&(I=Za(mt),k=lr);if(I===0)return 0;if(I=31-Is(I),I=b&((0>I?0:1<<I)<<1)-1,p!==0&&p!==I&&(p&st)===0){if(Za(p),k<=lr)return p;lr=k}if(p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=I;0<p;)b=31-Is(p),k=1<<b,I|=f[b],p&=~k;return I}function Uc(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function yh(f,p){switch(f){case 15:return 1;case 14:return 2;case 12:return f=Tl(24&~p),f===0?yh(10,p):f;case 10:return f=Tl(192&~p),f===0?yh(8,p):f;case 8:return f=Tl(3584&~p),f===0&&(f=Tl(4186112&~p),f===0&&(f=512)),f;case 2:return p=Tl(805306368&~p),p===0&&(p=268435456),p}throw Error(a(358,f))}function Tl(f){return f&-f}function Vc(f){for(var p=[],b=0;31>b;b++)p.push(f);return p}function Bu(f,p,b){f.pendingLanes|=p;var I=p-1;f.suspendedLanes&=I,f.pingedLanes&=I,f=f.eventTimes,p=31-Is(p),f[p]=b}var Is=Math.clz32?Math.clz32:ev,fg=Math.log,hg=Math.LN2;function ev(f){return f===0?32:31-(fg(f)/hg|0)|0}var dg=o.unstable_runWithPriority,vh=o.unstable_scheduleCallback,_h=o.unstable_cancelCallback,pg=o.unstable_shouldYield,mg=o.unstable_requestPaint,wh=o.unstable_now,gg=o.unstable_getCurrentPriorityLevel,Hc=o.unstable_ImmediatePriority,Wc=o.unstable_UserBlockingPriority,Al=o.unstable_NormalPriority,yg=o.unstable_LowPriority,op=o.unstable_IdlePriority,Gc={},ap=mg!==void 0?mg:function(){},uo=null,xh=null,bh=!1,Cl=wh(),hn=1e4>Cl?wh:function(){return wh()-Cl};function Qn(){switch(gg()){case Hc:return 99;case Wc:return 98;case Al:return 97;case yg:return 96;case op:return 95;default:throw Error(a(332))}}function vg(f){switch(f){case 99:return Hc;case 98:return Wc;case 97:return Al;case 96:return yg;case 95:return op;default:throw Error(a(332))}}function co(f,p){return f=vg(f),dg(f,p)}function Il(f,p,b){return f=vg(f),vh(f,p,b)}function Rs(){if(xh!==null){var f=xh;xh=null,_h(f)}_g()}function _g(){if(!bh&&uo!==null){bh=!0;var f=0;try{var p=uo;co(99,function(){for(;f<p.length;f++){var b=p[f];do b=b(!0);while(b!==null)}}),uo=null}catch(b){throw uo!==null&&(uo=uo.slice(f+1)),vh(Hc,Rs),b}finally{bh=!1}}}var nv=l.ReactCurrentBatchConfig;function wg(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ls=typeof Object.is=="function"?Object.is:wg,Si=Object.prototype.hasOwnProperty;function Nu(f,p){if(Ls(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var b=Object.keys(f),I=Object.keys(p);if(b.length!==I.length)return!1;for(I=0;I<b.length;I++)if(!Si.call(p,b[I])||!Ls(f[b[I]],p[b[I]]))return!1;return!0}function Rl(f){switch(f.tag){case 5:return ar(f.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return f=Hs(f.type,!1),f;case 11:return f=Hs(f.type.render,!1),f;case 22:return f=Hs(f.type._render,!1),f;case 1:return f=Hs(f.type,!0),f;default:return""}}function Gs(f,p){if(f&&f.defaultProps){p=i({},p),f=f.defaultProps;for(var b in f)p[b]===void 0&&(p[b]=f[b]);return p}return p}var zu=pn(null),os=null,Ll=null,$c=null;function jc(){$c=Ll=os=null}function lp(f,p){f=f.type._context,Yt?(un(zu,f._currentValue),f._currentValue=p):(un(zu,f._currentValue2),f._currentValue2=p)}function Sh(f){var p=zu.current;Wn(zu),f=f.type._context,Yt?f._currentValue=p:f._currentValue2=p}function up(f,p){for(;f!==null;){var b=f.alternate;if((f.childLanes&p)===p){if(b===null||(b.childLanes&p)===p)break;b.childLanes|=p}else f.childLanes|=p,b!==null&&(b.childLanes|=p);f=f.return}}function Ei(f,p){os=f,$c=Ll=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(Ys=!0),f.firstContext=null)}function $s(f,p){if($c!==f&&p!==!1&&p!==0)if((typeof p!="number"||p===1073741823)&&($c=f,p=1073741823),p={context:f,observedBits:p,next:null},Ll===null){if(os===null)throw Error(a(308));Ll=p,os.dependencies={lanes:0,firstContext:p,responders:null}}else Ll=Ll.next=p;return Yt?f._currentValue:f._currentValue2}var li=!1;function cp(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fp(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function as(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function fo(f,p){if(f=f.updateQueue,f!==null){f=f.shared;var b=f.pending;b===null?p.next=p:(p.next=b.next,b.next=p),f.pending=p}}function Yc(f,p){var b=f.updateQueue,I=f.alternate;if(I!==null&&(I=I.updateQueue,b===I)){var k=null,H=null;if(b=b.firstBaseUpdate,b!==null){do{var st={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};H===null?k=H=st:H=H.next=st,b=b.next}while(b!==null);H===null?k=H=p:H=H.next=p}else k=H=p;b={baseState:I.baseState,firstBaseUpdate:k,lastBaseUpdate:H,shared:I.shared,effects:I.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=p:f.next=p,b.lastBaseUpdate=p}function dr(f,p,b,I){var k=f.updateQueue;li=!1;var H=k.firstBaseUpdate,st=k.lastBaseUpdate,mt=k.shared.pending;if(mt!==null){k.shared.pending=null;var yt=mt,qt=yt.next;yt.next=null,st===null?H=qt:st.next=qt,st=yt;var ce=f.alternate;if(ce!==null){ce=ce.updateQueue;var he=ce.lastBaseUpdate;he!==st&&(he===null?ce.firstBaseUpdate=qt:he.next=qt,ce.lastBaseUpdate=yt)}}if(H!==null){he=k.baseState,st=0,ce=qt=yt=null;do{mt=H.lane;var ge=H.eventTime;if((I&mt)===mt){ce!==null&&(ce=ce.next={eventTime:ge,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});t:{var Be=f,Ne=H;switch(mt=p,ge=b,Ne.tag){case 1:if(Be=Ne.payload,typeof Be=="function"){he=Be.call(ge,he,mt);break t}he=Be;break t;case 3:Be.flags=Be.flags&-4097|64;case 0:if(Be=Ne.payload,mt=typeof Be=="function"?Be.call(ge,he,mt):Be,mt==null)break t;he=i({},he,mt);break t;case 2:li=!0}}H.callback!==null&&(f.flags|=32,mt=k.effects,mt===null?k.effects=[H]:mt.push(H))}else ge={eventTime:ge,lane:mt,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ce===null?(qt=ce=ge,yt=he):ce=ce.next=ge,st|=mt;if(H=H.next,H===null){if(mt=k.shared.pending,mt===null)break;H=mt.next,mt.next=null,k.lastBaseUpdate=mt,k.shared.pending=null}}while(1);ce===null&&(yt=he),k.baseState=yt,k.firstBaseUpdate=qt,k.lastBaseUpdate=ce,df|=st,f.lanes=st,f.memoizedState=he}}function va(f,p,b){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var I=f[p],k=I.callback;if(k!==null){if(I.callback=null,I=b,typeof k!="function")throw Error(a(191,k));k.call(I)}}}var Eh=new s.Component().refs;function Mh(f,p,b,I){p=f.memoizedState,b=b(I,p),b=b==null?p:i({},p,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Pl={isMounted:function(f){return(f=f._reactInternals)?q(f)===f:!1},enqueueSetState:function(f,p,b){f=f._reactInternals;var I=ls(),k=Oi(f),H=as(I,k);H.payload=p,b!=null&&(H.callback=b),fo(f,H),mo(f,k,I)},enqueueReplaceState:function(f,p,b){f=f._reactInternals;var I=ls(),k=Oi(f),H=as(I,k);H.tag=1,H.payload=p,b!=null&&(H.callback=b),fo(f,H),mo(f,k,I)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var b=ls(),I=Oi(f),k=as(b,I);k.tag=2,p!=null&&(k.callback=p),fo(f,k),mo(f,I,b)}};function xg(f,p,b,I,k,H,st){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(I,H,st):p.prototype&&p.prototype.isPureReactComponent?!Nu(b,I)||!Nu(k,H):!0}function bg(f,p,b){var I=!1,k=ai,H=p.contextType;return typeof H=="object"&&H!==null?H=$s(H):(k=Mr(p)?Ws:Sr.current,I=p.contextTypes,H=(I=I!=null)?Er(f,k):ai),p=new p(b,H),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pl,f.stateNode=p,p._reactInternals=f,I&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=k,f.__reactInternalMemoizedMaskedChildContext=H),p}function Sg(f,p,b,I){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,I),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,I),p.state!==f&&Pl.enqueueReplaceState(p,p.state,null)}function Th(f,p,b,I){var k=f.stateNode;k.props=b,k.state=f.memoizedState,k.refs=Eh,cp(f);var H=p.contextType;typeof H=="object"&&H!==null?k.context=$s(H):(H=Mr(p)?Ws:Sr.current,k.context=Er(f,H)),dr(f,b,k,I),k.state=f.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(Mh(f,p,H,b),k.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(p=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),p!==k.state&&Pl.enqueueReplaceState(k,k.state,null),dr(f,b,k,I),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4)}var Dl=Array.isArray;function Uo(f,p,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(a(309));var I=b.stateNode}if(!I)throw Error(a(147,f));var k=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===k?p.ref:(p=function(H){var st=I.refs;st===Eh&&(st=I.refs={}),H===null?delete st[k]:st[k]=H},p._stringRef=k,p)}if(typeof f!="string")throw Error(a(284));if(!b._owner)throw Error(a(290,f))}return f}function qc(f,p){if(f.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(p)==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":p))}function Uu(f){function p(Ct,bt){if(f){var jt=Ct.lastEffect;jt!==null?(jt.nextEffect=bt,Ct.lastEffect=bt):Ct.firstEffect=Ct.lastEffect=bt,bt.nextEffect=null,bt.flags=8}}function b(Ct,bt){if(!f)return null;for(;bt!==null;)p(Ct,bt),bt=bt.sibling;return null}function I(Ct,bt){for(Ct=new Map;bt!==null;)bt.key!==null?Ct.set(bt.key,bt):Ct.set(bt.index,bt),bt=bt.sibling;return Ct}function k(Ct,bt){return Ct=Q(Ct,bt),Ct.index=0,Ct.sibling=null,Ct}function H(Ct,bt,jt){return Ct.index=jt,f?(jt=Ct.alternate,jt!==null?(jt=jt.index,jt<bt?(Ct.flags=2,bt):jt):(Ct.flags=2,bt)):bt}function st(Ct){return f&&Ct.alternate===null&&(Ct.flags=2),Ct}function mt(Ct,bt,jt,ve){return bt===null||bt.tag!==6?(bt=kt(jt,Ct.mode,ve),bt.return=Ct,bt):(bt=k(bt,jt),bt.return=Ct,bt)}function yt(Ct,bt,jt,ve){return bt!==null&&bt.elementType===jt.type?(ve=k(bt,jt.props),ve.ref=Uo(Ct,bt,jt),ve.return=Ct,ve):(ve=wt(jt.type,jt.key,jt.props,null,Ct.mode,ve),ve.ref=Uo(Ct,bt,jt),ve.return=Ct,ve)}function qt(Ct,bt,jt,ve){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==jt.containerInfo||bt.stateNode.implementation!==jt.implementation?(bt=Bt(jt,Ct.mode,ve),bt.return=Ct,bt):(bt=k(bt,jt.children||[]),bt.return=Ct,bt)}function ce(Ct,bt,jt,ve,ke){return bt===null||bt.tag!==7?(bt=Mt(jt,Ct.mode,ve,ke),bt.return=Ct,bt):(bt=k(bt,jt),bt.return=Ct,bt)}function he(Ct,bt,jt){if(typeof bt=="string"||typeof bt=="number")return bt=kt(""+bt,Ct.mode,jt),bt.return=Ct,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case u:return jt=wt(bt.type,bt.key,bt.props,null,Ct.mode,jt),jt.ref=Uo(Ct,null,bt),jt.return=Ct,jt;case h:return bt=Bt(bt,Ct.mode,jt),bt.return=Ct,bt}if(Dl(bt)||Y(bt))return bt=Mt(bt,Ct.mode,jt,null),bt.return=Ct,bt;qc(Ct,bt)}return null}function ge(Ct,bt,jt,ve){var ke=bt!==null?bt.key:null;if(typeof jt=="string"||typeof jt=="number")return ke!==null?null:mt(Ct,bt,""+jt,ve);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case u:return jt.key===ke?jt.type===m?ce(Ct,bt,jt.props.children,ve,ke):yt(Ct,bt,jt,ve):null;case h:return jt.key===ke?qt(Ct,bt,jt,ve):null}if(Dl(jt)||Y(jt))return ke!==null?null:ce(Ct,bt,jt,ve,null);qc(Ct,jt)}return null}function Be(Ct,bt,jt,ve,ke){if(typeof ve=="string"||typeof ve=="number")return Ct=Ct.get(jt)||null,mt(bt,Ct,""+ve,ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case u:return Ct=Ct.get(ve.key===null?jt:ve.key)||null,ve.type===m?ce(bt,Ct,ve.props.children,ke,ve.key):yt(bt,Ct,ve,ke);case h:return Ct=Ct.get(ve.key===null?jt:ve.key)||null,qt(bt,Ct,ve,ke)}if(Dl(ve)||Y(ve))return Ct=Ct.get(jt)||null,ce(bt,Ct,ve,ke,null);qc(bt,ve)}return null}function Ne(Ct,bt,jt,ve){for(var ke=null,Kn=null,qe=bt,Mn=bt=0,gr=null;qe!==null&&Mn<jt.length;Mn++){qe.index>Mn?(gr=qe,qe=null):gr=qe.sibling;var $e=ge(Ct,qe,jt[Mn],ve);if($e===null){qe===null&&(qe=gr);break}f&&qe&&$e.alternate===null&&p(Ct,qe),bt=H($e,bt,Mn),Kn===null?ke=$e:Kn.sibling=$e,Kn=$e,qe=gr}if(Mn===jt.length)return b(Ct,qe),ke;if(qe===null){for(;Mn<jt.length;Mn++)qe=he(Ct,jt[Mn],ve),qe!==null&&(bt=H(qe,bt,Mn),Kn===null?ke=qe:Kn.sibling=qe,Kn=qe);return ke}for(qe=I(Ct,qe);Mn<jt.length;Mn++)gr=Be(qe,Ct,Mn,jt[Mn],ve),gr!==null&&(f&&gr.alternate!==null&&qe.delete(gr.key===null?Mn:gr.key),bt=H(gr,bt,Mn),Kn===null?ke=gr:Kn.sibling=gr,Kn=gr);return f&&qe.forEach(function(Vr){return p(Ct,Vr)}),ke}function cn(Ct,bt,jt,ve){var ke=Y(jt);if(typeof ke!="function")throw Error(a(150));if(jt=ke.call(jt),jt==null)throw Error(a(151));for(var Kn=ke=null,qe=bt,Mn=bt=0,gr=null,$e=jt.next();qe!==null&&!$e.done;Mn++,$e=jt.next()){qe.index>Mn?(gr=qe,qe=null):gr=qe.sibling;var Vr=ge(Ct,qe,$e.value,ve);if(Vr===null){qe===null&&(qe=gr);break}f&&qe&&Vr.alternate===null&&p(Ct,qe),bt=H(Vr,bt,Mn),Kn===null?ke=Vr:Kn.sibling=Vr,Kn=Vr,qe=gr}if($e.done)return b(Ct,qe),ke;if(qe===null){for(;!$e.done;Mn++,$e=jt.next())$e=he(Ct,$e.value,ve),$e!==null&&(bt=H($e,bt,Mn),Kn===null?ke=$e:Kn.sibling=$e,Kn=$e);return ke}for(qe=I(Ct,qe);!$e.done;Mn++,$e=jt.next())$e=Be(qe,Ct,Mn,$e.value,ve),$e!==null&&(f&&$e.alternate!==null&&qe.delete($e.key===null?Mn:$e.key),bt=H($e,bt,Mn),Kn===null?ke=$e:Kn.sibling=$e,Kn=$e);return f&&qe.forEach(function(zp){return p(Ct,zp)}),ke}return function(Ct,bt,jt,ve){var ke=typeof jt=="object"&&jt!==null&&jt.type===m&&jt.key===null;ke&&(jt=jt.props.children);var Kn=typeof jt=="object"&&jt!==null;if(Kn)switch(jt.$$typeof){case u:t:{for(Kn=jt.key,ke=bt;ke!==null;){if(ke.key===Kn){switch(ke.tag){case 7:if(jt.type===m){b(Ct,ke.sibling),bt=k(ke,jt.props.children),bt.return=Ct,Ct=bt;break t}break;default:if(ke.elementType===jt.type){b(Ct,ke.sibling),bt=k(ke,jt.props),bt.ref=Uo(Ct,ke,jt),bt.return=Ct,Ct=bt;break t}}b(Ct,ke);break}else p(Ct,ke);ke=ke.sibling}jt.type===m?(bt=Mt(jt.props.children,Ct.mode,ve,jt.key),bt.return=Ct,Ct=bt):(ve=wt(jt.type,jt.key,jt.props,null,Ct.mode,ve),ve.ref=Uo(Ct,bt,jt),ve.return=Ct,Ct=ve)}return st(Ct);case h:t:{for(ke=jt.key;bt!==null;){if(bt.key===ke)if(bt.tag===4&&bt.stateNode.containerInfo===jt.containerInfo&&bt.stateNode.implementation===jt.implementation){b(Ct,bt.sibling),bt=k(bt,jt.children||[]),bt.return=Ct,Ct=bt;break t}else{b(Ct,bt);break}else p(Ct,bt);bt=bt.sibling}bt=Bt(jt,Ct.mode,ve),bt.return=Ct,Ct=bt}return st(Ct)}if(typeof jt=="string"||typeof jt=="number")return jt=""+jt,bt!==null&&bt.tag===6?(b(Ct,bt.sibling),bt=k(bt,jt),bt.return=Ct,Ct=bt):(b(Ct,bt),bt=kt(jt,Ct.mode,ve),bt.return=Ct,Ct=bt),st(Ct);if(Dl(jt))return Ne(Ct,bt,jt,ve);if(Y(jt))return cn(Ct,bt,jt,ve);if(Kn&&qc(Ct,jt),typeof jt=="undefined"&&!ke)switch(Ct.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,z(Ct.type)||"Component"))}return b(Ct,bt)}}var kl=Uu(!0),Xc=Uu(!1),Ol={},gs=pn(Ol),Zc=pn(Ol),_a=pn(Ol);function js(f){if(f===Ol)throw Error(a(174));return f}function Fl(f,p){un(_a,p),un(Zc,f),un(gs,Ol),f=ut(p),Wn(gs),un(gs,f)}function Bl(){Wn(gs),Wn(Zc),Wn(_a)}function ys(f){var p=js(_a.current),b=js(gs.current);p=j(b,f.type,p),b!==p&&(un(Zc,f),un(gs,p))}function Kc(f){Zc.current===f&&(Wn(gs),Wn(Zc))}var vr=pn(0);function Jc(f){for(var p=f;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Xt(b)||$t(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&64)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Vo=null,Nl=null,Ho=!1;function Eg(f,p){var b=R(5,null,null,0);b.elementType="DELETED",b.type="DELETED",b.stateNode=p,b.return=f,b.flags=8,f.lastEffect!==null?(f.lastEffect.nextEffect=b,f.lastEffect=b):f.firstEffect=f.lastEffect=b}function hp(f,p){switch(f.tag){case 5:return p=ot(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,!0):!1;case 6:return p=zt(p,f.pendingProps),p!==null?(f.stateNode=p,!0):!1;case 13:return!1;default:return!1}}function Ah(f){if(Ho){var p=Nl;if(p){var b=p;if(!hp(f,p)){if(p=te(b),!p||!hp(f,p)){f.flags=f.flags&-1025|2,Ho=!1,Vo=f;return}Eg(Vo,b)}Vo=f,Nl=Ze(p)}else f.flags=f.flags&-1025|2,Ho=!1,Vo=f}}function zl(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Vo=f}function Ch(f){if(!vt||f!==Vo)return!1;if(!Ho)return zl(f),Ho=!0,!1;var p=f.type;if(f.tag!==5||p!=="head"&&p!=="body"&&!se(p,f.memoizedProps))for(p=Nl;p;)Eg(f,p),p=te(p);if(zl(f),f.tag===13){if(!vt)throw Error(a(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));Nl=fn(f)}else Nl=Vo?te(f.stateNode):null;return!0}function dp(){vt&&(Nl=Vo=null,Ho=!1)}var Wo=[];function Qc(){for(var f=0;f<Wo.length;f++){var p=Wo[f];Yt?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Wo.length=0}var Ps=l.ReactCurrentDispatcher,ji=l.ReactCurrentBatchConfig,Vu=0,Dr=null,Yi=null,zr=null,vs=!1,Hu=!1;function _s(){throw Error(a(321))}function pp(f,p){if(p===null)return!1;for(var b=0;b<p.length&&b<f.length;b++)if(!Ls(f[b],p[b]))return!1;return!0}function mp(f,p,b,I,k,H){if(Vu=H,Dr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Ps.current=f===null||f.memoizedState===null?rv:Ph,f=b(I,k),Hu){H=0;do{if(Hu=!1,!(25>H))throw Error(a(301));H+=1,zr=Yi=null,p.updateQueue=null,Ps.current=Ka,f=b(I,k)}while(Hu)}if(Ps.current=Lh,p=Yi!==null&&Yi.next!==null,Vu=0,zr=Yi=Dr=null,vs=!1,p)throw Error(a(300));return f}function wa(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?Dr.memoizedState=zr=f:zr=zr.next=f,zr}function Go(){if(Yi===null){var f=Dr.alternate;f=f!==null?f.memoizedState:null}else f=Yi.next;var p=zr===null?Dr.memoizedState:zr.next;if(p!==null)zr=p,Yi=f;else{if(f===null)throw Error(a(310));Yi=f,f={memoizedState:Yi.memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},zr===null?Dr.memoizedState=zr=f:zr=zr.next=f}return zr}function Li(f,p){return typeof p=="function"?p(f):p}function At(f){var p=Go(),b=p.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=f;var I=Yi,k=I.baseQueue,H=b.pending;if(H!==null){if(k!==null){var st=k.next;k.next=H.next,H.next=st}I.baseQueue=k=H,b.pending=null}if(k!==null){k=k.next,I=I.baseState;var mt=st=H=null,yt=k;do{var qt=yt.lane;if((Vu&qt)===qt)mt!==null&&(mt=mt.next={lane:0,action:yt.action,eagerReducer:yt.eagerReducer,eagerState:yt.eagerState,next:null}),I=yt.eagerReducer===f?yt.eagerState:f(I,yt.action);else{var ce={lane:qt,action:yt.action,eagerReducer:yt.eagerReducer,eagerState:yt.eagerState,next:null};mt===null?(st=mt=ce,H=I):mt=mt.next=ce,Dr.lanes|=qt,df|=qt}yt=yt.next}while(yt!==null&&yt!==k);mt===null?H=I:mt.next=st,Ls(I,p.memoizedState)||(Ys=!0),p.memoizedState=I,p.baseState=H,p.baseQueue=mt,b.lastRenderedState=I}return[p.memoizedState,b.dispatch]}function Zt(f){var p=Go(),b=p.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=f;var I=b.dispatch,k=b.pending,H=p.memoizedState;if(k!==null){b.pending=null;var st=k=k.next;do H=f(H,st.action),st=st.next;while(st!==k);Ls(H,p.memoizedState)||(Ys=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),b.lastRenderedState=H}return[H,I]}function Ut(f,p,b){var I=p._getVersion;I=I(p._source);var k=Yt?p._workInProgressVersionPrimary:p._workInProgressVersionSecondary;if(k!==null?f=k===I:(f=f.mutableReadLanes,(f=(Vu&f)===f)&&(Yt?p._workInProgressVersionPrimary=I:p._workInProgressVersionSecondary=I,Wo.push(p))),f)return b(p._source);throw Wo.push(p),Error(a(350))}function Ce(f,p,b,I){var k=Ar;if(k===null)throw Error(a(349));var H=p._getVersion,st=H(p._source),mt=Ps.current,yt=mt.useState(function(){return Ut(k,p,b)}),qt=yt[1],ce=yt[0];yt=zr;var he=f.memoizedState,ge=he.refs,Be=ge.getSnapshot,Ne=he.source;he=he.subscribe;var cn=Dr;return f.memoizedState={refs:ge,source:p,subscribe:I},mt.useEffect(function(){ge.getSnapshot=b,ge.setSnapshot=qt;var Ct=H(p._source);if(!Ls(st,Ct)){Ct=b(p._source),Ls(ce,Ct)||(qt(Ct),Ct=Oi(cn),k.mutableReadLanes|=Ct&k.pendingLanes),Ct=k.mutableReadLanes,k.entangledLanes|=Ct;for(var bt=k.entanglements,jt=Ct;0<jt;){var ve=31-Is(jt),ke=1<<ve;bt[ve]|=Ct,jt&=~ke}}},[b,p,I]),mt.useEffect(function(){return I(p._source,function(){var Ct=ge.getSnapshot,bt=ge.setSnapshot;try{bt(Ct(p._source));var jt=Oi(cn);k.mutableReadLanes|=jt&k.pendingLanes}catch(ve){bt(function(){throw ve})}})},[p,I]),Ls(Be,b)&&Ls(Ne,p)&&Ls(he,I)||(f={pending:null,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ce},f.dispatch=qt=yp.bind(null,Dr,f),yt.queue=f,yt.baseQueue=null,ce=Ut(k,p,b),yt.memoizedState=yt.baseState=ce),ce}function rn(f,p,b){var I=Go();return Ce(I,f,p,b)}function Gn(f){var p=wa();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f=p.queue={pending:null,dispatch:null,lastRenderedReducer:Li,lastRenderedState:f},f=f.dispatch=yp.bind(null,Dr,f),[p.memoizedState,f]}function Ur(f,p,b,I){return f={tag:f,create:p,destroy:b,deps:I,next:null},p=Dr.updateQueue,p===null?(p={lastEffect:null},Dr.updateQueue=p,p.lastEffect=f.next=f):(b=p.lastEffect,b===null?p.lastEffect=f.next=f:(I=b.next,b.next=f,f.next=I,p.lastEffect=f)),f}function ir(f){var p=wa();return f={current:f},p.memoizedState=f}function Wu(){return Go().memoizedState}function Gu(f,p,b,I){var k=wa();Dr.flags|=f,k.memoizedState=Ur(1|p,b,void 0,I===void 0?null:I)}function ws(f,p,b,I){var k=Go();I=I===void 0?null:I;var H=void 0;if(Yi!==null){var st=Yi.memoizedState;if(H=st.destroy,I!==null&&pp(I,st.deps)){Ur(p,b,H,I);return}}Dr.flags|=f,k.memoizedState=Ur(1|p,b,H,I)}function tf(f,p){return Gu(516,4,f,p)}function ef(f,p){return ws(516,4,f,p)}function xa(f,p){return ws(4,2,f,p)}function nf(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function rf(f,p,b){return b=b!=null?b.concat([f]):null,ws(4,2,nf.bind(null,p,f),b)}function tr(){}function gp(f,p){var b=Go();p=p===void 0?null:p;var I=b.memoizedState;return I!==null&&p!==null&&pp(p,I[1])?I[0]:(b.memoizedState=[f,p],f)}function Ih(f,p){var b=Go();p=p===void 0?null:p;var I=b.memoizedState;return I!==null&&p!==null&&pp(p,I[1])?I[0]:(f=f(),b.memoizedState=[f,p],f)}function Rh(f,p){var b=Qn();co(98>b?98:b,function(){f(!0)}),co(97<b?97:b,function(){var I=ji.transition;ji.transition=1;try{f(!1),p()}finally{ji.transition=I}})}function yp(f,p,b){var I=ls(),k=Oi(f),H={lane:k,action:b,eagerReducer:null,eagerState:null,next:null},st=p.pending;if(st===null?H.next=H:(H.next=st.next,st.next=H),p.pending=H,st=f.alternate,f===Dr||st!==null&&st===Dr)Hu=vs=!0;else{if(f.lanes===0&&(st===null||st.lanes===0)&&(st=p.lastRenderedReducer,st!==null))try{var mt=p.lastRenderedState,yt=st(mt,b);if(H.eagerReducer=st,H.eagerState=yt,Ls(yt,mt))return}catch{}finally{}mo(f,k,I)}}var Lh={readContext:$s,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useOpaqueIdentifier:_s,unstable_isNewReconciler:!1},rv={readContext:$s,useCallback:function(f,p){return wa().memoizedState=[f,p===void 0?null:p],f},useContext:$s,useEffect:tf,useImperativeHandle:function(f,p,b){return b=b!=null?b.concat([f]):null,Gu(4,2,nf.bind(null,p,f),b)},useLayoutEffect:function(f,p){return Gu(4,2,f,p)},useMemo:function(f,p){var b=wa();return p=p===void 0?null:p,f=f(),b.memoizedState=[f,p],f},useReducer:function(f,p,b){var I=wa();return p=b!==void 0?b(p):p,I.memoizedState=I.baseState=p,f=I.queue={pending:null,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},f=f.dispatch=yp.bind(null,Dr,f),[I.memoizedState,f]},useRef:ir,useState:Gn,useDebugValue:tr,useDeferredValue:function(f){var p=Gn(f),b=p[0],I=p[1];return tf(function(){var k=ji.transition;ji.transition=1;try{I(f)}finally{ji.transition=k}},[f]),b},useTransition:function(){var f=Gn(!1),p=f[0];return f=Rh.bind(null,f[1]),ir(f),[f,p]},useMutableSource:function(f,p,b){var I=wa();return I.memoizedState={refs:{getSnapshot:p,setSnapshot:null},source:f,subscribe:b},Ce(I,f,p,b)},useOpaqueIdentifier:function(){if(Ho){var f=!1,p=J(function(){throw f||(f=!0,b(dt())),Error(a(355))}),b=Gn(p)[1];return(Dr.mode&2)===0&&(Dr.flags|=516,Ur(5,function(){b(dt())},void 0,null)),p}return p=dt(),Gn(p),p},unstable_isNewReconciler:!1},Ph={readContext:$s,useCallback:gp,useContext:$s,useEffect:ef,useImperativeHandle:rf,useLayoutEffect:xa,useMemo:Ih,useReducer:At,useRef:Wu,useState:function(){return At(Li)},useDebugValue:tr,useDeferredValue:function(f){var p=At(Li),b=p[0],I=p[1];return ef(function(){var k=ji.transition;ji.transition=1;try{I(f)}finally{ji.transition=k}},[f]),b},useTransition:function(){var f=At(Li)[0];return[Wu().current,f]},useMutableSource:rn,useOpaqueIdentifier:function(){return At(Li)[0]},unstable_isNewReconciler:!1},Ka={readContext:$s,useCallback:gp,useContext:$s,useEffect:ef,useImperativeHandle:rf,useLayoutEffect:xa,useMemo:Ih,useReducer:Zt,useRef:Wu,useState:function(){return Zt(Li)},useDebugValue:tr,useDeferredValue:function(f){var p=Zt(Li),b=p[0],I=p[1];return ef(function(){var k=ji.transition;ji.transition=1;try{I(f)}finally{ji.transition=k}},[f]),b},useTransition:function(){var f=Zt(Li)[0];return[Wu().current,f]},useMutableSource:rn,useOpaqueIdentifier:function(){return Zt(Li)[0]},unstable_isNewReconciler:!1},Dh=l.ReactCurrentOwner,Ys=!1;function Pi(f,p,b,I){p.child=f===null?Xc(p,null,b,I):kl(p,f.child,b,I)}function vp(f,p,b,I,k){b=b.render;var H=p.ref;return Ei(p,k),I=mp(f,p,b,I,H,k),f!==null&&!Ys?(p.updateQueue=f.updateQueue,p.flags&=-517,f.lanes&=~k,mr(f,p,k)):(p.flags|=1,Pi(f,p,I,k),p.child)}function _p(f,p,b,I,k,H){if(f===null){var st=b.type;return typeof st=="function"&&!N(st)&&st.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=st,sf(f,p,st,I,k,H)):(f=wt(b.type,null,I,p,p.mode,H),f.ref=p.ref,f.return=p,p.child=f)}return st=f.child,(k&H)===0&&(k=st.memoizedProps,b=b.compare,b=b!==null?b:Nu,b(k,I)&&f.ref===p.ref)?mr(f,p,H):(p.flags|=1,f=Q(st,I),f.ref=p.ref,f.return=p,p.child=f)}function sf(f,p,b,I,k,H){if(f!==null&&Nu(f.memoizedProps,I)&&f.ref===p.ref)if(Ys=!1,(H&k)!==0)(f.flags&16384)!==0&&(Ys=!0);else return p.lanes=f.lanes,mr(f,p,H);return $o(f,p,b,I,H)}function kh(f,p,b){var I=p.pendingProps,k=I.children,H=f!==null?f.memoizedState:null;if(I.mode==="hidden"||I.mode==="unstable-defer-without-hiding")if((p.mode&4)===0)p.memoizedState={baseLanes:0},Kl(p,b);else if((b&1073741824)!==0)p.memoizedState={baseLanes:0},Kl(p,H!==null?H.baseLanes:b);else return f=H!==null?H.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f},Kl(p,f),null;else H!==null?(I=H.baseLanes|b,p.memoizedState=null):I=b,Kl(p,I);return Pi(f,p,k,b),p.child}function $u(f,p){var b=p.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(p.flags|=128)}function $o(f,p,b,I,k){var H=Mr(b)?Ws:Sr.current;return H=Er(p,H),Ei(p,k),b=mp(f,p,b,I,H,k),f!==null&&!Ys?(p.updateQueue=f.updateQueue,p.flags&=-517,f.lanes&=~k,mr(f,p,k)):(p.flags|=1,Pi(f,p,b,k),p.child)}function ju(f,p,b,I,k){if(Mr(b)){var H=!0;zc(p)}else H=!1;if(Ei(p,k),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),bg(p,b,I),Th(p,b,I,k),I=!0;else if(f===null){var st=p.stateNode,mt=p.memoizedProps;st.props=mt;var yt=st.context,qt=b.contextType;typeof qt=="object"&&qt!==null?qt=$s(qt):(qt=Mr(b)?Ws:Sr.current,qt=Er(p,qt));var ce=b.getDerivedStateFromProps,he=typeof ce=="function"||typeof st.getSnapshotBeforeUpdate=="function";he||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(mt!==I||yt!==qt)&&Sg(p,st,I,qt),li=!1;var ge=p.memoizedState;st.state=ge,dr(p,I,st,k),yt=p.memoizedState,mt!==I||ge!==yt||qr.current||li?(typeof ce=="function"&&(Mh(p,b,ce,I),yt=p.memoizedState),(mt=li||xg(p,b,mt,I,ge,yt,qt))?(he||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(p.flags|=4)):(typeof st.componentDidMount=="function"&&(p.flags|=4),p.memoizedProps=I,p.memoizedState=yt),st.props=I,st.state=yt,st.context=qt,I=mt):(typeof st.componentDidMount=="function"&&(p.flags|=4),I=!1)}else{st=p.stateNode,fp(f,p),mt=p.memoizedProps,qt=p.type===p.elementType?mt:Gs(p.type,mt),st.props=qt,he=p.pendingProps,ge=st.context,yt=b.contextType,typeof yt=="object"&&yt!==null?yt=$s(yt):(yt=Mr(b)?Ws:Sr.current,yt=Er(p,yt));var Be=b.getDerivedStateFromProps;(ce=typeof Be=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(mt!==he||ge!==yt)&&Sg(p,st,I,yt),li=!1,ge=p.memoizedState,st.state=ge,dr(p,I,st,k);var Ne=p.memoizedState;mt!==he||ge!==Ne||qr.current||li?(typeof Be=="function"&&(Mh(p,b,Be,I),Ne=p.memoizedState),(qt=li||xg(p,b,qt,I,ge,Ne,yt))?(ce||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(I,Ne,yt),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(I,Ne,yt)),typeof st.componentDidUpdate=="function"&&(p.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(p.flags|=256)):(typeof st.componentDidUpdate!="function"||mt===f.memoizedProps&&ge===f.memoizedState||(p.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||mt===f.memoizedProps&&ge===f.memoizedState||(p.flags|=256),p.memoizedProps=I,p.memoizedState=Ne),st.props=I,st.state=Ne,st.context=yt,I=qt):(typeof st.componentDidUpdate!="function"||mt===f.memoizedProps&&ge===f.memoizedState||(p.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||mt===f.memoizedProps&&ge===f.memoizedState||(p.flags|=256),I=!1)}return wp(f,p,b,I,H,k)}function wp(f,p,b,I,k,H){$u(f,p);var st=(p.flags&64)!==0;if(!I&&!st)return k&&sp(p,b,!1),mr(f,p,H);I=p.stateNode,Dh.current=p;var mt=st&&typeof b.getDerivedStateFromError!="function"?null:I.render();return p.flags|=1,f!==null&&st?(p.child=kl(p,f.child,null,H),p.child=kl(p,null,mt,H)):Pi(f,p,mt,H),p.memoizedState=I.state,k&&sp(p,b,!0),p.child}function xp(f){var p=f.stateNode;p.pendingContext?bi(f,p.pendingContext,p.pendingContext!==p.context):p.context&&bi(f,p.context,!1),Fl(f,p.containerInfo)}var Oh={dehydrated:null,retryLane:0};function of(f,p,b){var I=p.pendingProps,k=vr.current,H=!1,st;return(st=(p.flags&64)!==0)||(st=f!==null&&f.memoizedState===null?!1:(k&2)!==0),st?(H=!0,p.flags&=-65):f!==null&&f.memoizedState===null||I.fallback===void 0||I.unstable_avoidThisFallback===!0||(k|=1),un(vr,k&1),f===null?(I.fallback!==void 0&&Ah(p),f=I.children,k=I.fallback,H?(f=ho(p,f,k,b),p.child.memoizedState={baseLanes:b},p.memoizedState=Oh,f):typeof I.unstable_expectedLoadTime=="number"?(f=ho(p,f,k,b),p.child.memoizedState={baseLanes:b},p.memoizedState=Oh,p.lanes=33554432,f):(b=pt({mode:"visible",children:f},p.mode,b,null),b.return=p,p.child=b)):f.memoizedState!==null?H?(I=Mg(f,p,I.children,I.fallback,b),H=p.child,k=f.child.memoizedState,H.memoizedState=k===null?{baseLanes:b}:{baseLanes:k.baseLanes|b},H.childLanes=f.childLanes&~b,p.memoizedState=Oh,I):(b=Fh(f,p,I.children,b),p.memoizedState=null,b):H?(I=Mg(f,p,I.children,I.fallback,b),H=p.child,k=f.child.memoizedState,H.memoizedState=k===null?{baseLanes:b}:{baseLanes:k.baseLanes|b},H.childLanes=f.childLanes&~b,p.memoizedState=Oh,I):(b=Fh(f,p,I.children,b),p.memoizedState=null,b)}function ho(f,p,b,I){var k=f.mode,H=f.child;return p={mode:"hidden",children:p},(k&2)===0&&H!==null?(H.childLanes=0,H.pendingProps=p):H=pt(p,k,0,null),b=Mt(b,k,I,null),H.return=f,b.return=f,H.sibling=b,f.child=H,b}function Fh(f,p,b,I){var k=f.child;return f=k.sibling,b=Q(k,{mode:"visible",children:b}),(p.mode&2)===0&&(b.lanes=I),b.return=p,b.sibling=null,f!==null&&(f.nextEffect=null,f.flags=8,p.firstEffect=p.lastEffect=f),p.child=b}function Mg(f,p,b,I,k){var H=p.mode,st=f.child;f=st.sibling;var mt={mode:"hidden",children:b};return(H&2)===0&&p.child!==st?(b=p.child,b.childLanes=0,b.pendingProps=mt,st=b.lastEffect,st!==null?(p.firstEffect=b.firstEffect,p.lastEffect=st,st.nextEffect=null):p.firstEffect=p.lastEffect=null):b=Q(st,mt),f!==null?I=Q(f,I):(I=Mt(I,H,k,null),I.flags|=2),I.return=p,b.return=p,b.sibling=I,p.child=b,I}function Ja(f,p){f.lanes|=p;var b=f.alternate;b!==null&&(b.lanes|=p),up(f.return,p)}function bp(f,p,b,I,k,H){var st=f.memoizedState;st===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:I,tail:b,tailMode:k,lastEffect:H}:(st.isBackwards=p,st.rendering=null,st.renderingStartTime=0,st.last=I,st.tail=b,st.tailMode=k,st.lastEffect=H)}function Tg(f,p,b){var I=p.pendingProps,k=I.revealOrder,H=I.tail;if(Pi(f,p,I.children,b),I=vr.current,(I&2)!==0)I=I&1|2,p.flags|=64;else{if(f!==null&&(f.flags&64)!==0)t:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Ja(f,b);else if(f.tag===19)Ja(f,b);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break t;for(;f.sibling===null;){if(f.return===null||f.return===p)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}I&=1}if(un(vr,I),(p.mode&2)===0)p.memoizedState=null;else switch(k){case"forwards":for(b=p.child,k=null;b!==null;)f=b.alternate,f!==null&&Jc(f)===null&&(k=b),b=b.sibling;b=k,b===null?(k=p.child,p.child=null):(k=b.sibling,b.sibling=null),bp(p,!1,k,b,H,p.lastEffect);break;case"backwards":for(b=null,k=p.child,p.child=null;k!==null;){if(f=k.alternate,f!==null&&Jc(f)===null){p.child=k;break}f=k.sibling,k.sibling=b,b=k,k=f}bp(p,!0,b,null,H,p.lastEffect);break;case"together":bp(p,!1,null,null,void 0,p.lastEffect);break;default:p.memoizedState=null}return p.child}function mr(f,p,b){if(f!==null&&(p.dependencies=f.dependencies),df|=p.lanes,(b&p.childLanes)!==0){if(f!==null&&p.child!==f.child)throw Error(a(153));if(p.child!==null){for(f=p.child,b=Q(f,f.pendingProps),p.child=b,b.return=p;f.sibling!==null;)f=f.sibling,b=b.sibling=Q(f,f.pendingProps),b.return=p;b.sibling=null}return p.child}return null}function Tr(f){f.flags|=4}var af,Ul,Di,lf;if(O)af=function(f,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)Pt(f,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Ul=function(){},Di=function(f,p,b,I,k){if(f=f.memoizedProps,f!==I){var H=p.stateNode,st=js(gs.current);b=Ee(H,b,f,I,k,st),(p.updateQueue=b)&&Tr(p)}},lf=function(f,p,b,I){b!==I&&Tr(p)};else if(Tt){af=function(f,p,b,I){for(var k=p.child;k!==null;){if(k.tag===5){var H=k.stateNode;b&&I&&(H=Ou(H,k.type,k.memoizedProps,k)),Pt(f,H)}else if(k.tag===6)H=k.stateNode,b&&I&&(H=Nc(H,k.memoizedProps,k)),Pt(f,H);else if(k.tag!==4){if(k.tag===13&&(k.flags&4)!==0&&(H=k.memoizedState!==null)){var st=k.child;if(st!==null&&(st.child!==null&&(st.child.return=st,af(f,st,!0,H)),H=st.sibling,H!==null)){H.return=k,k=H;continue}}if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===p)break;for(;k.sibling===null;){if(k.return===null||k.return===p)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};var uf=function(f,p,b,I){for(var k=p.child;k!==null;){if(k.tag===5){var H=k.stateNode;b&&I&&(H=Ou(H,k.type,k.memoizedProps,k)),ku(f,H)}else if(k.tag===6)H=k.stateNode,b&&I&&(H=Nc(H,k.memoizedProps,k)),ku(f,H);else if(k.tag!==4){if(k.tag===13&&(k.flags&4)!==0&&(H=k.memoizedState!==null)){var st=k.child;if(st!==null&&(st.child!==null&&(st.child.return=st,uf(f,st,!0,H)),H=st.sibling,H!==null)){H.return=k,k=H;continue}}if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===p)break;for(;k.sibling===null;){if(k.return===null||k.return===p)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};Ul=function(f){var p=f.stateNode;if(f.firstEffect!==null){var b=p.containerInfo,I=Bc(b);uf(I,f,!1,!1),p.pendingChildren=I,Tr(f),ph(b,I)}},Di=function(f,p,b,I,k){var H=f.stateNode,st=f.memoizedProps;if((f=p.firstEffect===null)&&st===I)p.stateNode=H;else{var mt=p.stateNode,yt=js(gs.current),qt=null;st!==I&&(qt=Ee(mt,b,st,I,k,yt)),f&&qt===null?p.stateNode=H:(H=Du(H,qt,b,st,I,p,f,mt),Ot(H,b,I,k,yt)&&Tr(p),p.stateNode=H,f?Tr(p):af(H,p,!1,!1))}},lf=function(f,p,b,I){b!==I?(f=js(_a.current),b=js(gs.current),p.stateNode=fe(I,f,b,p),Tr(p)):p.stateNode=f.stateNode}}else Ul=function(){},Di=function(){},lf=function(){};function qs(f,p){if(!Ho)switch(f.tailMode){case"hidden":p=f.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var I=null;b!==null;)b.alternate!==null&&(I=b),b=b.sibling;I===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:I.sibling=null}}function Bh(f,p,b){var I=p.pendingProps;switch(p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Mr(p.type)&&zo(),null;case 3:return Bl(),Wn(qr),Wn(Sr),Qc(),I=p.stateNode,I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(f===null||f.child===null)&&(Ch(p)?Tr(p):I.hydrate||(p.flags|=256)),Ul(p),null;case 5:Kc(p);var k=js(_a.current);if(b=p.type,f!==null&&p.stateNode!=null)Di(f,p,b,I,k),f.ref!==p.ref&&(p.flags|=128);else{if(!I){if(p.stateNode===null)throw Error(a(166));return null}if(f=js(gs.current),Ch(p)){if(!vt)throw Error(a(175));f=on(p.stateNode,p.type,p.memoizedProps,k,f,p),p.updateQueue=f,f!==null&&Tr(p)}else{var H=Lt(b,I,k,f,p);af(H,p,!1,!1),p.stateNode=H,Ot(H,b,I,k,f)&&Tr(p)}p.ref!==null&&(p.flags|=128)}return null;case 6:if(f&&p.stateNode!=null)lf(f,p,f.memoizedProps,I);else{if(typeof I!="string"&&p.stateNode===null)throw Error(a(166));if(f=js(_a.current),k=js(gs.current),Ch(p)){if(!vt)throw Error(a(176));dn(p.stateNode,p.memoizedProps,p)&&Tr(p)}else p.stateNode=fe(I,f,k,p)}return null;case 13:return Wn(vr),I=p.memoizedState,(p.flags&64)!==0?(p.lanes=b,p):(I=I!==null,k=!1,f===null?p.memoizedProps.fallback!==void 0&&Ch(p):k=f.memoizedState!==null,I&&!k&&(p.mode&2)!==0&&(f===null&&p.memoizedProps.unstable_avoidThisFallback!==!0||(vr.current&1)!==0?ki===0&&(ki=3):((ki===0||ki===3)&&(ki=4),Ar===null||(df&134217727)===0&&(Ku&134217727)===0||Zr(Ar,Xr))),Tt&&I&&(p.flags|=4),O&&(I||k)&&(p.flags|=4),null);case 4:return Bl(),Ul(p),f===null&&G(p.stateNode.containerInfo),null;case 10:return Sh(p),null;case 17:return Mr(p.type)&&zo(),null;case 19:if(Wn(vr),I=p.memoizedState,I===null)return null;if(k=(p.flags&64)!==0,H=I.rendering,H===null)if(k)qs(I,!1);else{if(ki!==0||f!==null&&(f.flags&64)!==0)for(f=p.child;f!==null;){if(H=Jc(f),H!==null){for(p.flags|=64,qs(I,!1),f=H.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),I.lastEffect===null&&(p.firstEffect=null),p.lastEffect=I.lastEffect,f=b,I=p.child;I!==null;)k=I,b=f,k.flags&=2,k.nextEffect=null,k.firstEffect=null,k.lastEffect=null,H=k.alternate,H===null?(k.childLanes=0,k.lanes=b,k.child=null,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=H.childLanes,k.lanes=H.lanes,k.child=H.child,k.memoizedProps=H.memoizedProps,k.memoizedState=H.memoizedState,k.updateQueue=H.updateQueue,k.type=H.type,b=H.dependencies,k.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),I=I.sibling;return un(vr,vr.current&1|2),p.child}f=f.sibling}I.tail!==null&&hn()>Yo&&(p.flags|=64,k=!0,qs(I,!1),p.lanes=33554432)}else{if(!k)if(f=Jc(H),f!==null){if(p.flags|=64,k=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),qs(I,!0),I.tail===null&&I.tailMode==="hidden"&&!H.alternate&&!Ho)return p=p.lastEffect=I.lastEffect,p!==null&&(p.nextEffect=null),null}else 2*hn()-I.renderingStartTime>Yo&&b!==1073741824&&(p.flags|=64,k=!0,qs(I,!1),p.lanes=33554432);I.isBackwards?(H.sibling=p.child,p.child=H):(f=I.last,f!==null?f.sibling=H:p.child=H,I.last=H)}return I.tail!==null?(f=I.tail,I.rendering=f,I.tail=f.sibling,I.lastEffect=p.lastEffect,I.renderingStartTime=hn(),f.sibling=null,p=vr.current,un(vr,k?p&1|2:p&1),f):null;case 23:case 24:return $h(),f!==null&&f.memoizedState!==null!=(p.memoizedState!==null)&&I.mode!=="unstable-defer-without-hiding"&&(p.flags|=4),null}throw Error(a(156,p.tag))}function Vl(f){switch(f.tag){case 1:Mr(f.type)&&zo();var p=f.flags;return p&4096?(f.flags=p&-4097|64,f):null;case 3:if(Bl(),Wn(qr),Wn(Sr),Qc(),p=f.flags,(p&64)!==0)throw Error(a(285));return f.flags=p&-4097|64,f;case 5:return Kc(f),null;case 13:return Wn(vr),p=f.flags,p&4096?(f.flags=p&-4097|64,f):null;case 19:return Wn(vr),null;case 4:return Bl(),null;case 10:return Sh(f),null;case 23:case 24:return $h(),null;default:return null}}function Hl(f,p){try{var b="",I=p;do b+=Rl(I),I=I.return;while(I);var k=b}catch(H){k=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:p,stack:k}}function Qa(f,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var Yu=typeof WeakMap=="function"?WeakMap:Map;function Wl(f,p,b){b=as(-1,b),b.tag=3,b.payload={element:null};var I=p.value;return b.callback=function(){Ks||(Ks=!0,mf=I),Qa(f,p)},b}function Sp(f,p,b){b=as(-1,b),b.tag=3;var I=f.type.getDerivedStateFromError;if(typeof I=="function"){var k=p.value;b.payload=function(){return Qa(f,p),I(k)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(b.callback=function(){typeof I!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this),Qa(f,p));var st=p.stack;this.componentDidCatch(p.value,{componentStack:st!==null?st:""})}),b}var Ag=typeof WeakSet=="function"?WeakSet:Set;function Cg(f){var p=f.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Aa(f,b)}else p.current=null}function iv(f,p){switch(p.tag){case 0:case 11:case 15:case 22:return;case 1:if(p.flags&256&&f!==null){var b=f.memoizedProps,I=f.memoizedState;f=p.stateNode,p=f.getSnapshotBeforeUpdate(p.elementType===p.type?b:Gs(p.type,b),I),f.__reactInternalSnapshotBeforeUpdate=p}return;case 3:O&&p.flags&256&&Fc(p.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Ig(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&f)===f){var I=b.destroy;b.destroy=void 0,I!==void 0&&I()}b=b.next}while(b!==p)}}function qu(f,p,b){switch(b.tag){case 0:case 11:case 15:case 22:if(p=b.updateQueue,p=p!==null?p.lastEffect:null,p!==null){f=p=p.next;do{if((f.tag&3)===3){var I=f.create;f.destroy=I()}f=f.next}while(f!==p)}if(p=b.updateQueue,p=p!==null?p.lastEffect:null,p!==null){f=p=p.next;do{var k=f;I=k.next,k=k.tag,(k&4)!==0&&(k&1)!==0&&(Yh(b,f),Bp(b,f)),f=I}while(f!==p)}return;case 1:f=b.stateNode,b.flags&4&&(p===null?f.componentDidMount():(I=b.elementType===b.type?p.memoizedProps:Gs(b.type,p.memoizedProps),f.componentDidUpdate(I,p.memoizedState,f.__reactInternalSnapshotBeforeUpdate))),p=b.updateQueue,p!==null&&va(b,p,f);return;case 3:if(p=b.updateQueue,p!==null){if(f=null,b.child!==null)switch(b.child.tag){case 5:f=it(b.child.stateNode);break;case 1:f=b.child.stateNode}va(b,p,f)}return;case 5:f=b.stateNode,p===null&&b.flags&4&&me(f,b.type,b.memoizedProps,b);return;case 6:return;case 4:return;case 12:return;case 13:vt&&b.memoizedState===null&&(b=b.alternate,b!==null&&(b=b.memoizedState,b!==null&&(b=b.dehydrated,b!==null&&Bn(b))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function po(f,p){if(O)for(var b=f;;){if(b.tag===5){var I=b.stateNode;p?Hn(I):Ri(b.stateNode,b.memoizedProps)}else if(b.tag===6)I=b.stateNode,p?ln(I):Vs(I,b.memoizedProps);else if((b.tag!==23&&b.tag!==24||b.memoizedState===null||b===f)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}}function Ep(f,p){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(gh,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:case 22:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var b=f=f.next;do{var I=b,k=I.destroy;if(I=I.tag,k!==void 0)if((I&4)!==0)Yh(p,b);else{I=p;try{k()}catch(H){Aa(I,H)}}b=b.next}while(b!==f)}break;case 1:if(Cg(p),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(H){Aa(p,H)}break;case 5:Cg(p);break;case 4:O?Rg(f,p):Tt&&Tt&&(p=p.stateNode.containerInfo,f=Bc(p),mh(p,f))}}function X(f,p){for(var b=p;;)if(Ep(f,b),b.child===null||O&&b.tag===4){if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function Gl(f){f.alternate=null,f.child=null,f.dependencies=null,f.firstEffect=null,f.lastEffect=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.return=null,f.updateQueue=null}function Xu(f){return f.tag===5||f.tag===3||f.tag===4}function Mi(f){if(O){t:{for(var p=f.return;p!==null;){if(Xu(p))break t;p=p.return}throw Error(a(160))}var b=p;switch(p=b.stateNode,b.tag){case 5:var I=!1;break;case 3:p=p.containerInfo,I=!0;break;case 4:p=p.containerInfo,I=!0;break;default:throw Error(a(161))}b.flags&16&&(Ye(p),b.flags&=-17);t:e:for(b=f;;){for(;b.sibling===null;){if(b.return===null||Xu(b.return)){b=null;break t}b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2)){b=b.stateNode;break t}}I?Dn(f,b,p):Nh(f,b,p)}}function Dn(f,p,b){var I=f.tag,k=I===5||I===6;if(k)f=k?f.stateNode:f.stateNode.instance,p?_e(b,f,p):xe(b,f);else if(I!==4&&(f=f.child,f!==null))for(Dn(f,p,b),f=f.sibling;f!==null;)Dn(f,p,b),f=f.sibling}function Nh(f,p,b){var I=f.tag,k=I===5||I===6;if(k)f=k?f.stateNode:f.stateNode.instance,p?De(b,f,p):Ue(b,f);else if(I!==4&&(f=f.child,f!==null))for(Nh(f,p,b),f=f.sibling;f!==null;)Nh(f,p,b),f=f.sibling}function Rg(f,p){for(var b=p,I=!1,k,H;;){if(!I){I=b.return;t:for(;;){if(I===null)throw Error(a(160));switch(k=I.stateNode,I.tag){case 5:H=!1;break t;case 3:k=k.containerInfo,H=!0;break t;case 4:k=k.containerInfo,H=!0;break t}I=I.return}I=!0}if(b.tag===5||b.tag===6)X(f,b),H?ye(k,b.stateNode):We(k,b.stateNode);else if(b.tag===4){if(b.child!==null){k=b.stateNode.containerInfo,H=!0,b.child.return=b,b=b.child;continue}}else if(Ep(f,b),b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return,b.tag===4&&(I=!1)}b.sibling.return=b.return,b=b.sibling}}function Mp(f,p){if(O){switch(p.tag){case 0:case 11:case 14:case 15:case 22:Ig(3,p);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var I=p.memoizedProps;f=f!==null?f.memoizedProps:I;var k=p.type,H=p.updateQueue;p.updateQueue=null,H!==null&&pe(b,H,k,f,I,p)}return;case 6:if(p.stateNode===null)throw Error(a(162));b=p.memoizedProps,gt(p.stateNode,f!==null?f.memoizedProps:b,b);return;case 3:vt&&(p=p.stateNode,p.hydrate&&(p.hydrate=!1,qn(p.containerInfo)));return;case 12:return;case 13:tl(p),zh(p);return;case 19:zh(p);return;case 17:return;case 23:case 24:po(p,p.memoizedState!==null);return}throw Error(a(163))}switch(p.tag){case 0:case 11:case 14:case 15:case 22:Ig(3,p);return;case 12:return;case 13:tl(p),zh(p);return;case 19:zh(p);return;case 3:vt&&(b=p.stateNode,b.hydrate&&(b.hydrate=!1,qn(b.containerInfo)));break;case 23:case 24:return}t:if(Tt){switch(p.tag){case 1:case 5:case 6:case 20:break t;case 3:case 4:p=p.stateNode,mh(p.containerInfo,p.pendingChildren);break t}throw Error(a(163))}}function tl(f){f.memoizedState!==null&&(qi=hn(),O&&po(f.child,!0))}function zh(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new Ag),p.forEach(function(I){var k=Np.bind(null,f,I);b.has(I)||(b.add(I),I.then(k,k))})}}function sv(f,p){return f!==null&&(f=f.memoizedState,f===null||f.dehydrated!==null)?(p=p.memoizedState,p!==null&&p.dehydrated===null):!1}var Uh=0,Vh=1,Hh=2,Xs=3,Wh=4;if(typeof Symbol=="function"&&Symbol.for){var cf=Symbol.for;Uh=cf("selector.component"),Vh=cf("selector.has_pseudo_class"),Hh=cf("selector.role"),Xs=cf("selector.test_id"),Wh=cf("selector.text")}function Tp(f){var p=nt(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(a(364));return p}if(f=ft(f),f===null)throw Error(a(362));return f.stateNode.current}function Ap(f,p){switch(p.$$typeof){case Uh:if(f.type===p.value)return!0;break;case Vh:t:{p=p.value,f=[f,0];for(var b=0;b<f.length;){var I=f[b++],k=f[b++],H=p[k];if(I.tag!==5||!Qt(I)){for(;H!=null&&Ap(I,H);)k++,H=p[k];if(k===p.length){p=!0;break t}else for(I=I.child;I!==null;)f.push(I,k),I=I.sibling}}p=!1}return p;case Hh:if(f.tag===5&&ue(f.stateNode,p.value))return!0;break;case Wh:if((f.tag===5||f.tag===6)&&(f=Ht(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case Xs:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(a(365,p))}return!1}function Cp(f){switch(f.$$typeof){case Uh:return"<"+(z(f.value)||"Unknown")+">";case Vh:return":has("+(Cp(f)||"")+")";case Hh:return'[role="'+f.value+'"]';case Wh:return'"'+f.value+'"';case Xs:return'[data-testname="'+f.value+'"]';default:throw Error(a(365,f))}}function Zs(f,p){var b=[];f=[f,0];for(var I=0;I<f.length;){var k=f[I++],H=f[I++],st=p[H];if(k.tag!==5||!Qt(k)){for(;st!=null&&Ap(k,st);)H++,st=p[H];if(H===p.length)b.push(k);else for(k=k.child;k!==null;)f.push(k,H),k=k.sibling}}return b}function Ip(f,p){if(!U)throw Error(a(363));f=Tp(f),f=Zs(f,p),p=[],f=Array.from(f);for(var b=0;b<f.length;){var I=f[b++];if(I.tag===5)Qt(I)||p.push(I.stateNode);else for(I=I.child;I!==null;)f.push(I),I=I.sibling}return p}var Zu=null;function Rp(f){if(Zu===null)try{var p=("require"+Math.random()).slice(0,7);Zu=(n&&n[p]).call(n,"timers").setImmediate}catch{Zu=function(I){var k=new MessageChannel;k.port1.onmessage=I,k.port2.postMessage(void 0)}}return Zu(f)}var Lp=Math.ceil,ff=l.ReactCurrentDispatcher,jo=l.ReactCurrentOwner,Pp=l.IsSomeRendererActing,Ge=0,Ar=null,ur=null,Xr=0,$l=0,hf=pn(0),ki=0,ba=null,jl=0,df=0,Ku=0,pf=0,Sa=null,qi=0,Yo=1/0;function Xi(){Yo=hn()+500}var Pe=null,Ks=!1,mf=null,Zi=null,ui=!1,gf=null,Ju=90,Gh=[],Yl=[],Ti=null,Qu=0,Dp=null,ql=-1,Ea=0,yf=0,Gr=null,Xl=!1;function ls(){return(Ge&48)!==0?hn():ql!==-1?ql:ql=hn()}function Oi(f){if(f=f.mode,(f&2)===0)return 1;if((f&4)===0)return Qn()===99?1:2;if(Ea===0&&(Ea=jl),nv.transition!==0){yf!==0&&(yf=Sa!==null?Sa.pendingLanes:0),f=Ea;var p=4186112&~yf;return p&=-p,p===0&&(f=4186112&~f,p=f&-f,p===0&&(p=8192)),p}return f=Qn(),(Ge&4)!==0&&f===98?f=yh(12,Ea):(f=tv(f),f=yh(f,Ea)),f}function mo(f,p,b){if(50<Qu)throw Qu=0,Dp=null,Error(a(185));if(f=Zl(f,p),f===null)return null;Bu(f,p,b),f===Ar&&(Ku|=p,ki===4&&Zr(f,Xr));var I=Qn();p===1?(Ge&8)!==0&&(Ge&48)===0?_f(f):(ci(f,b),Ge===0&&(Xi(),Rs())):((Ge&4)===0||I!==98&&I!==99||(Ti===null?Ti=new Set([f]):Ti.add(f)),ci(f,b)),Sa=f}function Zl(f,p){f.lanes|=p;var b=f.alternate;for(b!==null&&(b.lanes|=p),b=f,f=f.return;f!==null;)f.childLanes|=p,b=f.alternate,b!==null&&(b.childLanes|=p),b=f,f=f.return;return b.tag===3?b.stateNode:null}function ci(f,p){for(var b=f.callbackNode,I=f.suspendedLanes,k=f.pingedLanes,H=f.expirationTimes,st=f.pendingLanes;0<st;){var mt=31-Is(st),yt=1<<mt,qt=H[mt];if(qt===-1){if((yt&I)===0||(yt&k)!==0){qt=p,Za(yt);var ce=lr;H[mt]=10<=ce?qt+250:6<=ce?qt+5e3:-1}}else qt<=p&&(f.expiredLanes|=yt);st&=~yt}if(I=Ml(f,f===Ar?Xr:0),p=lr,I===0)b!==null&&(b!==Gc&&_h(b),f.callbackNode=null,f.callbackPriority=0);else{if(b!==null){if(f.callbackPriority===p)return;b!==Gc&&_h(b)}p===15?(b=_f.bind(null,f),uo===null?(uo=[b],xh=vh(Hc,_g)):uo.push(b),b=Gc):p===14?b=Il(99,_f.bind(null,f)):(b=cg(p),b=Il(b,vf.bind(null,f))),f.callbackPriority=p,f.callbackNode=b}}function vf(f){if(ql=-1,yf=Ea=0,(Ge&48)!==0)throw Error(a(327));var p=f.callbackNode;if(Ta()&&f.callbackNode!==p)return null;var b=Ml(f,f===Ar?Xr:0);if(b===0)return null;var I=b,k=Ge;Ge|=16;var H=Fp();(Ar!==f||Xr!==I)&&(Xi(),go(f,I));do try{av();break}catch(mt){Op(f,mt)}while(1);if(jc(),ff.current=H,Ge=k,ur!==null?I=0:(Ar=null,Xr=0,I=ki),(jl&Ku)!==0)go(f,0);else if(I!==0){if(I===2&&(Ge|=64,f.hydrate&&(f.hydrate=!1,Fc(f.containerInfo)),b=Uc(f),b!==0&&(I=Ds(f,b))),I===1)throw p=ba,go(f,0),Zr(f,b),ci(f,hn()),p;switch(f.finishedWork=f.current.alternate,f.finishedLanes=b,I){case 0:case 1:throw Error(a(345));case 2:Ma(f);break;case 3:if(Zr(f,b),(b&62914560)===b&&(I=qi+500-hn(),10<I)){if(Ml(f,0)!==0)break;if(k=f.suspendedLanes,(k&b)!==b){ls(),f.pingedLanes|=f.suspendedLanes&k;break}f.timeoutHandle=oe(Ma.bind(null,f),I);break}Ma(f);break;case 4:if(Zr(f,b),(b&4186112)===b)break;for(I=f.eventTimes,k=-1;0<b;){var st=31-Is(b);H=1<<st,st=I[st],st>k&&(k=st),b&=~H}if(b=k,b=hn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Lp(b/1960))-b,10<b){f.timeoutHandle=oe(Ma.bind(null,f),b);break}Ma(f);break;case 5:Ma(f);break;default:throw Error(a(329))}}return ci(f,hn()),f.callbackNode===p?vf.bind(null,f):null}function Zr(f,p){for(p&=~pf,p&=~Ku,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var b=31-Is(p),I=1<<b;f[b]=-1,p&=~I}}function _f(f){if((Ge&48)!==0)throw Error(a(327));if(Ta(),f===Ar&&(f.expiredLanes&Xr)!==0){var p=Xr,b=Ds(f,p);(jl&Ku)!==0&&(p=Ml(f,p),b=Ds(f,p))}else p=Ml(f,0),b=Ds(f,p);if(f.tag!==0&&b===2&&(Ge|=64,f.hydrate&&(f.hydrate=!1,Fc(f.containerInfo)),p=Uc(f),p!==0&&(b=Ds(f,p))),b===1)throw b=ba,go(f,0),Zr(f,p),ci(f,hn()),b;return f.finishedWork=f.current.alternate,f.finishedLanes=p,Ma(f),ci(f,hn()),null}function ov(){if(Ti!==null){var f=Ti;Ti=null,f.forEach(function(p){p.expiredLanes|=24&p.pendingLanes,ci(p,hn())})}Rs()}function Lg(f,p){var b=Ge;Ge|=1;try{return f(p)}finally{Ge=b,Ge===0&&(Xi(),Rs())}}function kp(f,p){var b=Ge;if((b&48)!==0)return f(p);Ge|=1;try{if(f)return co(99,f.bind(null,p))}finally{Ge=b,Rs()}}function Kl(f,p){un(hf,$l),$l|=p,jl|=p}function $h(){$l=hf.current,Wn(hf)}function go(f,p){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==Kt&&(f.timeoutHandle=Kt,Le(b)),ur!==null)for(b=ur.return;b!==null;){var I=b;switch(I.tag){case 1:I=I.type.childContextTypes,I!=null&&zo();break;case 3:Bl(),Wn(qr),Wn(Sr),Qc();break;case 5:Kc(I);break;case 4:Bl();break;case 13:Wn(vr);break;case 19:Wn(vr);break;case 10:Sh(I);break;case 23:case 24:$h()}b=b.return}Ar=f,ur=Q(f.current,null),Xr=$l=jl=p,ki=0,ba=null,pf=Ku=df=0}function Op(f,p){do{var b=ur;try{if(jc(),Ps.current=Lh,vs){for(var I=Dr.memoizedState;I!==null;){var k=I.queue;k!==null&&(k.pending=null),I=I.next}vs=!1}if(Vu=0,zr=Yi=Dr=null,Hu=!1,jo.current=null,b===null||b.return===null){ki=1,ba=p,ur=null;break}t:{var H=f,st=b.return,mt=b,yt=p;if(p=Xr,mt.flags|=2048,mt.firstEffect=mt.lastEffect=null,yt!==null&&typeof yt=="object"&&typeof yt.then=="function"){var qt=yt;if((mt.mode&2)===0){var ce=mt.alternate;ce?(mt.updateQueue=ce.updateQueue,mt.memoizedState=ce.memoizedState,mt.lanes=ce.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var he=(vr.current&1)!==0,ge=st;do{var Be;if(Be=ge.tag===13){var Ne=ge.memoizedState;if(Ne!==null)Be=Ne.dehydrated!==null;else{var cn=ge.memoizedProps;Be=cn.fallback===void 0?!1:cn.unstable_avoidThisFallback!==!0?!0:!he}}if(Be){var Ct=ge.updateQueue;if(Ct===null){var bt=new Set;bt.add(qt),ge.updateQueue=bt}else Ct.add(qt);if((ge.mode&2)===0){if(ge.flags|=64,mt.flags|=16384,mt.flags&=-2981,mt.tag===1)if(mt.alternate===null)mt.tag=17;else{var jt=as(-1,1);jt.tag=2,fo(mt,jt)}mt.lanes|=1;break t}yt=void 0,mt=p;var ve=H.pingCache;if(ve===null?(ve=H.pingCache=new Yu,yt=new Set,ve.set(qt,yt)):(yt=ve.get(qt),yt===void 0&&(yt=new Set,ve.set(qt,yt))),!yt.has(mt)){yt.add(mt);var ke=Og.bind(null,H,qt,mt);qt.then(ke,ke)}ge.flags|=4096,ge.lanes=p;break t}ge=ge.return}while(ge!==null);yt=Error((z(mt.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ki!==5&&(ki=2),yt=Hl(yt,mt),ge=st;do{switch(ge.tag){case 3:H=yt,ge.flags|=4096,p&=-p,ge.lanes|=p;var Kn=Wl(ge,H,p);Yc(ge,Kn);break t;case 1:H=yt;var qe=ge.type,Mn=ge.stateNode;if((ge.flags&64)===0&&(typeof qe.getDerivedStateFromError=="function"||Mn!==null&&typeof Mn.componentDidCatch=="function"&&(Zi===null||!Zi.has(Mn)))){ge.flags|=4096,p&=-p,ge.lanes|=p;var gr=Sp(ge,H,p);Yc(ge,gr);break t}}ge=ge.return}while(ge!==null)}wf(b)}catch($e){p=$e,ur===b&&b!==null&&(ur=b=b.return);continue}break}while(1)}function Fp(){var f=ff.current;return ff.current=Lh,f===null?Lh:f}function Ds(f,p){var b=Ge;Ge|=16;var I=Fp();Ar===f&&Xr===p||go(f,p);do try{kr();break}catch(k){Op(f,k)}while(1);if(jc(),Ge=b,ff.current=I,ur!==null)throw Error(a(261));return Ar=null,Xr=0,ki}function kr(){for(;ur!==null;)Pg(ur)}function av(){for(;ur!==null&&!pg();)Pg(ur)}function Pg(f){var p=tc(f.alternate,f,$l);f.memoizedProps=f.pendingProps,p===null?wf(f):ur=p,jo.current=null}function wf(f){var p=f;do{var b=p.alternate;if(f=p.return,(p.flags&2048)===0){if(b=Bh(b,p,$l),b!==null){ur=b;return}if(b=p,b.tag!==24&&b.tag!==23||b.memoizedState===null||($l&1073741824)!==0||(b.mode&4)===0){for(var I=0,k=b.child;k!==null;)I|=k.lanes|k.childLanes,k=k.sibling;b.childLanes=I}f!==null&&(f.flags&2048)===0&&(f.firstEffect===null&&(f.firstEffect=p.firstEffect),p.lastEffect!==null&&(f.lastEffect!==null&&(f.lastEffect.nextEffect=p.firstEffect),f.lastEffect=p.lastEffect),1<p.flags&&(f.lastEffect!==null?f.lastEffect.nextEffect=p:f.firstEffect=p,f.lastEffect=p))}else{if(b=Vl(p),b!==null){b.flags&=2047,ur=b;return}f!==null&&(f.firstEffect=f.lastEffect=null,f.flags|=2048)}if(p=p.sibling,p!==null){ur=p;return}ur=p=f}while(p!==null);ki===0&&(ki=5)}function Ma(f){var p=Qn();return co(99,jh.bind(null,f,p)),null}function jh(f,p){do Ta();while(gf!==null);if((Ge&48)!==0)throw Error(a(327));var b=f.finishedWork;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(a(177));f.callbackNode=null;var I=b.lanes|b.childLanes,k=I,H=f.pendingLanes&~k;f.pendingLanes=k,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=k,f.mutableReadLanes&=k,f.entangledLanes&=k,k=f.entanglements;for(var st=f.eventTimes,mt=f.expirationTimes;0<H;){var yt=31-Is(H),qt=1<<yt;k[yt]=0,st[yt]=-1,mt[yt]=-1,H&=~qt}if(Ti!==null&&(I&24)===0&&Ti.has(f)&&Ti.delete(f),f===Ar&&(ur=Ar=null,Xr=0),1<b.flags?b.lastEffect!==null?(b.lastEffect.nextEffect=b,I=b.firstEffect):I=b:I=b.firstEffect,I!==null){k=Ge,Ge|=32,jo.current=null,Gr=K(f.containerInfo),Xl=!1,Pe=I;do try{Dg()}catch(bt){if(Pe===null)throw Error(a(330));Aa(Pe,bt),Pe=Pe.nextEffect}while(Pe!==null);Gr=null,Pe=I;do try{for(st=f;Pe!==null;){var ce=Pe.flags;if(ce&16&&O&&Ye(Pe.stateNode),ce&128){var he=Pe.alternate;if(he!==null){var ge=he.ref;ge!==null&&(typeof ge=="function"?ge(null):ge.current=null)}}switch(ce&1038){case 2:Mi(Pe),Pe.flags&=-3;break;case 6:Mi(Pe),Pe.flags&=-3,Mp(Pe.alternate,Pe);break;case 1024:Pe.flags&=-1025;break;case 1028:Pe.flags&=-1025,Mp(Pe.alternate,Pe);break;case 4:Mp(Pe.alternate,Pe);break;case 8:mt=st,H=Pe,O?Rg(mt,H):X(mt,H);var Be=H.alternate;Gl(H),Be!==null&&Gl(Be)}Pe=Pe.nextEffect}}catch(bt){if(Pe===null)throw Error(a(330));Aa(Pe,bt),Pe=Pe.nextEffect}while(Pe!==null);Xl&&Vt(),xt(f.containerInfo),f.current=b,Pe=I;do try{for(ce=f;Pe!==null;){var Ne=Pe.flags;if(Ne&36&&qu(ce,Pe.alternate,Pe),Ne&128){he=void 0;var cn=Pe.ref;if(cn!==null){var Ct=Pe.stateNode;switch(Pe.tag){case 5:he=it(Ct);break;default:he=Ct}typeof cn=="function"?cn(he):cn.current=he}}Pe=Pe.nextEffect}}catch(bt){if(Pe===null)throw Error(a(330));Aa(Pe,bt),Pe=Pe.nextEffect}while(Pe!==null);Pe=null,ap(),Ge=k}else f.current=b;if(ui)ui=!1,gf=f,Ju=p;else for(Pe=I;Pe!==null;)p=Pe.nextEffect,Pe.nextEffect=null,Pe.flags&8&&(Ne=Pe,Ne.sibling=null,Ne.stateNode=null),Pe=p;if(I=f.pendingLanes,I===0&&(Zi=null),I===1?f===Dp?Qu++:(Qu=0,Dp=f):Qu=0,b=b.stateNode,ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(gh,b,void 0,(b.current.flags&64)===64)}catch{}if(ci(f,hn()),Ks)throw Ks=!1,f=mf,mf=null,f;return(Ge&8)!==0||Rs(),null}function Dg(){for(;Pe!==null;){var f=Pe.alternate;Xl||Gr===null||((Pe.flags&8)!==0?at(Pe,Gr)&&(Xl=!0,Gt()):Pe.tag===13&&sv(f,Pe)&&at(Pe,Gr)&&(Xl=!0,Gt()));var p=Pe.flags;(p&256)!==0&&iv(f,Pe),(p&512)===0||ui||(ui=!0,Il(97,function(){return Ta(),null})),Pe=Pe.nextEffect}}function Ta(){if(Ju!==90){var f=97<Ju?97:Ju;return Ju=90,co(f,kg)}return!1}function Bp(f,p){Gh.push(p,f),ui||(ui=!0,Il(97,function(){return Ta(),null}))}function Yh(f,p){Yl.push(p,f),ui||(ui=!0,Il(97,function(){return Ta(),null}))}function kg(){if(gf===null)return!1;var f=gf;if(gf=null,(Ge&48)!==0)throw Error(a(331));var p=Ge;Ge|=32;var b=Yl;Yl=[];for(var I=0;I<b.length;I+=2){var k=b[I],H=b[I+1],st=k.destroy;if(k.destroy=void 0,typeof st=="function")try{st()}catch(yt){if(H===null)throw Error(a(330));Aa(H,yt)}}for(b=Gh,Gh=[],I=0;I<b.length;I+=2){k=b[I],H=b[I+1];try{var mt=k.create;k.destroy=mt()}catch(yt){if(H===null)throw Error(a(330));Aa(H,yt)}}for(mt=f.current.firstEffect;mt!==null;)f=mt.nextEffect,mt.nextEffect=null,mt.flags&8&&(mt.sibling=null,mt.stateNode=null),mt=f;return Ge=p,Rs(),!0}function qh(f,p,b){p=Hl(b,p),p=Wl(f,p,1),fo(f,p),p=ls(),f=Zl(f,1),f!==null&&(Bu(f,1,p),ci(f,p))}function Aa(f,p){if(f.tag===3)qh(f,f,p);else for(var b=f.return;b!==null;){if(b.tag===3){qh(b,f,p);break}else if(b.tag===1){var I=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Zi===null||!Zi.has(I))){f=Hl(p,f);var k=Sp(b,f,1);if(fo(b,k),k=ls(),b=Zl(b,1),b!==null)Bu(b,1,k),ci(b,k);else if(typeof I.componentDidCatch=="function"&&(Zi===null||!Zi.has(I)))try{I.componentDidCatch(p,f)}catch{}break}}b=b.return}}function Og(f,p,b){var I=f.pingCache;I!==null&&I.delete(p),p=ls(),f.pingedLanes|=f.suspendedLanes&b,Ar===f&&(Xr&b)===b&&(ki===4||ki===3&&(Xr&62914560)===Xr&&500>hn()-qi?go(f,0):pf|=b),ci(f,p)}function Np(f,p){var b=f.stateNode;b!==null&&b.delete(p),p=0,p===0&&(p=f.mode,(p&2)===0?p=1:(p&4)===0?p=Qn()===99?1:2:(Ea===0&&(Ea=jl),p=Tl(62914560&~Ea),p===0&&(p=4194304))),b=ls(),f=Zl(f,p),f!==null&&(Bu(f,p,b),ci(f,b))}var tc;tc=function(f,p,b){var I=p.lanes;if(f!==null)if(f.memoizedProps!==p.pendingProps||qr.current)Ys=!0;else if((b&I)!==0)Ys=(f.flags&16384)!==0;else{switch(Ys=!1,p.tag){case 3:xp(p),dp();break;case 5:ys(p);break;case 1:Mr(p.type)&&zc(p);break;case 4:Fl(p,p.stateNode.containerInfo);break;case 10:lp(p,p.memoizedProps.value);break;case 13:if(p.memoizedState!==null)return(b&p.child.childLanes)!==0?of(f,p,b):(un(vr,vr.current&1),p=mr(f,p,b),p!==null?p.sibling:null);un(vr,vr.current&1);break;case 19:if(I=(b&p.childLanes)!==0,(f.flags&64)!==0){if(I)return Tg(f,p,b);p.flags|=64}var k=p.memoizedState;if(k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),un(vr,vr.current),I)break;return null;case 23:case 24:return p.lanes=0,kh(f,p,b)}return mr(f,p,b)}else Ys=!1;switch(p.lanes=0,p.tag){case 2:if(I=p.type,f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,k=Er(p,Sr.current),Ei(p,b),k=mp(null,p,I,f,k,b),p.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0){if(p.tag=1,p.memoizedState=null,p.updateQueue=null,Mr(I)){var H=!0;zc(p)}else H=!1;p.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,cp(p);var st=I.getDerivedStateFromProps;typeof st=="function"&&Mh(p,I,st,f),k.updater=Pl,p.stateNode=k,k._reactInternals=p,Th(p,I,f,b),p=wp(null,p,I,!0,H,b)}else p.tag=0,Pi(null,p,k,b),p=p.child;return p;case 16:k=p.elementType;t:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,H=k._init,k=H(k._payload),p.type=k,H=p.tag=$(k),f=Gs(k,f),H){case 0:p=$o(null,p,k,f,b);break t;case 1:p=ju(null,p,k,f,b);break t;case 11:p=vp(null,p,k,f,b);break t;case 14:p=_p(null,p,k,Gs(k.type,f),I,b);break t}throw Error(a(306,k,""))}return p;case 0:return I=p.type,k=p.pendingProps,k=p.elementType===I?k:Gs(I,k),$o(f,p,I,k,b);case 1:return I=p.type,k=p.pendingProps,k=p.elementType===I?k:Gs(I,k),ju(f,p,I,k,b);case 3:if(xp(p),I=p.updateQueue,f===null||I===null)throw Error(a(282));if(I=p.pendingProps,k=p.memoizedState,k=k!==null?k.element:null,fp(f,p),dr(p,I,null,b),I=p.memoizedState.element,I===k)dp(),p=mr(f,p,b);else{if(k=p.stateNode,(H=k.hydrate)&&(vt?(Nl=Ze(p.stateNode.containerInfo),Vo=p,H=Ho=!0):H=!1),H){if(vt&&(f=k.mutableSourceEagerHydrationData,f!=null))for(k=0;k<f.length;k+=2)H=f[k],st=f[k+1],Yt?H._workInProgressVersionPrimary=st:H._workInProgressVersionSecondary=st,Wo.push(H);for(b=Xc(p,null,I,b),p.child=b;b;)b.flags=b.flags&-3|1024,b=b.sibling}else Pi(f,p,I,b),dp();p=p.child}return p;case 5:return ys(p),f===null&&Ah(p),I=p.type,k=p.pendingProps,H=f!==null?f.memoizedProps:null,st=k.children,se(I,k)?st=null:H!==null&&se(I,H)&&(p.flags|=16),$u(f,p),Pi(f,p,st,b),p.child;case 6:return f===null&&Ah(p),null;case 13:return of(f,p,b);case 4:return Fl(p,p.stateNode.containerInfo),I=p.pendingProps,f===null?p.child=kl(p,null,I,b):Pi(f,p,I,b),p.child;case 11:return I=p.type,k=p.pendingProps,k=p.elementType===I?k:Gs(I,k),vp(f,p,I,k,b);case 7:return Pi(f,p,p.pendingProps,b),p.child;case 8:return Pi(f,p,p.pendingProps.children,b),p.child;case 12:return Pi(f,p,p.pendingProps.children,b),p.child;case 10:t:{if(I=p.type._context,k=p.pendingProps,st=p.memoizedProps,H=k.value,lp(p,H),st!==null){var mt=st.value;if(H=Ls(mt,H)?0:(typeof I._calculateChangedBits=="function"?I._calculateChangedBits(mt,H):1073741823)|0,H===0){if(st.children===k.children&&!qr.current){p=mr(f,p,b);break t}}else for(mt=p.child,mt!==null&&(mt.return=p);mt!==null;){var yt=mt.dependencies;if(yt!==null){st=mt.child;for(var qt=yt.firstContext;qt!==null;){if(qt.context===I&&(qt.observedBits&H)!==0){mt.tag===1&&(qt=as(-1,b&-b),qt.tag=2,fo(mt,qt)),mt.lanes|=b,qt=mt.alternate,qt!==null&&(qt.lanes|=b),up(mt.return,b),yt.lanes|=b;break}qt=qt.next}}else st=mt.tag===10&&mt.type===p.type?null:mt.child;if(st!==null)st.return=mt;else for(st=mt;st!==null;){if(st===p){st=null;break}if(mt=st.sibling,mt!==null){mt.return=st.return,st=mt;break}st=st.return}mt=st}}Pi(f,p,k.children,b),p=p.child}return p;case 9:return k=p.type,H=p.pendingProps,I=H.children,Ei(p,b),k=$s(k,H.unstable_observedBits),I=I(k),p.flags|=1,Pi(f,p,I,b),p.child;case 14:return k=p.type,H=Gs(k,p.pendingProps),H=Gs(k.type,H),_p(f,p,k,H,I,b);case 15:return sf(f,p,p.type,p.pendingProps,I,b);case 17:return I=p.type,k=p.pendingProps,k=p.elementType===I?k:Gs(I,k),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Mr(I)?(f=!0,zc(p)):f=!1,Ei(p,b),bg(p,I,k),Th(p,I,k,b),wp(null,p,I,!0,f,b);case 19:return Tg(f,p,b);case 23:return kh(f,p,b);case 24:return kh(f,p,b)}throw Error(a(156,p.tag))};var Xh={current:!1},Jl=o.unstable_flushAllWithoutAsserting,xf=typeof Jl=="function";function Zh(){if(Jl!==void 0)return Jl();for(var f=!1;Ta();)f=!0;return f}function Kh(f){try{Zh(),Rp(function(){Zh()?Kh(f):f()})}catch(p){f(p)}}var Jh=0,Kr=!1;function Fg(f,p,b,I){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function R(f,p,b,I){return new Fg(f,p,b,I)}function N(f){return f=f.prototype,!(!f||!f.isReactComponent)}function $(f){if(typeof f=="function")return N(f)?1:0;if(f!=null){if(f=f.$$typeof,f===w)return 11;if(f===M)return 14}return 2}function Q(f,p){var b=f.alternate;return b===null?(b=R(f.tag,p,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=p,b.type=f.type,b.flags=0,b.nextEffect=null,b.firstEffect=null,b.lastEffect=null),b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,p=f.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function wt(f,p,b,I,k,H){var st=2;if(I=f,typeof f=="function")N(f)&&(st=1);else if(typeof f=="string")st=5;else t:switch(f){case m:return Mt(b.children,k,H,p);case P:st=8,k|=16;break;case d:st=8,k|=1;break;case y:return f=R(12,b,p,k|8),f.elementType=y,f.type=y,f.lanes=H,f;case x:return f=R(13,b,p,k),f.type=x,f.elementType=x,f.lanes=H,f;case S:return f=R(19,b,p,k),f.elementType=S,f.lanes=H,f;case F:return pt(b,k,H,p);case C:return f=R(24,b,p,k),f.elementType=C,f.lanes=H,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case _:st=10;break t;case v:st=9;break t;case w:st=11;break t;case M:st=14;break t;case T:st=16,I=null;break t;case A:st=22;break t}throw Error(a(130,f==null?f:typeof f,""))}return p=R(st,b,p,k),p.elementType=f,p.type=I,p.lanes=H,p}function Mt(f,p,b,I){return f=R(7,f,I,p),f.lanes=b,f}function pt(f,p,b,I){return f=R(23,f,I,p),f.elementType=F,f.lanes=b,f}function kt(f,p,b){return f=R(6,f,null,p),f.lanes=b,f}function Bt(f,p,b){return p=R(4,f.children!==null?f.children:[],f.key,p),p.lanes=b,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Jt(f,p,b){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Kt,this.pendingContext=this.context=null,this.hydrate=b,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),vt&&(this.mutableSourceEagerHydrationData=null)}function ee(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(a(188)):Error(a(268,Object.keys(f)));return f=ct(p),f===null?null:f.stateNode}function we(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<p?b:p}}function ae(f,p){we(f,p),(f=f.alternate)&&we(f,p)}function Ie(f){return f=ct(f),f===null?null:f.stateNode}function Re(){return null}return r.IsThisRendererActing=Xh,r.act=function(f){function p(){Jh--,Pp.current=b,Xh.current=I}Kr===!1&&(Kr=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Jh++;var b=Pp.current,I=Xh.current;Pp.current=!0,Xh.current=!0;try{var k=Lg(f)}catch(H){throw p(),H}if(k!==null&&typeof k=="object"&&typeof k.then=="function")return{then:function(H,st){k.then(function(){1<Jh||xf===!0&&b===!0?(p(),H()):Kh(function(mt){p(),mt?st(mt):H()})},function(mt){p(),st(mt)})}};try{Jh!==1||xf!==!1&&b!==!1||Zh(),p()}catch(H){throw p(),H}return{then:function(H){H()}}},r.attemptContinuousHydration=function(f){if(f.tag===13){var p=ls();mo(f,67108864,p),ae(f,67108864)}},r.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=ls(),b=Oi(f);mo(f,b,p),ae(f,b)}},r.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.hydrate){var b=Za(p.pendingLanes);p.expiredLanes|=b&p.pendingLanes,ci(p,hn()),(Ge&48)===0&&(Xi(),Rs())}break;case 13:var I=ls();kp(function(){return mo(f,1,I)}),ae(f,4)}},r.attemptUserBlockingHydration=function(f){if(f.tag===13){var p=ls();mo(f,4,p),ae(f,4)}},r.batchedEventUpdates=function(f,p){var b=Ge;Ge|=2;try{return f(p)}finally{Ge=b,Ge===0&&(Xi(),Rs())}},r.batchedUpdates=Lg,r.createComponentSelector=function(f){return{$$typeof:Uh,value:f}},r.createContainer=function(f,p,b){return f=new Jt(f,p,b),p=R(3,null,null,p===2?7:p===1?3:0),f.current=p,p.stateNode=f,cp(p),f},r.createHasPsuedoClassSelector=function(f){return{$$typeof:Vh,value:f}},r.createPortal=function(f,p,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:I==null?null:""+I,children:f,containerInfo:p,implementation:b}},r.createRoleSelector=function(f){return{$$typeof:Hh,value:f}},r.createTestNameSelector=function(f){return{$$typeof:Xs,value:f}},r.createTextSelector=function(f){return{$$typeof:Wh,value:f}},r.deferredUpdates=function(f){return co(97,f)},r.discreteUpdates=function(f,p,b,I,k){var H=Ge;Ge|=4;try{return co(98,f.bind(null,p,b,I,k))}finally{Ge=H,Ge===0&&(Xi(),Rs())}},r.findAllNodes=Ip,r.findBoundingRects=function(f,p){if(!U)throw Error(a(363));p=Ip(f,p),f=[];for(var b=0;b<p.length;b++)f.push(Et(p[b]));for(p=f.length-1;0<p;p--){b=f[p];for(var I=b.x,k=I+b.width,H=b.y,st=H+b.height,mt=p-1;0<=mt;mt--)if(p!==mt){var yt=f[mt],qt=yt.x,ce=qt+yt.width,he=yt.y,ge=he+yt.height;if(I>=qt&&H>=he&&k<=ce&&st<=ge){f.splice(p,1);break}else if(I!==qt||b.width!==yt.width||ge<H||he>st){if(!(H!==he||b.height!==yt.height||ce<I||qt>k)){qt>I&&(yt.width+=qt-I,yt.x=I),ce<k&&(yt.width=k-qt),f.splice(p,1);break}}else{he>H&&(yt.height+=he-H,yt.y=H),ge<st&&(yt.height=st-he),f.splice(p,1);break}}}return f},r.findHostInstance=ee,r.findHostInstanceWithNoPortals=function(f){return f=lt(f),f===null?null:f.tag===20?f.stateNode.instance:f.stateNode},r.findHostInstanceWithWarning=function(f){return ee(f)},r.flushControlled=function(f){var p=Ge;Ge|=1;try{co(99,f)}finally{Ge=p,Ge===0&&(Xi(),Rs())}},r.flushDiscreteUpdates=function(){(Ge&49)===0&&(ov(),Ta())},r.flushPassiveEffects=Ta,r.flushSync=kp,r.focusWithin=function(f,p){if(!U)throw Error(a(363));for(f=Tp(f),p=Zs(f,p),p=Array.from(p),f=0;f<p.length;){var b=p[f++];if(!Qt(b)){if(b.tag===5&&Wt(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return Fu},r.getFindAllNodesFailureDescription=function(f,p){if(!U)throw Error(a(363));var b=0,I=[];f=[Tp(f),0];for(var k=0;k<f.length;){var H=f[k++],st=f[k++],mt=p[st];if((H.tag!==5||!Qt(H))&&(Ap(H,mt)&&(I.push(Cp(mt)),st++,st>b&&(b=st)),st<p.length))for(H=H.child;H!==null;)f.push(H,st),H=H.sibling}if(b<p.length){for(f=[];b<p.length;b++)f.push(Cp(p[b]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},r.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return it(f.child.stateNode);default:return f.child.stateNode}},r.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Ie,findFiberByHostInstance:f.findFiberByHostInstance||Re,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p.isDisabled&&p.supportsFiber)try{gh=p.inject(f),ya=p}catch{}f=!0}return f},r.observeVisibleRects=function(f,p,b,I){if(!U)throw Error(a(363));f=Ip(f,p);var k=He(f,b,I).disconnect;return{disconnect:function(){k()}}},r.registerMutableSourceForHydration=function(f,p){var b=p._getVersion;b=b(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,b]:f.mutableSourceEagerHydrationData.push(p,b)},r.runWithPriority=function(f,p){var b=Fu;try{return Fu=f,p()}finally{Fu=b}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(f,p){var b=Ge;Ge&=-2,Ge|=8;try{return f(p)}finally{Ge=b,Ge===0&&(Xi(),Rs())}},r.updateContainer=function(f,p,b,I){var k=p.current,H=ls(),st=Oi(k);t:if(b){b=b._reactInternals;e:{if(q(b)!==b||b.tag!==1)throw Error(a(170));var mt=b;do{switch(mt.tag){case 3:mt=mt.stateNode.context;break e;case 1:if(Mr(mt.type)){mt=mt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}mt=mt.return}while(mt!==null);throw Error(a(171))}if(b.tag===1){var yt=b.type;if(Mr(yt)){b=lg(b,yt,mt);break t}}b=mt}else b=ai;return p.context===null?p.context=b:p.pendingContext=b,p=as(H,st),p.payload={element:f},I=I===void 0?null:I,I!==null&&(p.callback=I),fo(k,p),mo(k,st,H),st},r}})(u5);l5.exports=u5.exports;var Wet=l5.exports;function f5(n){return function(t){n.forEach(function(e){typeof e=="function"?e(t):e!=null&&(e.current=t)})}}function lA(n,t,e){var r,i,s,o,a;t==null&&(t=100);function l(){var h=Date.now()-o;h<t&&h>=0?r=setTimeout(l,t-h):(r=null,e||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var h=e&&!r;return r||(r=setTimeout(l,t)),h&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}lA.debounce=lA;var gk=lA;function Get(n){let{debounce:t,scroll:e,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Z.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Z.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=t?typeof t=="number"?t:t.scroll:null,h=t?typeof t=="number"?t:t.resize:null,m=Z.exports.useRef(!1);Z.exports.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[d,y,_]=Z.exports.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:M,top:T,width:A,height:P,bottom:F,right:C,x:B,y:V}=l.current.element.getBoundingClientRect(),Y={left:M,top:T,width:A,height:P,bottom:F,right:C,x:B,y:V};l.current.element instanceof HTMLElement&&i&&(Y.height=l.current.element.offsetHeight,Y.width=l.current.element.offsetWidth),Object.freeze(Y),m.current&&!qet(l.current.lastBounds,Y)&&a(l.current.lastBounds=Y)};return[S,h?gk(S,h):S,u?gk(S,u):S]},[a,i,u,h]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function w(){!l.current.element||(l.current.resizeObserver=new s(_),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",_,{capture:!0,passive:!0})))}const x=S=>{!S||S===l.current.element||(v(),l.current.element=S,l.current.scrollContainers=h5(S),w())};return jet(_,Boolean(e)),$et(y),Z.exports.useEffect(()=>{v(),w()},[e,_,y]),Z.exports.useEffect(()=>v,[]),[x,o,d]}function $et(n){Z.exports.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function jet(n,t){Z.exports.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function h5(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[e,r,i].some(s=>s==="auto"||s==="scroll")&&t.push(n),[...t,...h5(n.parentElement)]}const Yet=["x","y","top","bottom","left","right","width","height"],qet=(n,t)=>Yet.every(e=>n[e]===t[e]),Wr={obj:n=>n===Object(n)&&!Wr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,t){if(typeof n!=typeof t||!!n!=!!t)return!1;if(Wr.str(n)||Wr.num(n)||Wr.obj(n))return n===t;if(Wr.arr(n)&&n==t)return!0;let e;for(e in n)if(!(e in t))return!1;for(e in t)if(n[e]!==t[e])return!1;return Wr.und(e)?n===t:!0}};function QE(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function d5(n,t,e,r){const i=e.get(t);i&&(e.delete(t),e.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Xet(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(r=>r!==t),e.initialHits=e.initialHits.filter(r=>r!==t),e.hovered.forEach((r,i)=>{(r.eventObject===t||r.object===t)&&e.hovered.delete(i)}),e.capturedMap.forEach((r,i)=>{d5(e.capturedMap,t,r,i)})}function Zet(n){const t=new rt;function e(m){var d,y,_,v;const w=n.getState(),{raycaster:x,mouse:S,camera:M,size:T}=w,A=x.computeOffsets==null?void 0:x.computeOffsets(m,w),P=(d=A==null?void 0:A.offsetX)!=null?d:m.offsetX,F=(y=A==null?void 0:A.offsetY)!=null?y:m.offsetY,C=(_=A==null?void 0:A.width)!=null?_:T.width,B=(v=A==null?void 0:A.height)!=null?v:T.height;S.set(P/C*2-1,-(F/B)*2+1),x.setFromCamera(S,M)}function r(m){const{internal:d}=n.getState(),y=m.offsetX-d.initialClick[0],_=m.offsetY-d.initialClick[1];return Math.round(Math.sqrt(y*y+_*_))}function i(m){return m.filter(d=>["Move","Over","Enter","Out","Leave"].some(y=>{var _;return(_=d.__r3f)==null?void 0:_.handlers["onPointer"+y]}))}function s(m){const d=n.getState(),{raycaster:y,internal:_}=d;if(!y.enabled)return[];const v=new Set,w=[],x=m?m(_.interaction):_.interaction;let S=y.intersectObjects(x,!0).filter(T=>{const A=QE(T);return v.has(A)?!1:(v.add(A),!0)});y.filter&&(S=y.filter(S,d));for(const T of S){let A=T.object;for(;A;){var M;(M=A.__r3f)!=null&&M.eventCount&&w.push({...T,eventObject:A}),A=A.parent}}return w}function o(m,d){const{internal:y}=n.getState();if("pointerId"in d&&y.capturedMap.has(d.pointerId))for(let _ of y.capturedMap.get(d.pointerId).values())m.push(_.intersection);return m}function a(m,d,y,_){const{raycaster:v,mouse:w,camera:x,internal:S}=n.getState();if(m.length){const M=t.set(w.x,w.y,0).unproject(x),T={stopped:!1};for(const A of m){const P=Y=>{var z,q;return(z=(q=S.capturedMap.get(Y))==null?void 0:q.has(A.eventObject))!=null?z:!1},F=Y=>{const z={intersection:A,target:d.target};S.capturedMap.has(Y)?S.capturedMap.get(Y).set(A.eventObject,z):S.capturedMap.set(Y,new Map([[A.eventObject,z]])),d.target.setPointerCapture(Y)},C=Y=>{const z=S.capturedMap.get(Y);z&&d5(S.capturedMap,A.eventObject,z,Y)};let B={};for(let Y in d){let z=d[Y];typeof z!="function"&&(B[Y]=z)}let V={...A,...B,spaceX:w.x,spaceY:w.y,intersections:m,stopped:T.stopped,delta:y,unprojectedPoint:M,ray:v.ray,camera:x,stopPropagation:()=>{const Y="pointerId"in d&&S.capturedMap.get(d.pointerId);if((!Y||Y.has(A.eventObject))&&(V.stopped=T.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(z=>z.eventObject===A.eventObject))){const z=m.slice(0,m.indexOf(A));l([...z,A])}},target:{hasPointerCapture:P,setPointerCapture:F,releasePointerCapture:C},currentTarget:{hasPointerCapture:P,setPointerCapture:F,releasePointerCapture:C},sourceEvent:d,nativeEvent:d};if(_(V),T.stopped===!0)break}}return m}function l(m){const{internal:d}=n.getState();Array.from(d.hovered.values()).forEach(y=>{if(!m.length||!m.find(_=>_.object===y.object&&_.index===y.index&&_.instanceId===y.instanceId)){const v=y.eventObject.__r3f,w=v==null?void 0:v.handlers;if(d.hovered.delete(QE(y)),v!=null&&v.eventCount){const x={...y,intersections:m||[]};w.onPointerOut==null||w.onPointerOut(x),w.onPointerLeave==null||w.onPointerLeave(x)}}})}const u=m=>{switch(m){case"onPointerLeave":case"onPointerCancel":return()=>l([]);case"onLostPointerCapture":return d=>{const{internal:y}=n.getState();"pointerId"in d&&!y.capturedMap.has(d.pointerId)&&(y.capturedMap.delete(d.pointerId),l([]))}}return d=>{const{onPointerMissed:y,internal:_}=n.getState();e(d),_.lastEvent.current=d;const v=m==="onPointerMove",w=m==="onClick"||m==="onContextMenu"||m==="onDoubleClick",S=o(s(v?i:void 0),d),M=w?r(d):0;m==="onPointerDown"&&(_.initialClick=[d.offsetX,d.offsetY],_.initialHits=S.map(T=>T.eventObject)),w&&!S.length&&M<=2&&(h(d,_.interaction),y&&y(d)),v&&l(S),a(S,d,M,T=>{const A=T.eventObject,P=A.__r3f,F=P==null?void 0:P.handlers;if(!!(P!=null&&P.eventCount))if(v){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const C=QE(T),B=_.hovered.get(C);B?B.stopped&&T.stopPropagation():(_.hovered.set(C,T),F.onPointerOver==null||F.onPointerOver(T),F.onPointerEnter==null||F.onPointerEnter(T))}F.onPointerMove==null||F.onPointerMove(T)}else{const C=F[m];C?(!w||_.initialHits.includes(A))&&(h(d,_.interaction.filter(B=>!_.initialHits.includes(B))),C(T)):w&&_.initialHits.includes(A)&&h(d,_.interaction.filter(B=>!_.initialHits.includes(B)))}})}};function h(m,d){d.forEach(y=>{var _;return(_=y.__r3f)==null||_.handlers.onPointerMissed==null?void 0:_.handlers.onPointerMissed(m)})}return{handlePointer:u}}const Ket=n=>n&&!!n.memoized&&!!n.changes,mb=n=>n&&!!n.getState,tM=(n,t)=>{var e,r;return{root:mb(n)?n:(e=(r=n.__r3f)==null?void 0:r.root)!=null?e:t.__r3f.root,container:mb(n)?n.getState().scene:n}},yk="__default",Jet={};let Qet={};function tnt(n,t){return!!(Wr.arr(n)&&Wr.equ(n,t)||n===t)}function m0(n,t){const e=n;return(t!=null&&t.primitive||!e.__r3f)&&(e.__r3f={root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t}),n}function ent(n){function t(d,{children:y,key:_,ref:v,...w},{children:x,key:S,ref:M,...T}={},A=!1){var P;const F=(P=d==null?void 0:d.__r3f)!=null?P:{},C=Object.entries(w),B=[];if(A){const Y=Object.keys(T);for(let z=0;z<Y.length;z++)w.hasOwnProperty(Y[z])||C.unshift([Y[z],yk+"remove"])}C.forEach(([Y,z])=>{var q;if((q=d.__r3f)!=null&&q.primitive&&Y==="object"||tnt(z,T[Y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Y))return B.push([Y,z,!0,[]]);let L=[];Y.includes("-")&&(L=Y.split("-")),B.push([Y,z,!1,L])});const V={...w};return F.memoizedProps&&F.memoizedProps.args&&(V.args=F.memoizedProps.args),F.memoizedProps&&F.memoizedProps.attach&&(V.attach=F.memoizedProps.attach),{accumulative:A,memoized:V,changes:B}}function e(d,y){var _,v,w;const x=(_=d==null?void 0:d.__r3f)!=null?_:{},S=x.root,M=(v=S==null||S.getState==null?void 0:S.getState())!=null?v:{},{memoized:T,changes:A}=Ket(y)?y:t(d,y),P=x.eventCount;if(d.__r3f&&(d.__r3f.memoizedProps=T),A.forEach(([F,C,B,V])=>{var Y;let z=d,q=z[F];if(V.length&&(q=V.reduce((tt,ct)=>tt[ct],d),!(q&&q.set))){const[tt,...ct]=V.reverse();z=ct.reverse().reduce((lt,at)=>lt[at],d),F=tt}if(C===yk+"remove")if(q&&q.constructor)C=new q.constructor(T.args);else if(z.constructor){const tt=new z.constructor(z.__r3f.memoizedProps.args);C=tt[q],tt.dispose&&tt.dispose()}else C=0;const L=(M==null||(Y=M.gl)==null?void 0:Y.outputEncoding)===Eu;if(B)C?x.handlers[F]=C:delete x.handlers[F],x.eventCount=Object.keys(x.handlers).length;else if(q&&q.set&&(q.copy||q instanceof Em)){if(Array.isArray(C))q.fromArray?q.fromArray(C):q.set(...C);else if(q.copy&&C&&C.constructor&&q.constructor.name===C.constructor.name)q.copy(C);else if(C!==void 0){const tt=q instanceof Te;!tt&&q.setScalar?q.setScalar(C):q instanceof Em&&C instanceof Em?q.mask=C.mask:q.set(C),!L&&tt&&q.convertSRGBToLinear()}}else z[F]=C,!L&&z[F]instanceof Gi&&(z[F].encoding=Hr);r(d)}),x.parent&&M.internal&&d.raycast&&P!==x.eventCount){const F=M.internal.interaction.indexOf(d);F>-1&&M.internal.interaction.splice(F,1),x.eventCount&&M.internal.interaction.push(d)}return A.length&&(w=d.__r3f)!=null&&w.parent&&i(d),d}function r(d){var y,_;const v=(y=d.__r3f)==null||(_=y.root)==null||_.getState==null?void 0:_.getState();v&&v.internal.frames===0&&v.invalidate()}function i(d){d.onUpdate==null||d.onUpdate(d)}function s(d,{args:y=[],..._},v,w,x){let S=`${d[0].toUpperCase()}${d.slice(1)}`,M;if(!mb(v)&&x){const T=A=>A.return?T(A.return):A.stateNode&&A.stateNode.containerInfo;v=T(x)}if(!v||!mb(v))throw`No valid root for ${S}!`;if(d==="primitive"){if(_.object===void 0)throw"Primitives without 'object' are invalid!";const T=_.object;M=m0(T,{root:v,primitive:!0})}else{const T=Qet[S]||Oet[S];if(!T)throw`${S} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(y))throw"The args prop must be an array!";M=m0(new T(...y),{root:v,memoizedProps:{args:y.length===0?null:y}})}return"attachFns"in _||(S.endsWith("Geometry")?_={attach:"geometry",..._}:S.endsWith("Material")&&(_={attach:"material",..._})),e(M,_),M}function o(d,y){let _=!1;if(y){if(y.attachArray)Wr.arr(d[y.attachArray])||(d[y.attachArray]=[]),d[y.attachArray].push(y);else if(y.attachObject)Wr.obj(d[y.attachObject[0]])||(d[y.attachObject[0]]={}),d[y.attachObject[0]][y.attachObject[1]]=y;else if(y.attach&&!Wr.fun(y.attach))d[y.attach]=y;else if(Wr.arr(y.attachFns)){const[v]=y.attachFns;Wr.str(v)&&Wr.fun(d[v])?d[v](y):Wr.fun(v)&&v(y,d)}else y.isObject3D&&d.isObject3D&&(d.add(y),_=!0);_||d.__r3f.objects.push(y),y.__r3f||m0(y,{}),y.__r3f.parent=d,i(y),r(y)}}function a(d,y,_){let v=!1;if(y){if(y.attachArray){const w=d[y.attachArray];Wr.arr(w)||(d[y.attachArray]=[]),w.splice(w.indexOf(_),0,y)}else{if(y.attachObject||y.attach&&!Wr.fun(y.attach))return o(d,y);if(y.isObject3D&&d.isObject3D){y.parent=d,y.dispatchEvent({type:"added"});const w=d.children.filter(S=>S!==y),x=w.indexOf(_);d.children=[...w.slice(0,x),y,...w.slice(x)],v=!0}}v||d.__r3f.objects.push(y),y.__r3f||m0(y,{}),y.__r3f.parent=d,i(y),r(y)}}function l(d,y,_=!1){d&&[...d].forEach(v=>u(y,v,_))}function u(d,y,_){if(y){var v,w;if(y.__r3f&&(y.__r3f.parent=null),(v=d.__r3f)!=null&&v.objects&&(d.__r3f.objects=d.__r3f.objects.filter(A=>A!==y)),y.attachArray)d[y.attachArray]=d[y.attachArray].filter(A=>A!==y);else if(y.attachObject)delete d[y.attachObject[0]][y.attachObject[1]];else if(y.attach&&!Wr.fun(y.attach)&&d[y.attach]===y)d[y.attach]=null;else if(Wr.arr(y.attachFns)){const[,A]=y.attachFns;Wr.str(A)&&Wr.fun(d[A])?d[A](y):Wr.fun(A)&&A(y,d)}else if(y.isObject3D&&d.isObject3D){var x;d.remove(y),(x=y.__r3f)!=null&&x.root&&Xet(y.__r3f.root,y)}const M=(w=y.__r3f)==null?void 0:w.primitive,T=_===void 0?y.dispose!==null&&!M:_;if(!M){var S;l((S=y.__r3f)==null?void 0:S.objects,y,T),l(y.children,y,T)}y.__r3f&&(delete y.__r3f.root,delete y.__r3f.objects,delete y.__r3f.handlers,delete y.__r3f.memoizedProps,M||delete y.__r3f),T&&y.dispose&&y.type!=="Scene"&&n_.exports.unstable_runWithPriority(n_.exports.unstable_IdlePriority,()=>{try{y.dispose()}catch{}}),r(d)}}function h(d,y,_,v){var w;const x=(w=d.__r3f)==null?void 0:w.parent;if(!x)return;const S=s(y,_,d.__r3f.root);y!=="primitive"&&d.children&&(d.children.forEach(M=>o(S,M)),d.children=[]),d.__r3f.objects.forEach(M=>o(S,M)),d.__r3f.objects=[],u(x,d),o(x,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[v,v.alternate].forEach(M=>{M!==null&&(M.stateNode=S,M.ref&&(typeof M.ref=="function"?M.ref(S):M.ref.current=S))})}return{reconciler:Wet({now:n_.exports.unstable_now,createInstance:s,removeChild:u,appendChild:o,appendInitialChild:o,insertBefore:a,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:Wr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Wr.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Wr.fun(setTimeout)?setTimeout:void 0,clearTimeout:Wr.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(d,y)=>{const{container:_,root:v}=tM(d,y);_.__r3f.root=v,o(_,y)},removeChildFromContainer:(d,y)=>u(tM(d,y).container,y),insertInContainerBefore:(d,y,_)=>a(tM(d,y).container,y,_),prepareUpdate(d,y,_,v){if(d.__r3f.primitive&&v.object&&v.object!==d)return[!0];{const{args:w=[],children:x,...S}=v,{args:M=[],children:T,...A}=_;if(!Array.isArray(w))throw"The args prop must be an array!";if(w.some((F,C)=>F!==M[C]))return[!0];const P=t(d,S,A,!0);if(P.changes.length)return[!1,P];if(d.attach&&typeof d.attach!="function"){const C=d.__r3f.parent;C&&C[d.attach]!==d&&o(C,d)}return null}},commitUpdate(d,[y,_],v,w,x,S){y?h(d,v,x,S):e(d,_)},hideInstance(d){d.isObject3D&&(d.visible=!1,r(d))},unhideInstance(d,y){(d.isObject3D&&y.visible==null||y.visible)&&(d.visible=!0,r(d))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(d){return d},getRootHostContext(d){return Jet},getChildHostContext(d){return d},createTextInstance(){},finalizeInitialChildren(d){var y;return!!((y=d==null?void 0:d.__r3f)!=null?y:{}).handlers},commitMount(d){var y;const _=(y=d==null?void 0:d.__r3f)!=null?y:{};d.raycast&&_.handlers&&_.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(d){m0(d)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:e}}const nnt=n=>!!(n!=null&&n.render),vk=n=>n&&n.isOrthographicCamera;function uA(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const p5=Z.exports.createContext(null),rnt=(n,t,e,r)=>{const{gl:i,size:s,shadows:o=!1,linear:a=!1,flat:l=!1,vr:u=!1,orthographic:h=!1,frameloop:m="always",dpr:d=1,performance:y,clock:_=new YC,raycaster:v,camera:w,onPointerMissed:x}=r;o&&(i.shadowMap.enabled=!0,typeof o=="object"?Object.assign(i.shadowMap,o):i.shadowMap.type=iC),a&&(i.outputEncoding=Eu),l&&(i.toneMapping=wu),m==="never"&&(_.stop(),_.elapsedTime=0);const S=a5((P,F)=>{const C=new KC,{params:B,...V}=v||{};n(C,{enabled:!0,...V,params:{...C.params,...B}});const Y=w instanceof Bm,z=Y?w:h?new By(0,0,0,0,.1,1e3):new hs(75,0,.1,1e3);Y||(z.position.z=5,w&&n(z,w),w!=null&&w.rotation||z.lookAt(0,0,0));const q=uA(d),L=new rt,tt=new rt,ct=new rt;function lt(ut=F().camera,j=tt,K=F().size){const{width:xt,height:Lt}=K,Pt=xt/Lt;j instanceof rt?ct.copy(j):ct.set(...j);const Ot=ut.getWorldPosition(L).distanceTo(ct);if(vk(ut))return{width:xt/ut.zoom,height:Lt/ut.zoom,factor:1,distance:Ot,aspect:Pt};{const Ee=ut.fov*Math.PI/180,se=2*Math.tan(Ee/2)*Ot,fe=se*(xt/Lt);return{width:fe,height:se,factor:xt/fe,distance:Ot,aspect:Pt}}}let at;const it=ut=>P(j=>({performance:{...j.performance,current:ut}}));return{gl:i,set:P,get:F,invalidate:()=>t(F()),advance:(ut,j)=>e(ut,j,F()),linear:a,flat:l,scene:m0(new d1),camera:z,controls:null,raycaster:C,clock:_,mouse:new ie,vr:u,frameloop:m,onPointerMissed:x,performance:{current:1,min:.5,max:1,debounce:200,...y,regress:()=>{const ut=F();at&&clearTimeout(at),ut.performance.current!==ut.performance.min&&it(ut.performance.min),at=setTimeout(()=>it(F().performance.max),ut.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:q,dpr:q,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:lt},setSize:(ut,j)=>{const K={width:ut,height:j};P(xt=>({size:K,viewport:{...xt.viewport,...lt(z,tt,K)}}))},setDpr:ut=>P(j=>({viewport:{...j.viewport,dpr:uA(ut)}})),setFrameloop:(ut="always")=>P(()=>({frameloop:ut})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:Z.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(ut,j=0)=>(P(({internal:K})=>({internal:{...K,priority:K.priority+(j>0?1:0),subscribers:[...K.subscribers,{ref:ut,priority:j}].sort((xt,Lt)=>xt.priority-Lt.priority)}})),()=>{P(({internal:K})=>({internal:{...K,priority:K.priority-(j>0?1:0),subscribers:K.subscribers.filter(xt=>xt.ref!==ut)}}))})}}}),M=S.getState();let T=M.size,A=M.viewport.dpr;return S.subscribe(()=>{const{camera:P,size:F,viewport:C,internal:B}=S.getState();(F!==T||C.dpr!==A)&&(!P.manual&&!(B.lastProps.camera instanceof Bm)&&(vk(P)?(P.left=F.width/-2,P.right=F.width/2,P.top=F.height/2,P.bottom=F.height/-2):P.aspect=F.width/F.height,P.updateProjectionMatrix(),P.updateMatrixWorld()),i.setPixelRatio(C.dpr),i.setSize(F.width,F.height),T=F,A=C.dpr)}),s&&M.setSize(s.width,s.height),S.subscribe(P=>t(P)),S};function m5(n,t){const e=t.length;return t.push(n),()=>void t.splice(e,1)}let wd,cA=[],fA=[],int=[];const snt=n=>m5(n,cA),ont=n=>m5(n,fA);function Iv(n,t){for(wd=0;wd<n.length;wd++)n[wd](t)}function eM(n,t){let e=t.clock.getDelta();for(t.frameloop==="never"&&typeof n=="number"&&(e=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),wd=0;wd<t.internal.subscribers.length;wd++)t.internal.subscribers[wd].ref.current(t,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}function ant(n){let t=!1,e;function r(o){if(t=!0,e=0,Iv(cA,o),n.forEach(a=>{const l=a.store.getState();l.internal.active&&(l.frameloop==="always"||l.internal.frames>0)&&(e+=eM(o,l))}),Iv(fA,o),e>0)return requestAnimationFrame(r);Iv(int,o),t=!1}function i(o){if(!o)return n.forEach(a=>i(a.store.getState()));o.vr||!o.internal.active||o.frameloop==="never"||(o.internal.frames=Math.min(60,o.internal.frames+1),t||(t=!0,requestAnimationFrame(r)))}function s(o,a=!0,l){a&&Iv(cA,o),l?eM(o,l):n.forEach(u=>eM(o,u.store.getState())),a&&Iv(fA,o)}return{loop:r,invalidate:i,advance:s}}function lnt(n){const{handlePointer:t}=Zet(n),e={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(e).reduce((r,i)=>({...r,[i]:t(i)}),{}),connect:r=>{var i;const{set:s,events:o}=n.getState();o.disconnect==null||o.disconnect(),s(a=>({events:{...a.events,connected:r}})),Object.entries((i=o==null?void 0:o.handlers)!=null?i:[]).forEach(([a,l])=>{const[u,h]=e[a];r.addEventListener(u,l,{passive:h})})},disconnect:()=>{const{set:r,events:i}=n.getState();if(i.connected){var s;Object.entries((s=i.handlers)!=null?s:[]).forEach(([o,a])=>{if(i&&i.connected instanceof HTMLElement){const[l]=e[o];i.connected.removeEventListener(l,a)}}),r(o=>({events:{...o.events,connected:!1}}))}}}}const hA=typeof window!="undefined"?Z.exports.useLayoutEffect:Z.exports.useEffect;function unt({set:n}){return hA(()=>(n(new Promise(()=>null)),()=>n(!1)),[]),null}class g5 extends Z.exports.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}g5.getDerivedStateFromError=()=>({error:!0});const cnt=Z.exports.forwardRef(function({children:t,fallback:e,tabIndex:r,resize:i,id:s,style:o,className:a,events:l,...u},h){const[m,{width:d,height:y}]=Get({scroll:!0,debounce:{scroll:50,resize:0},...i}),_=Z.exports.useRef(null),[v,w]=Z.exports.useState(!1),[x,S]=Z.exports.useState(!1);if(v)throw v;if(x)throw x;return hA(()=>{d>0&&y>0&&pnt(Z.exports.createElement(g5,{set:S},Z.exports.createElement(Z.exports.Suspense,{fallback:Z.exports.createElement(unt,{set:w})},t)),_.current,{...u,size:{width:d,height:y},events:l||lnt})},[d,y,t]),hA(()=>{const M=_.current;return()=>_5(M)},[]),Z.exports.createElement("div",{ref:m,id:s,className:a,tabIndex:r,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...o}},Z.exports.createElement("canvas",{ref:f5([_,h]),style:{display:"block"}},e))});function y5(){const n=Z.exports.useContext(p5);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function ac(n=e=>e,t){return y5()(n,t)}function fnt(n,t=0){const e=y5().getState().internal.subscribe,r=Z.exports.useRef(n);return Z.exports.useLayoutEffect(()=>void(r.current=n),[n]),Z.exports.useLayoutEffect(()=>e(r,t),[t,e]),null}const H_=new Map,_k=["legacy","blocking","concurrent"],{invalidate:hnt,advance:wk}=ant(H_),{reconciler:W_,applyProps:v5}=ent(),dnt=(n,t)=>{const e=typeof n=="function"?n(t):n;if(nnt(e))return e;const r=new br({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...n});return r.outputEncoding=Hr,r.toneMapping=lC,n&&v5(r,n),r};function pnt(n,t,{gl:e,size:r,mode:i=_k[1],events:s,onCreated:o,...a}={}){var l;if(!r){var u,h,m,d;r={width:(u=(h=t.parentElement)==null?void 0:h.clientWidth)!=null?u:0,height:(m=(d=t.parentElement)==null?void 0:d.clientHeight)!=null?m:0}}let y=H_.get(t),_=y==null?void 0:y.fiber,v=y==null?void 0:y.store,w=(l=v)==null?void 0:l.getState();if(_&&w&&(a.dpr!==void 0&&!Wr.equ(w.viewport.dpr,uA(a.dpr))&&w.setDpr(a.dpr),(w.size.width!==r.width||w.size.height!==r.height)&&w.setSize(r.width,r.height),w.frameloop!==a.frameloop&&w.setFrameloop(a.frameloop),a.linear!==w.internal.lastProps.linear&&(_5(t),_=void 0)),!_){const x=dnt(e,t);a.vr&&(x.xr.enabled=!0,x.setAnimationLoop(M=>wk(M,!0))),v=rnt(v5,hnt,wk,{gl:x,size:r,...a});const S=v.getState();_=W_.createContainer(v,_k.indexOf(i),!1,null),H_.set(t,{fiber:_,store:v}),s&&S.set({events:s(v)})}if(v&&_)return W_.updateContainer(Z.exports.createElement(mnt,{store:v,element:n,onCreated:o,target:t}),_,null,()=>{}),v;throw"Error creating root!"}function mnt({store:n,element:t,onCreated:e,target:r}){return Z.exports.useEffect(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),i.events.connect==null||i.events.connect(r),e&&e(i)},[]),Z.exports.createElement(p5.Provider,{value:n},t)}function _5(n,t){const e=H_.get(n),r=e==null?void 0:e.fiber;if(r){const i=e==null?void 0:e.store.getState();i&&(i.internal.active=!1),W_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var s,o,a;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),gnt(i),H_.delete(n),t&&t(n)},500)})}}function gnt(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const r in n){var t,e;(t=(e=r).dispose)==null||t.call(e),delete n[r]}}W_.act;W_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function is(){return is=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},is.apply(this,arguments)}function ynt(n,t,e){return Math.max(t,Math.min(n,e))}const ro={toVector(n,t){return n===void 0&&(n=t),Array.isArray(n)?n:[n,n]},add(n,t){return[n[0]+t[0],n[1]+t[1]]},sub(n,t){return[n[0]-t[0],n[1]-t[1]]},addTo(n,t){n[0]+=t[0],n[1]+=t[1]},subTo(n,t){n[0]-=t[0],n[1]-=t[1]}};function xk(n,t,e){return t===0||Math.abs(t)===1/0?Math.pow(n,e*5):n*t*e/(t+e*n)}function bk(n,t,e,r=.15){return r===0?ynt(n,t,e):n<t?-xk(t-n,e-t,r)+t:n>e?+xk(n-e,e-t,r)+e:n}function vnt(n,[t,e],[r,i]){const[[s,o],[a,l]]=n;return[bk(t,s,o,r),bk(e,a,l,i)]}function Ko(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Sk(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function vi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(e),!0).forEach(function(r){Ko(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Sk(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const w5={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Ek(n){return n?n[0].toUpperCase()+n.slice(1):""}const _nt=["enter","leave"];function wnt(n=!1,t){return n&&!_nt.includes(t)}function xnt(n,t="",e=!1){const r=w5[n],i=r&&r[t]||t;return"on"+Ek(n)+Ek(i)+(wnt(e,i)?"Capture":"")}const bnt=["gotpointercapture","lostpointercapture"];function Snt(n){let t=n.substring(2).toLowerCase();const e=!!~t.indexOf("passive");e&&(t=t.replace("passive",""));const r=bnt.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:e}}function Ent(n,t=""){const e=w5[n],r=e&&e[t]||t;return n+r}function HS(n){return"touches"in n}function x5(n){return HS(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Mnt(n){return Array.from(n.touches).filter(t=>{var e,r;return t.target===n.currentTarget||((e=n.currentTarget)===null||e===void 0||(r=e.contains)===null||r===void 0?void 0:r.call(e,t.target))})}function Tnt(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function b5(n){return HS(n)?Tnt(n)[0]:n}function Ant(n){return Mnt(n).map(t=>t.identifier)}function nM(n){const t=b5(n);return HS(n)?t.identifier:t.pointerId}function Mk(n){const t=b5(n);return[t.clientX,t.clientY]}function Cnt(n){const t={};if("buttons"in n&&(t.buttons=n.buttons),"shiftKey"in n){const{shiftKey:e,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(t,{shiftKey:e,altKey:r,metaKey:i,ctrlKey:s})}return t}function gb(n,...t){return typeof n=="function"?n(...t):n}function Int(){}function Rnt(...n){return n.length===0?Int:n.length===1?n[0]:function(){let t;for(const e of n)t=e.apply(this,arguments)||t;return t}}function Tk(n,t){return Object.assign({},t,n||{})}const Lnt=32;class Pnt{constructor(t,e,r){this.ctrl=t,this.args=e,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:r,args:i}=this;e[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,r=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=r.from?gb(r.from,e):e.offset,e.offset=e.lastOffset),e.startTime=e.timeStamp=t.timeStamp}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:r,shared:i}=this;e.args=this.args;let s=0;if(t&&(e.event=t,r.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Cnt(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const P=e._delta.map(Math.abs);ro.addTo(e._distance,P)}this.axisIntent&&this.axisIntent(t);const[o,a]=e._movement,[l,u]=r.threshold,{_step:h,values:m}=e;if(r.hasCustomTransform?(h[0]===!1&&(h[0]=Math.abs(o)>=l&&m[0]),h[1]===!1&&(h[1]=Math.abs(a)>=u&&m[1])):(h[0]===!1&&(h[0]=Math.abs(o)>=l&&Math.sign(o)*l),h[1]===!1&&(h[1]=Math.abs(a)>=u&&Math.sign(a)*u)),e.intentional=h[0]!==!1||h[1]!==!1,!e.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[P,F]=m;d[0]=h[0]!==!1?P-h[0]:0,d[1]=h[1]!==!1?F-h[1]:0}else d[0]=h[0]!==!1?o-h[0]:0,d[1]=h[1]!==!1?a-h[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(d);const y=e.offset,_=e._active&&!e._blocked||e.active;_&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=i[this.ingKey]=e._active,t&&(e.first&&("bounds"in r&&(e._bounds=gb(r.bounds,e)),this.setup&&this.setup()),e.movement=d,this.computeOffset()));const[v,w]=e.offset,[[x,S],[M,T]]=e._bounds;e.overflow=[v<x?-1:v>S?1:0,w<M?-1:w>T?1:0],e._movementBound[0]=e.overflow[0]?e._movementBound[0]===!1?e._movement[0]:e._movementBound[0]:!1,e._movementBound[1]=e.overflow[1]?e._movementBound[1]===!1?e._movement[1]:e._movementBound[1]:!1;const A=e._active?r.rubberband||[0,0]:[0,0];if(e.offset=vnt(e._bounds,e.offset,A),e.delta=ro.sub(e.offset,y),this.computeMovement(),_&&(!e.last||s>Lnt)){e.delta=ro.sub(e.offset,y);const P=e.delta.map(Math.abs);ro.addTo(e.distance,P),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&s>0&&(e.velocity=[P[0]/s,P[1]/s])}}emit(){const t=this.state,e=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(vi(vi(vi({},e),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Dnt([n,t],e){const r=Math.abs(n),i=Math.abs(t);if(r>i&&r>e)return"x";if(i>r&&i>e)return"y"}class knt extends Pnt{constructor(...t){super(...t),Ko(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ro.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ro.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const e=this.state,r=this.config;if(!e.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[x5(t)]:r.axisThreshold;e.axis=Dnt(e._movement,i)}e._blocked=(r.lockDirection||!!r.axis)&&!e.axis||!!r.axis&&r.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Ont=n=>n,Ak=.15,S5={enabled(n=!0){return n},eventOptions(n,t,e){return vi(vi({},e.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[Ak,Ak];case!1:return[0,0];default:return ro.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return ro.toVector(n)},transform(n,t,e){const r=n||e.shared.transform;return this.hasCustomTransform=!!r,r||Ont},threshold(n){return ro.toVector(n,0)}},Fnt=0,y1=vi(vi({},S5),{},{axis(n,t,{axis:e}){if(this.lockDirection=e==="lock",!this.lockDirection)return e},axisThreshold(n=Fnt){return n},bounds(n={}){if(typeof n=="function")return s=>y1.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:t=-1/0,right:e=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[t,e],[r,i]]}}),nx=10,Ck={ArrowRight:(n=1)=>[nx*n,0],ArrowLeft:(n=1)=>[-nx*n,0],ArrowUp:(n=1)=>[0,-nx*n],ArrowDown:(n=1)=>[0,nx*n]};class Bnt extends knt{constructor(...t){super(...t),Ko(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:e.left-r.left+t.offset[0],right:e.right-r.right+t.offset[0],top:e.top-r.top+t.offset[1],bottom:e.bottom-r.bottom+t.offset[1]};t._bounds=y1.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):e.pointerButtons!==-1&&e.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=nM(t),r._pointerActive=!0,this.computeValues(Mk(t)),this.computeInitial(),e.preventScrollAxis&&x5(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,r=this.config;if(!e._pointerActive||e.type===t.type&&t.timeStamp===e.timeStamp)return;const i=nM(t);if(e._pointerId!==void 0&&i!==e._pointerId)return;const s=Mk(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=ro.sub(s,e._values),this.computeValues(s)),ro.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!e._preventScroll)if(e.axis)if(e.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){e._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const e=this.state,r=this.config;if(!e._active||!e._pointerActive)return;const i=nM(t);if(e._pointerId!==void 0&&i!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,o]=e._distance;if(e.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,e.tap&&r.filterTaps)e._force=!0;else{const[a,l]=e.direction,[u,h]=e.velocity,[m,d]=e.movement,[y,_]=r.swipe.velocity,[v,w]=r.swipe.distance,x=r.swipe.duration;e.elapsedTime<x&&(Math.abs(u)>y&&Math.abs(m)>v&&(e.swipe[0]=a),Math.abs(h)>_&&Math.abs(d)>w&&(e.swipe[1]=l))}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config,r=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,Nnt(t);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const e=Ck[t.key];if(e){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=e(i),r._keyboardActive=!0,ro.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Ck&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Nnt(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const v1=typeof window!="undefined"&&window.document&&window.document.createElement;function znt(){return v1&&"ontouchstart"in window}function Ik(){return znt()||v1&&window.navigator.maxTouchPoints>1}function Unt(){return v1&&"onpointerdown"in window}function Vnt(){return v1&&"exitPointerLock"in window.document}function Hnt(){try{return"constructor"in GestureEvent}catch{return!1}}const cl={isBrowser:v1,gesture:Hnt(),touch:Ik(),touchscreen:Ik(),pointer:Unt(),pointerLock:Vnt()},Wnt=250,Gnt=180,$nt=.5,jnt=50,Ynt=250,Rk={mouse:0,touch:0,pen:8},qnt=vi(vi({},y1),{},{device(n,t,{pointer:{touch:e=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&cl.pointerLock,cl.touch&&e?"touch":this.pointerLock?"mouse":cl.pointer&&!i?"pointer":cl.touch?"touch":"mouse"},preventScrollAxis(n,t,{preventScroll:e}){if(this.preventScrollDelay=typeof e=="number"?e:e||e===void 0&&n?Wnt:void 0,!(!cl.touchscreen||e===!1))return n||(e!==void 0?"y":void 0)},pointerCapture(n,t,{pointer:{capture:e=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&e},keys(n=!0){return n},threshold(n,t,{filterTaps:e=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ro.toVector(n,e?r:i?1:0);return this.filterTaps=e,this.tapsThreshold=r,s},swipe({velocity:n=$nt,distance:t=jnt,duration:e=Ynt}={}){return{velocity:this.transform(ro.toVector(n)),distance:this.transform(ro.toVector(t)),duration:e}},delay(n=0){switch(n){case!0:return Gnt;case!1:return 0;default:return n}},axisThreshold(n){return n?vi(vi({},Rk),n):Rk}});vi(vi({},S5),{},{device(n,t,{shared:e,pointer:{touch:r=!1}={}}){if(e.target&&!cl.touch&&cl.gesture)return"gesture";if(cl.touch&&r)return"touch";if(cl.touchscreen){if(cl.pointer)return"pointer";if(cl.touch)return"touch"}},bounds(n,t,{scaleBounds:e={},angleBounds:r={}}){const i=o=>{const a=Tk(gb(e,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=Tk(gb(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof e!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,t,e){return this.lockDirection=e.axis==="lock",ro.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n}});vi(vi({},y1),{},{mouseOnly:(n=!0)=>n});vi(vi({},y1),{},{mouseOnly:(n=!0)=>n});const E5=new Map,dA=new Map;function Xnt(n){E5.set(n.key,n.engine),dA.set(n.key,n.resolver)}const Znt={key:"drag",engine:Bnt,resolver:qnt};function Knt(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function Jnt(n,t){if(n==null)return{};var e=Knt(n,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}const Qnt={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=cl.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:t=!1}={}){return{passive:n,capture:t}},transform(n){return n}},trt=["target","eventOptions","window","enabled","transform"];function Px(n={},t){const e={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":e[r]=i.call(e,n[r],r,n);break;case"object":e[r]=Px(n[r],i);break;case"boolean":i&&(e[r]=n[r]);break}return e}function ert(n,t,e={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=Jnt(r,trt);if(e.shared=Px({target:i,eventOptions:s,window:o,enabled:a,transform:l},Qnt),t){const h=dA.get(t);e[t]=Px(vi({shared:e.shared},u),h)}else for(const h in u){const m=dA.get(h);m&&(e[h]=Px(vi({shared:e.shared},u[h]),m))}return e}class M5{constructor(t,e){Ko(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,r,i,s){const o=this._listeners,a=Ent(e,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=vi(vi({},l),s);t.addEventListener(a,i,u);const h=()=>{t.removeEventListener(a,i,u),o.delete(h)};return o.add(h),h}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class nrt{constructor(){Ko(this,"_timeouts",new Map)}add(t,e,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(e,r,...i))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class rrt{constructor(t){Ko(this,"gestures",new Set),Ko(this,"_targetEventStore",new M5(this)),Ko(this,"gestureEventStores",{}),Ko(this,"gestureTimeoutStores",{}),Ko(this,"handlers",{}),Ko(this,"config",{}),Ko(this,"pointerIds",new Set),Ko(this,"touchIds",new Set),Ko(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),irt(this,t)}setEventIds(t){if(HS(t))return this.touchIds=new Set(Ant(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=ert(t,e,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,r={};let i;if(!(e.target&&(i=e.target(),!i))){if(e.enabled){for(const o of this.gestures){const a=this.config[o],l=Lk(r,a.eventOptions,!!i);if(a.enabled){const u=E5.get(o);new u(this,t,o).bind(l)}}const s=Lk(r,e.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](vi(vi({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const s in r)r[s]=Rnt(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=Snt(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function a0(n,t){n.gestures.add(t),n.gestureEventStores[t]=new M5(n,t),n.gestureTimeoutStores[t]=new nrt}function irt(n,t){t.drag&&a0(n,"drag"),t.wheel&&a0(n,"wheel"),t.scroll&&a0(n,"scroll"),t.move&&a0(n,"move"),t.pinch&&a0(n,"pinch"),t.hover&&a0(n,"hover")}const Lk=(n,t,e)=>(r,i,s,o={},a=!1)=>{var l,u;const h=(l=o.capture)!==null&&l!==void 0?l:t.capture,m=(u=o.passive)!==null&&u!==void 0?u:t.passive;let d=a?r:xnt(r,i,h);e&&m&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function srt(n,t={},e,r){const i=nn.useMemo(()=>new rrt(n),[]);if(i.applyHandlers(n,r),i.applyConfig(t,e),nn.useEffect(i.effect.bind(i)),nn.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function ort(n,t){return Xnt(Znt),srt({drag:n},t||{},"drag")}function _t(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const je={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},Cr={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()},kn={x:0,y:0},Da={camera:new Ae,gizmos:new Ae},Jr={type:"change"},su={type:"start"},il={type:"end"};class art extends sh{constructor(t,e=null,r=null){super(),_t(this,"camera",void 0),_t(this,"domElement",void 0),_t(this,"scene",void 0),_t(this,"mouseActions",void 0),_t(this,"_mouseOp",void 0),_t(this,"_v2_1",void 0),_t(this,"_v3_1",void 0),_t(this,"_v3_2",void 0),_t(this,"_m4_1",void 0),_t(this,"_m4_2",void 0),_t(this,"_quat",void 0),_t(this,"_translationMatrix",void 0),_t(this,"_rotationMatrix",void 0),_t(this,"_scaleMatrix",void 0),_t(this,"_rotationAxis",void 0),_t(this,"_cameraMatrixState",void 0),_t(this,"_cameraProjectionState",void 0),_t(this,"_fovState",void 0),_t(this,"_upState",void 0),_t(this,"_zoomState",void 0),_t(this,"_nearPos",void 0),_t(this,"_farPos",void 0),_t(this,"_gizmoMatrixState",void 0),_t(this,"_up0",void 0),_t(this,"_zoom0",void 0),_t(this,"_fov0",void 0),_t(this,"_initialNear",void 0),_t(this,"_nearPos0",void 0),_t(this,"_initialFar",void 0),_t(this,"_farPos0",void 0),_t(this,"_cameraMatrixState0",void 0),_t(this,"_gizmoMatrixState0",void 0),_t(this,"_button",void 0),_t(this,"_touchStart",void 0),_t(this,"_touchCurrent",void 0),_t(this,"_input",void 0),_t(this,"_switchSensibility",void 0),_t(this,"_startFingerDistance",void 0),_t(this,"_currentFingerDistance",void 0),_t(this,"_startFingerRotation",void 0),_t(this,"_currentFingerRotation",void 0),_t(this,"_devPxRatio",void 0),_t(this,"_downValid",void 0),_t(this,"_nclicks",void 0),_t(this,"_downEvents",void 0),_t(this,"_clickStart",void 0),_t(this,"_maxDownTime",void 0),_t(this,"_maxInterval",void 0),_t(this,"_posThreshold",void 0),_t(this,"_movementThreshold",void 0),_t(this,"_currentCursorPosition",void 0),_t(this,"_startCursorPosition",void 0),_t(this,"_grid",void 0),_t(this,"_gridPosition",void 0),_t(this,"_gizmos",void 0),_t(this,"_curvePts",void 0),_t(this,"_timeStart",void 0),_t(this,"_animationId",void 0),_t(this,"focusAnimationTime",void 0),_t(this,"_timePrev",void 0),_t(this,"_timeCurrent",void 0),_t(this,"_anglePrev",void 0),_t(this,"_angleCurrent",void 0),_t(this,"_cursorPosPrev",void 0),_t(this,"_cursorPosCurr",void 0),_t(this,"_wPrev",void 0),_t(this,"_wCurr",void 0),_t(this,"adjustNearFar",void 0),_t(this,"scaleFactor",void 0),_t(this,"dampingFactor",void 0),_t(this,"wMax",void 0),_t(this,"enableAnimations",void 0),_t(this,"enableGrid",void 0),_t(this,"cursorZoom",void 0),_t(this,"minFov",void 0),_t(this,"maxFov",void 0),_t(this,"enabled",void 0),_t(this,"enablePan",void 0),_t(this,"enableRotate",void 0),_t(this,"enableZoom",void 0),_t(this,"minDistance",void 0),_t(this,"maxDistance",void 0),_t(this,"minZoom",void 0),_t(this,"maxZoom",void 0),_t(this,"target",void 0),_t(this,"_currentTarget",void 0),_t(this,"_tbRadius",void 0),_t(this,"_state",void 0),_t(this,"onWindowResize",()=>{const i=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3;if(this.camera){const u=this.calculateTbRadius(this.camera);u!==void 0&&(this._tbRadius=u)}const s=this._tbRadius/i,a=new Ld(0,0,s,s).getPoints(this._curvePts),l=new Xe().setFromPoints(a);for(const u in this._gizmos.children){const h=this._gizmos.children[u];h.geometry=l}this.dispatchEvent(Jr)}),_t(this,"onContextMenu",i=>{if(!!this.enabled){for(let s=0;s<this.mouseActions.length;s++)if(this.mouseActions[s].mouse==2){i.preventDefault();break}}}),_t(this,"onPointerCancel",()=>{this._touchStart.splice(0,this._touchStart.length),this._touchCurrent.splice(0,this._touchCurrent.length),this._input=Cr.NONE}),_t(this,"onPointerDown",i=>{if(i.button==0&&i.isPrimary?(this._downValid=!0,this._downEvents.push(i)):this._downValid=!1,i.pointerType=="touch"&&this._input!=Cr.CURSOR)switch(this._touchStart.push(i),this._touchCurrent.push(i),this._input){case Cr.NONE:this._input=Cr.ONE_FINGER,this.onSinglePanStart(i,"ROTATE"),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp);break;case Cr.ONE_FINGER:case Cr.ONE_FINGER_SWITCHED:this._input=Cr.TWO_FINGER,this.onRotateStart(),this.onPinchStart(),this.onDoublePanStart();break;case Cr.TWO_FINGER:this._input=Cr.MULT_FINGER,this.onTriplePanStart();break}else if(i.pointerType!="touch"&&this._input==Cr.NONE){let s=null;i.ctrlKey||i.metaKey?s="CTRL":i.shiftKey&&(s="SHIFT"),this._mouseOp=this.getOpFromAction(i.button,s),this._mouseOp&&(window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),this._input=Cr.CURSOR,this._button=i.button,this.onSinglePanStart(i,this._mouseOp))}}),_t(this,"onPointerMove",i=>{if(i.pointerType=="touch"&&this._input!=Cr.CURSOR)switch(this._input){case Cr.ONE_FINGER:this.updateTouchEvent(i),this.onSinglePanMove(i,je.ROTATE);break;case Cr.ONE_FINGER_SWITCHED:if(this.calculatePointersDistance(this._touchCurrent[0],i)*this._devPxRatio>=this._switchSensibility){this._input=Cr.ONE_FINGER,this.updateTouchEvent(i),this.onSinglePanStart(i,"ROTATE");break}break;case Cr.TWO_FINGER:this.updateTouchEvent(i),this.onRotateMove(),this.onPinchMove(),this.onDoublePanMove();break;case Cr.MULT_FINGER:this.updateTouchEvent(i),this.onTriplePanMove();break}else if(i.pointerType!="touch"&&this._input==Cr.CURSOR){let s=null;i.ctrlKey||i.metaKey?s="CTRL":i.shiftKey&&(s="SHIFT");const o=this.getOpStateFromAction(this._button,s);o&&this.onSinglePanMove(i,o)}this._downValid&&this.calculatePointersDistance(this._downEvents[this._downEvents.length-1],i)*this._devPxRatio>this._movementThreshold&&(this._downValid=!1)}),_t(this,"onPointerUp",i=>{if(i.pointerType=="touch"&&this._input!=Cr.CURSOR){const s=this._touchCurrent.length;for(let o=0;o<s;o++)if(this._touchCurrent[o].pointerId==i.pointerId){this._touchCurrent.splice(o,1),this._touchStart.splice(o,1);break}switch(this._input){case Cr.ONE_FINGER:case Cr.ONE_FINGER_SWITCHED:window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=Cr.NONE,this.onSinglePanEnd();break;case Cr.TWO_FINGER:this.onDoublePanEnd(),this.onPinchEnd(),this.onRotateEnd(),this._input=Cr.ONE_FINGER_SWITCHED;break;case Cr.MULT_FINGER:this._touchCurrent.length==0&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=Cr.NONE,this.onTriplePanEnd());break}}else i.pointerType!="touch"&&this._input==Cr.CURSOR&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=Cr.NONE,this.onSinglePanEnd(),this._button=-1);if(i.isPrimary)if(this._downValid)if(i.timeStamp-this._downEvents[this._downEvents.length-1].timeStamp<=this._maxDownTime)if(this._nclicks==0)this._nclicks=1,this._clickStart=performance.now();else{const o=i.timeStamp-this._clickStart,a=this.calculatePointersDistance(this._downEvents[1],this._downEvents[0])*this._devPxRatio;o<=this._maxInterval&&a<=this._posThreshold?(this._nclicks=0,this._downEvents.splice(0,this._downEvents.length),this.onDoubleTap(i)):(this._nclicks=1,this._downEvents.shift(),this._clickStart=performance.now())}else this._downValid=!1,this._nclicks=0,this._downEvents.splice(0,this._downEvents.length);else this._nclicks=0,this._downEvents.splice(0,this._downEvents.length)}),_t(this,"onWheel",i=>{var s;if(this.enabled&&this.enableZoom&&this.domElement){let h=null;i.ctrlKey||i.metaKey?h="CTRL":i.shiftKey&&(h="SHIFT");const m=this.getOpFromAction("WHEEL",h);if(m){i.preventDefault(),this.dispatchEvent(su);const d=125;let y=i.deltaY/d,_=1;switch(y>0?_=1/this.scaleFactor:y<0&&(_=this.scaleFactor),m){case"ZOOM":if(this.updateTbState(je.SCALE,!0),y>0?_=1/Math.pow(this.scaleFactor,y):y<0&&(_=Math.pow(this.scaleFactor,-y)),this.cursorZoom&&this.enablePan){var o,a;let v;if(((o=this.camera)===null||o===void 0?void 0:o.type)==="OrthographicCamera"){var l;v=(l=this.unprojectOnTbPlane(this.camera,i.clientX,i.clientY,this.domElement))===null||l===void 0?void 0:l.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position)}if(((a=this.camera)===null||a===void 0?void 0:a.type)==="PerspectiveCamera"){var u;v=(u=this.unprojectOnTbPlane(this.camera,i.clientX,i.clientY,this.domElement))===null||u===void 0?void 0:u.applyQuaternion(this.camera.quaternion).add(this._gizmos.position)}v!==void 0&&this.applyTransformMatrix(this.applyScale(_,v))}else this.applyTransformMatrix(this.applyScale(_,this._gizmos.position));this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(je.IDLE,!1),this.dispatchEvent(Jr),this.dispatchEvent(il);break;case"FOV":if(((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"){this.updateTbState(je.FOV,!0),i.deltaX!=0&&(y=i.deltaX/d,_=1,y>0?_=1/Math.pow(this.scaleFactor,y):y<0&&(_=Math.pow(this.scaleFactor,-y))),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const v=this._v3_1.distanceTo(this._gizmos.position);let w=v/_;w=si.clamp(w,this.minDistance,this.maxDistance);const x=v*Math.tan(si.DEG2RAD*this.camera.fov*.5);let S=si.RAD2DEG*(Math.atan(x/w)*2);S>this.maxFov?S=this.maxFov:S<this.minFov&&(S=this.minFov);const M=x/Math.tan(si.DEG2RAD*(S/2));_=v/M,this.setFov(S),this.applyTransformMatrix(this.applyScale(_,this._gizmos.position,!1))}this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(je.IDLE,!1),this.dispatchEvent(Jr),this.dispatchEvent(il);break}}}}),_t(this,"onSinglePanStart",(i,s)=>{var o;if(this.enabled&&this.domElement)switch(this.dispatchEvent(su),this.setCenter(i.clientX,i.clientY),s){case"PAN":if(!this.enablePan)return;if(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(Jr)),this.camera){this.updateTbState(je.PAN,!0);const a=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement);a!==void 0&&this._startCursorPosition.copy(a),this.enableGrid&&(this.drawGrid(),this.dispatchEvent(Jr))}break;case"ROTATE":if(!this.enableRotate)return;if(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1),this.camera){this.updateTbState(je.ROTATE,!0);const a=this.unprojectOnTbSurface(this.camera,kn.x,kn.y,this.domElement,this._tbRadius);a!==void 0&&this._startCursorPosition.copy(a),this.activateGizmos(!0),this.enableAnimations&&(this._timePrev=this._timeCurrent=performance.now(),this._angleCurrent=this._anglePrev=0,this._cursorPosPrev.copy(this._startCursorPosition),this._cursorPosCurr.copy(this._cursorPosPrev),this._wCurr=0,this._wPrev=this._wCurr)}this.dispatchEvent(Jr);break;case"FOV":if(!this.enableZoom)return;((o=this.camera)===null||o===void 0?void 0:o.type)==="PerspectiveCamera"&&(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(Jr)),this.updateTbState(je.FOV,!0),this._startCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition));break;case"ZOOM":if(!this.enableZoom)return;this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(Jr)),this.updateTbState(je.SCALE,!0),this._startCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition);break}}),_t(this,"onSinglePanMove",(i,s)=>{var o;if(this.enabled&&this.domElement){const a=s!=this._state;switch(this.setCenter(i.clientX,i.clientY),s){case je.PAN:if(this.enablePan&&this.camera)if(a){this.dispatchEvent(il),this.dispatchEvent(su),this.updateTbState(s,!0);const l=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement);l!==void 0&&this._startCursorPosition.copy(l),this.enableGrid&&this.drawGrid(),this.activateGizmos(!1)}else{const l=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement);l!==void 0&&this._currentCursorPosition.copy(l),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition))}break;case je.ROTATE:if(this.enableRotate&&this.camera)if(a){this.dispatchEvent(il),this.dispatchEvent(su),this.updateTbState(s,!0);const l=this.unprojectOnTbSurface(this.camera,kn.x,kn.y,this.domElement,this._tbRadius);l!==void 0&&this._startCursorPosition.copy(l),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!0)}else{const l=this.unprojectOnTbSurface(this.camera,kn.x,kn.y,this.domElement,this._tbRadius);l!==void 0&&this._currentCursorPosition.copy(l);const u=this._startCursorPosition.distanceTo(this._currentCursorPosition),h=this._startCursorPosition.angleTo(this._currentCursorPosition),m=Math.max(u/this._tbRadius,h);this.applyTransformMatrix(this.rotate(this.calculateRotationAxis(this._startCursorPosition,this._currentCursorPosition),m)),this.enableAnimations&&(this._timePrev=this._timeCurrent,this._timeCurrent=performance.now(),this._anglePrev=this._angleCurrent,this._angleCurrent=m,this._cursorPosPrev.copy(this._cursorPosCurr),this._cursorPosCurr.copy(this._currentCursorPosition),this._wPrev=this._wCurr,this._wCurr=this.calculateAngularSpeed(this._anglePrev,this._angleCurrent,this._timePrev,this._timeCurrent))}break;case je.SCALE:if(this.enableZoom)if(a)this.dispatchEvent(il),this.dispatchEvent(su),this.updateTbState(s,!0),this._startCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{this._currentCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5);const u=this._currentCursorPosition.y-this._startCursorPosition.y;let h=1;u<0?h=1/Math.pow(this.scaleFactor,-u*8):u>0&&(h=Math.pow(this.scaleFactor,u*8)),this.applyTransformMatrix(this.applyScale(h,this._gizmos.position))}break;case je.FOV:if(this.enableZoom&&((o=this.camera)===null||o===void 0?void 0:o.type)==="PerspectiveCamera")if(a)this.dispatchEvent(il),this.dispatchEvent(su),this.updateTbState(s,!0),this._startCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{this._currentCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5);const u=this._currentCursorPosition.y-this._startCursorPosition.y;let h=1;u<0?h=1/Math.pow(this.scaleFactor,-u*8):u>0&&(h=Math.pow(this.scaleFactor,u*8)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const m=this._v3_1.distanceTo(this._gizmos.position);let d=m/h;d=si.clamp(d,this.minDistance,this.maxDistance);const y=m*Math.tan(si.DEG2RAD*this._fovState*.5);let _=si.RAD2DEG*(Math.atan(y/d)*2);_=si.clamp(_,this.minFov,this.maxFov);const v=y/Math.tan(si.DEG2RAD*(_/2));h=m/v,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(_),this.applyTransformMatrix(this.applyScale(h,this._v3_2,!1));const w=this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(v/m);this._m4_1.makeTranslation(w.x,w.y,w.z)}break}this.dispatchEvent(Jr)}}),_t(this,"onSinglePanEnd",()=>{if(this._state==je.ROTATE){if(!this.enableRotate)return;if(this.enableAnimations)if(performance.now()-this._timeCurrent<120){const s=Math.abs((this._wPrev+this._wCurr)/2),o=this;this._animationId=window.requestAnimationFrame(function(a){o.updateTbState(je.ANIMATION_ROTATE,!0);const l=o.calculateRotationAxis(o._cursorPosPrev,o._cursorPosCurr);o.onRotationAnim(a,l,Math.min(s,o.wMax))})}else this.updateTbState(je.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Jr);else this.updateTbState(je.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Jr)}else(this._state==je.PAN||this._state==je.IDLE)&&(this.updateTbState(je.IDLE,!1),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1),this.dispatchEvent(Jr));this.dispatchEvent(il)}),_t(this,"onDoubleTap",i=>{if(this.enabled&&this.enablePan&&this.scene&&this.camera&&this.domElement){this.dispatchEvent(su),this.setCenter(i.clientX,i.clientY);const s=this.unprojectOnObj(this.getCursorNDC(kn.x,kn.y,this.domElement),this.camera);if(s&&this.enableAnimations){const o=this;this._animationId!=-1&&window.cancelAnimationFrame(this._animationId),this._timeStart=-1,this._animationId=window.requestAnimationFrame(function(a){o.updateTbState(je.ANIMATION_FOCUS,!0),o.onFocusAnim(a,s,o._cameraMatrixState,o._gizmoMatrixState)})}else s&&!this.enableAnimations&&(this.updateTbState(je.FOCUS,!0),this.focus(s,this.scaleFactor),this.updateTbState(je.IDLE,!1),this.dispatchEvent(Jr))}this.dispatchEvent(il)}),_t(this,"onDoublePanStart",()=>{if(this.enabled&&this.enablePan&&this.camera&&this.domElement){this.dispatchEvent(su),this.updateTbState(je.PAN,!0),this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);const i=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement,!0);i!==void 0&&this._startCursorPosition.copy(i),this._currentCursorPosition.copy(this._startCursorPosition),this.activateGizmos(!1)}}),_t(this,"onDoublePanMove",()=>{if(this.enabled&&this.enablePan&&this.camera&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2),this._state!=je.PAN&&(this.updateTbState(je.PAN,!0),this._startCursorPosition.copy(this._currentCursorPosition));const i=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement,!0);i!==void 0&&this._currentCursorPosition.copy(i),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition,!0)),this.dispatchEvent(Jr)}}),_t(this,"onDoublePanEnd",()=>{this.updateTbState(je.IDLE,!1),this.dispatchEvent(il)}),_t(this,"onRotateStart",()=>{if(this.enabled&&this.enableRotate){var i;this.dispatchEvent(su),this.updateTbState(je.ZROTATE,!0),this._startFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),this._currentFingerRotation=this._startFingerRotation,(i=this.camera)===null||i===void 0||i.getWorldDirection(this._rotationAxis),!this.enablePan&&!this.enableZoom&&this.activateGizmos(!0)}}),_t(this,"onRotateMove",()=>{if(this.enabled&&this.enableRotate&&this.camera&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);let s;if(this._state!=je.ZROTATE&&(this.updateTbState(je.ZROTATE,!0),this._startFingerRotation=this._currentFingerRotation),this._currentFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),!this.enablePan)s=new rt().setFromMatrixPosition(this._gizmoMatrixState);else if(this.camera){var i;this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),s=(i=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement))===null||i===void 0?void 0:i.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._v3_2)}const o=si.DEG2RAD*(this._startFingerRotation-this._currentFingerRotation);s!==void 0&&this.applyTransformMatrix(this.zRotate(s,o)),this.dispatchEvent(Jr)}}),_t(this,"onRotateEnd",()=>{this.updateTbState(je.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(il)}),_t(this,"onPinchStart",()=>{this.enabled&&this.enableZoom&&(this.dispatchEvent(su),this.updateTbState(je.SCALE,!0),this._startFingerDistance=this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),this._currentFingerDistance=this._startFingerDistance,this.activateGizmos(!1))}),_t(this,"onPinchMove",()=>{if(this.enabled&&this.enableZoom&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);const l=12;this._state!=je.SCALE&&(this._startFingerDistance=this._currentFingerDistance,this.updateTbState(je.SCALE,!0)),this._currentFingerDistance=Math.max(this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),l*this._devPxRatio);const u=this._currentFingerDistance/this._startFingerDistance;let h;if(!this.enablePan)h=this._gizmos.position;else{var i,s;if(((i=this.camera)===null||i===void 0?void 0:i.type)==="OrthographicCamera"){var o;h=(o=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement))===null||o===void 0?void 0:o.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position)}else if(((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"){var a;h=(a=this.unprojectOnTbPlane(this.camera,kn.x,kn.y,this.domElement))===null||a===void 0?void 0:a.applyQuaternion(this.camera.quaternion).add(this._gizmos.position)}}h!==void 0&&this.applyTransformMatrix(this.applyScale(u,h)),this.dispatchEvent(Jr)}}),_t(this,"onPinchEnd",()=>{this.updateTbState(je.IDLE,!1),this.dispatchEvent(il)}),_t(this,"onTriplePanStart",()=>{if(this.enabled&&this.enableZoom&&this.domElement){this.dispatchEvent(su),this.updateTbState(je.SCALE,!0);let i=0,s=0;const o=this._touchCurrent.length;for(let a=0;a<o;a++)i+=this._touchCurrent[a].clientX,s+=this._touchCurrent[a].clientY;this.setCenter(i/o,s/o),this._startCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition)}}),_t(this,"onTriplePanMove",()=>{if(this.enabled&&this.enableZoom&&this.camera&&this.domElement){let i=0,s=0;const o=this._touchCurrent.length;for(let w=0;w<o;w++)i+=this._touchCurrent[w].clientX,s+=this._touchCurrent[w].clientY;this.setCenter(i/o,s/o);const a=8;this._currentCursorPosition.setY(this.getCursorNDC(kn.x,kn.y,this.domElement).y*.5);const l=this._currentCursorPosition.y-this._startCursorPosition.y;let u=1;l<0?u=1/Math.pow(this.scaleFactor,-l*a):l>0&&(u=Math.pow(this.scaleFactor,l*a)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const h=this._v3_1.distanceTo(this._gizmos.position);let m=h/u;m=si.clamp(m,this.minDistance,this.maxDistance);const d=h*Math.tan(si.DEG2RAD*this._fovState*.5);let y=si.RAD2DEG*(Math.atan(d/m)*2);y=si.clamp(y,this.minFov,this.maxFov);const _=d/Math.tan(si.DEG2RAD*(y/2));u=h/_,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(y),this.applyTransformMatrix(this.applyScale(u,this._v3_2,!1));const v=this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(_/h);this._m4_1.makeTranslation(v.x,v.y,v.z),this.dispatchEvent(Jr)}}),_t(this,"onTriplePanEnd",()=>{this.updateTbState(je.IDLE,!1),this.dispatchEvent(il)}),_t(this,"setCenter",(i,s)=>{kn.x=i,kn.y=s}),_t(this,"initializeMouseActions",()=>{this.setMouseAction("PAN",0,"CTRL"),this.setMouseAction("PAN",2),this.setMouseAction("ROTATE",0),this.setMouseAction("ZOOM","WHEEL"),this.setMouseAction("ZOOM",1),this.setMouseAction("FOV","WHEEL","SHIFT"),this.setMouseAction("FOV",1,"SHIFT")}),_t(this,"setMouseAction",(i,s,o=null)=>{const a=["PAN","ROTATE","ZOOM","FOV"],l=[0,1,2,"WHEEL"],u=["CTRL","SHIFT",null];let h;if(!a.includes(i)||!l.includes(s)||!u.includes(o)||s=="WHEEL"&&i!="ZOOM"&&i!="FOV")return!1;switch(i){case"PAN":h=je.PAN;break;case"ROTATE":h=je.ROTATE;break;case"ZOOM":h=je.SCALE;break;case"FOV":h=je.FOV;break}const m={operation:i,mouse:s,key:o,state:h};for(let d=0;d<this.mouseActions.length;d++)if(this.mouseActions[d].mouse==m.mouse&&this.mouseActions[d].key==m.key)return this.mouseActions.splice(d,1,m),!0;return this.mouseActions.push(m),!0}),_t(this,"getOpFromAction",(i,s)=>{let o;for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==s)return o.operation;if(s){for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==null)return o.operation}return null}),_t(this,"getOpStateFromAction",(i,s)=>{let o;for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==s)return o.state;if(s){for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==i&&o.key==null)return o.state}return null}),_t(this,"getAngle",(i,s)=>Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX)*180/Math.PI),_t(this,"updateTouchEvent",i=>{for(let s=0;s<this._touchCurrent.length;s++)if(this._touchCurrent[s].pointerId==i.pointerId){this._touchCurrent.splice(s,1,i);break}}),_t(this,"calculateAngularSpeed",(i,s,o,a)=>{const l=s-i,u=(a-o)/1e3;return u==0?0:l/u}),_t(this,"calculatePointersDistance",(i,s)=>Math.sqrt(Math.pow(s.clientX-i.clientX,2)+Math.pow(s.clientY-i.clientY,2))),_t(this,"calculateRotationAxis",(i,s)=>(this._rotationMatrix.extractRotation(this._cameraMatrixState),this._quat.setFromRotationMatrix(this._rotationMatrix),this._rotationAxis.crossVectors(i,s).applyQuaternion(this._quat),this._rotationAxis.normalize().clone())),_t(this,"calculateTbRadius",i=>{const o=i.position.distanceTo(this._gizmos.position);if(i.type=="PerspectiveCamera"){const a=si.DEG2RAD*i.fov*.5,l=Math.atan(i.aspect*Math.tan(a));return Math.tan(Math.min(a,l))*o*.67}else if(i.type=="OrthographicCamera")return Math.min(i.top,i.right)*.67}),_t(this,"focus",(i,s,o=1)=>{if(this.camera){const a=i.clone();a.sub(this._gizmos.position).multiplyScalar(o),this._translationMatrix.makeTranslation(a.x,a.y,a.z);const l=this._gizmoMatrixState.clone();this._gizmoMatrixState.premultiply(this._translationMatrix),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale);const u=this._cameraMatrixState.clone();this._cameraMatrixState.premultiply(this._translationMatrix),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.enableZoom&&this.applyTransformMatrix(this.applyScale(s,this._gizmos.position)),this._gizmoMatrixState.copy(l),this._cameraMatrixState.copy(u)}}),_t(this,"drawGrid",()=>{if(this.scene){var i,s;let l,u,h,m;if(((i=this.camera)===null||i===void 0?void 0:i.type)==="OrthographicCamera"){const d=this.camera.right-this.camera.left,y=this.camera.bottom-this.camera.top;h=Math.max(d,y),m=h/20,l=h/this.camera.zoom*3,u=l/m*this.camera.zoom}else if(((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"){const d=this.camera.position.distanceTo(this._gizmos.position),y=si.DEG2RAD*this.camera.fov*.5,_=Math.atan(this.camera.aspect*Math.tan(y));h=Math.tan(Math.max(y,_))*d*2,m=h/20,l=h*3,u=l/m}this._grid==null&&this.camera&&(this._grid=new JC(l,u,8947848,8947848),this._grid.position.copy(this._gizmos.position),this._gridPosition.copy(this._grid.position),this._grid.quaternion.copy(this.camera.quaternion),this._grid.rotateX(Math.PI*.5),this.scene.add(this._grid))}}),_t(this,"connect",i=>{i===document&&console.error('THREE.ArcballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=i,this.domElement.style.touchAction="none",this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onWheel)}),_t(this,"dispose",()=>{var i,s,o,a,l;this._animationId!=-1&&window.cancelAnimationFrame(this._animationId),(i=this.domElement)===null||i===void 0||i.removeEventListener("pointerdown",this.onPointerDown),(s=this.domElement)===null||s===void 0||s.removeEventListener("pointercancel",this.onPointerCancel),(o=this.domElement)===null||o===void 0||o.removeEventListener("wheel",this.onWheel),(a=this.domElement)===null||a===void 0||a.removeEventListener("contextmenu",this.onContextMenu),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("resize",this.onWindowResize),(l=this.scene)===null||l===void 0||l.remove(this._gizmos),this.disposeGrid()}),_t(this,"disposeGrid",()=>{this._grid&&this.scene&&(this.scene.remove(this._grid),this._grid=null)}),_t(this,"easeOutCubic",i=>1-Math.pow(1-i,3)),_t(this,"activateGizmos",i=>{for(const s of this._gizmos.children)s.material.setValues({opacity:i?1:.6})}),_t(this,"getCursorNDC",(i,s,o)=>{const a=o.getBoundingClientRect();return this._v2_1.setX((i-a.left)/a.width*2-1),this._v2_1.setY((a.bottom-s)/a.height*2-1),this._v2_1.clone()}),_t(this,"getCursorPosition",(i,s,o)=>{var a;return this._v2_1.copy(this.getCursorNDC(i,s,o)),((a=this.camera)===null||a===void 0?void 0:a.type)==="OrthographicCamera"&&(this._v2_1.x*=(this.camera.right-this.camera.left)*.5,this._v2_1.y*=(this.camera.top-this.camera.bottom)*.5),this._v2_1.clone()}),_t(this,"setCamera",i=>{if(i){i.lookAt(this.target),i.updateMatrix(),(i==null?void 0:i.type)=="PerspectiveCamera"&&(this._fov0=i.fov,this._fovState=i.fov),this._cameraMatrixState0.copy(i.matrix),this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraProjectionState.copy(i.projectionMatrix),this._zoom0=i.zoom,this._zoomState=this._zoom0,this._initialNear=i.near,this._nearPos0=i.position.distanceTo(this.target)-i.near,this._nearPos=this._initialNear,this._initialFar=i.far,this._farPos0=i.position.distanceTo(this.target)-i.far,this._farPos=this._initialFar,this._up0.copy(i.up),this._upState.copy(i.up),this.camera=i,this.camera.updateProjectionMatrix();const s=this.calculateTbRadius(i);s!==void 0&&(this._tbRadius=s),this.makeGizmos(this.target,this._tbRadius)}}),_t(this,"makeGizmos",(i,s)=>{const a=new Ld(0,0,s,s).getPoints(this._curvePts),l=new Xe().setFromPoints(a),u=new Wi({color:16744576,fog:!1,transparent:!0,opacity:.6}),h=new Wi({color:8454016,fog:!1,transparent:!0,opacity:.6}),m=new Wi({color:8421631,fog:!1,transparent:!0,opacity:.6}),d=new vl(l,u),y=new vl(l,h),_=new vl(l,m),v=Math.PI*.5;if(d.rotation.x=v,y.rotation.y=v,this._gizmoMatrixState0.identity().setPosition(i),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this.camera&&this.camera.zoom!=1){const w=1/this.camera.zoom;this._scaleMatrix.makeScale(w,w,w),this._translationMatrix.makeTranslation(-i.x,-i.y,-i.z),this._gizmoMatrixState.premultiply(this._translationMatrix).premultiply(this._scaleMatrix),this._translationMatrix.makeTranslation(i.x,i.y,i.z),this._gizmoMatrixState.premultiply(this._translationMatrix)}this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.clear(),this._gizmos.add(d),this._gizmos.add(y),this._gizmos.add(_)}),_t(this,"onFocusAnim",(i,s,o,a)=>{if(this._timeStart==-1&&(this._timeStart=i),this._state==je.ANIMATION_FOCUS){const u=(i-this._timeStart)/this.focusAnimationTime;if(this._gizmoMatrixState.copy(a),u>=1)this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(s,this.scaleFactor),this._timeStart=-1,this.updateTbState(je.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Jr);else{const h=this.easeOutCubic(u),m=1-h+this.scaleFactor*h;this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(s,m,h),this.dispatchEvent(Jr);const d=this;this._animationId=window.requestAnimationFrame(function(y){d.onFocusAnim(y,s,o,a.clone())})}}else this._animationId=-1,this._timeStart=-1}),_t(this,"onRotationAnim",(i,s,o)=>{if(this._timeStart==-1&&(this._anglePrev=0,this._angleCurrent=0,this._timeStart=i),this._state==je.ANIMATION_ROTATE){const a=(i-this._timeStart)/1e3;if(o+-this.dampingFactor*a>0){this._angleCurrent=.5*-this.dampingFactor*Math.pow(a,2)+o*a+0,this.applyTransformMatrix(this.rotate(s,this._angleCurrent)),this.dispatchEvent(Jr);const u=this;this._animationId=window.requestAnimationFrame(function(h){u.onRotationAnim(h,s,o)})}else this._animationId=-1,this._timeStart=-1,this.updateTbState(je.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Jr)}else this._animationId=-1,this._timeStart=-1,this._state!=je.ROTATE&&(this.activateGizmos(!1),this.dispatchEvent(Jr))}),_t(this,"pan",(i,s,o=!1)=>{if(this.camera){const a=i.clone().sub(s);if(this.camera.type==="OrthographicCamera"&&a.multiplyScalar(1/this.camera.zoom),this.camera.type==="PerspectiveCamera"&&o){this._v3_1.setFromMatrixPosition(this._cameraMatrixState0),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0);const l=this._v3_1.distanceTo(this._v3_2)/this.camera.position.distanceTo(this._gizmos.position);a.multiplyScalar(1/l)}this._v3_1.set(a.x,a.y,0).applyQuaternion(this.camera.quaternion),this._m4_1.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z),this.setTransformationMatrices(this._m4_1,this._m4_1)}return Da}),_t(this,"reset",()=>{if(this.camera){this.camera.zoom=this._zoom0,this.camera.type==="PerspectiveCamera"&&(this.camera.fov=this._fov0),this.camera.near=this._nearPos,this.camera.far=this._farPos,this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(this._up0),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this._gizmoMatrixState0.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix();const i=this.calculateTbRadius(this.camera);i!==void 0&&(this._tbRadius=i),this.makeGizmos(this._gizmos.position,this._tbRadius),this.camera.lookAt(this._gizmos.position),this.updateTbState(je.IDLE,!1),this.dispatchEvent(Jr)}}),_t(this,"rotate",(i,s)=>{const o=this._gizmos.position;return this._translationMatrix.makeTranslation(-o.x,-o.y,-o.z),this._rotationMatrix.makeRotationAxis(i,-s),this._m4_1.makeTranslation(o.x,o.y,o.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1),Da}),_t(this,"copyState",()=>{if(this.camera){var i;const s=JSON.stringify(((i=this.camera)===null||i===void 0?void 0:i.type)==="OrthographicCamera"?{arcballState:{cameraFar:this.camera.far,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}}:{arcballState:{cameraFar:this.camera.far,cameraFov:this.camera.fov,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}});navigator.clipboard.writeText(s)}}),_t(this,"pasteState",()=>{const i=this;navigator.clipboard.readText().then(function(o){i.setStateFromJSON(o)})}),_t(this,"saveState",()=>{!this.camera||(this._cameraMatrixState0.copy(this.camera.matrix),this._gizmoMatrixState0.copy(this._gizmos.matrix),this._nearPos=this.camera.near,this._farPos=this.camera.far,this._zoom0=this.camera.zoom,this._up0.copy(this.camera.up),this.camera.type==="PerspectiveCamera"&&(this._fov0=this.camera.fov))}),_t(this,"applyScale",(i,s,o=!0)=>{if(!this.camera)return;const a=s.clone();let l=1/i;if(this.camera.type==="OrthographicCamera"){this.camera.zoom=this._zoomState,this.camera.zoom*=i,this.camera.zoom>this.maxZoom?(this.camera.zoom=this.maxZoom,l=this._zoomState/this.maxZoom):this.camera.zoom<this.minZoom&&(this.camera.zoom=this.minZoom,l=this._zoomState/this.minZoom),this.camera.updateProjectionMatrix(),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState),this._scaleMatrix.makeScale(l,l,l),this._translationMatrix.makeTranslation(-this._v3_1.x,-this._v3_1.y,-this._v3_1.z),this._m4_2.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z).multiply(this._scaleMatrix),this._m4_2.multiply(this._translationMatrix),a.sub(this._v3_1);const u=a.clone().multiplyScalar(l);return a.sub(u),this._m4_1.makeTranslation(a.x,a.y,a.z),this._m4_2.premultiply(this._m4_1),this.setTransformationMatrices(this._m4_1,this._m4_2),Da}if(this.camera.type==="PerspectiveCamera"){this._v3_1.setFromMatrixPosition(this._cameraMatrixState),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);let u=this._v3_1.distanceTo(a),h=u-u*l;const m=u-h;m<this.minDistance?(l=this.minDistance/u,h=u-u*l):m>this.maxDistance&&(l=this.maxDistance/u,h=u-u*l);let d=a.clone().sub(this._v3_1).normalize().multiplyScalar(h);if(this._m4_1.makeTranslation(d.x,d.y,d.z),o){const y=this._v3_2;u=y.distanceTo(a),h=u-u*l,d=a.clone().sub(this._v3_2).normalize().multiplyScalar(h),this._translationMatrix.makeTranslation(y.x,y.y,y.z),this._scaleMatrix.makeScale(l,l,l),this._m4_2.makeTranslation(d.x,d.y,d.z).multiply(this._translationMatrix),this._m4_2.multiply(this._scaleMatrix),this._translationMatrix.makeTranslation(-y.x,-y.y,-y.z),this._m4_2.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1,this._m4_2)}else this.setTransformationMatrices(this._m4_1);return Da}}),_t(this,"setFov",i=>{var s;((s=this.camera)===null||s===void 0?void 0:s.type)==="PerspectiveCamera"&&(this.camera.fov=si.clamp(i,this.minFov,this.maxFov),this.camera.updateProjectionMatrix())}),_t(this,"setTarget",(i,s,o)=>{if(this.camera){this.target.set(i,s,o),this._gizmos.position.set(i,s,o);const a=this.calculateTbRadius(this.camera);a!==void 0&&(this._tbRadius=a),this.makeGizmos(this.target,this._tbRadius),this.camera.lookAt(this.target)}}),_t(this,"zRotate",(i,s)=>(this._rotationMatrix.makeRotationAxis(this._rotationAxis,s),this._translationMatrix.makeTranslation(-i.x,-i.y,-i.z),this._m4_1.makeTranslation(i.x,i.y,i.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState).sub(i),this._v3_2.copy(this._v3_1).applyAxisAngle(this._rotationAxis,s),this._v3_2.sub(this._v3_1),this._m4_2.makeTranslation(this._v3_2.x,this._v3_2.y,this._v3_2.z),this.setTransformationMatrices(this._m4_1,this._m4_2),Da)),_t(this,"unprojectOnObj",(i,s)=>{if(!this.scene)return null;const o=new KC;o.near=s.near,o.far=s.far,o.setFromCamera(i,s);const a=o.intersectObjects(this.scene.children,!0);for(let l=0;l<a.length;l++)if(a[l].object.uuid!=this._gizmos.uuid&&a[l].face)return a[l].point.clone();return null}),_t(this,"unprojectOnTbSurface",(i,s,o,a,l)=>{if(i.type=="OrthographicCamera"){this._v2_1.copy(this.getCursorPosition(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0);const u=Math.pow(this._v2_1.x,2),h=Math.pow(this._v2_1.y,2),m=Math.pow(this._tbRadius,2);return u+h<=m*.5?this._v3_1.setZ(Math.sqrt(m-(u+h))):this._v3_1.setZ(m*.5/Math.sqrt(u+h)),this._v3_1}if(i.type=="PerspectiveCamera"){this._v2_1.copy(this.getCursorNDC(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(i.projectionMatrixInverse);const u=this._v3_1.clone().normalize(),h=i.position.distanceTo(this._gizmos.position),m=Math.pow(l,2),d=this._v3_1.z,y=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));if(y==0)return u.set(this._v3_1.x,this._v3_1.y,l),u;const _=d/y,v=h;let w=Math.pow(_,2)+1,x=2*_*v,S=Math.pow(v,2)-m,M=Math.pow(x,2)-4*w*S;if(M>=0&&(this._v2_1.setX((-x-Math.sqrt(M))/(2*w)),this._v2_1.setY(_*this._v2_1.x+v),si.RAD2DEG*this._v2_1.angle()>=45)){const P=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(h-this._v2_1.y,2));return u.multiplyScalar(P),u.z+=h,u}w=_,x=v,S=-m*.5,M=Math.pow(x,2)-4*w*S,this._v2_1.setX((-x-Math.sqrt(M))/(2*w)),this._v2_1.setY(_*this._v2_1.x+v);const T=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(h-this._v2_1.y,2));return u.multiplyScalar(T),u.z+=h,u}}),_t(this,"unprojectOnTbPlane",(i,s,o,a,l=!1)=>{if(i.type=="OrthographicCamera")return this._v2_1.copy(this.getCursorPosition(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0),this._v3_1.clone();if(i.type=="PerspectiveCamera"){this._v2_1.copy(this.getCursorNDC(s,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(i.projectionMatrixInverse);const u=this._v3_1.clone().normalize(),h=this._v3_1.z,m=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));let d;if(l?d=this._v3_1.setFromMatrixPosition(this._cameraMatrixState0).distanceTo(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0)):d=i.position.distanceTo(this._gizmos.position),m==0)return u.set(0,0,0),u;const y=h/m,_=d,v=-_/y,w=Math.sqrt(Math.pow(_,2)+Math.pow(v,2));return u.multiplyScalar(w),u.z=0,u}}),_t(this,"updateMatrixState",()=>{!this.camera||(this._cameraMatrixState.copy(this.camera.matrix),this._gizmoMatrixState.copy(this._gizmos.matrix),this.camera.type==="OrthographicCamera"&&(this._cameraProjectionState.copy(this.camera.projectionMatrix),this.camera.updateProjectionMatrix(),this._zoomState=this.camera.zoom),this.camera.type==="PerspectiveCamera"&&(this._fovState=this.camera.fov))}),_t(this,"updateTbState",(i,s)=>{this._state=i,s&&this.updateMatrixState()}),_t(this,"update",()=>{if(!this.target.equals(this._currentTarget)&&this.camera){this._gizmos.position.set(this.target.x,this.target.y,this.target.z);const s=this.calculateTbRadius(this.camera);s!==void 0&&(this._tbRadius=s),this.makeGizmos(this.target,this._tbRadius),this._currentTarget.copy(this.target)}if(!!this.camera){if(this.camera.type==="OrthographicCamera"&&(this.camera.zoom>this.maxZoom||this.camera.zoom<this.minZoom)){const s=si.clamp(this.camera.zoom,this.minZoom,this.maxZoom);this.applyTransformMatrix(this.applyScale(s/this.camera.zoom,this._gizmos.position,!0))}if(this.camera.type==="PerspectiveCamera"){const s=this.camera.position.distanceTo(this._gizmos.position);if(s>this.maxDistance+1e-6||s<this.minDistance-1e-6){const l=si.clamp(s,this.minDistance,this.maxDistance);this.applyTransformMatrix(this.applyScale(l/s,this._gizmos.position)),this.updateMatrixState()}(this.camera.fov<this.minFov||this.camera.fov>this.maxFov)&&(this.camera.fov=si.clamp(this.camera.fov,this.minFov,this.maxFov),this.camera.updateProjectionMatrix());const o=this._tbRadius,a=this.calculateTbRadius(this.camera);if(a!==void 0&&(this._tbRadius=a),o<this._tbRadius-1e-6||o>this._tbRadius+1e-6){const l=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3,u=this._tbRadius/l,m=new Ld(0,0,u,u).getPoints(this._curvePts),d=new Xe().setFromPoints(m);for(const y in this._gizmos.children){const _=this._gizmos.children[y];_.geometry=d}}}this.camera.lookAt(this._gizmos.position)}}),_t(this,"setStateFromJSON",i=>{const s=JSON.parse(i);if(s.arcballState&&this.camera){this._cameraMatrixState.fromArray(s.arcballState.cameraMatrix.elements),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(s.arcballState.cameraUp),this.camera.near=s.arcballState.cameraNear,this.camera.far=s.arcballState.cameraFar,this.camera.zoom=s.arcballState.cameraZoom,this.camera.type==="PerspectiveCamera"&&(this.camera.fov=s.arcballState.cameraFov),this._gizmoMatrixState.fromArray(s.arcballState.gizmoMatrix.elements),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmos.updateMatrix();const o=this.calculateTbRadius(this.camera);o!==void 0&&(this._tbRadius=o);const a=new Ae().copy(this._gizmoMatrixState0);this.makeGizmos(this._gizmos.position,this._tbRadius),this._gizmoMatrixState0.copy(a),this.camera.lookAt(this._gizmos.position),this.updateTbState(je.IDLE,!1),this.dispatchEvent(Jr)}}),this.camera=null,this.domElement=e,this.scene=r,this.mouseActions=[],this._mouseOp=null,this._v2_1=new ie,this._v3_1=new rt,this._v3_2=new rt,this._m4_1=new Ae,this._m4_2=new Ae,this._quat=new Cs,this._translationMatrix=new Ae,this._rotationMatrix=new Ae,this._scaleMatrix=new Ae,this._rotationAxis=new rt,this._cameraMatrixState=new Ae,this._cameraProjectionState=new Ae,this._fovState=1,this._upState=new rt,this._zoomState=1,this._nearPos=0,this._farPos=0,this._gizmoMatrixState=new Ae,this._up0=new rt,this._zoom0=1,this._fov0=0,this._initialNear=0,this._nearPos0=0,this._initialFar=0,this._farPos0=0,this._cameraMatrixState0=new Ae,this._gizmoMatrixState0=new Ae,this._button=-1,this._touchStart=[],this._touchCurrent=[],this._input=Cr.NONE,this._switchSensibility=32,this._startFingerDistance=0,this._currentFingerDistance=0,this._startFingerRotation=0,this._currentFingerRotation=0,this._devPxRatio=0,this._downValid=!0,this._nclicks=0,this._downEvents=[],this._clickStart=0,this._maxDownTime=250,this._maxInterval=300,this._posThreshold=24,this._movementThreshold=24,this._currentCursorPosition=new rt,this._startCursorPosition=new rt,this._grid=null,this._gridPosition=new rt,this._gizmos=new _d,this._curvePts=128,this._timeStart=-1,this._animationId=-1,this.focusAnimationTime=500,this._timePrev=0,this._timeCurrent=0,this._anglePrev=0,this._angleCurrent=0,this._cursorPosPrev=new rt,this._cursorPosCurr=new rt,this._wPrev=0,this._wCurr=0,this.adjustNearFar=!1,this.scaleFactor=1.1,this.dampingFactor=25,this.wMax=20,this.enableAnimations=!0,this.enableGrid=!1,this.cursorZoom=!1,this.minFov=5,this.maxFov=90,this.enabled=!0,this.enablePan=!0,this.enableRotate=!0,this.enableZoom=!0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.target=new rt(0,0,0),this._currentTarget=new rt(0,0,0),this._tbRadius=1,this._state=je.IDLE,this.setCamera(t),this.scene&&this.scene.add(this._gizmos),this._devPxRatio=window.devicePixelRatio,this.initializeMouseActions(),this.domElement&&this.connect(this.domElement),window.addEventListener("resize",this.onWindowResize)}applyTransformMatrix(t){if(t!=null&&t.camera&&this.camera&&(this._m4_1.copy(this._cameraMatrixState).premultiply(t.camera),this._m4_1.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.updateMatrix(),(this._state==je.ROTATE||this._state==je.ZROTATE||this._state==je.ANIMATION_ROTATE)&&this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)),t!=null&&t.gizmos&&(this._m4_1.copy(this._gizmoMatrixState).premultiply(t.gizmos),this._m4_1.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix()),(this._state==je.SCALE||this._state==je.FOCUS||this._state==je.ANIMATION_FOCUS)&&this.camera){const e=this.calculateTbRadius(this.camera);if(e!==void 0&&(this._tbRadius=e),this.adjustNearFar){const r=this.camera.position.distanceTo(this._gizmos.position),i=new da;i.setFromObject(this._gizmos);const s=new oh;i.getBoundingSphere(s);const o=Math.max(this._nearPos0,s.radius+s.center.length()),a=r-this._initialNear,l=Math.min(o,a);this.camera.near=r-l;const u=Math.min(this._farPos0,-s.radius+s.center.length()),h=r-this._initialFar,m=Math.min(u,h);this.camera.far=r-m,this.camera.updateProjectionMatrix()}else{let r=!1;this.camera.near!=this._initialNear&&(this.camera.near=this._initialNear,r=!0),this.camera.far!=this._initialFar&&(this.camera.far=this._initialFar,r=!0),r&&this.camera.updateProjectionMatrix()}}}setGizmosVisible(t){this._gizmos.visible=t,this.dispatchEvent(Jr)}setTransformationMatrices(t=null,e=null){t?Da.camera?Da.camera.copy(t):Da.camera=t.clone():Da.camera=null,e?Da.gizmos?Da.gizmos.copy(e):Da.gizmos=e.clone():Da.gizmos=null}}function _1(n,t){if(Object.is(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n);if(e.length!==Object.keys(t).length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!Object.is(n[e[r]],t[e[r]]))return!1;return!0}const lrt=Z.exports.forwardRef(({makeDefault:n,...t},e)=>{const r=ac(({set:a})=>a),i=ac(({camera:a})=>a),s=ac(({size:a})=>a),o=Z.exports.useRef();return Z.exports.useLayoutEffect(()=>{const{current:a}=o;a&&!t.manual&&(a.aspect=s.width/s.height,a.updateProjectionMatrix())},[s,t]),Z.exports.useLayoutEffect(()=>{if(n&&o.current){const a=i;return r(()=>({camera:o.current})),()=>r(()=>({camera:a}))}},[i,o,n,r]),Z.exports.createElement("perspectiveCamera",is({ref:f5([o,e])},t))}),urt=Z.exports.forwardRef(({camera:n,makeDefault:t,regress:e,domElement:r,onChange:i,onStart:s,onEnd:o,...a},l)=>{const u=ac(({invalidate:M})=>M),h=ac(({camera:M})=>M),m=ac(({gl:M})=>M),d=ac(({events:M})=>M),y=ac(({set:M})=>M),_=ac(({get:M})=>M),v=ac(({performance:M})=>M),w=n||h,x=r||(typeof d.connected!="boolean"?d.connected:m.domElement),S=Z.exports.useMemo(()=>new art(w),[w]);return fnt(()=>{S.enabled&&S.update()}),Z.exports.useEffect(()=>{const M=T=>{u(),e&&v.regress(),i&&i(T)};return S.connect(x),S.addEventListener("change",M),s&&S.addEventListener("start",s),o&&S.addEventListener("end",o),()=>{S.removeEventListener("change",M),s&&S.removeEventListener("start",s),o&&S.removeEventListener("end",o),S.dispose()}},[x,i,s,o,e,S,u]),Z.exports.useEffect(()=>{if(t){const M=_().controls;return y({controls:S}),()=>y({controls:M})}},[t,S]),Z.exports.createElement("primitive",is({ref:l,object:S},a))});var T5={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mu,function(){var e=function(){function r(y){return o.appendChild(y.dom),y}function i(y){for(var _=0;_<o.children.length;_++)o.children[_].style.display=_===y?"block":"none";s=y}var s=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(y){y.preventDefault(),i(++s%o.children.length)},!1);var a=(performance||Date).now(),l=a,u=0,h=r(new e.Panel("FPS","#0ff","#002")),m=r(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=r(new e.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:o,addPanel:r,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){u++;var y=(performance||Date).now();if(m.update(y-a,200),y>l+1e3&&(h.update(1e3*u/(y-l),100),l=y,u=0,d)){var _=performance.memory;d.update(_.usedJSHeapSize/1048576,_.jsHeapSizeLimit/1048576)}return y},update:function(){a=this.end()},domElement:o,setMode:i}};return e.Panel=function(r,i,s){var o=1/0,a=0,l=Math.round,u=l(window.devicePixelRatio||1),h=80*u,m=48*u,d=3*u,y=2*u,_=3*u,v=15*u,w=74*u,x=30*u,S=document.createElement("canvas");S.width=h,S.height=m,S.style.cssText="width:80px;height:48px";var M=S.getContext("2d");return M.font="bold "+9*u+"px Helvetica,Arial,sans-serif",M.textBaseline="top",M.fillStyle=s,M.fillRect(0,0,h,m),M.fillStyle=i,M.fillText(r,d,y),M.fillRect(_,v,w,x),M.fillStyle=s,M.globalAlpha=.9,M.fillRect(_,v,w,x),{dom:S,update:function(T,A){o=Math.min(o,T),a=Math.max(a,T),M.fillStyle=s,M.globalAlpha=1,M.fillRect(0,0,h,v),M.fillStyle=i,M.fillText(l(T)+" "+r+" ("+l(o)+"-"+l(a)+")",d,y),M.drawImage(S,_+u,v,w-u,x,_,v,w-u,x),M.fillRect(_+w-u,v,u,x),M.fillStyle=s,M.globalAlpha=.9,M.fillRect(_+w-u,v,u,l((1-T/A)*x))}}},e})})(T5);var crt=T5.exports;function Pk(n,t){typeof n=="function"?n(t):n!=null&&(n.current=t)}function frt(n,t=[],e){const[r,i]=Z.exports.useState();return Z.exports.useLayoutEffect(()=>{const s=n();return i(s),Pk(e,s),()=>Pk(e,null)},t),r}function hrt({showPanel:n=0,className:t,parent:e}){const r=frt(()=>new crt,[]);return Z.exports.useEffect(()=>{if(r){const i=e&&e.current||document.body;r.showPanel(n),i==null||i.appendChild(r.dom),t&&r.dom.classList.add(t);const s=snt(()=>r.begin()),o=ont(()=>r.end());return()=>{i==null||i.removeChild(r.dom),s(),o()}}},[e,r,t,n]),null}var A5={exports:{}},drt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",prt=drt,mrt=prt;function C5(){}function I5(){}I5.resetWarningCache=C5;var grt=function(){function n(r,i,s,o,a,l){if(l!==mrt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:I5,resetWarningCache:C5};return e.PropTypes=e,e};A5.exports=grt();var $r=A5.exports;function Hy(n,t,e,r){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(m){o(m)}}function l(h){try{u(r.throw(h))}catch(m){o(m)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(n,t||[])).next())})}function Wy(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){e.label=u[1];break}if(u[0]===6&&e.label<s[1]){e.label=s[1],s=u;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(u);break}s[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function yrt(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return s}function vrt(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(yrt(arguments[t]));return n}const _rt=new TextDecoder("utf-8"),wrt=n=>_rt.decode(n),xrt=new TextEncoder,tI=n=>xrt.encode(n),[wyt,R5]=(()=>{const n=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw n()}return t.asIntN=()=>{throw n()},t.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[t,!1]})(),[L5,xyt]=(()=>{const n=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[t,!1]})(),[eI,byt]=(()=>{const n=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[t,!1]})(),Kp=n=>typeof n=="function",P5=n=>n!=null&&Object(n)===n,brt=n=>P5(n)&&"done"in n&&"value"in n,Srt=n=>P5(n)&&Kp(n.clear)&&Kp(n.bytes)&&Kp(n.position)&&Kp(n.setPosition)&&Kp(n.capacity)&&Kp(n.getBufferIdentifier)&&Kp(n.createLong),Ert=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function D5(n,t,e=0,r=t.byteLength){const i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,e),n}function xo(n,t){let e=brt(t)?t.value:t;return e instanceof n?n===Uint8Array?new n(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=tI(e)),e instanceof ArrayBuffer?new n(e):e instanceof Ert?new n(e):Srt(e)?xo(n,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new n(0):new n(e.buffer,e.byteOffset,e.byteLength/n.BYTES_PER_ELEMENT):n.from(e)):new n(0)}const Rv=n=>xo(Int32Array,n),Ji=n=>xo(Uint8Array,n);function Mrt(n,t){let e=0;const r=n.length;if(r!==t.length)return!1;if(r>0)do if(n[e]!==t[e])return!1;while(++e<r);return!0}var Dk;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(Dk||(Dk={}));var th;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(th||(th={}));var Po;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(Po||(Po={}));var Wd;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(Wd||(Wd={}));var Lr;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(Lr||(Lr={}));var $m;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})($m||($m={}));var kk;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(kk||(kk={}));var Ft;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(Ft||(Ft={}));var Ff;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(Ff||(Ff={}));const Trt=void 0;function Pd(n){if(n===null)return"null";if(n===Trt)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(t=>Pd(t))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(t,e)=>typeof e=="bigint"?`${e}`:e)}const Art=Symbol.for("isArrowBigNum");function Iu(n,...t){return t.length===0?Object.setPrototypeOf(xo(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...t),this.constructor.prototype)}Iu.prototype[Art]=!0;Iu.prototype.toJSON=function(){return`"${Tm(this)}"`};Iu.prototype.valueOf=function(){return k5(this)};Iu.prototype.toString=function(){return Tm(this)};Iu.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return k5(this);case"string":return Tm(this);case"default":return pA(this)}return Tm(this)};function V0(...n){return Iu.apply(this,n)}function H0(...n){return Iu.apply(this,n)}function G_(...n){return Iu.apply(this,n)}Object.setPrototypeOf(V0.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(H0.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(G_.prototype,Object.create(Uint32Array.prototype));Object.assign(V0.prototype,Iu.prototype,{constructor:V0,signed:!0,TypedArray:Int32Array,BigIntArray:L5});Object.assign(H0.prototype,Iu.prototype,{constructor:H0,signed:!1,TypedArray:Uint32Array,BigIntArray:eI});Object.assign(G_.prototype,Iu.prototype,{constructor:G_,signed:!0,TypedArray:Uint32Array,BigIntArray:eI});function k5(n){const{buffer:t,byteOffset:e,length:r,signed:i}=n,s=new eI(t,e,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const u of s)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}let Tm,pA;R5?(pA=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:rM(n),Tm=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:rM(n)):(Tm=rM,pA=Tm);function rM(n){let t="";const e=new Uint32Array(2);let r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(e[0]=r[s=0];s<o;)r[s++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+r[s];r[s]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t||"0"}class nI{static new(t,e){switch(e){case!0:return new V0(t);case!1:return new H0(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case L5:return new V0(t)}return t.byteLength===16?new G_(t):new H0(t)}static signed(t){return new V0(t)}static unsigned(t){return new H0(t)}static decimal(t){return new G_(t)}constructor(t,e){return nI.new(t,e)}}var O5,F5,B5,N5,z5,U5,V5,H5,W5,G5,$5,j5,Y5,q5,X5,Z5,K5,J5,Q5;class rr{static isNull(t){return(t==null?void 0:t.typeId)===Ft.Null}static isInt(t){return(t==null?void 0:t.typeId)===Ft.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Ft.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Ft.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Ft.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Ft.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Ft.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Ft.Date}static isTime(t){return(t==null?void 0:t.typeId)===Ft.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Ft.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Ft.Interval}static isList(t){return(t==null?void 0:t.typeId)===Ft.List}static isStruct(t){return(t==null?void 0:t.typeId)===Ft.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Ft.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Ft.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Ft.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Ft.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Ft.Dictionary}static isDenseUnion(t){return rr.isUnion(t)&&t.mode===th.Dense}static isSparseUnion(t){return rr.isUnion(t)&&t.mode===th.Sparse}get typeId(){return Ft.NONE}}O5=Symbol.toStringTag;rr[O5]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(rr.prototype);class $_ extends rr{toString(){return"Null"}get typeId(){return Ft.Null}}F5=Symbol.toStringTag;$_[F5]=(n=>n[Symbol.toStringTag]="Null")($_.prototype);class Tu extends rr{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return Ft.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}B5=Symbol.toStringTag;Tu[B5]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(Tu.prototype);class t6 extends Tu{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class e6 extends Tu{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class rI extends Tu{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class iI extends Tu{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class n6 extends Tu{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class r6 extends Tu{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class i6 extends Tu{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class s6 extends Tu{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(t6.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(e6.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(rI.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(iI.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(n6.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(r6.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(i6.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(s6.prototype,"ArrayType",{value:BigUint64Array});class j_ extends rr{constructor(t){super(),this.precision=t}get typeId(){return Ft.Float}get ArrayType(){switch(this.precision){case Po.HALF:return Uint16Array;case Po.SINGLE:return Float32Array;case Po.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}N5=Symbol.toStringTag;j_[N5]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(j_.prototype);class o6 extends j_{constructor(){super(Po.SINGLE)}}class sI extends j_{constructor(){super(Po.DOUBLE)}}Object.defineProperty(o6.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(sI.prototype,"ArrayType",{value:Float64Array});class Ok extends rr{constructor(){super()}get typeId(){return Ft.Binary}toString(){return"Binary"}}z5=Symbol.toStringTag;Ok[z5]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(Ok.prototype);class mA extends rr{constructor(){super()}get typeId(){return Ft.Utf8}toString(){return"Utf8"}}U5=Symbol.toStringTag;mA[U5]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(mA.prototype);class gA extends rr{constructor(){super()}get typeId(){return Ft.Bool}toString(){return"Bool"}}V5=Symbol.toStringTag;gA[V5]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(gA.prototype);class Fk extends rr{constructor(t,e,r=128){super(),this.scale=t,this.precision=e,this.bitWidth=r}get typeId(){return Ft.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}H5=Symbol.toStringTag;Fk[H5]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(Fk.prototype);class yA extends rr{constructor(t){super(),this.unit=t}get typeId(){return Ft.Date}toString(){return`Date${(this.unit+1)*32}<${Wd[this.unit]}>`}}W5=Symbol.toStringTag;yA[W5]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(yA.prototype);class Crt extends yA{constructor(){super(Wd.MILLISECOND)}}class vA extends rr{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return Ft.Time}toString(){return`Time${this.bitWidth}<${Lr[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}G5=Symbol.toStringTag;vA[G5]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(vA.prototype);class Bk extends rr{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return Ft.Timestamp}toString(){return`Timestamp<${Lr[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}$5=Symbol.toStringTag;Bk[$5]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(Bk.prototype);class Nk extends rr{constructor(t){super(),this.unit=t}get typeId(){return Ft.Interval}toString(){return`Interval<${$m[this.unit]}>`}}j5=Symbol.toStringTag;Nk[j5]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(Nk.prototype);class yb extends rr{constructor(t){super(),this.children=[t]}get typeId(){return Ft.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Y5=Symbol.toStringTag;yb[Y5]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(yb.prototype);class dl extends rr{constructor(t){super(),this.children=t}get typeId(){return Ft.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}q5=Symbol.toStringTag;dl[q5]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(dl.prototype);class _A extends rr{constructor(t,e,r){super(),this.mode=t,this.children=r,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Ft.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}X5=Symbol.toStringTag;_A[X5]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(_A.prototype);class zk extends rr{constructor(t){super(),this.byteWidth=t}get typeId(){return Ft.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Z5=Symbol.toStringTag;zk[Z5]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(zk.prototype);class wA extends rr{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return Ft.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}K5=Symbol.toStringTag;wA[K5]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(wA.prototype);class xA extends rr{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return Ft.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}J5=Symbol.toStringTag;xA[J5]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(xA.prototype);const Irt=(n=>()=>++n)(-1);class vb extends rr{constructor(t,e,r,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?Irt():typeof r=="number"?r:r.low}get typeId(){return Ft.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Q5=Symbol.toStringTag;vb[Q5]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(vb.prototype);function lc(n){const t=n;switch(n.typeId){case Ft.Decimal:return n.bitWidth/32;case Ft.Timestamp:return 2;case Ft.Date:return 1+t.unit;case Ft.Interval:return 1+t.unit;case Ft.FixedSizeList:return t.listSize;case Ft.FixedSizeBinary:return t.byteWidth;default:return 1}}class hr{visitMany(t,...e){return t.map((r,i)=>this.visit(r,...e.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return Rrt(this,t,e)}getVisitFnByTypeId(t,e=!0){return g0(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function Rrt(n,t,e=!0){return typeof t=="number"?g0(n,t,e):typeof t=="string"&&t in Ft?g0(n,Ft[t],e):t&&t instanceof rr?g0(n,Uk(t),e):(t==null?void 0:t.type)&&t.type instanceof rr?g0(n,Uk(t.type),e):g0(n,Ft.NONE,e)}function g0(n,t,e=!0){let r=null;switch(t){case Ft.Null:r=n.visitNull;break;case Ft.Bool:r=n.visitBool;break;case Ft.Int:r=n.visitInt;break;case Ft.Int8:r=n.visitInt8||n.visitInt;break;case Ft.Int16:r=n.visitInt16||n.visitInt;break;case Ft.Int32:r=n.visitInt32||n.visitInt;break;case Ft.Int64:r=n.visitInt64||n.visitInt;break;case Ft.Uint8:r=n.visitUint8||n.visitInt;break;case Ft.Uint16:r=n.visitUint16||n.visitInt;break;case Ft.Uint32:r=n.visitUint32||n.visitInt;break;case Ft.Uint64:r=n.visitUint64||n.visitInt;break;case Ft.Float:r=n.visitFloat;break;case Ft.Float16:r=n.visitFloat16||n.visitFloat;break;case Ft.Float32:r=n.visitFloat32||n.visitFloat;break;case Ft.Float64:r=n.visitFloat64||n.visitFloat;break;case Ft.Utf8:r=n.visitUtf8;break;case Ft.Binary:r=n.visitBinary;break;case Ft.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case Ft.Date:r=n.visitDate;break;case Ft.DateDay:r=n.visitDateDay||n.visitDate;break;case Ft.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case Ft.Timestamp:r=n.visitTimestamp;break;case Ft.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case Ft.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case Ft.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case Ft.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case Ft.Time:r=n.visitTime;break;case Ft.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case Ft.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case Ft.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case Ft.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case Ft.Decimal:r=n.visitDecimal;break;case Ft.List:r=n.visitList;break;case Ft.Struct:r=n.visitStruct;break;case Ft.Union:r=n.visitUnion;break;case Ft.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case Ft.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case Ft.Dictionary:r=n.visitDictionary;break;case Ft.Interval:r=n.visitInterval;break;case Ft.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case Ft.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case Ft.FixedSizeList:r=n.visitFixedSizeList;break;case Ft.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!e)return()=>null;throw new Error(`Unrecognized type '${Ft[t]}'`)}function Uk(n){switch(n.typeId){case Ft.Null:return Ft.Null;case Ft.Int:{const{bitWidth:t,isSigned:e}=n;switch(t){case 8:return e?Ft.Int8:Ft.Uint8;case 16:return e?Ft.Int16:Ft.Uint16;case 32:return e?Ft.Int32:Ft.Uint32;case 64:return e?Ft.Int64:Ft.Uint64}return Ft.Int}case Ft.Float:switch(n.precision){case Po.HALF:return Ft.Float16;case Po.SINGLE:return Ft.Float32;case Po.DOUBLE:return Ft.Float64}return Ft.Float;case Ft.Binary:return Ft.Binary;case Ft.Utf8:return Ft.Utf8;case Ft.Bool:return Ft.Bool;case Ft.Decimal:return Ft.Decimal;case Ft.Time:switch(n.unit){case Lr.SECOND:return Ft.TimeSecond;case Lr.MILLISECOND:return Ft.TimeMillisecond;case Lr.MICROSECOND:return Ft.TimeMicrosecond;case Lr.NANOSECOND:return Ft.TimeNanosecond}return Ft.Time;case Ft.Timestamp:switch(n.unit){case Lr.SECOND:return Ft.TimestampSecond;case Lr.MILLISECOND:return Ft.TimestampMillisecond;case Lr.MICROSECOND:return Ft.TimestampMicrosecond;case Lr.NANOSECOND:return Ft.TimestampNanosecond}return Ft.Timestamp;case Ft.Date:switch(n.unit){case Wd.DAY:return Ft.DateDay;case Wd.MILLISECOND:return Ft.DateMillisecond}return Ft.Date;case Ft.Interval:switch(n.unit){case $m.DAY_TIME:return Ft.IntervalDayTime;case $m.YEAR_MONTH:return Ft.IntervalYearMonth}return Ft.Interval;case Ft.Map:return Ft.Map;case Ft.List:return Ft.List;case Ft.Struct:return Ft.Struct;case Ft.Union:switch(n.mode){case th.Dense:return Ft.DenseUnion;case th.Sparse:return Ft.SparseUnion}return Ft.Union;case Ft.FixedSizeBinary:return Ft.FixedSizeBinary;case Ft.FixedSizeList:return Ft.FixedSizeList;case Ft.Dictionary:return Ft.Dictionary}throw new Error(`Unrecognized type '${Ft[n.typeId]}'`)}hr.prototype.visitInt8=null;hr.prototype.visitInt16=null;hr.prototype.visitInt32=null;hr.prototype.visitInt64=null;hr.prototype.visitUint8=null;hr.prototype.visitUint16=null;hr.prototype.visitUint32=null;hr.prototype.visitUint64=null;hr.prototype.visitFloat16=null;hr.prototype.visitFloat32=null;hr.prototype.visitFloat64=null;hr.prototype.visitDateDay=null;hr.prototype.visitDateMillisecond=null;hr.prototype.visitTimestampSecond=null;hr.prototype.visitTimestampMillisecond=null;hr.prototype.visitTimestampMicrosecond=null;hr.prototype.visitTimestampNanosecond=null;hr.prototype.visitTimeSecond=null;hr.prototype.visitTimeMillisecond=null;hr.prototype.visitTimeMicrosecond=null;hr.prototype.visitTimeNanosecond=null;hr.prototype.visitDenseUnion=null;hr.prototype.visitSparseUnion=null;hr.prototype.visitIntervalDayTime=null;hr.prototype.visitIntervalYearMonth=null;const a6=new Float64Array(1),l0=new Uint32Array(a6.buffer);function l6(n){const t=(n&31744)>>10,e=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(t){case 31:return r*(e?Number.NaN:1/0);case 0:return r*(e?6103515625e-14*e:0)}return r*Math.pow(2,t-15)*(1+e)}function u6(n){if(n!==n)return 32256;a6[0]=n;const t=(l0[1]&2147483648)>>16&65535;let e=l0[1]&2146435072,r=0;return e>=1089470464?l0[0]>0?e=31744:(e=(e&2080374784)>>16,r=(l0[1]&1048575)>>10):e<=1056964608?(r=1048576+(l0[1]&1048575),r=1048576+(r<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,r=(l0[1]&1048575)+512>>10),t|e|r&65535}class An extends hr{}function On(n){return(t,e,r)=>{if(t.setValid(e,r!=null))return n(t,e,r)}}const Lrt=(n,t,e)=>{n[t]=Math.trunc(e/864e5)},oI=(n,t,e)=>{n[t]=Math.trunc(e%4294967296),n[t+1]=Math.trunc(e/4294967296)},Prt=(n,t,e)=>{n[t]=Math.trunc(e*1e3%4294967296),n[t+1]=Math.trunc(e*1e3/4294967296)},Drt=(n,t,e)=>{n[t]=Math.trunc(e*1e6%4294967296),n[t+1]=Math.trunc(e*1e6/4294967296)},c6=(n,t,e,r)=>{if(e+1<t.length){const{[e]:i,[e+1]:s}=t;n.set(r.subarray(0,s-i),i)}},krt=({offset:n,values:t},e,r)=>{const i=n+e;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},lh=({values:n},t,e)=>{n[t]=e},aI=({values:n},t,e)=>{n[t]=e},f6=({values:n},t,e)=>{n[t]=u6(e)},Ort=(n,t,e)=>{switch(n.type.precision){case Po.HALF:return f6(n,t,e);case Po.SINGLE:case Po.DOUBLE:return aI(n,t,e)}},lI=({values:n},t,e)=>{Lrt(n,t,e.valueOf())},uI=({values:n},t,e)=>{oI(n,t*2,e.valueOf())},h6=({stride:n,values:t},e,r)=>{t.set(r.subarray(0,n),n*e)},Frt=({values:n,valueOffsets:t},e,r)=>c6(n,t,e,r),Brt=({values:n,valueOffsets:t},e,r)=>{c6(n,t,e,tI(r))},d6=(n,t,e)=>{n.type.unit===Wd.DAY?lI(n,t,e):uI(n,t,e)},cI=({values:n},t,e)=>oI(n,t*2,e/1e3),fI=({values:n},t,e)=>oI(n,t*2,e),hI=({values:n},t,e)=>Prt(n,t*2,e),dI=({values:n},t,e)=>Drt(n,t*2,e),p6=(n,t,e)=>{switch(n.type.unit){case Lr.SECOND:return cI(n,t,e);case Lr.MILLISECOND:return fI(n,t,e);case Lr.MICROSECOND:return hI(n,t,e);case Lr.NANOSECOND:return dI(n,t,e)}},pI=({values:n},t,e)=>{n[t]=e},mI=({values:n},t,e)=>{n[t]=e},gI=({values:n},t,e)=>{n[t]=e},yI=({values:n},t,e)=>{n[t]=e},m6=(n,t,e)=>{switch(n.type.unit){case Lr.SECOND:return pI(n,t,e);case Lr.MILLISECOND:return mI(n,t,e);case Lr.MICROSECOND:return gI(n,t,e);case Lr.NANOSECOND:return yI(n,t,e)}},g6=({values:n,stride:t},e,r)=>{n.set(r.subarray(0,t),t*e)},Nrt=(n,t,e)=>{const r=n.children[0],i=n.valueOffsets,s=bl.getVisitFn(r);if(Array.isArray(e))for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,e[++o]);else for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,e.get(++o))},zrt=(n,t,e)=>{const r=n.children[0],{valueOffsets:i}=n,s=bl.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const l=e instanceof Map?e.entries():Object.entries(e);for(const u of l)if(s(r,o,u),++o>=a)break},Urt=(n,t)=>(e,r,i,s)=>r&&e(r,n,t[s]),Vrt=(n,t)=>(e,r,i,s)=>r&&e(r,n,t.get(s)),Hrt=(n,t)=>(e,r,i,s)=>r&&e(r,n,t.get(i.name)),Wrt=(n,t)=>(e,r,i,s)=>r&&e(r,n,t[i.name]),Grt=(n,t,e)=>{const r=n.type.children.map(s=>bl.getVisitFn(s.type)),i=e instanceof Map?Hrt(t,e):e instanceof mn?Vrt(t,e):Array.isArray(e)?Urt(t,e):Wrt(t,e);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},$rt=(n,t,e)=>{n.type.mode===th.Dense?y6(n,t,e):v6(n,t,e)},y6=(n,t,e)=>{const r=n.type.typeIdToChildIndex[n.typeIds[t]],i=n.children[r];bl.visit(i,n.valueOffsets[t],e)},v6=(n,t,e)=>{const r=n.type.typeIdToChildIndex[n.typeIds[t]],i=n.children[r];bl.visit(i,t,e)},jrt=(n,t,e)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[t],e)},_6=(n,t,e)=>{n.type.unit===$m.DAY_TIME?vI(n,t,e):_I(n,t,e)},vI=({values:n},t,e)=>{n.set(e.subarray(0,2),2*t)},_I=({values:n},t,e)=>{n[t]=e[0]*12+e[1]%12},Yrt=(n,t,e)=>{const{stride:r}=n,i=n.children[0],s=bl.getVisitFn(i);if(Array.isArray(e))for(let o=-1,a=t*r;++o<r;)s(i,a+o,e[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,e.get(o))};An.prototype.visitBool=On(krt);An.prototype.visitInt=On(lh);An.prototype.visitInt8=On(lh);An.prototype.visitInt16=On(lh);An.prototype.visitInt32=On(lh);An.prototype.visitInt64=On(lh);An.prototype.visitUint8=On(lh);An.prototype.visitUint16=On(lh);An.prototype.visitUint32=On(lh);An.prototype.visitUint64=On(lh);An.prototype.visitFloat=On(Ort);An.prototype.visitFloat16=On(f6);An.prototype.visitFloat32=On(aI);An.prototype.visitFloat64=On(aI);An.prototype.visitUtf8=On(Brt);An.prototype.visitBinary=On(Frt);An.prototype.visitFixedSizeBinary=On(h6);An.prototype.visitDate=On(d6);An.prototype.visitDateDay=On(lI);An.prototype.visitDateMillisecond=On(uI);An.prototype.visitTimestamp=On(p6);An.prototype.visitTimestampSecond=On(cI);An.prototype.visitTimestampMillisecond=On(fI);An.prototype.visitTimestampMicrosecond=On(hI);An.prototype.visitTimestampNanosecond=On(dI);An.prototype.visitTime=On(m6);An.prototype.visitTimeSecond=On(pI);An.prototype.visitTimeMillisecond=On(mI);An.prototype.visitTimeMicrosecond=On(gI);An.prototype.visitTimeNanosecond=On(yI);An.prototype.visitDecimal=On(g6);An.prototype.visitList=On(Nrt);An.prototype.visitStruct=On(Grt);An.prototype.visitUnion=On($rt);An.prototype.visitDenseUnion=On(y6);An.prototype.visitSparseUnion=On(v6);An.prototype.visitDictionary=On(jrt);An.prototype.visitInterval=On(_6);An.prototype.visitIntervalDayTime=On(vI);An.prototype.visitIntervalYearMonth=On(_I);An.prototype.visitFixedSizeList=On(Yrt);An.prototype.visitMap=On(zrt);const bl=new An,cu=Symbol.for("parent"),W0=Symbol.for("rowIndex");class wI{constructor(t,e){return this[cu]=t,this[W0]=e,new Proxy(this,new Xrt)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[W0],e=this[cu],r=e.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=ca.visit(e.children[s],t);return i}toString(){return`{${[...this].map(([t,e])=>`${Pd(t)}: ${Pd(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new qrt(this[cu],this[W0])}}class qrt{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ca.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(wI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[cu]:{writable:!0,enumerable:!1,configurable:!1,value:null},[W0]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Xrt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[cu].type.children.map(e=>e.name)}has(t,e){return t[cu].type.children.findIndex(r=>r.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[cu].type.children.findIndex(r=>r.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const r=t[cu].type.children.findIndex(i=>i.name===e);if(r!==-1){const i=ca.visit(t[cu].children[r],t[W0]);return Reflect.set(t,e,i),i}}set(t,e,r){const i=t[cu].type.children.findIndex(s=>s.name===e);return i!==-1?(bl.visit(t[cu].children[i],t[W0],r),Reflect.set(t,e,r)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,r):!1}}class gn extends hr{}function Cn(n){return(t,e)=>t.getValid(e)?n(t,e):null}const Zrt=(n,t)=>864e5*n[t],xI=(n,t)=>4294967296*n[t+1]+(n[t]>>>0),Krt=(n,t)=>4294967296*(n[t+1]/1e3)+(n[t]>>>0)/1e3,Jrt=(n,t)=>4294967296*(n[t+1]/1e6)+(n[t]>>>0)/1e6,w6=n=>new Date(n),Qrt=(n,t)=>w6(Zrt(n,t)),tit=(n,t)=>w6(xI(n,t)),eit=(n,t)=>null,x6=(n,t,e)=>{if(e+1>=t.length)return null;const r=t[e],i=t[e+1];return n.subarray(r,i)},nit=({offset:n,values:t},e)=>{const r=n+e;return(t[r>>3]&1<<r%8)!==0},b6=({values:n},t)=>Qrt(n,t),S6=({values:n},t)=>tit(n,t*2),tp=({stride:n,values:t},e)=>t[n*e],rit=({stride:n,values:t},e)=>l6(t[n*e]),E6=({values:n},t)=>n[t],iit=({stride:n,values:t},e)=>t.subarray(n*e,n*(e+1)),sit=({values:n,valueOffsets:t},e)=>x6(n,t,e),oit=({values:n,valueOffsets:t},e)=>{const r=x6(n,t,e);return r!==null?wrt(r):null},ait=({values:n},t)=>n[t],lit=({type:n,values:t},e)=>n.precision!==Po.HALF?t[e]:l6(t[e]),uit=(n,t)=>n.type.unit===Wd.DAY?b6(n,t):S6(n,t),M6=({values:n},t)=>1e3*xI(n,t*2),T6=({values:n},t)=>xI(n,t*2),A6=({values:n},t)=>Krt(n,t*2),C6=({values:n},t)=>Jrt(n,t*2),cit=(n,t)=>{switch(n.type.unit){case Lr.SECOND:return M6(n,t);case Lr.MILLISECOND:return T6(n,t);case Lr.MICROSECOND:return A6(n,t);case Lr.NANOSECOND:return C6(n,t)}},I6=({values:n},t)=>n[t],R6=({values:n},t)=>n[t],L6=({values:n},t)=>n[t],P6=({values:n},t)=>n[t],fit=(n,t)=>{switch(n.type.unit){case Lr.SECOND:return I6(n,t);case Lr.MILLISECOND:return R6(n,t);case Lr.MICROSECOND:return L6(n,t);case Lr.NANOSECOND:return P6(n,t)}},hit=({values:n,stride:t},e)=>nI.decimal(n.subarray(t*e,t*(e+1))),dit=(n,t)=>{const{valueOffsets:e,stride:r,children:i}=n,{[t*r]:s,[t*r+1]:o}=e,l=i[0].slice(s,o-s);return new mn([l])},pit=(n,t)=>{const{valueOffsets:e,children:r}=n,{[t]:i,[t+1]:s}=e,o=r[0];return new WS(o.slice(i,s-i))},mit=(n,t)=>new wI(n,t),git=(n,t)=>n.type.mode===th.Dense?D6(n,t):k6(n,t),D6=(n,t)=>{const e=n.type.typeIdToChildIndex[n.typeIds[t]],r=n.children[e];return ca.visit(r,n.valueOffsets[t])},k6=(n,t)=>{const e=n.type.typeIdToChildIndex[n.typeIds[t]],r=n.children[e];return ca.visit(r,t)},yit=(n,t)=>{var e;return(e=n.dictionary)===null||e===void 0?void 0:e.get(n.values[t])},vit=(n,t)=>n.type.unit===$m.DAY_TIME?O6(n,t):F6(n,t),O6=({values:n},t)=>n.subarray(2*t,2*(t+1)),F6=({values:n},t)=>{const e=n[t],r=new Int32Array(2);return r[0]=Math.trunc(e/12),r[1]=Math.trunc(e%12),r},_it=(n,t)=>{const{stride:e,children:r}=n,s=r[0].slice(t*e,e);return new mn([s])};gn.prototype.visitNull=Cn(eit);gn.prototype.visitBool=Cn(nit);gn.prototype.visitInt=Cn(ait);gn.prototype.visitInt8=Cn(tp);gn.prototype.visitInt16=Cn(tp);gn.prototype.visitInt32=Cn(tp);gn.prototype.visitInt64=Cn(E6);gn.prototype.visitUint8=Cn(tp);gn.prototype.visitUint16=Cn(tp);gn.prototype.visitUint32=Cn(tp);gn.prototype.visitUint64=Cn(E6);gn.prototype.visitFloat=Cn(lit);gn.prototype.visitFloat16=Cn(rit);gn.prototype.visitFloat32=Cn(tp);gn.prototype.visitFloat64=Cn(tp);gn.prototype.visitUtf8=Cn(oit);gn.prototype.visitBinary=Cn(sit);gn.prototype.visitFixedSizeBinary=Cn(iit);gn.prototype.visitDate=Cn(uit);gn.prototype.visitDateDay=Cn(b6);gn.prototype.visitDateMillisecond=Cn(S6);gn.prototype.visitTimestamp=Cn(cit);gn.prototype.visitTimestampSecond=Cn(M6);gn.prototype.visitTimestampMillisecond=Cn(T6);gn.prototype.visitTimestampMicrosecond=Cn(A6);gn.prototype.visitTimestampNanosecond=Cn(C6);gn.prototype.visitTime=Cn(fit);gn.prototype.visitTimeSecond=Cn(I6);gn.prototype.visitTimeMillisecond=Cn(R6);gn.prototype.visitTimeMicrosecond=Cn(L6);gn.prototype.visitTimeNanosecond=Cn(P6);gn.prototype.visitDecimal=Cn(hit);gn.prototype.visitList=Cn(dit);gn.prototype.visitStruct=Cn(mit);gn.prototype.visitUnion=Cn(git);gn.prototype.visitDenseUnion=Cn(D6);gn.prototype.visitSparseUnion=Cn(k6);gn.prototype.visitDictionary=Cn(yit);gn.prototype.visitInterval=Cn(vit);gn.prototype.visitIntervalDayTime=Cn(O6);gn.prototype.visitIntervalYearMonth=Cn(F6);gn.prototype.visitFixedSizeList=Cn(_it);gn.prototype.visitMap=Cn(pit);const ca=new gn,gu=Symbol.for("keys"),G0=Symbol.for("vals");class WS{constructor(t){return this[gu]=new mn([t.children[0]]).memoize(),this[G0]=t.children[1],new Proxy(this,new xit)}[Symbol.iterator](){return new wit(this[gu],this[G0])}get size(){return this[gu].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[gu],e=this[G0],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=ca.visit(e,i);return r}toString(){return`{${[...this].map(([t,e])=>`${Pd(t)}: ${Pd(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class wit{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ca.visit(this.vals,t)]})}}class xit{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[gu].toArray().map(String)}has(t,e){return t[gu].includes(e)}getOwnPropertyDescriptor(t,e){if(t[gu].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const r=t[gu].indexOf(e);if(r!==-1){const i=ca.visit(Reflect.get(t,G0),r);return Reflect.set(t,e,i),i}}set(t,e,r){const i=t[gu].indexOf(e);return i!==-1?(bl.visit(Reflect.get(t,G0),i,r),Reflect.set(t,e,r)):Reflect.has(t,e)?Reflect.set(t,e,r):!1}}Object.defineProperties(WS.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[gu]:{writable:!0,enumerable:!1,configurable:!1,value:null},[G0]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Vk;function B6(n,t,e,r){const{length:i=0}=n;let s=typeof t!="number"?0:t,o=typeof e!="number"?i:e;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Vk=s,s=o,o=Vk),o>i&&(o=i),r?r(n,s,o):[s,o]}const Hk=n=>n!==n;function Gy(n){if(typeof n!=="object"||n===null)return Hk(n)?Hk:e=>e===n;if(n instanceof Date){const e=n.valueOf();return r=>r instanceof Date?r.valueOf()===e:!1}return ArrayBuffer.isView(n)?e=>e?Mrt(n,e):!1:n instanceof Map?Sit(n):Array.isArray(n)?bit(n):n instanceof mn?Eit(n):Mit(n,!0)}function bit(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=Gy(n[e]);return GS(t)}function Sit(n){let t=-1;const e=[];for(const r of n.values())e[++t]=Gy(r);return GS(e)}function Eit(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=Gy(n.get(e));return GS(t)}function Mit(n,t=!1){const e=Object.keys(n);if(!t&&e.length===0)return()=>!1;const r=[];for(let i=-1,s=e.length;++i<s;)r[i]=Gy(n[e[i]]);return GS(r,e)}function GS(n,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return Tit(n,e);case Map:return Wk(n,e,e.keys());case WS:case wI:case Object:case void 0:return Wk(n,e,t||Object.keys(e))}return e instanceof mn?Ait(n,e):!1}}function Tit(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t[r]))return!1;return!0}function Ait(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t.get(r)))return!1;return!0}function Wk(n,t,e){const r=e[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=n.length;let l=s.next(),u=r.next(),h=i.next();for(;o<a&&!u.done&&!h.done&&!l.done&&!(u.value!==h.value||!n[o](l.value));++o,u=r.next(),h=i.next(),l=s.next());return o===a&&u.done&&h.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function N6(n,t,e,r){return(e&1<<r)!==0}function Cit(n,t,e,r){return(e&1<<r)>>r}function Iit(n,t,e){const r=e.byteLength+7&-8;if(n>0||e.byteLength<r){const i=new Uint8Array(r);return i.set(n%8===0?e.subarray(n>>3):Rit(new bI(e,n,t,null,N6)).subarray(0,r)),i}return e}function Rit(n){const t=[];let e=0,r=0,i=0;for(const o of n)o&&(i|=1<<r),++r===8&&(t[e++]=i,i=r=0);(e===0||r>0)&&(t[e++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class bI{constructor(t,e,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function bA(n,t,e){if(e-t<=0)return 0;if(e-t<8){let s=0;for(const o of new bI(n,t,e-t,n,Cit))s+=o;return s}const r=e>>3<<3,i=t+(t%8===0?0:8-t%8);return bA(n,t,i)+bA(n,r,e)+Lit(n,i>>3,r-i>>3)}function Lit(n,t,e){let r=0,i=Math.trunc(t);const s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=e===void 0?n.byteLength:i+e;for(;o-i>=4;)r+=iM(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=iM(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=iM(s.getUint8(i)),i+=1;return r}function iM(n){let t=Math.trunc(n);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const Pit=-1;class Rr{constructor(t,e,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof Rr?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=lc(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:r,nullBitmap:i,typeIds:s}=this;return e&&(t+=e.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=Pit&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-bA(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return e?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Rr(t,e,r,i,s,o,this.dictionary)}slice(t,e){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,e,r,i);return this.clone(this.type,this.offset+t,e,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Ft.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);i[e>>3]=(1<<e-(e&-8))-1,r>0&&i.set(Iit(this.offset,e,this.nullBitmap),0);const s=this.buffers;return s[Ff.VALIDITY]=i,this.clone(this.type,0,t,r+(t-e),s)}_sliceBuffers(t,e,r,i){let s;const{buffers:o}=this;return(s=o[Ff.TYPE])&&(o[Ff.TYPE]=s.subarray(t,t+e)),(s=o[Ff.OFFSET])&&(o[Ff.OFFSET]=s.subarray(t,t+e+1))||(s=o[Ff.DATA])&&(o[Ff.DATA]=i===6?s:s.subarray(r*t,r*(t+e))),o}_sliceChildren(t,e,r){return t.map(i=>i.slice(e,r))}}Rr.prototype.children=Object.freeze([]);class r_ extends hr{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:r=0,["length"]:i=0}=t;return new Rr(e,r,i,0)}visitBool(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.data),s=Ji(t.nullBitmap),o=Rv(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Rr(e,r,a,l,[o,i,s])}visitBinary(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.data),s=Ji(t.nullBitmap),o=Rv(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Rr(e,r,a,l,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:e,["offset"]:r=0,["child"]:i}=t,s=Ji(t.nullBitmap),o=Rv(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Rr(e,r,a,l,[o,void 0,s],[i])}visitStruct(t){const{["type"]:e,["offset"]:r=0,["children"]:i=[]}=t,s=Ji(t.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:e,["offset"]:r=0,["children"]:i=[]}=t,s=Ji(t.nullBitmap),o=xo(e.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;if(rr.isSparseUnion(e))return new Rr(e,r,a,l,[void 0,void 0,s,o],i);const u=Rv(t.valueOffsets);return new Rr(e,r,a,l,[u,void 0,s,o],i)}visitDictionary(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.indices.ArrayType,t.data),{["dictionary"]:o=new mn([new r_().visit({type:e.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Rr(e,r,a,l,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:e,["offset"]:r=0}=t,i=Ji(t.nullBitmap),s=xo(e.ArrayType,t.data),{["length"]:o=s.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:e,["offset"]:r=0,["child"]:i=new r_().visit({type:e.valueType})}=t,s=Ji(t.nullBitmap),{["length"]:o=i.length/lc(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Rr(e,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:e,["offset"]:r=0,["child"]:i=new r_().visit({type:e.childType})}=t,s=Ji(t.nullBitmap),o=Rv(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Rr(e,r,a,l,[o,void 0,s],[i])}}function ni(n){return new r_().visit(n)}class Gk{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function z6(n){return n.reduce((t,e)=>t+e.nullCount,0)}function U6(n){return n.reduce((t,e,r)=>(t[r+1]=t[r]+e.length,t),new Uint32Array(n.length+1))}function V6(n,t,e,r){const i=[];for(let s=-1,o=n.length;++s<o;){const a=n[s],l=t[s],{length:u}=a;if(l>=r)break;if(e>=l+u)continue;if(l>=e&&l+u<=r){i.push(a);continue}const h=Math.max(0,e-l),m=Math.min(r-l,u);i.push(a.slice(h,m-h))}return i.length===0&&i.push(n[0].slice(0,0)),i}function SI(n,t,e,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return e<t[o]?r(n,i,e-t[i]):null;s=i+Math.trunc((o-i)*.5),e<t[s]?o=s:i=s}while(i<o)}function EI(n,t){return n.getValid(t)}function $0(n){function t(e,r,i){return n(e[r],i)}return function(e){const r=this.data;return SI(r,this._offsets,e,t)}}function H6(n){let t;function e(r,i,s){return n(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=SI(s,this._offsets,r,e);return t=void 0,o}}function W6(n){let t;function e(r,i,s){let o=s,a=0,l=0;for(let u=i-1,h=r.length;++u<h;){const m=r[u];if(~(a=n(m,t,o)))return l+a;o=0,l+=m.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?e(s,0,0):SI(s,this._offsets,i,e);return t=void 0,o}}class yn extends hr{}function Dit(n,t){return t===null&&n.length>0?0:-1}function kit(n,t){const{nullBitmap:e}=n;if(!e||n.nullCount<=0)return-1;let r=0;for(const i of new bI(e,n.offset+(t||0),n.length,e,N6)){if(!i)return r;++r}return-1}function Un(n,t,e){if(t===void 0)return-1;if(t===null)return kit(n,e);const r=ca.getVisitFn(n),i=Gy(t);for(let s=(e||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function G6(n,t,e){const r=ca.getVisitFn(n),i=Gy(t);for(let s=(e||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}yn.prototype.visitNull=Dit;yn.prototype.visitBool=Un;yn.prototype.visitInt=Un;yn.prototype.visitInt8=Un;yn.prototype.visitInt16=Un;yn.prototype.visitInt32=Un;yn.prototype.visitInt64=Un;yn.prototype.visitUint8=Un;yn.prototype.visitUint16=Un;yn.prototype.visitUint32=Un;yn.prototype.visitUint64=Un;yn.prototype.visitFloat=Un;yn.prototype.visitFloat16=Un;yn.prototype.visitFloat32=Un;yn.prototype.visitFloat64=Un;yn.prototype.visitUtf8=Un;yn.prototype.visitBinary=Un;yn.prototype.visitFixedSizeBinary=Un;yn.prototype.visitDate=Un;yn.prototype.visitDateDay=Un;yn.prototype.visitDateMillisecond=Un;yn.prototype.visitTimestamp=Un;yn.prototype.visitTimestampSecond=Un;yn.prototype.visitTimestampMillisecond=Un;yn.prototype.visitTimestampMicrosecond=Un;yn.prototype.visitTimestampNanosecond=Un;yn.prototype.visitTime=Un;yn.prototype.visitTimeSecond=Un;yn.prototype.visitTimeMillisecond=Un;yn.prototype.visitTimeMicrosecond=Un;yn.prototype.visitTimeNanosecond=Un;yn.prototype.visitDecimal=Un;yn.prototype.visitList=Un;yn.prototype.visitStruct=Un;yn.prototype.visitUnion=Un;yn.prototype.visitDenseUnion=G6;yn.prototype.visitSparseUnion=G6;yn.prototype.visitDictionary=Un;yn.prototype.visitInterval=Un;yn.prototype.visitIntervalDayTime=Un;yn.prototype.visitIntervalYearMonth=Un;yn.prototype.visitFixedSizeList=Un;yn.prototype.visitMap=Un;const _b=new yn;class vn extends hr{}function In(n){const{type:t}=n;if(n.nullCount===0&&n.stride===1&&(t.typeId===Ft.Timestamp||t instanceof Tu&&t.bitWidth!==64||t instanceof vA&&t.bitWidth!==64||t instanceof j_&&t.precision!==Po.HALF))return new Gk(n.data.length,r=>{const i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let e=0;return new Gk(n.data.length,r=>{const s=n.data[r].length,o=n.slice(e,e+s);return e+=s,new Oit(o)})}class Oit{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}vn.prototype.visitNull=In;vn.prototype.visitBool=In;vn.prototype.visitInt=In;vn.prototype.visitInt8=In;vn.prototype.visitInt16=In;vn.prototype.visitInt32=In;vn.prototype.visitInt64=In;vn.prototype.visitUint8=In;vn.prototype.visitUint16=In;vn.prototype.visitUint32=In;vn.prototype.visitUint64=In;vn.prototype.visitFloat=In;vn.prototype.visitFloat16=In;vn.prototype.visitFloat32=In;vn.prototype.visitFloat64=In;vn.prototype.visitUtf8=In;vn.prototype.visitBinary=In;vn.prototype.visitFixedSizeBinary=In;vn.prototype.visitDate=In;vn.prototype.visitDateDay=In;vn.prototype.visitDateMillisecond=In;vn.prototype.visitTimestamp=In;vn.prototype.visitTimestampSecond=In;vn.prototype.visitTimestampMillisecond=In;vn.prototype.visitTimestampMicrosecond=In;vn.prototype.visitTimestampNanosecond=In;vn.prototype.visitTime=In;vn.prototype.visitTimeSecond=In;vn.prototype.visitTimeMillisecond=In;vn.prototype.visitTimeMicrosecond=In;vn.prototype.visitTimeNanosecond=In;vn.prototype.visitDecimal=In;vn.prototype.visitList=In;vn.prototype.visitStruct=In;vn.prototype.visitUnion=In;vn.prototype.visitDenseUnion=In;vn.prototype.visitSparseUnion=In;vn.prototype.visitDictionary=In;vn.prototype.visitInterval=In;vn.prototype.visitIntervalDayTime=In;vn.prototype.visitIntervalYearMonth=In;vn.prototype.visitFixedSizeList=In;vn.prototype.visitMap=In;const MI=new vn,Fit=(n,t)=>n+t;class ep extends hr{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===Lr.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((r,i)=>r+Tc.visit(i,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((r,i)=>r+Tc.visit(i,e),0)}visitDictionary(t,e){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[e]))||0)}}const Bit=({valueOffsets:n},t)=>8+(n[t+1]-n[t]),Nit=({valueOffsets:n},t)=>8+(n[t+1]-n[t]),zit=({valueOffsets:n,stride:t,children:e},r)=>{const i=e[0],{[r*t]:s}=n,{[r*t+1]:o}=n,a=Tc.getVisitFn(i.type),l=i.slice(s,o-s);let u=8;for(let h=-1,m=o-s;++h<m;)u+=a(l,h);return u},Uit=({stride:n,children:t},e)=>{const r=t[0],i=r.slice(e*n,n),s=Tc.getVisitFn(r.type);let o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},Vit=(n,t)=>n.type.mode===th.Dense?$6(n,t):j6(n,t),$6=({type:n,children:t,typeIds:e,valueOffsets:r},i)=>{const s=n.typeIdToChildIndex[e[i]];return 8+Tc.visit(t[s],r[i])},j6=({children:n},t)=>4+Tc.visitMany(n,n.map(()=>t)).reduce(Fit,0);ep.prototype.visitUtf8=Bit;ep.prototype.visitBinary=Nit;ep.prototype.visitList=zit;ep.prototype.visitFixedSizeList=Uit;ep.prototype.visitUnion=Vit;ep.prototype.visitDenseUnion=$6;ep.prototype.visitSparseUnion=j6;const Tc=new ep;var Y6;const q6={},X6={};class mn{constructor(t){var e,r,i;const s=t[0]instanceof mn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Rr)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=s[0])===null||e===void 0?void 0:e.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u,byteLength:h}=q6[o.typeId],m=s[0];this.isValid=d=>EI(m,d),this.get=d=>a(m,d),this.set=(d,y)=>l(m,d,y),this.indexOf=d=>u(m,d),this.getByteLength=d=>h(m,d),this._offsets=[0,m.length];break}default:Object.setPrototypeOf(this,X6[o.typeId]),this._offsets=U6(s);break}this.data=s,this.type=o,this.stride=lc(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=z6(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Ft[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return MI.visit(this)}concat(...t){return new mn(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new mn(B6(this,t,e,({data:r,_offsets:i},s,o)=>V6(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case Ft.Int:case Ft.Float:case Ft.Decimal:case Ft.Time:case Ft.Timestamp:switch(e.length){case 0:return new s;case 1:return e[0].values.subarray(0,r*i);default:return e.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new mn(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return rr.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(rr.isDictionary(this.type)){const t=new wb(this.data[0].dictionary),e=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new mn(e)}return new wb(this)}unmemoize(){if(rr.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new mn(e)}return this}}Y6=Symbol.toStringTag;mn[Y6]=(n=>{n.type=rr.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Ft).map(e=>Ft[e]).filter(e=>typeof e=="number"&&e!==Ft.NONE);for(const e of t){const r=ca.getVisitFnByTypeId(e),i=bl.getVisitFnByTypeId(e),s=_b.getVisitFnByTypeId(e),o=Tc.getVisitFnByTypeId(e);q6[e]={get:r,set:i,indexOf:s,byteLength:o},X6[e]=Object.create(n,{isValid:{value:$0(EI)},get:{value:$0(ca.getVisitFnByTypeId(e))},set:{value:H6(bl.getVisitFnByTypeId(e))},indexOf:{value:W6(_b.getVisitFnByTypeId(e))},getByteLength:{value:$0(Tc.getVisitFnByTypeId(e))}})}return"Vector"})(mn.prototype);class wb extends mn{constructor(t){super(t.data);const e=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=e.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new wb(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new mn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function Z6(n){if(n){if(n instanceof Rr)return new mn([n]);if(n instanceof mn)return new mn(n.data);if(n.type instanceof rr)return new mn([ni(n)]);if(Array.isArray(n))return new mn(n.flatMap(t=>Hit(t)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));const t={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new t6}))]);if(n instanceof Int16Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new e6}))]);if(n instanceof Int32Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new rI}))]);if(n instanceof BigInt64Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new iI}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new mn([ni(Object.assign(Object.assign({},t),{type:new n6}))]);if(n instanceof Uint16Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new r6}))]);if(n instanceof Uint32Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new i6}))]);if(n instanceof BigUint64Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new s6}))]);if(n instanceof Float32Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new o6}))]);if(n instanceof Float64Array)return new mn([ni(Object.assign(Object.assign({},t),{type:new sI}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function Hit(n){return n instanceof Rr?[n]:n instanceof mn?n.data:Z6(n).data}function Wit(n){if(!n||n.length<=0)return function(i){return!0};let t="";const e=n.filter(r=>r===r);return e.length>0&&(t=`
    switch (x) {${e.map(r=>`
        case ${Git(r)}:`).join("")}
            return false;
    }`),n.length!==e.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Git(n){return typeof n!="bigint"?Pd(n):R5?`${Pd(n)}n`:`"${Pd(n)}"`}const sM=(n,t)=>(n*t+63&-64||64)/t,$it=(n,t=0)=>n.length>=t?n.subarray(0,t):D5(new n.constructor(t),n,0);class $S{constructor(t,e=1){this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.trunc(t.length/e))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const e=this.stride,r=this.length*e,i=this.buffer.length;r>=i&&this._resize(i===0?sM(r*1,this.BYTES_PER_ELEMENT):sM(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=sM(t*this.stride,this.BYTES_PER_ELEMENT);const e=$it(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=D5(new this.ArrayType(t),this.buffer)}}$S.prototype.offset=0;class w1 extends $S{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}class K6 extends w1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return e?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class J6 extends w1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,e){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+e,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}class pa{constructor({type:t,nullValues:e}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=e,this.stride=lc(t),this._nulls=new K6,e&&e.length>0&&(this._isValid=Wit(e))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new mn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:e,_values:r,_nulls:i,_typeIds:s,children:o}=this;return e&&(t+=e.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((e,r)=>e+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t,e=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,e,r,i;const{type:s,length:o,nullCount:a,_typeIds:l,_offsets:u,_values:h,_nulls:m}=this;(e=l==null?void 0:l.flush(o))?i=u==null?void 0:u.flush(o):(i=u==null?void 0:u.flush(o))?t=h==null?void 0:h.flush(u.last()):t=h==null?void 0:h.flush(o),a>0&&(r=m==null?void 0:m.flush(o));const d=this.children.map(y=>y.flush());return this.clear(),ni({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:e,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,e,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(e=this._values)===null||e===void 0||e.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}}pa.prototype.length=1;pa.prototype.stride=1;pa.prototype.children=null;pa.prototype.finished=!1;pa.prototype.nullValues=null;pa.prototype._isValid=()=>!0;class np extends pa{constructor(t){super(t),this._values=new w1(new this.ArrayType(0),this.stride)}setValue(t,e){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,e)}}class jS extends pa{constructor(t){super(t),this._pendingLength=0,this._offsets=new J6}setValue(t,e){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=e instanceof WS?e[gu].length:e.length,r.set(t,e)}setValid(t,e){return super.setValid(t,e)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,e=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,e),this}}class es{constructor(t=[],e,r){this.fields=t||[],this.metadata=e||new Map,r||(r=SA(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),r=this.fields.filter(i=>e.has(i.name));return new es(r,this.metadata)}selectAt(t){const e=t.map(r=>this.fields[r]).filter(Boolean);return new es(e,this.metadata)}assign(...t){const e=t[0]instanceof es?t[0]:Array.isArray(t[0])?new es(t[0]):new es(t),r=[...this.fields],i=rx(rx(new Map,this.metadata),e.metadata),s=e.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:rx(rx(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=SA(s,new Map);return new es([...r,...s],i,new Map([...this.dictionaries,...o]))}}es.prototype.fields=null;es.prototype.metadata=null;es.prototype.dictionaries=null;class oo{constructor(t,e,r=!1,i){this.name=t,this.type=e,this.nullable=r,this.metadata=i||new Map}static new(...t){let[e,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new oo(`${e}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:e=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],oo.new(e,r,i,s)}}oo.prototype.type=null;oo.prototype.name=null;oo.prototype.nullable=null;oo.prototype.metadata=null;function rx(n,t){return new Map([...n||new Map,...t||new Map])}function SA(n,t=new Map){for(let e=-1,r=n.length;++e<r;){const s=n[e].type;if(rr.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&SA(s.children,t)}return t}class Q6 extends jS{constructor(t){super(t),this._values=new $S(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,Ji(e))}_flushPending(t,e){const r=this._offsets,i=this._values.reserve(e).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const l=a.length;i.set(a,s),r.set(o,l),s+=l}}}class jit extends pa{constructor(t){super(t),this._values=new K6}setValue(t,e){this._values.set(t,+e)}}class YS extends np{}YS.prototype._setValue=d6;class tU extends YS{}tU.prototype._setValue=lI;class eU extends YS{}eU.prototype._setValue=uI;class nU extends np{}nU.prototype._setValue=g6;class Yit extends pa{constructor({type:t,nullValues:e,dictionaryHashFunction:r}){super({type:new vb(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=xb({type:this.type.indices,nullValues:e}),this.dictionary=xb({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,e){const r=this.indices;return e=r.setValid(t,e),this.length=r.length,e}setValue(t,e){const r=this._keysToIndices,i=this.valueToKey(e);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(e).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,e=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=e?e.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class rU extends np{}rU.prototype._setValue=h6;class qit extends pa{setValue(t,e){const[r]=this.children,i=t*this.stride;for(let s=-1,o=e.length;++s<o;)r.set(i+s,e[s])}addChild(t,e="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new wA(this.type.listSize,new oo(e,t.type,!0)),r}}class qS extends np{setValue(t,e){this._values.set(t,e)}}class Xit extends qS{setValue(t,e){super.setValue(t,u6(e))}}class Zit extends qS{}class Kit extends qS{}class XS extends np{}XS.prototype._setValue=_6;class iU extends XS{}iU.prototype._setValue=vI;class sU extends XS{}sU.prototype._setValue=_I;class uh extends np{setValue(t,e){this._values.set(t,e)}}class Jit extends uh{}class Qit extends uh{}class tst extends uh{}class est extends uh{}class nst extends uh{}class rst extends uh{}class ist extends uh{}class sst extends uh{}class ost extends jS{constructor(t){super(t),this._offsets=new J6}addChild(t,e="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new yb(new oo(e,t.type,!0)),this.numChildren-1}_flushPending(t){const e=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)e.set(i,0);else{const o=s.length,a=e.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}}class ast extends jS{set(t,e){return super.set(t,e)}setValue(t,e){const r=e instanceof Map?e:new Map(Object.entries(e)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,e=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new xA(new oo(e,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const e=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)e.set(i,0);else{let{[i]:o,[i+1]:a}=e.set(i,s.size).buffer;for(const l of s.entries())if(r.set(o,l),++o>=a)break}}}class lst extends pa{setValue(t,e){}setValid(t,e){return this.length=Math.max(t+1,this.length),e}}class ust extends pa{setValue(t,e){const{children:r,type:i}=this;switch(Array.isArray(e)||e.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,e[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,e.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,e[s.name]))}}setValid(t,e){return super.setValid(t,e)||this.children.forEach(r=>r.setValid(t,e)),e}addChild(t,e=`${this.numChildren}`){const r=this.children.push(t);return this.type=new dl([...this.type.children,new oo(e,t.type,!0)]),r}}class $y extends np{}$y.prototype._setValue=p6;class oU extends $y{}oU.prototype._setValue=cI;class aU extends $y{}aU.prototype._setValue=fI;class lU extends $y{}lU.prototype._setValue=hI;class uU extends $y{}uU.prototype._setValue=dI;class jy extends np{}jy.prototype._setValue=m6;class cU extends jy{}cU.prototype._setValue=pI;class fU extends jy{}fU.prototype._setValue=mI;class hU extends jy{}hU.prototype._setValue=gI;class dU extends jy{}dU.prototype._setValue=yI;class TI extends pa{constructor(t){super(t),this._typeIds=new w1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,e){return this.set(this.length,t,e)}set(t,e,r){return r===void 0&&(r=this._valueToChildTypeId(this,e,t)),this.setValid(t,this.isValid(e))&&this.setValue(t,e,r),this}setValue(t,e,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,e)}addChild(t,e=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new oo(e,t.type)];return this.type=new _A(s,[...o,r],a),r}_valueToChildTypeId(t,e,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class cst extends TI{}class fst extends TI{constructor(t){super(t),this._offsets=new w1(new Int32Array(0))}setValue(t,e,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,e)}}class pU extends jS{constructor(t){super(t),this._values=new $S(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,tI(e))}_flushPending(t,e){}}pU.prototype._flushPending=Q6.prototype._flushPending;class hst extends hr{visitNull(){return lst}visitBool(){return jit}visitInt(){return uh}visitInt8(){return Jit}visitInt16(){return Qit}visitInt32(){return tst}visitInt64(){return est}visitUint8(){return nst}visitUint16(){return rst}visitUint32(){return ist}visitUint64(){return sst}visitFloat(){return qS}visitFloat16(){return Xit}visitFloat32(){return Zit}visitFloat64(){return Kit}visitUtf8(){return pU}visitBinary(){return Q6}visitFixedSizeBinary(){return rU}visitDate(){return YS}visitDateDay(){return tU}visitDateMillisecond(){return eU}visitTimestamp(){return $y}visitTimestampSecond(){return oU}visitTimestampMillisecond(){return aU}visitTimestampMicrosecond(){return lU}visitTimestampNanosecond(){return uU}visitTime(){return jy}visitTimeSecond(){return cU}visitTimeMillisecond(){return fU}visitTimeMicrosecond(){return hU}visitTimeNanosecond(){return dU}visitDecimal(){return nU}visitList(){return ost}visitStruct(){return ust}visitUnion(){return TI}visitDenseUnion(){return fst}visitSparseUnion(){return cst}visitDictionary(){return Yit}visitInterval(){return XS}visitIntervalDayTime(){return iU}visitIntervalYearMonth(){return sU}visitFixedSizeList(){return qit}visitMap(){return ast}}const dst=new hst;class _n extends hr{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((r,i)=>this.compareFields(r,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ma(n,t){return t instanceof n.constructor}function x1(n,t){return n===t||ma(n,t)}function ch(n,t){return n===t||ma(n,t)&&n.bitWidth===t.bitWidth&&n.isSigned===t.isSigned}function ZS(n,t){return n===t||ma(n,t)&&n.precision===t.precision}function pst(n,t){return n===t||ma(n,t)&&n.byteWidth===t.byteWidth}function AI(n,t){return n===t||ma(n,t)&&n.unit===t.unit}function b1(n,t){return n===t||ma(n,t)&&n.unit===t.unit&&n.timezone===t.timezone}function S1(n,t){return n===t||ma(n,t)&&n.unit===t.unit&&n.bitWidth===t.bitWidth}function mst(n,t){return n===t||ma(n,t)&&n.children.length===t.children.length&&eh.compareManyFields(n.children,t.children)}function gst(n,t){return n===t||ma(n,t)&&n.children.length===t.children.length&&eh.compareManyFields(n.children,t.children)}function CI(n,t){return n===t||ma(n,t)&&n.mode===t.mode&&n.typeIds.every((e,r)=>e===t.typeIds[r])&&eh.compareManyFields(n.children,t.children)}function yst(n,t){return n===t||ma(n,t)&&n.id===t.id&&n.isOrdered===t.isOrdered&&eh.visit(n.indices,t.indices)&&eh.visit(n.dictionary,t.dictionary)}function II(n,t){return n===t||ma(n,t)&&n.unit===t.unit}function vst(n,t){return n===t||ma(n,t)&&n.listSize===t.listSize&&n.children.length===t.children.length&&eh.compareManyFields(n.children,t.children)}function _st(n,t){return n===t||ma(n,t)&&n.keysSorted===t.keysSorted&&n.children.length===t.children.length&&eh.compareManyFields(n.children,t.children)}_n.prototype.visitNull=x1;_n.prototype.visitBool=x1;_n.prototype.visitInt=ch;_n.prototype.visitInt8=ch;_n.prototype.visitInt16=ch;_n.prototype.visitInt32=ch;_n.prototype.visitInt64=ch;_n.prototype.visitUint8=ch;_n.prototype.visitUint16=ch;_n.prototype.visitUint32=ch;_n.prototype.visitUint64=ch;_n.prototype.visitFloat=ZS;_n.prototype.visitFloat16=ZS;_n.prototype.visitFloat32=ZS;_n.prototype.visitFloat64=ZS;_n.prototype.visitUtf8=x1;_n.prototype.visitBinary=x1;_n.prototype.visitFixedSizeBinary=pst;_n.prototype.visitDate=AI;_n.prototype.visitDateDay=AI;_n.prototype.visitDateMillisecond=AI;_n.prototype.visitTimestamp=b1;_n.prototype.visitTimestampSecond=b1;_n.prototype.visitTimestampMillisecond=b1;_n.prototype.visitTimestampMicrosecond=b1;_n.prototype.visitTimestampNanosecond=b1;_n.prototype.visitTime=S1;_n.prototype.visitTimeSecond=S1;_n.prototype.visitTimeMillisecond=S1;_n.prototype.visitTimeMicrosecond=S1;_n.prototype.visitTimeNanosecond=S1;_n.prototype.visitDecimal=x1;_n.prototype.visitList=mst;_n.prototype.visitStruct=gst;_n.prototype.visitUnion=CI;_n.prototype.visitDenseUnion=CI;_n.prototype.visitSparseUnion=CI;_n.prototype.visitDictionary=yst;_n.prototype.visitInterval=II;_n.prototype.visitIntervalDayTime=II;_n.prototype.visitIntervalYearMonth=II;_n.prototype.visitFixedSizeList=vst;_n.prototype.visitMap=_st;const eh=new _n;function wst(n,t){return eh.compareSchemas(n,t)}function xst(n,t){return eh.visit(n,t)}function xb(n){const t=n.type,e=new(dst.getVisitFn(t)())(n);if(t.children&&t.children.length>0){const r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:l}=a,u=s(a,o);e.children.push(xb(Object.assign(Object.assign({},u),{type:l})))}}return e}function bst(n,t){if(n instanceof Rr||n instanceof mn||n.type instanceof rr||ArrayBuffer.isView(n))return Z6(n);const e={type:t!=null?t:Dx(n),nullValues:[null]},r=[...Est(e)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return rr.isDictionary(i.type)?i.memoize():i}function Sst(n){const t=bst(n),e=new Mo(new es(t.type.children),t.data[0]);return new pu(e)}function Dx(n){if(n.length===0)return new $_;let t=0,e=0,r=0,i=0,s=0,o=0,a=0,l=0;for(const u of n){if(u==null){++t;continue}switch(typeof u){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(u)?++e:Object.prototype.toString.call(u)==="[object Date]"?++l:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+t===n.length)return new sI;if(s+t===n.length)return new vb(new mA,new rI);if(o+t===n.length)return new iI;if(a+t===n.length)return new gA;if(l+t===n.length)return new Crt;if(e+t===n.length){const u=n,h=Dx(u[u.findIndex(m=>m!=null)]);if(u.every(m=>m==null||xst(h,Dx(m))))return new yb(new oo("",h,!0))}else if(r+t===n.length){const u=new Map;for(const h of n)for(const m of Object.keys(h))!u.has(m)&&h[m]!=null&&u.set(m,new oo(m,Dx([h[m]]),!0));return new dl([...u.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function Est(n){const{["queueingStrategy"]:t="count"}=n,{["highWaterMark"]:e=t!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=t!=="bytes"?"length":"byteLength";return function*(i){let s=0;const o=xb(n);for(const a of i)o.append(a)[r]>=e&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}function oM(n,t){return Mst(n,t.map(e=>e.data.concat()))}function Mst(n,t){const e=[...n.fields],r=[],i={numBatches:t.reduce((m,d)=>Math.max(m,d.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,h=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)h[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(h=Tst(e,o,h,t,i),o>0&&(r[s++]=ni({type:new dl(e),length:o,nullCount:0,children:h.slice()})))}return[n=n.assign(e),r.map(m=>new Mo(n,m))]}function Tst(n,t,e,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=e[a],h=u==null?void 0:u.length;if(h>=t)h===t?e[a]=u:(e[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,h-t))));else{const m=n[a];n[a]=m.clone({nullable:!0}),e[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ni({type:m.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var mU;class pu{constructor(...t){var e,r;if(t.length===0)return this.batches=[],this.schema=new es([]),this._offsets=[0],this;let i,s;t[0]instanceof es&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof Mo)return[l];if(l instanceof pu)return l.batches;if(l instanceof Rr){if(l.type instanceof dl)return[new Mo(new es(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),h=u.map(y=>new mn([l[y]])),m=new es(u.map((y,_)=>new oo(String(y),h[_].type))),[,d]=oM(m,h);return d.length===0?[new Mo(l)]:d}}}return[]},a=t.flatMap(l=>o(l));if(i=(r=i!=null?i:(e=a[0])===null||e===void 0?void 0:e.schema)!==null&&r!==void 0?r:new es([]),!(i instanceof es))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Mo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!wst(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s!=null?s:U6(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=z6(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?MI.visit(new mn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new pu(e,r.map(i=>new Mo(e,i)))}slice(t,e){const r=this.schema;[t,e]=B6({length:this.numRows},t,e);const i=V6(this.data,this._offsets,t,e);return new pu(r,i.map(s=>new Mo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(r=>r.children[t]);if(e.length===0){const{type:r}=this.schema.fields[t],i=ni({type:r,length:0,nullCount:0});e.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new mn(e)}return null}setChild(t,e){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),e)}setChildAt(t,e){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new mn([ni({type:new $_,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:e.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[t],a[t]]=[o,e],[r,i]=oM(r,a)}return new pu(r,i)}select(t){const e=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>e.get(r)).filter(r=>r>-1))}selectAt(t){const e=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new pu(e,r)}assign(t){const e=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[h,m]=a,d=e.findIndex(y=>y.name===l.name);return~d?m[d]=u:h.push(u),a},[[],[]]),s=this.schema.assign(t.schema),o=[...e.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new pu(...oM(s,o))}}mU=Symbol.toStringTag;pu[mU]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=$0(EI),n.get=$0(ca.getVisitFn(Ft.Struct)),n.set=H6(bl.getVisitFn(Ft.Struct)),n.indexOf=W6(_b.getVisitFn(Ft.Struct)),n.getByteLength=$0(Tc.getVisitFn(Ft.Struct)),"Table"))(pu.prototype);var gU;class Mo{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof es))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ni({nullCount:0,type:new dl(this.schema.fields),children:this.schema.fields.map(e=>ni({type:e.type,nullCount:0}))})]=t,!(this.data instanceof Rr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=$k(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:r,children:i,length:s}=Object.keys(e).reduce((l,u,h)=>(l.children[h]=e[u],l.length=Math.max(l.length,e[u].length),l.fields[h]=oo.new({name:u,type:e[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new es(r),a=ni({type:new dl(r),length:s,children:i,nullCount:0});[this.schema,this.data]=$k(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=yU(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ca.visit(this.data,t)}set(t,e){return bl.visit(this.data,t,e)}indexOf(t,e){return _b.visit(this.data,t,e)}getByteLength(t){return Tc.visit(this.data,t)}[Symbol.iterator](){return MI.visit(new mn([this.data]))}toArray(){return[...this]}concat(...t){return new pu(this.schema,[this,...t])}slice(t,e){const[r]=new mn([this.data]).slice(t,e).data;return new Mo(this.schema,r)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new mn([this.data.children[t]]):null}setChild(t,e){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),e)}setChildAt(t,e){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){e||(e=new mn([ni({type:new $_,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:e.type});[s[t],o[t]]=[a,e.data[0]],r=new es(s,new Map(this.schema.metadata)),i=ni({type:new dl(s),children:o})}return new Mo(r,i)}select(t){const e=this.schema.select(t),r=new dl(e.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Mo(e,ni({type:r,length:this.numRows,children:i}))}selectAt(t){const e=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=ni({type:new dl(e.fields),length:this.numRows,children:r});return new Mo(e,i)}}gU=Symbol.toStringTag;Mo[gU]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Mo.prototype);function $k(n,t,e=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...n.fields],s=[...t],o=(e+63&-64)>>3;for(const[a,l]of n.fields.entries()){const u=t[a];(!u||u.length!==e)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&r!==void 0?r:ni({type:l.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),ni({type:new dl(i),length:e,children:s})]}function yU(n,t,e=new Map){for(let r=-1,i=n.length;++r<i;){const o=n[r].type,a=t[r];if(rr.isDictionary(o)){if(!e.has(o.id))a.dictionary&&e.set(o.id,a.dictionary);else if(e.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&yU(o.children,a.children,e)}return e}var EA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,t){(function(){var e,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",m=1,d=2,y=4,_=1,v=2,w=1,x=2,S=4,M=8,T=16,A=32,P=64,F=128,C=256,B=512,V=30,Y="...",z=800,q=16,L=1,tt=2,ct=3,lt=1/0,at=9007199254740991,it=17976931348623157e292,ut=0/0,j=4294967295,K=j-1,xt=j>>>1,Lt=[["ary",F],["bind",w],["bindKey",x],["curry",M],["curryRight",T],["flip",B],["partial",A],["partialRight",P],["rearg",C]],Pt="[object Arguments]",Ot="[object Array]",Ee="[object AsyncFunction]",se="[object Boolean]",fe="[object Date]",oe="[object DOMException]",Le="[object Error]",Kt="[object Function]",Yt="[object GeneratorFunction]",O="[object Map]",Tt="[object Number]",vt="[object Null]",nt="[object Object]",J="[object Promise]",dt="[object Proxy]",Gt="[object RegExp]",Vt="[object Set]",G="[object String]",U="[object Symbol]",ft="[object Undefined]",Et="[object WeakMap]",Ht="[object WeakSet]",Qt="[object ArrayBuffer]",ue="[object DataView]",Wt="[object Float32Array]",He="[object Float64Array]",Ue="[object Int8Array]",xe="[object Int16Array]",gt="[object Int32Array]",me="[object Uint8Array]",pe="[object Uint8ClampedArray]",De="[object Uint16Array]",_e="[object Uint32Array]",We=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,Ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hn=/&(?:amp|lt|gt|quot|#39);/g,ln=/[&<>"']/g,Ri=RegExp(Hn.source),Vs=RegExp(ln.source),Fc=/<%-([\s\S]+?)%>/g,Du=/<%([\s\S]+?)%>/g,Bc=/<%=([\s\S]+?)%>/g,ku=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ph=/^\w*$/,mh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ou=/[\\^$.*+?()[\]{}|]/g,Nc=RegExp(Ou.source),ot=/^\s+/,zt=/\s/,Xt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$t=/\{\n\/\* \[wrapped with (.+)\] \*/,te=/,? & /,Ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,on=/[()=,{}\[\]\/\s]/,dn=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qn=/\w*$/,Bn=/^[-+]0x[0-9a-f]+$/i,Nn=/^0b[01]+$/i,ar=/^\[object .+?Constructor\]$/,lo=/^0o[0-7]+$/i,Hs=/^(?:0|[1-9]\d*)$/,No=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ii=/($^)/,pn=/['\n\r\u2028\u2029\\]/g,Wn="\\ud800-\\udfff",un="\\u0300-\\u036f",ai="\\ufe20-\\ufe2f",Sr="\\u20d0-\\u20ff",qr=un+ai+Sr,Ws="\\u2700-\\u27bf",Er="a-z\\xdf-\\xf6\\xf8-\\xff",Mr="\\xac\\xb1\\xd7\\xf7",zo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bi="\\u2000-\\u206f",lg=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zc="A-Z\\xc0-\\xd6\\xd8-\\xde",sp="\\ufe0e\\ufe0f",gh=Mr+zo+bi+lg,ya="['\u2019]",ug="["+Wn+"]",Fu="["+gh+"]",lr="["+qr+"]",Za="\\d+",tv="["+Ws+"]",cg="["+Er+"]",Ml="[^"+Wn+gh+Za+Ws+Er+zc+"]",Uc="\\ud83c[\\udffb-\\udfff]",yh="(?:"+lr+"|"+Uc+")",Tl="[^"+Wn+"]",Vc="(?:\\ud83c[\\udde6-\\uddff]){2}",Bu="[\\ud800-\\udbff][\\udc00-\\udfff]",Is="["+zc+"]",fg="\\u200d",hg="(?:"+cg+"|"+Ml+")",ev="(?:"+Is+"|"+Ml+")",dg="(?:"+ya+"(?:d|ll|m|re|s|t|ve))?",vh="(?:"+ya+"(?:D|LL|M|RE|S|T|VE))?",_h=yh+"?",pg="["+sp+"]?",mg="(?:"+fg+"(?:"+[Tl,Vc,Bu].join("|")+")"+pg+_h+")*",wh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hc=pg+_h+mg,Wc="(?:"+[tv,Vc,Bu].join("|")+")"+Hc,Al="(?:"+[Tl+lr+"?",lr,Vc,Bu,ug].join("|")+")",yg=RegExp(ya,"g"),op=RegExp(lr,"g"),Gc=RegExp(Uc+"(?="+Uc+")|"+Al+Hc,"g"),ap=RegExp([Is+"?"+cg+"+"+dg+"(?="+[Fu,Is,"$"].join("|")+")",ev+"+"+vh+"(?="+[Fu,Is+hg,"$"].join("|")+")",Is+"?"+hg+"+"+dg,Is+"+"+vh,gg,wh,Za,Wc].join("|"),"g"),uo=RegExp("["+fg+Wn+qr+sp+"]"),xh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cl=-1,hn={};hn[Wt]=hn[He]=hn[Ue]=hn[xe]=hn[gt]=hn[me]=hn[pe]=hn[De]=hn[_e]=!0,hn[Pt]=hn[Ot]=hn[Qt]=hn[se]=hn[ue]=hn[fe]=hn[Le]=hn[Kt]=hn[O]=hn[Tt]=hn[nt]=hn[Gt]=hn[Vt]=hn[G]=hn[Et]=!1;var Qn={};Qn[Pt]=Qn[Ot]=Qn[Qt]=Qn[ue]=Qn[se]=Qn[fe]=Qn[Wt]=Qn[He]=Qn[Ue]=Qn[xe]=Qn[gt]=Qn[O]=Qn[Tt]=Qn[nt]=Qn[Gt]=Qn[Vt]=Qn[G]=Qn[U]=Qn[me]=Qn[pe]=Qn[De]=Qn[_e]=!0,Qn[Le]=Qn[Kt]=Qn[Et]=!1;var vg={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},co={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Il={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_g=parseFloat,nv=parseInt,wg=typeof mu=="object"&&mu&&mu.Object===Object&&mu,Ls=typeof self=="object"&&self&&self.Object===Object&&self,Si=wg||Ls||Function("return this")(),Nu=t&&!t.nodeType&&t,Rl=Nu&&!0&&n&&!n.nodeType&&n,Gs=Rl&&Rl.exports===Nu,zu=Gs&&wg.process,os=function(){try{var At=Rl&&Rl.require&&Rl.require("util").types;return At||zu&&zu.binding&&zu.binding("util")}catch{}}(),Ll=os&&os.isArrayBuffer,$c=os&&os.isDate,jc=os&&os.isMap,lp=os&&os.isRegExp,Sh=os&&os.isSet,up=os&&os.isTypedArray;function Ei(At,Zt,Ut){switch(Ut.length){case 0:return At.call(Zt);case 1:return At.call(Zt,Ut[0]);case 2:return At.call(Zt,Ut[0],Ut[1]);case 3:return At.call(Zt,Ut[0],Ut[1],Ut[2])}return At.apply(Zt,Ut)}function $s(At,Zt,Ut,Ce){for(var rn=-1,Gn=At==null?0:At.length;++rn<Gn;){var Ur=At[rn];Zt(Ce,Ur,Ut(Ur),At)}return Ce}function li(At,Zt){for(var Ut=-1,Ce=At==null?0:At.length;++Ut<Ce&&Zt(At[Ut],Ut,At)!==!1;);return At}function cp(At,Zt){for(var Ut=At==null?0:At.length;Ut--&&Zt(At[Ut],Ut,At)!==!1;);return At}function fp(At,Zt){for(var Ut=-1,Ce=At==null?0:At.length;++Ut<Ce;)if(!Zt(At[Ut],Ut,At))return!1;return!0}function as(At,Zt){for(var Ut=-1,Ce=At==null?0:At.length,rn=0,Gn=[];++Ut<Ce;){var Ur=At[Ut];Zt(Ur,Ut,At)&&(Gn[rn++]=Ur)}return Gn}function fo(At,Zt){var Ut=At==null?0:At.length;return!!Ut&&Uo(At,Zt,0)>-1}function Yc(At,Zt,Ut){for(var Ce=-1,rn=At==null?0:At.length;++Ce<rn;)if(Ut(Zt,At[Ce]))return!0;return!1}function dr(At,Zt){for(var Ut=-1,Ce=At==null?0:At.length,rn=Array(Ce);++Ut<Ce;)rn[Ut]=Zt(At[Ut],Ut,At);return rn}function va(At,Zt){for(var Ut=-1,Ce=Zt.length,rn=At.length;++Ut<Ce;)At[rn+Ut]=Zt[Ut];return At}function Eh(At,Zt,Ut,Ce){var rn=-1,Gn=At==null?0:At.length;for(Ce&&Gn&&(Ut=At[++rn]);++rn<Gn;)Ut=Zt(Ut,At[rn],rn,At);return Ut}function Mh(At,Zt,Ut,Ce){var rn=At==null?0:At.length;for(Ce&&rn&&(Ut=At[--rn]);rn--;)Ut=Zt(Ut,At[rn],rn,At);return Ut}function Pl(At,Zt){for(var Ut=-1,Ce=At==null?0:At.length;++Ut<Ce;)if(Zt(At[Ut],Ut,At))return!0;return!1}var xg=Xc("length");function bg(At){return At.split("")}function Sg(At){return At.match(Ze)||[]}function Th(At,Zt,Ut){var Ce;return Ut(At,function(rn,Gn,Ur){if(Zt(rn,Gn,Ur))return Ce=Gn,!1}),Ce}function Dl(At,Zt,Ut,Ce){for(var rn=At.length,Gn=Ut+(Ce?1:-1);Ce?Gn--:++Gn<rn;)if(Zt(At[Gn],Gn,At))return Gn;return-1}function Uo(At,Zt,Ut){return Zt===Zt?Dr(At,Zt,Ut):Dl(At,Uu,Ut)}function qc(At,Zt,Ut,Ce){for(var rn=Ut-1,Gn=At.length;++rn<Gn;)if(Ce(At[rn],Zt))return rn;return-1}function Uu(At){return At!==At}function kl(At,Zt){var Ut=At==null?0:At.length;return Ut?_a(At,Zt)/Ut:ut}function Xc(At){return function(Zt){return Zt==null?e:Zt[At]}}function Ol(At){return function(Zt){return At==null?e:At[Zt]}}function gs(At,Zt,Ut,Ce,rn){return rn(At,function(Gn,Ur,ir){Ut=Ce?(Ce=!1,Gn):Zt(Ut,Gn,Ur,ir)}),Ut}function Zc(At,Zt){var Ut=At.length;for(At.sort(Zt);Ut--;)At[Ut]=At[Ut].value;return At}function _a(At,Zt){for(var Ut,Ce=-1,rn=At.length;++Ce<rn;){var Gn=Zt(At[Ce]);Gn!==e&&(Ut=Ut===e?Gn:Ut+Gn)}return Ut}function js(At,Zt){for(var Ut=-1,Ce=Array(At);++Ut<At;)Ce[Ut]=Zt(Ut);return Ce}function Fl(At,Zt){return dr(Zt,function(Ut){return[Ut,At[Ut]]})}function Bl(At){return At&&At.slice(0,Hu(At)+1).replace(ot,"")}function ys(At){return function(Zt){return At(Zt)}}function Kc(At,Zt){return dr(Zt,function(Ut){return At[Ut]})}function vr(At,Zt){return At.has(Zt)}function Jc(At,Zt){for(var Ut=-1,Ce=At.length;++Ut<Ce&&Uo(Zt,At[Ut],0)>-1;);return Ut}function Vo(At,Zt){for(var Ut=At.length;Ut--&&Uo(Zt,At[Ut],0)>-1;);return Ut}function Nl(At,Zt){for(var Ut=At.length,Ce=0;Ut--;)At[Ut]===Zt&&++Ce;return Ce}var Ho=Ol(vg),Eg=Ol(co);function hp(At){return"\\"+Rs[At]}function Ah(At,Zt){return At==null?e:At[Zt]}function zl(At){return uo.test(At)}function Ch(At){return xh.test(At)}function dp(At){for(var Zt,Ut=[];!(Zt=At.next()).done;)Ut.push(Zt.value);return Ut}function Wo(At){var Zt=-1,Ut=Array(At.size);return At.forEach(function(Ce,rn){Ut[++Zt]=[rn,Ce]}),Ut}function Qc(At,Zt){return function(Ut){return At(Zt(Ut))}}function Ps(At,Zt){for(var Ut=-1,Ce=At.length,rn=0,Gn=[];++Ut<Ce;){var Ur=At[Ut];(Ur===Zt||Ur===h)&&(At[Ut]=h,Gn[rn++]=Ut)}return Gn}function ji(At){var Zt=-1,Ut=Array(At.size);return At.forEach(function(Ce){Ut[++Zt]=Ce}),Ut}function Vu(At){var Zt=-1,Ut=Array(At.size);return At.forEach(function(Ce){Ut[++Zt]=[Ce,Ce]}),Ut}function Dr(At,Zt,Ut){for(var Ce=Ut-1,rn=At.length;++Ce<rn;)if(At[Ce]===Zt)return Ce;return-1}function Yi(At,Zt,Ut){for(var Ce=Ut+1;Ce--;)if(At[Ce]===Zt)return Ce;return Ce}function zr(At){return zl(At)?pp(At):xg(At)}function vs(At){return zl(At)?mp(At):bg(At)}function Hu(At){for(var Zt=At.length;Zt--&&zt.test(At.charAt(Zt)););return Zt}var _s=Ol(Il);function pp(At){for(var Zt=Gc.lastIndex=0;Gc.test(At);)++Zt;return Zt}function mp(At){return At.match(Gc)||[]}function wa(At){return At.match(ap)||[]}var Go=function At(Zt){Zt=Zt==null?Si:Li.defaults(Si.Object(),Zt,Li.pick(Si,bh));var Ut=Zt.Array,Ce=Zt.Date,rn=Zt.Error,Gn=Zt.Function,Ur=Zt.Math,ir=Zt.Object,Wu=Zt.RegExp,Gu=Zt.String,ws=Zt.TypeError,tf=Ut.prototype,ef=Gn.prototype,xa=ir.prototype,nf=Zt["__core-js_shared__"],rf=ef.toString,tr=xa.hasOwnProperty,gp=0,Ih=function(){var c=/[^.]+$/.exec(nf&&nf.keys&&nf.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Rh=xa.toString,yp=rf.call(ir),Lh=Si._,rv=Wu("^"+rf.call(tr).replace(Ou,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ph=Gs?Zt.Buffer:e,Ka=Zt.Symbol,Dh=Zt.Uint8Array,Ys=Ph?Ph.allocUnsafe:e,Pi=Qc(ir.getPrototypeOf,ir),vp=ir.create,_p=xa.propertyIsEnumerable,sf=tf.splice,kh=Ka?Ka.isConcatSpreadable:e,$u=Ka?Ka.iterator:e,$o=Ka?Ka.toStringTag:e,ju=function(){try{var c=Up(ir,"defineProperty");return c({},"",{}),c}catch{}}(),wp=Zt.clearTimeout!==Si.clearTimeout&&Zt.clearTimeout,xp=Ce&&Ce.now!==Si.Date.now&&Ce.now,Oh=Zt.setTimeout!==Si.setTimeout&&Zt.setTimeout,of=Ur.ceil,ho=Ur.floor,Fh=ir.getOwnPropertySymbols,Mg=Ph?Ph.isBuffer:e,Ja=Zt.isFinite,bp=tf.join,Tg=Qc(ir.keys,ir),mr=Ur.max,Tr=Ur.min,af=Ce.now,Ul=Zt.parseInt,Di=Ur.random,lf=tf.reverse,uf=Up(Zt,"DataView"),qs=Up(Zt,"Map"),Bh=Up(Zt,"Promise"),Vl=Up(Zt,"Set"),Hl=Up(Zt,"WeakMap"),Qa=Up(ir,"create"),Yu=Hl&&new Hl,Wl={},Sp=Vp(uf),Ag=Vp(qs),Cg=Vp(Bh),iv=Vp(Vl),Ig=Vp(Hl),qu=Ka?Ka.prototype:e,po=qu?qu.valueOf:e,Ep=qu?qu.toString:e;function X(c){if(Ai(c)&&!Tn(c)&&!(c instanceof Dn)){if(c instanceof Mi)return c;if(tr.call(c,"__wrapped__"))return tL(c)}return new Mi(c)}var Gl=function(){function c(){}return function(g){if(!fi(g))return{};if(vp)return vp(g);c.prototype=g;var E=new c;return c.prototype=e,E}}();function Xu(){}function Mi(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=e}X.templateSettings={escape:Fc,evaluate:Du,interpolate:Bc,variable:"",imports:{_:X}},X.prototype=Xu.prototype,X.prototype.constructor=X,Mi.prototype=Gl(Xu.prototype),Mi.prototype.constructor=Mi;function Dn(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function Nh(){var c=new Dn(this.__wrapped__);return c.__actions__=$e(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=$e(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=$e(this.__views__),c}function Rg(){if(this.__filtered__){var c=new Dn(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function Mp(){var c=this.__wrapped__.value(),g=this.__dir__,E=Tn(c),D=g<0,W=E?c.length:0,et=uW(0,W,this.__views__),ht=et.start,St=et.end,Dt=St-ht,ne=D?St:ht-1,re=this.__iteratees__,le=re.length,Se=0,Ve=Tr(Dt,this.__takeCount__);if(!E||!D&&W==Dt&&Ve==Dt)return st(c,this.__actions__);var tn=[];t:for(;Dt--&&Se<Ve;){ne+=g;for(var zn=-1,en=c[ne];++zn<le;){var Xn=re[zn],er=Xn.iteratee,Ia=Xn.type,vo=er(en);if(Ia==tt)en=vo;else if(!vo){if(Ia==L)continue t;break t}}tn[Se++]=en}return tn}Dn.prototype=Gl(Xu.prototype),Dn.prototype.constructor=Dn;function tl(c){var g=-1,E=c==null?0:c.length;for(this.clear();++g<E;){var D=c[g];this.set(D[0],D[1])}}function zh(){this.__data__=Qa?Qa(null):{},this.size=0}function sv(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function Uh(c){var g=this.__data__;if(Qa){var E=g[c];return E===l?e:E}return tr.call(g,c)?g[c]:e}function Vh(c){var g=this.__data__;return Qa?g[c]!==e:tr.call(g,c)}function Hh(c,g){var E=this.__data__;return this.size+=this.has(c)?0:1,E[c]=Qa&&g===e?l:g,this}tl.prototype.clear=zh,tl.prototype.delete=sv,tl.prototype.get=Uh,tl.prototype.has=Vh,tl.prototype.set=Hh;function Xs(c){var g=-1,E=c==null?0:c.length;for(this.clear();++g<E;){var D=c[g];this.set(D[0],D[1])}}function Wh(){this.__data__=[],this.size=0}function cf(c){var g=this.__data__,E=qi(g,c);if(E<0)return!1;var D=g.length-1;return E==D?g.pop():sf.call(g,E,1),--this.size,!0}function Tp(c){var g=this.__data__,E=qi(g,c);return E<0?e:g[E][1]}function Ap(c){return qi(this.__data__,c)>-1}function Cp(c,g){var E=this.__data__,D=qi(E,c);return D<0?(++this.size,E.push([c,g])):E[D][1]=g,this}Xs.prototype.clear=Wh,Xs.prototype.delete=cf,Xs.prototype.get=Tp,Xs.prototype.has=Ap,Xs.prototype.set=Cp;function Zs(c){var g=-1,E=c==null?0:c.length;for(this.clear();++g<E;){var D=c[g];this.set(D[0],D[1])}}function Ip(){this.size=0,this.__data__={hash:new tl,map:new(qs||Xs),string:new tl}}function Zu(c){var g=V1(this,c).delete(c);return this.size-=g?1:0,g}function Rp(c){return V1(this,c).get(c)}function Lp(c){return V1(this,c).has(c)}function ff(c,g){var E=V1(this,c),D=E.size;return E.set(c,g),this.size+=E.size==D?0:1,this}Zs.prototype.clear=Ip,Zs.prototype.delete=Zu,Zs.prototype.get=Rp,Zs.prototype.has=Lp,Zs.prototype.set=ff;function jo(c){var g=-1,E=c==null?0:c.length;for(this.__data__=new Zs;++g<E;)this.add(c[g])}function Pp(c){return this.__data__.set(c,l),this}function Ge(c){return this.__data__.has(c)}jo.prototype.add=jo.prototype.push=Pp,jo.prototype.has=Ge;function Ar(c){var g=this.__data__=new Xs(c);this.size=g.size}function ur(){this.__data__=new Xs,this.size=0}function Xr(c){var g=this.__data__,E=g.delete(c);return this.size=g.size,E}function $l(c){return this.__data__.get(c)}function hf(c){return this.__data__.has(c)}function ki(c,g){var E=this.__data__;if(E instanceof Xs){var D=E.__data__;if(!qs||D.length<i-1)return D.push([c,g]),this.size=++E.size,this;E=this.__data__=new Zs(D)}return E.set(c,g),this.size=E.size,this}Ar.prototype.clear=ur,Ar.prototype.delete=Xr,Ar.prototype.get=$l,Ar.prototype.has=hf,Ar.prototype.set=ki;function ba(c,g){var E=Tn(c),D=!E&&Hp(c),W=!E&&!D&&Qh(c),et=!E&&!D&&!W&&Ug(c),ht=E||D||W||et,St=ht?js(c.length,Gu):[],Dt=St.length;for(var ne in c)(g||tr.call(c,ne))&&!(ht&&(ne=="length"||W&&(ne=="offset"||ne=="parent")||et&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Ef(ne,Dt)))&&St.push(ne);return St}function jl(c){var g=c.length;return g?c[R(0,g-1)]:e}function df(c,g){return H1($e(c),Zi(g,0,c.length))}function Ku(c){return H1($e(c))}function pf(c,g,E){(E!==e&&!Ql(c[g],E)||E===e&&!(g in c))&&Ks(c,g,E)}function Sa(c,g,E){var D=c[g];(!(tr.call(c,g)&&Ql(D,E))||E===e&&!(g in c))&&Ks(c,g,E)}function qi(c,g){for(var E=c.length;E--;)if(Ql(c[E][0],g))return E;return-1}function Yo(c,g,E,D){return Ti(c,function(W,et,ht){g(D,W,E(W),ht)}),D}function Xi(c,g){return c&&Vr(g,xs(g),c)}function Pe(c,g){return c&&Vr(g,Xo(g),c)}function Ks(c,g,E){g=="__proto__"&&ju?ju(c,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):c[g]=E}function mf(c,g){for(var E=-1,D=g.length,W=Ut(D),et=c==null;++E<D;)W[E]=et?e:B2(c,g[E]);return W}function Zi(c,g,E){return c===c&&(E!==e&&(c=c<=E?c:E),g!==e&&(c=c>=g?c:g)),c}function ui(c,g,E,D,W,et){var ht,St=g&m,Dt=g&d,ne=g&y;if(E&&(ht=W?E(c,D,W,et):E(c)),ht!==e)return ht;if(!fi(c))return c;var re=Tn(c);if(re){if(ht=fW(c),!St)return $e(c,ht)}else{var le=Js(c),Se=le==Kt||le==Yt;if(Qh(c))return cn(c,St);if(le==nt||le==Pt||Se&&!W){if(ht=Dt||Se?{}:$R(c),!St)return Dt?lv(c,Pe(ht,c)):zp(c,Xi(ht,c))}else{if(!Qn[le])return W?c:{};ht=hW(c,le,St)}}et||(et=new Ar);var Ve=et.get(c);if(Ve)return Ve;et.set(c,ht),wL(c)?c.forEach(function(en){ht.add(ui(en,g,E,en,c,et))}):vL(c)&&c.forEach(function(en,Xn){ht.set(Xn,ui(en,g,E,Xn,c,et))});var tn=ne?Dt?S2:b2:Dt?Xo:xs,zn=re?e:tn(c);return li(zn||c,function(en,Xn){zn&&(Xn=en,en=c[Xn]),Sa(ht,Xn,ui(en,g,E,Xn,c,et))}),ht}function gf(c){var g=xs(c);return function(E){return Ju(E,c,g)}}function Ju(c,g,E){var D=E.length;if(c==null)return!D;for(c=ir(c);D--;){var W=E[D],et=g[W],ht=c[W];if(ht===e&&!(W in c)||!et(ht))return!1}return!0}function Gh(c,g,E){if(typeof c!="function")throw new ws(o);return fv(function(){c.apply(e,E)},g)}function Yl(c,g,E,D){var W=-1,et=fo,ht=!0,St=c.length,Dt=[],ne=g.length;if(!St)return Dt;E&&(g=dr(g,ys(E))),D?(et=Yc,ht=!1):g.length>=i&&(et=vr,ht=!1,g=new jo(g));t:for(;++W<St;){var re=c[W],le=E==null?re:E(re);if(re=D||re!==0?re:0,ht&&le===le){for(var Se=ne;Se--;)if(g[Se]===le)continue t;Dt.push(re)}else et(g,le,D)||Dt.push(re)}return Dt}var Ti=LR(Oi),Qu=LR(mo,!0);function Dp(c,g){var E=!0;return Ti(c,function(D,W,et){return E=!!g(D,W,et),E}),E}function ql(c,g,E){for(var D=-1,W=c.length;++D<W;){var et=c[D],ht=g(et);if(ht!=null&&(St===e?ht===ht&&!Ca(ht):E(ht,St)))var St=ht,Dt=et}return Dt}function Ea(c,g,E,D){var W=c.length;for(E=Fn(E),E<0&&(E=-E>W?0:W+E),D=D===e||D>W?W:Fn(D),D<0&&(D+=W),D=E>D?0:bL(D);E<D;)c[E++]=g;return c}function yf(c,g){var E=[];return Ti(c,function(D,W,et){g(D,W,et)&&E.push(D)}),E}function Gr(c,g,E,D,W){var et=-1,ht=c.length;for(E||(E=pW),W||(W=[]);++et<ht;){var St=c[et];g>0&&E(St)?g>1?Gr(St,g-1,E,D,W):va(W,St):D||(W[W.length]=St)}return W}var Xl=PR(),ls=PR(!0);function Oi(c,g){return c&&Xl(c,g,xs)}function mo(c,g){return c&&ls(c,g,xs)}function Zl(c,g){return as(g,function(E){return Mf(c[E])})}function ci(c,g){g=he(g,c);for(var E=0,D=g.length;c!=null&&E<D;)c=c[ec(g[E++])];return E&&E==D?c:e}function vf(c,g,E){var D=g(c);return Tn(c)?D:va(D,E(c))}function Zr(c){return c==null?c===e?ft:vt:$o&&$o in ir(c)?lW(c):xW(c)}function _f(c,g){return c>g}function ov(c,g){return c!=null&&tr.call(c,g)}function Lg(c,g){return c!=null&&g in ir(c)}function kp(c,g,E){return c>=Tr(g,E)&&c<mr(g,E)}function Kl(c,g,E){for(var D=E?Yc:fo,W=c[0].length,et=c.length,ht=et,St=Ut(et),Dt=1/0,ne=[];ht--;){var re=c[ht];ht&&g&&(re=dr(re,ys(g))),Dt=Tr(re.length,Dt),St[ht]=!E&&(g||W>=120&&re.length>=120)?new jo(ht&&re):e}re=c[0];var le=-1,Se=St[0];t:for(;++le<W&&ne.length<Dt;){var Ve=re[le],tn=g?g(Ve):Ve;if(Ve=E||Ve!==0?Ve:0,!(Se?vr(Se,tn):D(ne,tn,E))){for(ht=et;--ht;){var zn=St[ht];if(!(zn?vr(zn,tn):D(c[ht],tn,E)))continue t}Se&&Se.push(tn),ne.push(Ve)}}return ne}function $h(c,g,E,D){return Oi(c,function(W,et,ht){g(D,E(W),et,ht)}),D}function go(c,g,E){g=he(g,c),c=XR(c,g);var D=c==null?c:c[ec(el(g))];return D==null?e:Ei(D,c,E)}function Op(c){return Ai(c)&&Zr(c)==Pt}function Fp(c){return Ai(c)&&Zr(c)==Qt}function Ds(c){return Ai(c)&&Zr(c)==fe}function kr(c,g,E,D,W){return c===g?!0:c==null||g==null||!Ai(c)&&!Ai(g)?c!==c&&g!==g:av(c,g,E,D,kr,W)}function av(c,g,E,D,W,et){var ht=Tn(c),St=Tn(g),Dt=ht?Ot:Js(c),ne=St?Ot:Js(g);Dt=Dt==Pt?nt:Dt,ne=ne==Pt?nt:ne;var re=Dt==nt,le=ne==nt,Se=Dt==ne;if(Se&&Qh(c)){if(!Qh(g))return!1;ht=!0,re=!1}if(Se&&!re)return et||(et=new Ar),ht||Ug(c)?HR(c,g,E,D,W,et):oW(c,g,Dt,E,D,W,et);if(!(E&_)){var Ve=re&&tr.call(c,"__wrapped__"),tn=le&&tr.call(g,"__wrapped__");if(Ve||tn){var zn=Ve?c.value():c,en=tn?g.value():g;return et||(et=new Ar),W(zn,en,E,D,et)}}return Se?(et||(et=new Ar),aW(c,g,E,D,W,et)):!1}function Pg(c){return Ai(c)&&Js(c)==O}function wf(c,g,E,D){var W=E.length,et=W,ht=!D;if(c==null)return!et;for(c=ir(c);W--;){var St=E[W];if(ht&&St[2]?St[1]!==c[St[0]]:!(St[0]in c))return!1}for(;++W<et;){St=E[W];var Dt=St[0],ne=c[Dt],re=St[1];if(ht&&St[2]){if(ne===e&&!(Dt in c))return!1}else{var le=new Ar;if(D)var Se=D(ne,re,Dt,c,g,le);if(!(Se===e?kr(re,ne,_|v,D,le):Se))return!1}}return!0}function Ma(c){if(!fi(c)||gW(c))return!1;var g=Mf(c)?rv:ar;return g.test(Vp(c))}function jh(c){return Ai(c)&&Zr(c)==Gt}function Dg(c){return Ai(c)&&Js(c)==Vt}function Ta(c){return Ai(c)&&q1(c.length)&&!!hn[Zr(c)]}function Bp(c){return typeof c=="function"?c:c==null?Zo:typeof c=="object"?Tn(c)?Np(c[0],c[1]):Og(c):DL(c)}function Yh(c){if(!cv(c))return Tg(c);var g=[];for(var E in ir(c))tr.call(c,E)&&E!="constructor"&&g.push(E);return g}function kg(c){if(!fi(c))return wW(c);var g=cv(c),E=[];for(var D in c)D=="constructor"&&(g||!tr.call(c,D))||E.push(D);return E}function qh(c,g){return c<g}function Aa(c,g){var E=-1,D=qo(c)?Ut(c.length):[];return Ti(c,function(W,et,ht){D[++E]=g(W,et,ht)}),D}function Og(c){var g=M2(c);return g.length==1&&g[0][2]?YR(g[0][0],g[0][1]):function(E){return E===c||wf(E,c,g)}}function Np(c,g){return A2(c)&&jR(g)?YR(ec(c),g):function(E){var D=B2(E,c);return D===e&&D===g?N2(E,c):kr(g,D,_|v)}}function tc(c,g,E,D,W){c!==g&&Xl(g,function(et,ht){if(W||(W=new Ar),fi(et))Xh(c,g,ht,E,tc,D,W);else{var St=D?D(I2(c,ht),et,ht+"",c,g,W):e;St===e&&(St=et),pf(c,ht,St)}},Xo)}function Xh(c,g,E,D,W,et,ht){var St=I2(c,E),Dt=I2(g,E),ne=ht.get(Dt);if(ne){pf(c,E,ne);return}var re=et?et(St,Dt,E+"",c,g,ht):e,le=re===e;if(le){var Se=Tn(Dt),Ve=!Se&&Qh(Dt),tn=!Se&&!Ve&&Ug(Dt);re=Dt,Se||Ve||tn?Tn(St)?re=St:Fi(St)?re=$e(St):Ve?(le=!1,re=cn(Dt,!0)):tn?(le=!1,re=ke(Dt,!0)):re=[]:hv(Dt)||Hp(Dt)?(re=St,Hp(St)?re=SL(St):(!fi(St)||Mf(St))&&(re=$R(Dt))):le=!1}le&&(ht.set(Dt,re),W(re,Dt,D,et,ht),ht.delete(Dt)),pf(c,E,re)}function Jl(c,g){var E=c.length;if(!!E)return g+=g<0?E:0,Ef(g,E)?c[g]:e}function xf(c,g,E){g.length?g=dr(g,function(et){return Tn(et)?function(ht){return ci(ht,et.length===1?et[0]:et)}:et}):g=[Zo];var D=-1;g=dr(g,ys(Je()));var W=Aa(c,function(et,ht,St){var Dt=dr(g,function(ne){return ne(et)});return{criteria:Dt,index:++D,value:et}});return Zc(W,function(et,ht){return qe(et,ht,E)})}function Zh(c,g){return Kh(c,g,function(E,D){return N2(c,D)})}function Kh(c,g,E){for(var D=-1,W=g.length,et={};++D<W;){var ht=g[D],St=ci(c,ht);E(St,ht)&&pt(et,he(ht,c),St)}return et}function Jh(c){return function(g){return ci(g,c)}}function Kr(c,g,E,D){var W=D?qc:Uo,et=-1,ht=g.length,St=c;for(c===g&&(g=$e(g)),E&&(St=dr(c,ys(E)));++et<ht;)for(var Dt=0,ne=g[et],re=E?E(ne):ne;(Dt=W(St,re,Dt,D))>-1;)St!==c&&sf.call(St,Dt,1),sf.call(c,Dt,1);return c}function Fg(c,g){for(var E=c?g.length:0,D=E-1;E--;){var W=g[E];if(E==D||W!==et){var et=W;Ef(W)?sf.call(c,W,1):I(c,W)}}return c}function R(c,g){return c+ho(Di()*(g-c+1))}function N(c,g,E,D){for(var W=-1,et=mr(of((g-c)/(E||1)),0),ht=Ut(et);et--;)ht[D?et:++W]=c,c+=E;return ht}function $(c,g){var E="";if(!c||g<1||g>at)return E;do g%2&&(E+=c),g=ho(g/2),g&&(c+=c);while(g);return E}function Q(c,g){return R2(qR(c,g,Zo),c+"")}function wt(c){return jl(Vg(c))}function Mt(c,g){var E=Vg(c);return H1(E,Zi(g,0,E.length))}function pt(c,g,E,D){if(!fi(c))return c;g=he(g,c);for(var W=-1,et=g.length,ht=et-1,St=c;St!=null&&++W<et;){var Dt=ec(g[W]),ne=E;if(Dt==="__proto__"||Dt==="constructor"||Dt==="prototype")return c;if(W!=ht){var re=St[Dt];ne=D?D(re,Dt,St):e,ne===e&&(ne=fi(re)?re:Ef(g[W+1])?[]:{})}Sa(St,Dt,ne),St=St[Dt]}return c}var kt=Yu?function(c,g){return Yu.set(c,g),c}:Zo,Bt=ju?function(c,g){return ju(c,"toString",{configurable:!0,enumerable:!1,value:U2(g),writable:!0})}:Zo;function Jt(c){return H1(Vg(c))}function ee(c,g,E){var D=-1,W=c.length;g<0&&(g=-g>W?0:W+g),E=E>W?W:E,E<0&&(E+=W),W=g>E?0:E-g>>>0,g>>>=0;for(var et=Ut(W);++D<W;)et[D]=c[D+g];return et}function we(c,g){var E;return Ti(c,function(D,W,et){return E=g(D,W,et),!E}),!!E}function ae(c,g,E){var D=0,W=c==null?D:c.length;if(typeof g=="number"&&g===g&&W<=xt){for(;D<W;){var et=D+W>>>1,ht=c[et];ht!==null&&!Ca(ht)&&(E?ht<=g:ht<g)?D=et+1:W=et}return W}return Ie(c,g,Zo,E)}function Ie(c,g,E,D){var W=0,et=c==null?0:c.length;if(et===0)return 0;g=E(g);for(var ht=g!==g,St=g===null,Dt=Ca(g),ne=g===e;W<et;){var re=ho((W+et)/2),le=E(c[re]),Se=le!==e,Ve=le===null,tn=le===le,zn=Ca(le);if(ht)var en=D||tn;else ne?en=tn&&(D||Se):St?en=tn&&Se&&(D||!Ve):Dt?en=tn&&Se&&!Ve&&(D||!zn):Ve||zn?en=!1:en=D?le<=g:le<g;en?W=re+1:et=re}return Tr(et,K)}function Re(c,g){for(var E=-1,D=c.length,W=0,et=[];++E<D;){var ht=c[E],St=g?g(ht):ht;if(!E||!Ql(St,Dt)){var Dt=St;et[W++]=ht===0?0:ht}}return et}function f(c){return typeof c=="number"?c:Ca(c)?ut:+c}function p(c){if(typeof c=="string")return c;if(Tn(c))return dr(c,p)+"";if(Ca(c))return Ep?Ep.call(c):"";var g=c+"";return g=="0"&&1/c==-lt?"-0":g}function b(c,g,E){var D=-1,W=fo,et=c.length,ht=!0,St=[],Dt=St;if(E)ht=!1,W=Yc;else if(et>=i){var ne=g?null:iW(c);if(ne)return ji(ne);ht=!1,W=vr,Dt=new jo}else Dt=g?[]:St;t:for(;++D<et;){var re=c[D],le=g?g(re):re;if(re=E||re!==0?re:0,ht&&le===le){for(var Se=Dt.length;Se--;)if(Dt[Se]===le)continue t;g&&Dt.push(le),St.push(re)}else W(Dt,le,E)||(Dt!==St&&Dt.push(le),St.push(re))}return St}function I(c,g){return g=he(g,c),c=XR(c,g),c==null||delete c[ec(el(g))]}function k(c,g,E,D){return pt(c,g,E(ci(c,g)),D)}function H(c,g,E,D){for(var W=c.length,et=D?W:-1;(D?et--:++et<W)&&g(c[et],et,c););return E?ee(c,D?0:et,D?et+1:W):ee(c,D?et+1:0,D?W:et)}function st(c,g){var E=c;return E instanceof Dn&&(E=E.value()),Eh(g,function(D,W){return W.func.apply(W.thisArg,va([D],W.args))},E)}function mt(c,g,E){var D=c.length;if(D<2)return D?b(c[0]):[];for(var W=-1,et=Ut(D);++W<D;)for(var ht=c[W],St=-1;++St<D;)St!=W&&(et[W]=Yl(et[W]||ht,c[St],g,E));return b(Gr(et,1),g,E)}function yt(c,g,E){for(var D=-1,W=c.length,et=g.length,ht={};++D<W;){var St=D<et?g[D]:e;E(ht,c[D],St)}return ht}function qt(c){return Fi(c)?c:[]}function ce(c){return typeof c=="function"?c:Zo}function he(c,g){return Tn(c)?c:A2(c,g)?[c]:QR(_r(c))}var ge=Q;function Be(c,g,E){var D=c.length;return E=E===e?D:E,!g&&E>=D?c:ee(c,g,E)}var Ne=wp||function(c){return Si.clearTimeout(c)};function cn(c,g){if(g)return c.slice();var E=c.length,D=Ys?Ys(E):new c.constructor(E);return c.copy(D),D}function Ct(c){var g=new c.constructor(c.byteLength);return new Dh(g).set(new Dh(c)),g}function bt(c,g){var E=g?Ct(c.buffer):c.buffer;return new c.constructor(E,c.byteOffset,c.byteLength)}function jt(c){var g=new c.constructor(c.source,qn.exec(c));return g.lastIndex=c.lastIndex,g}function ve(c){return po?ir(po.call(c)):{}}function ke(c,g){var E=g?Ct(c.buffer):c.buffer;return new c.constructor(E,c.byteOffset,c.length)}function Kn(c,g){if(c!==g){var E=c!==e,D=c===null,W=c===c,et=Ca(c),ht=g!==e,St=g===null,Dt=g===g,ne=Ca(g);if(!St&&!ne&&!et&&c>g||et&&ht&&Dt&&!St&&!ne||D&&ht&&Dt||!E&&Dt||!W)return 1;if(!D&&!et&&!ne&&c<g||ne&&E&&W&&!D&&!et||St&&E&&W||!ht&&W||!Dt)return-1}return 0}function qe(c,g,E){for(var D=-1,W=c.criteria,et=g.criteria,ht=W.length,St=E.length;++D<ht;){var Dt=Kn(W[D],et[D]);if(Dt){if(D>=St)return Dt;var ne=E[D];return Dt*(ne=="desc"?-1:1)}}return c.index-g.index}function Mn(c,g,E,D){for(var W=-1,et=c.length,ht=E.length,St=-1,Dt=g.length,ne=mr(et-ht,0),re=Ut(Dt+ne),le=!D;++St<Dt;)re[St]=g[St];for(;++W<ht;)(le||W<et)&&(re[E[W]]=c[W]);for(;ne--;)re[St++]=c[W++];return re}function gr(c,g,E,D){for(var W=-1,et=c.length,ht=-1,St=E.length,Dt=-1,ne=g.length,re=mr(et-St,0),le=Ut(re+ne),Se=!D;++W<re;)le[W]=c[W];for(var Ve=W;++Dt<ne;)le[Ve+Dt]=g[Dt];for(;++ht<St;)(Se||W<et)&&(le[Ve+E[ht]]=c[W++]);return le}function $e(c,g){var E=-1,D=c.length;for(g||(g=Ut(D));++E<D;)g[E]=c[E];return g}function Vr(c,g,E,D){var W=!E;E||(E={});for(var et=-1,ht=g.length;++et<ht;){var St=g[et],Dt=D?D(E[St],c[St],St,E,c):e;Dt===e&&(Dt=c[St]),W?Ks(E,St,Dt):Sa(E,St,Dt)}return E}function zp(c,g){return Vr(c,T2(c),g)}function lv(c,g){return Vr(c,WR(c),g)}function O1(c,g){return function(E,D){var W=Tn(E)?$s:Yo,et=g?g():{};return W(E,c,Je(D,2),et)}}function Bg(c){return Q(function(g,E){var D=-1,W=E.length,et=W>1?E[W-1]:e,ht=W>2?E[2]:e;for(et=c.length>3&&typeof et=="function"?(W--,et):e,ht&&yo(E[0],E[1],ht)&&(et=W<3?e:et,W=1),g=ir(g);++D<W;){var St=E[D];St&&c(g,St,D,et)}return g})}function LR(c,g){return function(E,D){if(E==null)return E;if(!qo(E))return c(E,D);for(var W=E.length,et=g?W:-1,ht=ir(E);(g?et--:++et<W)&&D(ht[et],et,ht)!==!1;);return E}}function PR(c){return function(g,E,D){for(var W=-1,et=ir(g),ht=D(g),St=ht.length;St--;){var Dt=ht[c?St:++W];if(E(et[Dt],Dt,et)===!1)break}return g}}function eW(c,g,E){var D=g&w,W=uv(c);function et(){var ht=this&&this!==Si&&this instanceof et?W:c;return ht.apply(D?E:this,arguments)}return et}function DR(c){return function(g){g=_r(g);var E=zl(g)?vs(g):e,D=E?E[0]:g.charAt(0),W=E?Be(E,1).join(""):g.slice(1);return D[c]()+W}}function Ng(c){return function(g){return Eh(LL(RL(g).replace(yg,"")),c,"")}}function uv(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=Gl(c.prototype),D=c.apply(E,g);return fi(D)?D:E}}function nW(c,g,E){var D=uv(c);function W(){for(var et=arguments.length,ht=Ut(et),St=et,Dt=zg(W);St--;)ht[St]=arguments[St];var ne=et<3&&ht[0]!==Dt&&ht[et-1]!==Dt?[]:Ps(ht,Dt);if(et-=ne.length,et<E)return NR(c,g,F1,W.placeholder,e,ht,ne,e,e,E-et);var re=this&&this!==Si&&this instanceof W?D:c;return Ei(re,this,ht)}return W}function kR(c){return function(g,E,D){var W=ir(g);if(!qo(g)){var et=Je(E,3);g=xs(g),E=function(St){return et(W[St],St,W)}}var ht=c(g,E,D);return ht>-1?W[et?g[ht]:ht]:e}}function OR(c){return Sf(function(g){var E=g.length,D=E,W=Mi.prototype.thru;for(c&&g.reverse();D--;){var et=g[D];if(typeof et!="function")throw new ws(o);if(W&&!ht&&U1(et)=="wrapper")var ht=new Mi([],!0)}for(D=ht?D:E;++D<E;){et=g[D];var St=U1(et),Dt=St=="wrapper"?E2(et):e;Dt&&C2(Dt[0])&&Dt[1]==(F|M|A|C)&&!Dt[4].length&&Dt[9]==1?ht=ht[U1(Dt[0])].apply(ht,Dt[3]):ht=et.length==1&&C2(et)?ht[St]():ht.thru(et)}return function(){var ne=arguments,re=ne[0];if(ht&&ne.length==1&&Tn(re))return ht.plant(re).value();for(var le=0,Se=E?g[le].apply(this,ne):re;++le<E;)Se=g[le].call(this,Se);return Se}})}function F1(c,g,E,D,W,et,ht,St,Dt,ne){var re=g&F,le=g&w,Se=g&x,Ve=g&(M|T),tn=g&B,zn=Se?e:uv(c);function en(){for(var Xn=arguments.length,er=Ut(Xn),Ia=Xn;Ia--;)er[Ia]=arguments[Ia];if(Ve)var vo=zg(en),Ra=Nl(er,vo);if(D&&(er=Mn(er,D,W,Ve)),et&&(er=gr(er,et,ht,Ve)),Xn-=Ra,Ve&&Xn<ne){var Bi=Ps(er,vo);return NR(c,g,F1,en.placeholder,E,er,Bi,St,Dt,ne-Xn)}var tu=le?E:this,Af=Se?tu[c]:c;return Xn=er.length,St?er=bW(er,St):tn&&Xn>1&&er.reverse(),re&&Dt<Xn&&(er.length=Dt),this&&this!==Si&&this instanceof en&&(Af=zn||uv(Af)),Af.apply(tu,er)}return en}function FR(c,g){return function(E,D){return $h(E,c,g(D),{})}}function B1(c,g){return function(E,D){var W;if(E===e&&D===e)return g;if(E!==e&&(W=E),D!==e){if(W===e)return D;typeof E=="string"||typeof D=="string"?(E=p(E),D=p(D)):(E=f(E),D=f(D)),W=c(E,D)}return W}}function w2(c){return Sf(function(g){return g=dr(g,ys(Je())),Q(function(E){var D=this;return c(g,function(W){return Ei(W,D,E)})})})}function N1(c,g){g=g===e?" ":p(g);var E=g.length;if(E<2)return E?$(g,c):g;var D=$(g,of(c/zr(g)));return zl(g)?Be(vs(D),0,c).join(""):D.slice(0,c)}function rW(c,g,E,D){var W=g&w,et=uv(c);function ht(){for(var St=-1,Dt=arguments.length,ne=-1,re=D.length,le=Ut(re+Dt),Se=this&&this!==Si&&this instanceof ht?et:c;++ne<re;)le[ne]=D[ne];for(;Dt--;)le[ne++]=arguments[++St];return Ei(Se,W?E:this,le)}return ht}function BR(c){return function(g,E,D){return D&&typeof D!="number"&&yo(g,E,D)&&(E=D=e),g=Tf(g),E===e?(E=g,g=0):E=Tf(E),D=D===e?g<E?1:-1:Tf(D),N(g,E,D,c)}}function z1(c){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=nl(g),E=nl(E)),c(g,E)}}function NR(c,g,E,D,W,et,ht,St,Dt,ne){var re=g&M,le=re?ht:e,Se=re?e:ht,Ve=re?et:e,tn=re?e:et;g|=re?A:P,g&=~(re?P:A),g&S||(g&=~(w|x));var zn=[c,g,W,Ve,le,tn,Se,St,Dt,ne],en=E.apply(e,zn);return C2(c)&&ZR(en,zn),en.placeholder=D,KR(en,c,g)}function x2(c){var g=Ur[c];return function(E,D){if(E=nl(E),D=D==null?0:Tr(Fn(D),292),D&&Ja(E)){var W=(_r(E)+"e").split("e"),et=g(W[0]+"e"+(+W[1]+D));return W=(_r(et)+"e").split("e"),+(W[0]+"e"+(+W[1]-D))}return g(E)}}var iW=Vl&&1/ji(new Vl([,-0]))[1]==lt?function(c){return new Vl(c)}:W2;function zR(c){return function(g){var E=Js(g);return E==O?Wo(g):E==Vt?Vu(g):Fl(g,c(g))}}function bf(c,g,E,D,W,et,ht,St){var Dt=g&x;if(!Dt&&typeof c!="function")throw new ws(o);var ne=D?D.length:0;if(ne||(g&=~(A|P),D=W=e),ht=ht===e?ht:mr(Fn(ht),0),St=St===e?St:Fn(St),ne-=W?W.length:0,g&P){var re=D,le=W;D=W=e}var Se=Dt?e:E2(c),Ve=[c,g,E,D,W,re,le,et,ht,St];if(Se&&_W(Ve,Se),c=Ve[0],g=Ve[1],E=Ve[2],D=Ve[3],W=Ve[4],St=Ve[9]=Ve[9]===e?Dt?0:c.length:mr(Ve[9]-ne,0),!St&&g&(M|T)&&(g&=~(M|T)),!g||g==w)var tn=eW(c,g,E);else g==M||g==T?tn=nW(c,g,St):(g==A||g==(w|A))&&!W.length?tn=rW(c,g,E,D):tn=F1.apply(e,Ve);var zn=Se?kt:ZR;return KR(zn(tn,Ve),c,g)}function UR(c,g,E,D){return c===e||Ql(c,xa[E])&&!tr.call(D,E)?g:c}function VR(c,g,E,D,W,et){return fi(c)&&fi(g)&&(et.set(g,c),tc(c,g,e,VR,et),et.delete(g)),c}function sW(c){return hv(c)?e:c}function HR(c,g,E,D,W,et){var ht=E&_,St=c.length,Dt=g.length;if(St!=Dt&&!(ht&&Dt>St))return!1;var ne=et.get(c),re=et.get(g);if(ne&&re)return ne==g&&re==c;var le=-1,Se=!0,Ve=E&v?new jo:e;for(et.set(c,g),et.set(g,c);++le<St;){var tn=c[le],zn=g[le];if(D)var en=ht?D(zn,tn,le,g,c,et):D(tn,zn,le,c,g,et);if(en!==e){if(en)continue;Se=!1;break}if(Ve){if(!Pl(g,function(Xn,er){if(!vr(Ve,er)&&(tn===Xn||W(tn,Xn,E,D,et)))return Ve.push(er)})){Se=!1;break}}else if(!(tn===zn||W(tn,zn,E,D,et))){Se=!1;break}}return et.delete(c),et.delete(g),Se}function oW(c,g,E,D,W,et,ht){switch(E){case ue:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case Qt:return!(c.byteLength!=g.byteLength||!et(new Dh(c),new Dh(g)));case se:case fe:case Tt:return Ql(+c,+g);case Le:return c.name==g.name&&c.message==g.message;case Gt:case G:return c==g+"";case O:var St=Wo;case Vt:var Dt=D&_;if(St||(St=ji),c.size!=g.size&&!Dt)return!1;var ne=ht.get(c);if(ne)return ne==g;D|=v,ht.set(c,g);var re=HR(St(c),St(g),D,W,et,ht);return ht.delete(c),re;case U:if(po)return po.call(c)==po.call(g)}return!1}function aW(c,g,E,D,W,et){var ht=E&_,St=b2(c),Dt=St.length,ne=b2(g),re=ne.length;if(Dt!=re&&!ht)return!1;for(var le=Dt;le--;){var Se=St[le];if(!(ht?Se in g:tr.call(g,Se)))return!1}var Ve=et.get(c),tn=et.get(g);if(Ve&&tn)return Ve==g&&tn==c;var zn=!0;et.set(c,g),et.set(g,c);for(var en=ht;++le<Dt;){Se=St[le];var Xn=c[Se],er=g[Se];if(D)var Ia=ht?D(er,Xn,Se,g,c,et):D(Xn,er,Se,c,g,et);if(!(Ia===e?Xn===er||W(Xn,er,E,D,et):Ia)){zn=!1;break}en||(en=Se=="constructor")}if(zn&&!en){var vo=c.constructor,Ra=g.constructor;vo!=Ra&&"constructor"in c&&"constructor"in g&&!(typeof vo=="function"&&vo instanceof vo&&typeof Ra=="function"&&Ra instanceof Ra)&&(zn=!1)}return et.delete(c),et.delete(g),zn}function Sf(c){return R2(qR(c,e,rL),c+"")}function b2(c){return vf(c,xs,T2)}function S2(c){return vf(c,Xo,WR)}var E2=Yu?function(c){return Yu.get(c)}:W2;function U1(c){for(var g=c.name+"",E=Wl[g],D=tr.call(Wl,g)?E.length:0;D--;){var W=E[D],et=W.func;if(et==null||et==c)return W.name}return g}function zg(c){var g=tr.call(X,"placeholder")?X:c;return g.placeholder}function Je(){var c=X.iteratee||V2;return c=c===V2?Bp:c,arguments.length?c(arguments[0],arguments[1]):c}function V1(c,g){var E=c.__data__;return mW(g)?E[typeof g=="string"?"string":"hash"]:E.map}function M2(c){for(var g=xs(c),E=g.length;E--;){var D=g[E],W=c[D];g[E]=[D,W,jR(W)]}return g}function Up(c,g){var E=Ah(c,g);return Ma(E)?E:e}function lW(c){var g=tr.call(c,$o),E=c[$o];try{c[$o]=e;var D=!0}catch{}var W=Rh.call(c);return D&&(g?c[$o]=E:delete c[$o]),W}var T2=Fh?function(c){return c==null?[]:(c=ir(c),as(Fh(c),function(g){return _p.call(c,g)}))}:G2,WR=Fh?function(c){for(var g=[];c;)va(g,T2(c)),c=Pi(c);return g}:G2,Js=Zr;(uf&&Js(new uf(new ArrayBuffer(1)))!=ue||qs&&Js(new qs)!=O||Bh&&Js(Bh.resolve())!=J||Vl&&Js(new Vl)!=Vt||Hl&&Js(new Hl)!=Et)&&(Js=function(c){var g=Zr(c),E=g==nt?c.constructor:e,D=E?Vp(E):"";if(D)switch(D){case Sp:return ue;case Ag:return O;case Cg:return J;case iv:return Vt;case Ig:return Et}return g});function uW(c,g,E){for(var D=-1,W=E.length;++D<W;){var et=E[D],ht=et.size;switch(et.type){case"drop":c+=ht;break;case"dropRight":g-=ht;break;case"take":g=Tr(g,c+ht);break;case"takeRight":c=mr(c,g-ht);break}}return{start:c,end:g}}function cW(c){var g=c.match($t);return g?g[1].split(te):[]}function GR(c,g,E){g=he(g,c);for(var D=-1,W=g.length,et=!1;++D<W;){var ht=ec(g[D]);if(!(et=c!=null&&E(c,ht)))break;c=c[ht]}return et||++D!=W?et:(W=c==null?0:c.length,!!W&&q1(W)&&Ef(ht,W)&&(Tn(c)||Hp(c)))}function fW(c){var g=c.length,E=new c.constructor(g);return g&&typeof c[0]=="string"&&tr.call(c,"index")&&(E.index=c.index,E.input=c.input),E}function $R(c){return typeof c.constructor=="function"&&!cv(c)?Gl(Pi(c)):{}}function hW(c,g,E){var D=c.constructor;switch(g){case Qt:return Ct(c);case se:case fe:return new D(+c);case ue:return bt(c,E);case Wt:case He:case Ue:case xe:case gt:case me:case pe:case De:case _e:return ke(c,E);case O:return new D;case Tt:case G:return new D(c);case Gt:return jt(c);case Vt:return new D;case U:return ve(c)}}function dW(c,g){var E=g.length;if(!E)return c;var D=E-1;return g[D]=(E>1?"& ":"")+g[D],g=g.join(E>2?", ":" "),c.replace(Xt,`{
/* [wrapped with `+g+`] */
`)}function pW(c){return Tn(c)||Hp(c)||!!(kh&&c&&c[kh])}function Ef(c,g){var E=typeof c;return g=g==null?at:g,!!g&&(E=="number"||E!="symbol"&&Hs.test(c))&&c>-1&&c%1==0&&c<g}function yo(c,g,E){if(!fi(E))return!1;var D=typeof g;return(D=="number"?qo(E)&&Ef(g,E.length):D=="string"&&g in E)?Ql(E[g],c):!1}function A2(c,g){if(Tn(c))return!1;var E=typeof c;return E=="number"||E=="symbol"||E=="boolean"||c==null||Ca(c)?!0:ph.test(c)||!ku.test(c)||g!=null&&c in ir(g)}function mW(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function C2(c){var g=U1(c),E=X[g];if(typeof E!="function"||!(g in Dn.prototype))return!1;if(c===E)return!0;var D=E2(E);return!!D&&c===D[0]}function gW(c){return!!Ih&&Ih in c}var yW=nf?Mf:$2;function cv(c){var g=c&&c.constructor,E=typeof g=="function"&&g.prototype||xa;return c===E}function jR(c){return c===c&&!fi(c)}function YR(c,g){return function(E){return E==null?!1:E[c]===g&&(g!==e||c in ir(E))}}function vW(c){var g=j1(c,function(D){return E.size===u&&E.clear(),D}),E=g.cache;return g}function _W(c,g){var E=c[1],D=g[1],W=E|D,et=W<(w|x|F),ht=D==F&&E==M||D==F&&E==C&&c[7].length<=g[8]||D==(F|C)&&g[7].length<=g[8]&&E==M;if(!(et||ht))return c;D&w&&(c[2]=g[2],W|=E&w?0:S);var St=g[3];if(St){var Dt=c[3];c[3]=Dt?Mn(Dt,St,g[4]):St,c[4]=Dt?Ps(c[3],h):g[4]}return St=g[5],St&&(Dt=c[5],c[5]=Dt?gr(Dt,St,g[6]):St,c[6]=Dt?Ps(c[5],h):g[6]),St=g[7],St&&(c[7]=St),D&F&&(c[8]=c[8]==null?g[8]:Tr(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=W,c}function wW(c){var g=[];if(c!=null)for(var E in ir(c))g.push(E);return g}function xW(c){return Rh.call(c)}function qR(c,g,E){return g=mr(g===e?c.length-1:g,0),function(){for(var D=arguments,W=-1,et=mr(D.length-g,0),ht=Ut(et);++W<et;)ht[W]=D[g+W];W=-1;for(var St=Ut(g+1);++W<g;)St[W]=D[W];return St[g]=E(ht),Ei(c,this,St)}}function XR(c,g){return g.length<2?c:ci(c,ee(g,0,-1))}function bW(c,g){for(var E=c.length,D=Tr(g.length,E),W=$e(c);D--;){var et=g[D];c[D]=Ef(et,E)?W[et]:e}return c}function I2(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var ZR=JR(kt),fv=Oh||function(c,g){return Si.setTimeout(c,g)},R2=JR(Bt);function KR(c,g,E){var D=g+"";return R2(c,dW(D,SW(cW(D),E)))}function JR(c){var g=0,E=0;return function(){var D=af(),W=q-(D-E);if(E=D,W>0){if(++g>=z)return arguments[0]}else g=0;return c.apply(e,arguments)}}function H1(c,g){var E=-1,D=c.length,W=D-1;for(g=g===e?D:g;++E<g;){var et=R(E,W),ht=c[et];c[et]=c[E],c[E]=ht}return c.length=g,c}var QR=vW(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(mh,function(E,D,W,et){g.push(W?et.replace(dn,"$1"):D||E)}),g});function ec(c){if(typeof c=="string"||Ca(c))return c;var g=c+"";return g=="0"&&1/c==-lt?"-0":g}function Vp(c){if(c!=null){try{return rf.call(c)}catch{}try{return c+""}catch{}}return""}function SW(c,g){return li(Lt,function(E){var D="_."+E[0];g&E[1]&&!fo(c,D)&&c.push(D)}),c.sort()}function tL(c){if(c instanceof Dn)return c.clone();var g=new Mi(c.__wrapped__,c.__chain__);return g.__actions__=$e(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function EW(c,g,E){(E?yo(c,g,E):g===e)?g=1:g=mr(Fn(g),0);var D=c==null?0:c.length;if(!D||g<1)return[];for(var W=0,et=0,ht=Ut(of(D/g));W<D;)ht[et++]=ee(c,W,W+=g);return ht}function MW(c){for(var g=-1,E=c==null?0:c.length,D=0,W=[];++g<E;){var et=c[g];et&&(W[D++]=et)}return W}function TW(){var c=arguments.length;if(!c)return[];for(var g=Ut(c-1),E=arguments[0],D=c;D--;)g[D-1]=arguments[D];return va(Tn(E)?$e(E):[E],Gr(g,1))}var AW=Q(function(c,g){return Fi(c)?Yl(c,Gr(g,1,Fi,!0)):[]}),CW=Q(function(c,g){var E=el(g);return Fi(E)&&(E=e),Fi(c)?Yl(c,Gr(g,1,Fi,!0),Je(E,2)):[]}),IW=Q(function(c,g){var E=el(g);return Fi(E)&&(E=e),Fi(c)?Yl(c,Gr(g,1,Fi,!0),e,E):[]});function RW(c,g,E){var D=c==null?0:c.length;return D?(g=E||g===e?1:Fn(g),ee(c,g<0?0:g,D)):[]}function LW(c,g,E){var D=c==null?0:c.length;return D?(g=E||g===e?1:Fn(g),g=D-g,ee(c,0,g<0?0:g)):[]}function PW(c,g){return c&&c.length?H(c,Je(g,3),!0,!0):[]}function DW(c,g){return c&&c.length?H(c,Je(g,3),!0):[]}function kW(c,g,E,D){var W=c==null?0:c.length;return W?(E&&typeof E!="number"&&yo(c,g,E)&&(E=0,D=W),Ea(c,g,E,D)):[]}function eL(c,g,E){var D=c==null?0:c.length;if(!D)return-1;var W=E==null?0:Fn(E);return W<0&&(W=mr(D+W,0)),Dl(c,Je(g,3),W)}function nL(c,g,E){var D=c==null?0:c.length;if(!D)return-1;var W=D-1;return E!==e&&(W=Fn(E),W=E<0?mr(D+W,0):Tr(W,D-1)),Dl(c,Je(g,3),W,!0)}function rL(c){var g=c==null?0:c.length;return g?Gr(c,1):[]}function OW(c){var g=c==null?0:c.length;return g?Gr(c,lt):[]}function FW(c,g){var E=c==null?0:c.length;return E?(g=g===e?1:Fn(g),Gr(c,g)):[]}function BW(c){for(var g=-1,E=c==null?0:c.length,D={};++g<E;){var W=c[g];D[W[0]]=W[1]}return D}function iL(c){return c&&c.length?c[0]:e}function NW(c,g,E){var D=c==null?0:c.length;if(!D)return-1;var W=E==null?0:Fn(E);return W<0&&(W=mr(D+W,0)),Uo(c,g,W)}function zW(c){var g=c==null?0:c.length;return g?ee(c,0,-1):[]}var UW=Q(function(c){var g=dr(c,qt);return g.length&&g[0]===c[0]?Kl(g):[]}),VW=Q(function(c){var g=el(c),E=dr(c,qt);return g===el(E)?g=e:E.pop(),E.length&&E[0]===c[0]?Kl(E,Je(g,2)):[]}),HW=Q(function(c){var g=el(c),E=dr(c,qt);return g=typeof g=="function"?g:e,g&&E.pop(),E.length&&E[0]===c[0]?Kl(E,e,g):[]});function WW(c,g){return c==null?"":bp.call(c,g)}function el(c){var g=c==null?0:c.length;return g?c[g-1]:e}function GW(c,g,E){var D=c==null?0:c.length;if(!D)return-1;var W=D;return E!==e&&(W=Fn(E),W=W<0?mr(D+W,0):Tr(W,D-1)),g===g?Yi(c,g,W):Dl(c,Uu,W,!0)}function $W(c,g){return c&&c.length?Jl(c,Fn(g)):e}var jW=Q(sL);function sL(c,g){return c&&c.length&&g&&g.length?Kr(c,g):c}function YW(c,g,E){return c&&c.length&&g&&g.length?Kr(c,g,Je(E,2)):c}function qW(c,g,E){return c&&c.length&&g&&g.length?Kr(c,g,e,E):c}var XW=Sf(function(c,g){var E=c==null?0:c.length,D=mf(c,g);return Fg(c,dr(g,function(W){return Ef(W,E)?+W:W}).sort(Kn)),D});function ZW(c,g){var E=[];if(!(c&&c.length))return E;var D=-1,W=[],et=c.length;for(g=Je(g,3);++D<et;){var ht=c[D];g(ht,D,c)&&(E.push(ht),W.push(D))}return Fg(c,W),E}function L2(c){return c==null?c:lf.call(c)}function KW(c,g,E){var D=c==null?0:c.length;return D?(E&&typeof E!="number"&&yo(c,g,E)?(g=0,E=D):(g=g==null?0:Fn(g),E=E===e?D:Fn(E)),ee(c,g,E)):[]}function JW(c,g){return ae(c,g)}function QW(c,g,E){return Ie(c,g,Je(E,2))}function tG(c,g){var E=c==null?0:c.length;if(E){var D=ae(c,g);if(D<E&&Ql(c[D],g))return D}return-1}function eG(c,g){return ae(c,g,!0)}function nG(c,g,E){return Ie(c,g,Je(E,2),!0)}function rG(c,g){var E=c==null?0:c.length;if(E){var D=ae(c,g,!0)-1;if(Ql(c[D],g))return D}return-1}function iG(c){return c&&c.length?Re(c):[]}function sG(c,g){return c&&c.length?Re(c,Je(g,2)):[]}function oG(c){var g=c==null?0:c.length;return g?ee(c,1,g):[]}function aG(c,g,E){return c&&c.length?(g=E||g===e?1:Fn(g),ee(c,0,g<0?0:g)):[]}function lG(c,g,E){var D=c==null?0:c.length;return D?(g=E||g===e?1:Fn(g),g=D-g,ee(c,g<0?0:g,D)):[]}function uG(c,g){return c&&c.length?H(c,Je(g,3),!1,!0):[]}function cG(c,g){return c&&c.length?H(c,Je(g,3)):[]}var fG=Q(function(c){return b(Gr(c,1,Fi,!0))}),hG=Q(function(c){var g=el(c);return Fi(g)&&(g=e),b(Gr(c,1,Fi,!0),Je(g,2))}),dG=Q(function(c){var g=el(c);return g=typeof g=="function"?g:e,b(Gr(c,1,Fi,!0),e,g)});function pG(c){return c&&c.length?b(c):[]}function mG(c,g){return c&&c.length?b(c,Je(g,2)):[]}function gG(c,g){return g=typeof g=="function"?g:e,c&&c.length?b(c,e,g):[]}function P2(c){if(!(c&&c.length))return[];var g=0;return c=as(c,function(E){if(Fi(E))return g=mr(E.length,g),!0}),js(g,function(E){return dr(c,Xc(E))})}function oL(c,g){if(!(c&&c.length))return[];var E=P2(c);return g==null?E:dr(E,function(D){return Ei(g,e,D)})}var yG=Q(function(c,g){return Fi(c)?Yl(c,g):[]}),vG=Q(function(c){return mt(as(c,Fi))}),_G=Q(function(c){var g=el(c);return Fi(g)&&(g=e),mt(as(c,Fi),Je(g,2))}),wG=Q(function(c){var g=el(c);return g=typeof g=="function"?g:e,mt(as(c,Fi),e,g)}),xG=Q(P2);function bG(c,g){return yt(c||[],g||[],Sa)}function SG(c,g){return yt(c||[],g||[],pt)}var EG=Q(function(c){var g=c.length,E=g>1?c[g-1]:e;return E=typeof E=="function"?(c.pop(),E):e,oL(c,E)});function aL(c){var g=X(c);return g.__chain__=!0,g}function MG(c,g){return g(c),c}function W1(c,g){return g(c)}var TG=Sf(function(c){var g=c.length,E=g?c[0]:0,D=this.__wrapped__,W=function(et){return mf(et,c)};return g>1||this.__actions__.length||!(D instanceof Dn)||!Ef(E)?this.thru(W):(D=D.slice(E,+E+(g?1:0)),D.__actions__.push({func:W1,args:[W],thisArg:e}),new Mi(D,this.__chain__).thru(function(et){return g&&!et.length&&et.push(e),et}))});function AG(){return aL(this)}function CG(){return new Mi(this.value(),this.__chain__)}function IG(){this.__values__===e&&(this.__values__=xL(this.value()));var c=this.__index__>=this.__values__.length,g=c?e:this.__values__[this.__index__++];return{done:c,value:g}}function RG(){return this}function LG(c){for(var g,E=this;E instanceof Xu;){var D=tL(E);D.__index__=0,D.__values__=e,g?W.__wrapped__=D:g=D;var W=D;E=E.__wrapped__}return W.__wrapped__=c,g}function PG(){var c=this.__wrapped__;if(c instanceof Dn){var g=c;return this.__actions__.length&&(g=new Dn(this)),g=g.reverse(),g.__actions__.push({func:W1,args:[L2],thisArg:e}),new Mi(g,this.__chain__)}return this.thru(L2)}function DG(){return st(this.__wrapped__,this.__actions__)}var kG=O1(function(c,g,E){tr.call(c,E)?++c[E]:Ks(c,E,1)});function OG(c,g,E){var D=Tn(c)?fp:Dp;return E&&yo(c,g,E)&&(g=e),D(c,Je(g,3))}function FG(c,g){var E=Tn(c)?as:yf;return E(c,Je(g,3))}var BG=kR(eL),NG=kR(nL);function zG(c,g){return Gr(G1(c,g),1)}function UG(c,g){return Gr(G1(c,g),lt)}function VG(c,g,E){return E=E===e?1:Fn(E),Gr(G1(c,g),E)}function lL(c,g){var E=Tn(c)?li:Ti;return E(c,Je(g,3))}function uL(c,g){var E=Tn(c)?cp:Qu;return E(c,Je(g,3))}var HG=O1(function(c,g,E){tr.call(c,E)?c[E].push(g):Ks(c,E,[g])});function WG(c,g,E,D){c=qo(c)?c:Vg(c),E=E&&!D?Fn(E):0;var W=c.length;return E<0&&(E=mr(W+E,0)),X1(c)?E<=W&&c.indexOf(g,E)>-1:!!W&&Uo(c,g,E)>-1}var GG=Q(function(c,g,E){var D=-1,W=typeof g=="function",et=qo(c)?Ut(c.length):[];return Ti(c,function(ht){et[++D]=W?Ei(g,ht,E):go(ht,g,E)}),et}),$G=O1(function(c,g,E){Ks(c,E,g)});function G1(c,g){var E=Tn(c)?dr:Aa;return E(c,Je(g,3))}function jG(c,g,E,D){return c==null?[]:(Tn(g)||(g=g==null?[]:[g]),E=D?e:E,Tn(E)||(E=E==null?[]:[E]),xf(c,g,E))}var YG=O1(function(c,g,E){c[E?0:1].push(g)},function(){return[[],[]]});function qG(c,g,E){var D=Tn(c)?Eh:gs,W=arguments.length<3;return D(c,Je(g,4),E,W,Ti)}function XG(c,g,E){var D=Tn(c)?Mh:gs,W=arguments.length<3;return D(c,Je(g,4),E,W,Qu)}function ZG(c,g){var E=Tn(c)?as:yf;return E(c,Y1(Je(g,3)))}function KG(c){var g=Tn(c)?jl:wt;return g(c)}function JG(c,g,E){(E?yo(c,g,E):g===e)?g=1:g=Fn(g);var D=Tn(c)?df:Mt;return D(c,g)}function QG(c){var g=Tn(c)?Ku:Jt;return g(c)}function t$(c){if(c==null)return 0;if(qo(c))return X1(c)?zr(c):c.length;var g=Js(c);return g==O||g==Vt?c.size:Yh(c).length}function e$(c,g,E){var D=Tn(c)?Pl:we;return E&&yo(c,g,E)&&(g=e),D(c,Je(g,3))}var n$=Q(function(c,g){if(c==null)return[];var E=g.length;return E>1&&yo(c,g[0],g[1])?g=[]:E>2&&yo(g[0],g[1],g[2])&&(g=[g[0]]),xf(c,Gr(g,1),[])}),$1=xp||function(){return Si.Date.now()};function r$(c,g){if(typeof g!="function")throw new ws(o);return c=Fn(c),function(){if(--c<1)return g.apply(this,arguments)}}function cL(c,g,E){return g=E?e:g,g=c&&g==null?c.length:g,bf(c,F,e,e,e,e,g)}function fL(c,g){var E;if(typeof g!="function")throw new ws(o);return c=Fn(c),function(){return--c>0&&(E=g.apply(this,arguments)),c<=1&&(g=e),E}}var D2=Q(function(c,g,E){var D=w;if(E.length){var W=Ps(E,zg(D2));D|=A}return bf(c,D,g,E,W)}),hL=Q(function(c,g,E){var D=w|x;if(E.length){var W=Ps(E,zg(hL));D|=A}return bf(g,D,c,E,W)});function dL(c,g,E){g=E?e:g;var D=bf(c,M,e,e,e,e,e,g);return D.placeholder=dL.placeholder,D}function pL(c,g,E){g=E?e:g;var D=bf(c,T,e,e,e,e,e,g);return D.placeholder=pL.placeholder,D}function mL(c,g,E){var D,W,et,ht,St,Dt,ne=0,re=!1,le=!1,Se=!0;if(typeof c!="function")throw new ws(o);g=nl(g)||0,fi(E)&&(re=!!E.leading,le="maxWait"in E,et=le?mr(nl(E.maxWait)||0,g):et,Se="trailing"in E?!!E.trailing:Se);function Ve(Bi){var tu=D,Af=W;return D=W=e,ne=Bi,ht=c.apply(Af,tu),ht}function tn(Bi){return ne=Bi,St=fv(Xn,g),re?Ve(Bi):ht}function zn(Bi){var tu=Bi-Dt,Af=Bi-ne,kL=g-tu;return le?Tr(kL,et-Af):kL}function en(Bi){var tu=Bi-Dt,Af=Bi-ne;return Dt===e||tu>=g||tu<0||le&&Af>=et}function Xn(){var Bi=$1();if(en(Bi))return er(Bi);St=fv(Xn,zn(Bi))}function er(Bi){return St=e,Se&&D?Ve(Bi):(D=W=e,ht)}function Ia(){St!==e&&Ne(St),ne=0,D=Dt=W=St=e}function vo(){return St===e?ht:er($1())}function Ra(){var Bi=$1(),tu=en(Bi);if(D=arguments,W=this,Dt=Bi,tu){if(St===e)return tn(Dt);if(le)return Ne(St),St=fv(Xn,g),Ve(Dt)}return St===e&&(St=fv(Xn,g)),ht}return Ra.cancel=Ia,Ra.flush=vo,Ra}var i$=Q(function(c,g){return Gh(c,1,g)}),s$=Q(function(c,g,E){return Gh(c,nl(g)||0,E)});function o$(c){return bf(c,B)}function j1(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new ws(o);var E=function(){var D=arguments,W=g?g.apply(this,D):D[0],et=E.cache;if(et.has(W))return et.get(W);var ht=c.apply(this,D);return E.cache=et.set(W,ht)||et,ht};return E.cache=new(j1.Cache||Zs),E}j1.Cache=Zs;function Y1(c){if(typeof c!="function")throw new ws(o);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function a$(c){return fL(2,c)}var l$=ge(function(c,g){g=g.length==1&&Tn(g[0])?dr(g[0],ys(Je())):dr(Gr(g,1),ys(Je()));var E=g.length;return Q(function(D){for(var W=-1,et=Tr(D.length,E);++W<et;)D[W]=g[W].call(this,D[W]);return Ei(c,this,D)})}),k2=Q(function(c,g){var E=Ps(g,zg(k2));return bf(c,A,e,g,E)}),gL=Q(function(c,g){var E=Ps(g,zg(gL));return bf(c,P,e,g,E)}),u$=Sf(function(c,g){return bf(c,C,e,e,e,g)});function c$(c,g){if(typeof c!="function")throw new ws(o);return g=g===e?g:Fn(g),Q(c,g)}function f$(c,g){if(typeof c!="function")throw new ws(o);return g=g==null?0:mr(Fn(g),0),Q(function(E){var D=E[g],W=Be(E,0,g);return D&&va(W,D),Ei(c,this,W)})}function h$(c,g,E){var D=!0,W=!0;if(typeof c!="function")throw new ws(o);return fi(E)&&(D="leading"in E?!!E.leading:D,W="trailing"in E?!!E.trailing:W),mL(c,g,{leading:D,maxWait:g,trailing:W})}function d$(c){return cL(c,1)}function p$(c,g){return k2(ce(g),c)}function m$(){if(!arguments.length)return[];var c=arguments[0];return Tn(c)?c:[c]}function g$(c){return ui(c,y)}function y$(c,g){return g=typeof g=="function"?g:e,ui(c,y,g)}function v$(c){return ui(c,m|y)}function _$(c,g){return g=typeof g=="function"?g:e,ui(c,m|y,g)}function w$(c,g){return g==null||Ju(c,g,xs(g))}function Ql(c,g){return c===g||c!==c&&g!==g}var x$=z1(_f),b$=z1(function(c,g){return c>=g}),Hp=Op(function(){return arguments}())?Op:function(c){return Ai(c)&&tr.call(c,"callee")&&!_p.call(c,"callee")},Tn=Ut.isArray,S$=Ll?ys(Ll):Fp;function qo(c){return c!=null&&q1(c.length)&&!Mf(c)}function Fi(c){return Ai(c)&&qo(c)}function E$(c){return c===!0||c===!1||Ai(c)&&Zr(c)==se}var Qh=Mg||$2,M$=$c?ys($c):Ds;function T$(c){return Ai(c)&&c.nodeType===1&&!hv(c)}function A$(c){if(c==null)return!0;if(qo(c)&&(Tn(c)||typeof c=="string"||typeof c.splice=="function"||Qh(c)||Ug(c)||Hp(c)))return!c.length;var g=Js(c);if(g==O||g==Vt)return!c.size;if(cv(c))return!Yh(c).length;for(var E in c)if(tr.call(c,E))return!1;return!0}function C$(c,g){return kr(c,g)}function I$(c,g,E){E=typeof E=="function"?E:e;var D=E?E(c,g):e;return D===e?kr(c,g,e,E):!!D}function O2(c){if(!Ai(c))return!1;var g=Zr(c);return g==Le||g==oe||typeof c.message=="string"&&typeof c.name=="string"&&!hv(c)}function R$(c){return typeof c=="number"&&Ja(c)}function Mf(c){if(!fi(c))return!1;var g=Zr(c);return g==Kt||g==Yt||g==Ee||g==dt}function yL(c){return typeof c=="number"&&c==Fn(c)}function q1(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=at}function fi(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function Ai(c){return c!=null&&typeof c=="object"}var vL=jc?ys(jc):Pg;function L$(c,g){return c===g||wf(c,g,M2(g))}function P$(c,g,E){return E=typeof E=="function"?E:e,wf(c,g,M2(g),E)}function D$(c){return _L(c)&&c!=+c}function k$(c){if(yW(c))throw new rn(s);return Ma(c)}function O$(c){return c===null}function F$(c){return c==null}function _L(c){return typeof c=="number"||Ai(c)&&Zr(c)==Tt}function hv(c){if(!Ai(c)||Zr(c)!=nt)return!1;var g=Pi(c);if(g===null)return!0;var E=tr.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&rf.call(E)==yp}var F2=lp?ys(lp):jh;function B$(c){return yL(c)&&c>=-at&&c<=at}var wL=Sh?ys(Sh):Dg;function X1(c){return typeof c=="string"||!Tn(c)&&Ai(c)&&Zr(c)==G}function Ca(c){return typeof c=="symbol"||Ai(c)&&Zr(c)==U}var Ug=up?ys(up):Ta;function N$(c){return c===e}function z$(c){return Ai(c)&&Js(c)==Et}function U$(c){return Ai(c)&&Zr(c)==Ht}var V$=z1(qh),H$=z1(function(c,g){return c<=g});function xL(c){if(!c)return[];if(qo(c))return X1(c)?vs(c):$e(c);if($u&&c[$u])return dp(c[$u]());var g=Js(c),E=g==O?Wo:g==Vt?ji:Vg;return E(c)}function Tf(c){if(!c)return c===0?c:0;if(c=nl(c),c===lt||c===-lt){var g=c<0?-1:1;return g*it}return c===c?c:0}function Fn(c){var g=Tf(c),E=g%1;return g===g?E?g-E:g:0}function bL(c){return c?Zi(Fn(c),0,j):0}function nl(c){if(typeof c=="number")return c;if(Ca(c))return ut;if(fi(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=fi(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=Bl(c);var E=Nn.test(c);return E||lo.test(c)?nv(c.slice(2),E?2:8):Bn.test(c)?ut:+c}function SL(c){return Vr(c,Xo(c))}function W$(c){return c?Zi(Fn(c),-at,at):c===0?c:0}function _r(c){return c==null?"":p(c)}var G$=Bg(function(c,g){if(cv(g)||qo(g)){Vr(g,xs(g),c);return}for(var E in g)tr.call(g,E)&&Sa(c,E,g[E])}),EL=Bg(function(c,g){Vr(g,Xo(g),c)}),Z1=Bg(function(c,g,E,D){Vr(g,Xo(g),c,D)}),$$=Bg(function(c,g,E,D){Vr(g,xs(g),c,D)}),j$=Sf(mf);function Y$(c,g){var E=Gl(c);return g==null?E:Xi(E,g)}var q$=Q(function(c,g){c=ir(c);var E=-1,D=g.length,W=D>2?g[2]:e;for(W&&yo(g[0],g[1],W)&&(D=1);++E<D;)for(var et=g[E],ht=Xo(et),St=-1,Dt=ht.length;++St<Dt;){var ne=ht[St],re=c[ne];(re===e||Ql(re,xa[ne])&&!tr.call(c,ne))&&(c[ne]=et[ne])}return c}),X$=Q(function(c){return c.push(e,VR),Ei(ML,e,c)});function Z$(c,g){return Th(c,Je(g,3),Oi)}function K$(c,g){return Th(c,Je(g,3),mo)}function J$(c,g){return c==null?c:Xl(c,Je(g,3),Xo)}function Q$(c,g){return c==null?c:ls(c,Je(g,3),Xo)}function t9(c,g){return c&&Oi(c,Je(g,3))}function e9(c,g){return c&&mo(c,Je(g,3))}function n9(c){return c==null?[]:Zl(c,xs(c))}function r9(c){return c==null?[]:Zl(c,Xo(c))}function B2(c,g,E){var D=c==null?e:ci(c,g);return D===e?E:D}function i9(c,g){return c!=null&&GR(c,g,ov)}function N2(c,g){return c!=null&&GR(c,g,Lg)}var s9=FR(function(c,g,E){g!=null&&typeof g.toString!="function"&&(g=Rh.call(g)),c[g]=E},U2(Zo)),o9=FR(function(c,g,E){g!=null&&typeof g.toString!="function"&&(g=Rh.call(g)),tr.call(c,g)?c[g].push(E):c[g]=[E]},Je),a9=Q(go);function xs(c){return qo(c)?ba(c):Yh(c)}function Xo(c){return qo(c)?ba(c,!0):kg(c)}function l9(c,g){var E={};return g=Je(g,3),Oi(c,function(D,W,et){Ks(E,g(D,W,et),D)}),E}function u9(c,g){var E={};return g=Je(g,3),Oi(c,function(D,W,et){Ks(E,W,g(D,W,et))}),E}var c9=Bg(function(c,g,E){tc(c,g,E)}),ML=Bg(function(c,g,E,D){tc(c,g,E,D)}),f9=Sf(function(c,g){var E={};if(c==null)return E;var D=!1;g=dr(g,function(et){return et=he(et,c),D||(D=et.length>1),et}),Vr(c,S2(c),E),D&&(E=ui(E,m|d|y,sW));for(var W=g.length;W--;)I(E,g[W]);return E});function h9(c,g){return TL(c,Y1(Je(g)))}var d9=Sf(function(c,g){return c==null?{}:Zh(c,g)});function TL(c,g){if(c==null)return{};var E=dr(S2(c),function(D){return[D]});return g=Je(g),Kh(c,E,function(D,W){return g(D,W[0])})}function p9(c,g,E){g=he(g,c);var D=-1,W=g.length;for(W||(W=1,c=e);++D<W;){var et=c==null?e:c[ec(g[D])];et===e&&(D=W,et=E),c=Mf(et)?et.call(c):et}return c}function m9(c,g,E){return c==null?c:pt(c,g,E)}function g9(c,g,E,D){return D=typeof D=="function"?D:e,c==null?c:pt(c,g,E,D)}var AL=zR(xs),CL=zR(Xo);function y9(c,g,E){var D=Tn(c),W=D||Qh(c)||Ug(c);if(g=Je(g,4),E==null){var et=c&&c.constructor;W?E=D?new et:[]:fi(c)?E=Mf(et)?Gl(Pi(c)):{}:E={}}return(W?li:Oi)(c,function(ht,St,Dt){return g(E,ht,St,Dt)}),E}function v9(c,g){return c==null?!0:I(c,g)}function _9(c,g,E){return c==null?c:k(c,g,ce(E))}function w9(c,g,E,D){return D=typeof D=="function"?D:e,c==null?c:k(c,g,ce(E),D)}function Vg(c){return c==null?[]:Kc(c,xs(c))}function x9(c){return c==null?[]:Kc(c,Xo(c))}function b9(c,g,E){return E===e&&(E=g,g=e),E!==e&&(E=nl(E),E=E===E?E:0),g!==e&&(g=nl(g),g=g===g?g:0),Zi(nl(c),g,E)}function S9(c,g,E){return g=Tf(g),E===e?(E=g,g=0):E=Tf(E),c=nl(c),kp(c,g,E)}function E9(c,g,E){if(E&&typeof E!="boolean"&&yo(c,g,E)&&(g=E=e),E===e&&(typeof g=="boolean"?(E=g,g=e):typeof c=="boolean"&&(E=c,c=e)),c===e&&g===e?(c=0,g=1):(c=Tf(c),g===e?(g=c,c=0):g=Tf(g)),c>g){var D=c;c=g,g=D}if(E||c%1||g%1){var W=Di();return Tr(c+W*(g-c+_g("1e-"+((W+"").length-1))),g)}return R(c,g)}var M9=Ng(function(c,g,E){return g=g.toLowerCase(),c+(E?IL(g):g)});function IL(c){return z2(_r(c).toLowerCase())}function RL(c){return c=_r(c),c&&c.replace(No,Ho).replace(op,"")}function T9(c,g,E){c=_r(c),g=p(g);var D=c.length;E=E===e?D:Zi(Fn(E),0,D);var W=E;return E-=g.length,E>=0&&c.slice(E,W)==g}function A9(c){return c=_r(c),c&&Vs.test(c)?c.replace(ln,Eg):c}function C9(c){return c=_r(c),c&&Nc.test(c)?c.replace(Ou,"\\$&"):c}var I9=Ng(function(c,g,E){return c+(E?"-":"")+g.toLowerCase()}),R9=Ng(function(c,g,E){return c+(E?" ":"")+g.toLowerCase()}),L9=DR("toLowerCase");function P9(c,g,E){c=_r(c),g=Fn(g);var D=g?zr(c):0;if(!g||D>=g)return c;var W=(g-D)/2;return N1(ho(W),E)+c+N1(of(W),E)}function D9(c,g,E){c=_r(c),g=Fn(g);var D=g?zr(c):0;return g&&D<g?c+N1(g-D,E):c}function k9(c,g,E){c=_r(c),g=Fn(g);var D=g?zr(c):0;return g&&D<g?N1(g-D,E)+c:c}function O9(c,g,E){return E||g==null?g=0:g&&(g=+g),Ul(_r(c).replace(ot,""),g||0)}function F9(c,g,E){return(E?yo(c,g,E):g===e)?g=1:g=Fn(g),$(_r(c),g)}function B9(){var c=arguments,g=_r(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var N9=Ng(function(c,g,E){return c+(E?"_":"")+g.toLowerCase()});function z9(c,g,E){return E&&typeof E!="number"&&yo(c,g,E)&&(g=E=e),E=E===e?j:E>>>0,E?(c=_r(c),c&&(typeof g=="string"||g!=null&&!F2(g))&&(g=p(g),!g&&zl(c))?Be(vs(c),0,E):c.split(g,E)):[]}var U9=Ng(function(c,g,E){return c+(E?" ":"")+z2(g)});function V9(c,g,E){return c=_r(c),E=E==null?0:Zi(Fn(E),0,c.length),g=p(g),c.slice(E,E+g.length)==g}function H9(c,g,E){var D=X.templateSettings;E&&yo(c,g,E)&&(g=e),c=_r(c),g=Z1({},g,D,UR);var W=Z1({},g.imports,D.imports,UR),et=xs(W),ht=Kc(W,et),St,Dt,ne=0,re=g.interpolate||ii,le="__p += '",Se=Wu((g.escape||ii).source+"|"+re.source+"|"+(re===Bc?fn:ii).source+"|"+(g.evaluate||ii).source+"|$","g"),Ve="//# sourceURL="+(tr.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cl+"]")+`
`;c.replace(Se,function(en,Xn,er,Ia,vo,Ra){return er||(er=Ia),le+=c.slice(ne,Ra).replace(pn,hp),Xn&&(St=!0,le+=`' +
__e(`+Xn+`) +
'`),vo&&(Dt=!0,le+=`';
`+vo+`;
__p += '`),er&&(le+=`' +
((__t = (`+er+`)) == null ? '' : __t) +
'`),ne=Ra+en.length,en}),le+=`';
`;var tn=tr.call(g,"variable")&&g.variable;if(!tn)le=`with (obj) {
`+le+`
}
`;else if(on.test(tn))throw new rn(a);le=(Dt?le.replace(We,""):le).replace(ye,"$1").replace(Ye,"$1;"),le="function("+(tn||"obj")+`) {
`+(tn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(St?", __e = _.escape":"")+(Dt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+le+`return __p
}`;var zn=PL(function(){return Gn(et,Ve+"return "+le).apply(e,ht)});if(zn.source=le,O2(zn))throw zn;return zn}function W9(c){return _r(c).toLowerCase()}function G9(c){return _r(c).toUpperCase()}function $9(c,g,E){if(c=_r(c),c&&(E||g===e))return Bl(c);if(!c||!(g=p(g)))return c;var D=vs(c),W=vs(g),et=Jc(D,W),ht=Vo(D,W)+1;return Be(D,et,ht).join("")}function j9(c,g,E){if(c=_r(c),c&&(E||g===e))return c.slice(0,Hu(c)+1);if(!c||!(g=p(g)))return c;var D=vs(c),W=Vo(D,vs(g))+1;return Be(D,0,W).join("")}function Y9(c,g,E){if(c=_r(c),c&&(E||g===e))return c.replace(ot,"");if(!c||!(g=p(g)))return c;var D=vs(c),W=Jc(D,vs(g));return Be(D,W).join("")}function q9(c,g){var E=V,D=Y;if(fi(g)){var W="separator"in g?g.separator:W;E="length"in g?Fn(g.length):E,D="omission"in g?p(g.omission):D}c=_r(c);var et=c.length;if(zl(c)){var ht=vs(c);et=ht.length}if(E>=et)return c;var St=E-zr(D);if(St<1)return D;var Dt=ht?Be(ht,0,St).join(""):c.slice(0,St);if(W===e)return Dt+D;if(ht&&(St+=Dt.length-St),F2(W)){if(c.slice(St).search(W)){var ne,re=Dt;for(W.global||(W=Wu(W.source,_r(qn.exec(W))+"g")),W.lastIndex=0;ne=W.exec(re);)var le=ne.index;Dt=Dt.slice(0,le===e?St:le)}}else if(c.indexOf(p(W),St)!=St){var Se=Dt.lastIndexOf(W);Se>-1&&(Dt=Dt.slice(0,Se))}return Dt+D}function X9(c){return c=_r(c),c&&Ri.test(c)?c.replace(Hn,_s):c}var Z9=Ng(function(c,g,E){return c+(E?" ":"")+g.toUpperCase()}),z2=DR("toUpperCase");function LL(c,g,E){return c=_r(c),g=E?e:g,g===e?Ch(c)?wa(c):Sg(c):c.match(g)||[]}var PL=Q(function(c,g){try{return Ei(c,e,g)}catch(E){return O2(E)?E:new rn(E)}}),K9=Sf(function(c,g){return li(g,function(E){E=ec(E),Ks(c,E,D2(c[E],c))}),c});function J9(c){var g=c==null?0:c.length,E=Je();return c=g?dr(c,function(D){if(typeof D[1]!="function")throw new ws(o);return[E(D[0]),D[1]]}):[],Q(function(D){for(var W=-1;++W<g;){var et=c[W];if(Ei(et[0],this,D))return Ei(et[1],this,D)}})}function Q9(c){return gf(ui(c,m))}function U2(c){return function(){return c}}function t7(c,g){return c==null||c!==c?g:c}var e7=OR(),n7=OR(!0);function Zo(c){return c}function V2(c){return Bp(typeof c=="function"?c:ui(c,m))}function r7(c){return Og(ui(c,m))}function i7(c,g){return Np(c,ui(g,m))}var s7=Q(function(c,g){return function(E){return go(E,c,g)}}),o7=Q(function(c,g){return function(E){return go(c,E,g)}});function H2(c,g,E){var D=xs(g),W=Zl(g,D);E==null&&!(fi(g)&&(W.length||!D.length))&&(E=g,g=c,c=this,W=Zl(g,xs(g)));var et=!(fi(E)&&"chain"in E)||!!E.chain,ht=Mf(c);return li(W,function(St){var Dt=g[St];c[St]=Dt,ht&&(c.prototype[St]=function(){var ne=this.__chain__;if(et||ne){var re=c(this.__wrapped__),le=re.__actions__=$e(this.__actions__);return le.push({func:Dt,args:arguments,thisArg:c}),re.__chain__=ne,re}return Dt.apply(c,va([this.value()],arguments))})}),c}function a7(){return Si._===this&&(Si._=Lh),this}function W2(){}function l7(c){return c=Fn(c),Q(function(g){return Jl(g,c)})}var u7=w2(dr),c7=w2(fp),f7=w2(Pl);function DL(c){return A2(c)?Xc(ec(c)):Jh(c)}function h7(c){return function(g){return c==null?e:ci(c,g)}}var d7=BR(),p7=BR(!0);function G2(){return[]}function $2(){return!1}function m7(){return{}}function g7(){return""}function y7(){return!0}function v7(c,g){if(c=Fn(c),c<1||c>at)return[];var E=j,D=Tr(c,j);g=Je(g),c-=j;for(var W=js(D,g);++E<c;)g(E);return W}function _7(c){return Tn(c)?dr(c,ec):Ca(c)?[c]:$e(QR(_r(c)))}function w7(c){var g=++gp;return _r(c)+g}var x7=B1(function(c,g){return c+g},0),b7=x2("ceil"),S7=B1(function(c,g){return c/g},1),E7=x2("floor");function M7(c){return c&&c.length?ql(c,Zo,_f):e}function T7(c,g){return c&&c.length?ql(c,Je(g,2),_f):e}function A7(c){return kl(c,Zo)}function C7(c,g){return kl(c,Je(g,2))}function I7(c){return c&&c.length?ql(c,Zo,qh):e}function R7(c,g){return c&&c.length?ql(c,Je(g,2),qh):e}var L7=B1(function(c,g){return c*g},1),P7=x2("round"),D7=B1(function(c,g){return c-g},0);function k7(c){return c&&c.length?_a(c,Zo):0}function O7(c,g){return c&&c.length?_a(c,Je(g,2)):0}return X.after=r$,X.ary=cL,X.assign=G$,X.assignIn=EL,X.assignInWith=Z1,X.assignWith=$$,X.at=j$,X.before=fL,X.bind=D2,X.bindAll=K9,X.bindKey=hL,X.castArray=m$,X.chain=aL,X.chunk=EW,X.compact=MW,X.concat=TW,X.cond=J9,X.conforms=Q9,X.constant=U2,X.countBy=kG,X.create=Y$,X.curry=dL,X.curryRight=pL,X.debounce=mL,X.defaults=q$,X.defaultsDeep=X$,X.defer=i$,X.delay=s$,X.difference=AW,X.differenceBy=CW,X.differenceWith=IW,X.drop=RW,X.dropRight=LW,X.dropRightWhile=PW,X.dropWhile=DW,X.fill=kW,X.filter=FG,X.flatMap=zG,X.flatMapDeep=UG,X.flatMapDepth=VG,X.flatten=rL,X.flattenDeep=OW,X.flattenDepth=FW,X.flip=o$,X.flow=e7,X.flowRight=n7,X.fromPairs=BW,X.functions=n9,X.functionsIn=r9,X.groupBy=HG,X.initial=zW,X.intersection=UW,X.intersectionBy=VW,X.intersectionWith=HW,X.invert=s9,X.invertBy=o9,X.invokeMap=GG,X.iteratee=V2,X.keyBy=$G,X.keys=xs,X.keysIn=Xo,X.map=G1,X.mapKeys=l9,X.mapValues=u9,X.matches=r7,X.matchesProperty=i7,X.memoize=j1,X.merge=c9,X.mergeWith=ML,X.method=s7,X.methodOf=o7,X.mixin=H2,X.negate=Y1,X.nthArg=l7,X.omit=f9,X.omitBy=h9,X.once=a$,X.orderBy=jG,X.over=u7,X.overArgs=l$,X.overEvery=c7,X.overSome=f7,X.partial=k2,X.partialRight=gL,X.partition=YG,X.pick=d9,X.pickBy=TL,X.property=DL,X.propertyOf=h7,X.pull=jW,X.pullAll=sL,X.pullAllBy=YW,X.pullAllWith=qW,X.pullAt=XW,X.range=d7,X.rangeRight=p7,X.rearg=u$,X.reject=ZG,X.remove=ZW,X.rest=c$,X.reverse=L2,X.sampleSize=JG,X.set=m9,X.setWith=g9,X.shuffle=QG,X.slice=KW,X.sortBy=n$,X.sortedUniq=iG,X.sortedUniqBy=sG,X.split=z9,X.spread=f$,X.tail=oG,X.take=aG,X.takeRight=lG,X.takeRightWhile=uG,X.takeWhile=cG,X.tap=MG,X.throttle=h$,X.thru=W1,X.toArray=xL,X.toPairs=AL,X.toPairsIn=CL,X.toPath=_7,X.toPlainObject=SL,X.transform=y9,X.unary=d$,X.union=fG,X.unionBy=hG,X.unionWith=dG,X.uniq=pG,X.uniqBy=mG,X.uniqWith=gG,X.unset=v9,X.unzip=P2,X.unzipWith=oL,X.update=_9,X.updateWith=w9,X.values=Vg,X.valuesIn=x9,X.without=yG,X.words=LL,X.wrap=p$,X.xor=vG,X.xorBy=_G,X.xorWith=wG,X.zip=xG,X.zipObject=bG,X.zipObjectDeep=SG,X.zipWith=EG,X.entries=AL,X.entriesIn=CL,X.extend=EL,X.extendWith=Z1,H2(X,X),X.add=x7,X.attempt=PL,X.camelCase=M9,X.capitalize=IL,X.ceil=b7,X.clamp=b9,X.clone=g$,X.cloneDeep=v$,X.cloneDeepWith=_$,X.cloneWith=y$,X.conformsTo=w$,X.deburr=RL,X.defaultTo=t7,X.divide=S7,X.endsWith=T9,X.eq=Ql,X.escape=A9,X.escapeRegExp=C9,X.every=OG,X.find=BG,X.findIndex=eL,X.findKey=Z$,X.findLast=NG,X.findLastIndex=nL,X.findLastKey=K$,X.floor=E7,X.forEach=lL,X.forEachRight=uL,X.forIn=J$,X.forInRight=Q$,X.forOwn=t9,X.forOwnRight=e9,X.get=B2,X.gt=x$,X.gte=b$,X.has=i9,X.hasIn=N2,X.head=iL,X.identity=Zo,X.includes=WG,X.indexOf=NW,X.inRange=S9,X.invoke=a9,X.isArguments=Hp,X.isArray=Tn,X.isArrayBuffer=S$,X.isArrayLike=qo,X.isArrayLikeObject=Fi,X.isBoolean=E$,X.isBuffer=Qh,X.isDate=M$,X.isElement=T$,X.isEmpty=A$,X.isEqual=C$,X.isEqualWith=I$,X.isError=O2,X.isFinite=R$,X.isFunction=Mf,X.isInteger=yL,X.isLength=q1,X.isMap=vL,X.isMatch=L$,X.isMatchWith=P$,X.isNaN=D$,X.isNative=k$,X.isNil=F$,X.isNull=O$,X.isNumber=_L,X.isObject=fi,X.isObjectLike=Ai,X.isPlainObject=hv,X.isRegExp=F2,X.isSafeInteger=B$,X.isSet=wL,X.isString=X1,X.isSymbol=Ca,X.isTypedArray=Ug,X.isUndefined=N$,X.isWeakMap=z$,X.isWeakSet=U$,X.join=WW,X.kebabCase=I9,X.last=el,X.lastIndexOf=GW,X.lowerCase=R9,X.lowerFirst=L9,X.lt=V$,X.lte=H$,X.max=M7,X.maxBy=T7,X.mean=A7,X.meanBy=C7,X.min=I7,X.minBy=R7,X.stubArray=G2,X.stubFalse=$2,X.stubObject=m7,X.stubString=g7,X.stubTrue=y7,X.multiply=L7,X.nth=$W,X.noConflict=a7,X.noop=W2,X.now=$1,X.pad=P9,X.padEnd=D9,X.padStart=k9,X.parseInt=O9,X.random=E9,X.reduce=qG,X.reduceRight=XG,X.repeat=F9,X.replace=B9,X.result=p9,X.round=P7,X.runInContext=At,X.sample=KG,X.size=t$,X.snakeCase=N9,X.some=e$,X.sortedIndex=JW,X.sortedIndexBy=QW,X.sortedIndexOf=tG,X.sortedLastIndex=eG,X.sortedLastIndexBy=nG,X.sortedLastIndexOf=rG,X.startCase=U9,X.startsWith=V9,X.subtract=D7,X.sum=k7,X.sumBy=O7,X.template=H9,X.times=v7,X.toFinite=Tf,X.toInteger=Fn,X.toLength=bL,X.toLower=W9,X.toNumber=nl,X.toSafeInteger=W$,X.toString=_r,X.toUpper=G9,X.trim=$9,X.trimEnd=j9,X.trimStart=Y9,X.truncate=q9,X.unescape=X9,X.uniqueId=w7,X.upperCase=Z9,X.upperFirst=z2,X.each=lL,X.eachRight=uL,X.first=iL,H2(X,function(){var c={};return Oi(X,function(g,E){tr.call(X.prototype,E)||(c[E]=g)}),c}(),{chain:!1}),X.VERSION=r,li(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){X[c].placeholder=X}),li(["drop","take"],function(c,g){Dn.prototype[c]=function(E){E=E===e?1:mr(Fn(E),0);var D=this.__filtered__&&!g?new Dn(this):this.clone();return D.__filtered__?D.__takeCount__=Tr(E,D.__takeCount__):D.__views__.push({size:Tr(E,j),type:c+(D.__dir__<0?"Right":"")}),D},Dn.prototype[c+"Right"]=function(E){return this.reverse()[c](E).reverse()}}),li(["filter","map","takeWhile"],function(c,g){var E=g+1,D=E==L||E==ct;Dn.prototype[c]=function(W){var et=this.clone();return et.__iteratees__.push({iteratee:Je(W,3),type:E}),et.__filtered__=et.__filtered__||D,et}}),li(["head","last"],function(c,g){var E="take"+(g?"Right":"");Dn.prototype[c]=function(){return this[E](1).value()[0]}}),li(["initial","tail"],function(c,g){var E="drop"+(g?"":"Right");Dn.prototype[c]=function(){return this.__filtered__?new Dn(this):this[E](1)}}),Dn.prototype.compact=function(){return this.filter(Zo)},Dn.prototype.find=function(c){return this.filter(c).head()},Dn.prototype.findLast=function(c){return this.reverse().find(c)},Dn.prototype.invokeMap=Q(function(c,g){return typeof c=="function"?new Dn(this):this.map(function(E){return go(E,c,g)})}),Dn.prototype.reject=function(c){return this.filter(Y1(Je(c)))},Dn.prototype.slice=function(c,g){c=Fn(c);var E=this;return E.__filtered__&&(c>0||g<0)?new Dn(E):(c<0?E=E.takeRight(-c):c&&(E=E.drop(c)),g!==e&&(g=Fn(g),E=g<0?E.dropRight(-g):E.take(g-c)),E)},Dn.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Dn.prototype.toArray=function(){return this.take(j)},Oi(Dn.prototype,function(c,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),D=/^(?:head|last)$/.test(g),W=X[D?"take"+(g=="last"?"Right":""):g],et=D||/^find/.test(g);!W||(X.prototype[g]=function(){var ht=this.__wrapped__,St=D?[1]:arguments,Dt=ht instanceof Dn,ne=St[0],re=Dt||Tn(ht),le=function(Xn){var er=W.apply(X,va([Xn],St));return D&&Se?er[0]:er};re&&E&&typeof ne=="function"&&ne.length!=1&&(Dt=re=!1);var Se=this.__chain__,Ve=!!this.__actions__.length,tn=et&&!Se,zn=Dt&&!Ve;if(!et&&re){ht=zn?ht:new Dn(this);var en=c.apply(ht,St);return en.__actions__.push({func:W1,args:[le],thisArg:e}),new Mi(en,Se)}return tn&&zn?c.apply(this,St):(en=this.thru(le),tn?D?en.value()[0]:en.value():en)})}),li(["pop","push","shift","sort","splice","unshift"],function(c){var g=tf[c],E=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",D=/^(?:pop|shift)$/.test(c);X.prototype[c]=function(){var W=arguments;if(D&&!this.__chain__){var et=this.value();return g.apply(Tn(et)?et:[],W)}return this[E](function(ht){return g.apply(Tn(ht)?ht:[],W)})}}),Oi(Dn.prototype,function(c,g){var E=X[g];if(E){var D=E.name+"";tr.call(Wl,D)||(Wl[D]=[]),Wl[D].push({name:g,func:E})}}),Wl[F1(e,x).name]=[{name:"wrapper",func:e}],Dn.prototype.clone=Nh,Dn.prototype.reverse=Rg,Dn.prototype.value=Mp,X.prototype.at=TG,X.prototype.chain=AG,X.prototype.commit=CG,X.prototype.next=IG,X.prototype.plant=LG,X.prototype.reverse=PG,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=DG,X.prototype.first=X.prototype.head,$u&&(X.prototype[$u]=RG),X},Li=Go();Rl?((Rl.exports=Li)._=Li,Nu._=Li):Si._=Li}).call(mu)})(EA,EA.exports);var pl=EA.exports,vU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jk=nn.createContext&&nn.createContext(vU),Dd=globalThis&&globalThis.__assign||function(){return Dd=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dd.apply(this,arguments)},Ast=globalThis&&globalThis.__rest||function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e};function _U(n){return n&&n.map(function(t,e){return nn.createElement(t.tag,Dd({key:e},t.attr),_U(t.child))})}function Cst(n){return function(t){return nn.createElement(Ist,Dd({attr:Dd({},n.attr)},t),_U(n.child))}}function Ist(n){var t=function(e){var r=n.attr,i=n.size,s=n.title,o=Ast(n,["attr","size","title"]),a=i||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),nn.createElement("svg",Dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,o,{className:l,style:Dd(Dd({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&nn.createElement("title",null,s),n.children)};return jk!==void 0?nn.createElement(jk.Consumer,null,function(e){return t(e)}):t(vU)}function Rst(n){return Cst({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"}}]})(n)}var KS={exports:{}},JS={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lst=Z.exports,Pst=Symbol.for("react.element"),Dst=Symbol.for("react.fragment"),kst=Object.prototype.hasOwnProperty,Ost=Lst.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fst={key:!0,ref:!0,__self:!0,__source:!0};function wU(n,t,e){var r,i={},s=null,o=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kst.call(t,r)&&!Fst.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Pst,type:n,key:s,ref:o,props:i,_owner:Ost.current}}JS.Fragment=Dst;JS.jsx=wU;JS.jsxs=wU;KS.exports=JS;const Nt=KS.exports.jsx,an=KS.exports.jsxs,Ru=KS.exports.Fragment;function Bst({isLoading:n}){return Nt(Rst,{className:"rotate",style:{opacity:n?1:0,position:"fixed",fontSize:"2rem",top:"20px",right:"calc(50% - 1rem)",transition:"0.3s ease",pointerEvents:"none",verticalAlign:"middle",animation:"rotate 1s linear infinite"}})}var xU={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(n,t){(function(e,r){n.exports=r()})(mu,function(){for(var e=function(R,N,$){return N===void 0&&(N=0),$===void 0&&($=1),R<N?N:R>$?$:R},r=e,i=function(R){R._clipped=!1,R._unclipped=R.slice(0);for(var N=0;N<=3;N++)N<3?((R[N]<0||R[N]>255)&&(R._clipped=!0),R[N]=r(R[N],0,255)):N===3&&(R[N]=r(R[N],0,1));return R},s={},o=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<a.length;o+=1){var l=a[o];s["[object "+l+"]"]=l.toLowerCase()}var u=function(R){return s[Object.prototype.toString.call(R)]||"object"},h=u,m=function(R,N){return N===void 0&&(N=null),R.length>=3?Array.prototype.slice.call(R):h(R[0])=="object"&&N?N.split("").filter(function($){return R[0][$]!==void 0}).map(function($){return R[0][$]}):R[0]},d=u,y=function(R){if(R.length<2)return null;var N=R.length-1;return d(R[N])=="string"?R[N].toLowerCase():null},_=Math.PI,v={clip_rgb:i,limit:e,type:u,unpack:m,last:y,PI:_,TWOPI:_*2,PITHIRD:_/3,DEG2RAD:_/180,RAD2DEG:180/_},w={format:{},autodetect:[]},x=v.last,S=v.clip_rgb,M=v.type,T=w,A=function(){for(var N=[],$=arguments.length;$--;)N[$]=arguments[$];var Q=this;if(M(N[0])==="object"&&N[0].constructor&&N[0].constructor===this.constructor)return N[0];var wt=x(N),Mt=!1;if(!wt){Mt=!0,T.sorted||(T.autodetect=T.autodetect.sort(function(ee,we){return we.p-ee.p}),T.sorted=!0);for(var pt=0,kt=T.autodetect;pt<kt.length;pt+=1){var Bt=kt[pt];if(wt=Bt.test.apply(Bt,N),wt)break}}if(T.format[wt]){var Jt=T.format[wt].apply(null,Mt?N:N.slice(0,-1));Q._rgb=S(Jt)}else throw new Error("unknown format: "+N);Q._rgb.length===3&&Q._rgb.push(1)};A.prototype.toString=function(){return M(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var P=A,F=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(F.Color,[null].concat(R)))};F.Color=P,F.version="2.4.2";var C=F,B=v.unpack,V=Math.max,Y=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=B(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2];Q=Q/255,wt=wt/255,Mt=Mt/255;var pt=1-V(Q,V(wt,Mt)),kt=pt<1?1/(1-pt):0,Bt=(1-Q-pt)*kt,Jt=(1-wt-pt)*kt,ee=(1-Mt-pt)*kt;return[Bt,Jt,ee,pt]},z=Y,q=v.unpack,L=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=q(R,"cmyk");var $=R[0],Q=R[1],wt=R[2],Mt=R[3],pt=R.length>4?R[4]:1;return Mt===1?[0,0,0,pt]:[$>=1?0:255*(1-$)*(1-Mt),Q>=1?0:255*(1-Q)*(1-Mt),wt>=1?0:255*(1-wt)*(1-Mt),pt]},tt=L,ct=C,lt=P,at=w,it=v.unpack,ut=v.type,j=z;lt.prototype.cmyk=function(){return j(this._rgb)},ct.cmyk=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(lt,[null].concat(R,["cmyk"])))},at.format.cmyk=tt,at.autodetect.push({p:2,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=it(R,"cmyk"),ut(R)==="array"&&R.length===4)return"cmyk"}});var K=v.unpack,xt=v.last,Lt=function(R){return Math.round(R*100)/100},Pt=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=K(R,"hsla"),Q=xt(R)||"lsa";return $[0]=Lt($[0]||0),$[1]=Lt($[1]*100)+"%",$[2]=Lt($[2]*100)+"%",Q==="hsla"||$.length>3&&$[3]<1?($[3]=$.length>3?$[3]:1,Q="hsla"):$.length=3,Q+"("+$.join(",")+")"},Ot=Pt,Ee=v.unpack,se=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=Ee(R,"rgba");var $=R[0],Q=R[1],wt=R[2];$/=255,Q/=255,wt/=255;var Mt=Math.min($,Q,wt),pt=Math.max($,Q,wt),kt=(pt+Mt)/2,Bt,Jt;return pt===Mt?(Bt=0,Jt=Number.NaN):Bt=kt<.5?(pt-Mt)/(pt+Mt):(pt-Mt)/(2-pt-Mt),$==pt?Jt=(Q-wt)/(pt-Mt):Q==pt?Jt=2+(wt-$)/(pt-Mt):wt==pt&&(Jt=4+($-Q)/(pt-Mt)),Jt*=60,Jt<0&&(Jt+=360),R.length>3&&R[3]!==void 0?[Jt,Bt,kt,R[3]]:[Jt,Bt,kt]},fe=se,oe=v.unpack,Le=v.last,Kt=Ot,Yt=fe,O=Math.round,Tt=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=oe(R,"rgba"),Q=Le(R)||"rgb";return Q.substr(0,3)=="hsl"?Kt(Yt($),Q):($[0]=O($[0]),$[1]=O($[1]),$[2]=O($[2]),(Q==="rgba"||$.length>3&&$[3]<1)&&($[3]=$.length>3?$[3]:1,Q="rgba"),Q+"("+$.slice(0,Q==="rgb"?3:4).join(",")+")")},vt=Tt,nt=v.unpack,J=Math.round,dt=function(){for(var R,N=[],$=arguments.length;$--;)N[$]=arguments[$];N=nt(N,"hsl");var Q=N[0],wt=N[1],Mt=N[2],pt,kt,Bt;if(wt===0)pt=kt=Bt=Mt*255;else{var Jt=[0,0,0],ee=[0,0,0],we=Mt<.5?Mt*(1+wt):Mt+wt-Mt*wt,ae=2*Mt-we,Ie=Q/360;Jt[0]=Ie+1/3,Jt[1]=Ie,Jt[2]=Ie-1/3;for(var Re=0;Re<3;Re++)Jt[Re]<0&&(Jt[Re]+=1),Jt[Re]>1&&(Jt[Re]-=1),6*Jt[Re]<1?ee[Re]=ae+(we-ae)*6*Jt[Re]:2*Jt[Re]<1?ee[Re]=we:3*Jt[Re]<2?ee[Re]=ae+(we-ae)*(2/3-Jt[Re])*6:ee[Re]=ae;R=[J(ee[0]*255),J(ee[1]*255),J(ee[2]*255)],pt=R[0],kt=R[1],Bt=R[2]}return N.length>3?[pt,kt,Bt,N[3]]:[pt,kt,Bt,1]},Gt=dt,Vt=Gt,G=w,U=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ft=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Et=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ht=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Qt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ue=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Wt=Math.round,He=function(R){R=R.toLowerCase().trim();var N;if(G.format.named)try{return G.format.named(R)}catch{}if(N=R.match(U)){for(var $=N.slice(1,4),Q=0;Q<3;Q++)$[Q]=+$[Q];return $[3]=1,$}if(N=R.match(ft)){for(var wt=N.slice(1,5),Mt=0;Mt<4;Mt++)wt[Mt]=+wt[Mt];return wt}if(N=R.match(Et)){for(var pt=N.slice(1,4),kt=0;kt<3;kt++)pt[kt]=Wt(pt[kt]*2.55);return pt[3]=1,pt}if(N=R.match(Ht)){for(var Bt=N.slice(1,5),Jt=0;Jt<3;Jt++)Bt[Jt]=Wt(Bt[Jt]*2.55);return Bt[3]=+Bt[3],Bt}if(N=R.match(Qt)){var ee=N.slice(1,4);ee[1]*=.01,ee[2]*=.01;var we=Vt(ee);return we[3]=1,we}if(N=R.match(ue)){var ae=N.slice(1,4);ae[1]*=.01,ae[2]*=.01;var Ie=Vt(ae);return Ie[3]=+N[4],Ie}};He.test=function(R){return U.test(R)||ft.test(R)||Et.test(R)||Ht.test(R)||Qt.test(R)||ue.test(R)};var Ue=He,xe=C,gt=P,me=w,pe=v.type,De=vt,_e=Ue;gt.prototype.css=function(R){return De(this._rgb,R)},xe.css=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(gt,[null].concat(R,["css"])))},me.format.css=_e,me.autodetect.push({p:5,test:function(R){for(var N=[],$=arguments.length-1;$-- >0;)N[$]=arguments[$+1];if(!N.length&&pe(R)==="string"&&_e.test(R))return"css"}});var We=P,ye=C,Ye=w,Hn=v.unpack;Ye.format.gl=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=Hn(R,"rgba");return $[0]*=255,$[1]*=255,$[2]*=255,$},ye.gl=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(We,[null].concat(R,["gl"])))},We.prototype.gl=function(){var R=this._rgb;return[R[0]/255,R[1]/255,R[2]/255,R[3]]};var ln=v.unpack,Ri=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=ln(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2],pt=Math.min(Q,wt,Mt),kt=Math.max(Q,wt,Mt),Bt=kt-pt,Jt=Bt*100/255,ee=pt/(255-Bt)*100,we;return Bt===0?we=Number.NaN:(Q===kt&&(we=(wt-Mt)/Bt),wt===kt&&(we=2+(Mt-Q)/Bt),Mt===kt&&(we=4+(Q-wt)/Bt),we*=60,we<0&&(we+=360)),[we,Jt,ee]},Vs=Ri,Fc=v.unpack,Du=Math.floor,Bc=function(){for(var R,N,$,Q,wt,Mt,pt=[],kt=arguments.length;kt--;)pt[kt]=arguments[kt];pt=Fc(pt,"hcg");var Bt=pt[0],Jt=pt[1],ee=pt[2],we,ae,Ie;ee=ee*255;var Re=Jt*255;if(Jt===0)we=ae=Ie=ee;else{Bt===360&&(Bt=0),Bt>360&&(Bt-=360),Bt<0&&(Bt+=360),Bt/=60;var f=Du(Bt),p=Bt-f,b=ee*(1-Jt),I=b+Re*(1-p),k=b+Re*p,H=b+Re;switch(f){case 0:R=[H,k,b],we=R[0],ae=R[1],Ie=R[2];break;case 1:N=[I,H,b],we=N[0],ae=N[1],Ie=N[2];break;case 2:$=[b,H,k],we=$[0],ae=$[1],Ie=$[2];break;case 3:Q=[b,I,H],we=Q[0],ae=Q[1],Ie=Q[2];break;case 4:wt=[k,b,H],we=wt[0],ae=wt[1],Ie=wt[2];break;case 5:Mt=[H,b,I],we=Mt[0],ae=Mt[1],Ie=Mt[2];break}}return[we,ae,Ie,pt.length>3?pt[3]:1]},ku=Bc,ph=v.unpack,mh=v.type,Ou=C,Nc=P,ot=w,zt=Vs;Nc.prototype.hcg=function(){return zt(this._rgb)},Ou.hcg=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Nc,[null].concat(R,["hcg"])))},ot.format.hcg=ku,ot.autodetect.push({p:1,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=ph(R,"hcg"),mh(R)==="array"&&R.length===3)return"hcg"}});var Xt=v.unpack,$t=v.last,te=Math.round,Ze=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=Xt(R,"rgba"),Q=$[0],wt=$[1],Mt=$[2],pt=$[3],kt=$t(R)||"auto";pt===void 0&&(pt=1),kt==="auto"&&(kt=pt<1?"rgba":"rgb"),Q=te(Q),wt=te(wt),Mt=te(Mt);var Bt=Q<<16|wt<<8|Mt,Jt="000000"+Bt.toString(16);Jt=Jt.substr(Jt.length-6);var ee="0"+te(pt*255).toString(16);switch(ee=ee.substr(ee.length-2),kt.toLowerCase()){case"rgba":return"#"+Jt+ee;case"argb":return"#"+ee+Jt;default:return"#"+Jt}},on=Ze,dn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,fn=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,qn=function(R){if(R.match(dn)){(R.length===4||R.length===7)&&(R=R.substr(1)),R.length===3&&(R=R.split(""),R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]);var N=parseInt(R,16),$=N>>16,Q=N>>8&255,wt=N&255;return[$,Q,wt,1]}if(R.match(fn)){(R.length===5||R.length===9)&&(R=R.substr(1)),R.length===4&&(R=R.split(""),R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]);var Mt=parseInt(R,16),pt=Mt>>24&255,kt=Mt>>16&255,Bt=Mt>>8&255,Jt=Math.round((Mt&255)/255*100)/100;return[pt,kt,Bt,Jt]}throw new Error("unknown hex color: "+R)},Bn=qn,Nn=C,ar=P,lo=v.type,Hs=w,No=on;ar.prototype.hex=function(R){return No(this._rgb,R)},Nn.hex=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(ar,[null].concat(R,["hex"])))},Hs.format.hex=Bn,Hs.autodetect.push({p:4,test:function(R){for(var N=[],$=arguments.length-1;$-- >0;)N[$]=arguments[$+1];if(!N.length&&lo(R)==="string"&&[3,4,5,6,7,8,9].indexOf(R.length)>=0)return"hex"}});var ii=v.unpack,pn=v.TWOPI,Wn=Math.min,un=Math.sqrt,ai=Math.acos,Sr=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=ii(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2];Q/=255,wt/=255,Mt/=255;var pt,kt=Wn(Q,wt,Mt),Bt=(Q+wt+Mt)/3,Jt=Bt>0?1-kt/Bt:0;return Jt===0?pt=NaN:(pt=(Q-wt+(Q-Mt))/2,pt/=un((Q-wt)*(Q-wt)+(Q-Mt)*(wt-Mt)),pt=ai(pt),Mt>wt&&(pt=pn-pt),pt/=pn),[pt*360,Jt,Bt]},qr=Sr,Ws=v.unpack,Er=v.limit,Mr=v.TWOPI,zo=v.PITHIRD,bi=Math.cos,lg=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=Ws(R,"hsi");var $=R[0],Q=R[1],wt=R[2],Mt,pt,kt;return isNaN($)&&($=0),isNaN(Q)&&(Q=0),$>360&&($-=360),$<0&&($+=360),$/=360,$<1/3?(kt=(1-Q)/3,Mt=(1+Q*bi(Mr*$)/bi(zo-Mr*$))/3,pt=1-(kt+Mt)):$<2/3?($-=1/3,Mt=(1-Q)/3,pt=(1+Q*bi(Mr*$)/bi(zo-Mr*$))/3,kt=1-(Mt+pt)):($-=2/3,pt=(1-Q)/3,kt=(1+Q*bi(Mr*$)/bi(zo-Mr*$))/3,Mt=1-(pt+kt)),Mt=Er(wt*Mt*3),pt=Er(wt*pt*3),kt=Er(wt*kt*3),[Mt*255,pt*255,kt*255,R.length>3?R[3]:1]},zc=lg,sp=v.unpack,gh=v.type,ya=C,ug=P,Fu=w,lr=qr;ug.prototype.hsi=function(){return lr(this._rgb)},ya.hsi=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(ug,[null].concat(R,["hsi"])))},Fu.format.hsi=zc,Fu.autodetect.push({p:2,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=sp(R,"hsi"),gh(R)==="array"&&R.length===3)return"hsi"}});var Za=v.unpack,tv=v.type,cg=C,Ml=P,Uc=w,yh=fe;Ml.prototype.hsl=function(){return yh(this._rgb)},cg.hsl=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Ml,[null].concat(R,["hsl"])))},Uc.format.hsl=Gt,Uc.autodetect.push({p:2,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=Za(R,"hsl"),tv(R)==="array"&&R.length===3)return"hsl"}});var Tl=v.unpack,Vc=Math.min,Bu=Math.max,Is=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=Tl(R,"rgb");var $=R[0],Q=R[1],wt=R[2],Mt=Vc($,Q,wt),pt=Bu($,Q,wt),kt=pt-Mt,Bt,Jt,ee;return ee=pt/255,pt===0?(Bt=Number.NaN,Jt=0):(Jt=kt/pt,$===pt&&(Bt=(Q-wt)/kt),Q===pt&&(Bt=2+(wt-$)/kt),wt===pt&&(Bt=4+($-Q)/kt),Bt*=60,Bt<0&&(Bt+=360)),[Bt,Jt,ee]},fg=Is,hg=v.unpack,ev=Math.floor,dg=function(){for(var R,N,$,Q,wt,Mt,pt=[],kt=arguments.length;kt--;)pt[kt]=arguments[kt];pt=hg(pt,"hsv");var Bt=pt[0],Jt=pt[1],ee=pt[2],we,ae,Ie;if(ee*=255,Jt===0)we=ae=Ie=ee;else{Bt===360&&(Bt=0),Bt>360&&(Bt-=360),Bt<0&&(Bt+=360),Bt/=60;var Re=ev(Bt),f=Bt-Re,p=ee*(1-Jt),b=ee*(1-Jt*f),I=ee*(1-Jt*(1-f));switch(Re){case 0:R=[ee,I,p],we=R[0],ae=R[1],Ie=R[2];break;case 1:N=[b,ee,p],we=N[0],ae=N[1],Ie=N[2];break;case 2:$=[p,ee,I],we=$[0],ae=$[1],Ie=$[2];break;case 3:Q=[p,b,ee],we=Q[0],ae=Q[1],Ie=Q[2];break;case 4:wt=[I,p,ee],we=wt[0],ae=wt[1],Ie=wt[2];break;case 5:Mt=[ee,p,b],we=Mt[0],ae=Mt[1],Ie=Mt[2];break}}return[we,ae,Ie,pt.length>3?pt[3]:1]},vh=dg,_h=v.unpack,pg=v.type,mg=C,wh=P,gg=w,Hc=fg;wh.prototype.hsv=function(){return Hc(this._rgb)},mg.hsv=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(wh,[null].concat(R,["hsv"])))},gg.format.hsv=vh,gg.autodetect.push({p:2,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=_h(R,"hsv"),pg(R)==="array"&&R.length===3)return"hsv"}});var Wc={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Al=Wc,yg=v.unpack,op=Math.pow,Gc=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=yg(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2],pt=xh(Q,wt,Mt),kt=pt[0],Bt=pt[1],Jt=pt[2],ee=116*Bt-16;return[ee<0?0:ee,500*(kt-Bt),200*(Bt-Jt)]},ap=function(R){return(R/=255)<=.04045?R/12.92:op((R+.055)/1.055,2.4)},uo=function(R){return R>Al.t3?op(R,1/3):R/Al.t2+Al.t0},xh=function(R,N,$){R=ap(R),N=ap(N),$=ap($);var Q=uo((.4124564*R+.3575761*N+.1804375*$)/Al.Xn),wt=uo((.2126729*R+.7151522*N+.072175*$)/Al.Yn),Mt=uo((.0193339*R+.119192*N+.9503041*$)/Al.Zn);return[Q,wt,Mt]},bh=Gc,Cl=Wc,hn=v.unpack,Qn=Math.pow,vg=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=hn(R,"lab");var $=R[0],Q=R[1],wt=R[2],Mt,pt,kt,Bt,Jt,ee;return pt=($+16)/116,Mt=isNaN(Q)?pt:pt+Q/500,kt=isNaN(wt)?pt:pt-wt/200,pt=Cl.Yn*Il(pt),Mt=Cl.Xn*Il(Mt),kt=Cl.Zn*Il(kt),Bt=co(3.2404542*Mt-1.5371385*pt-.4985314*kt),Jt=co(-.969266*Mt+1.8760108*pt+.041556*kt),ee=co(.0556434*Mt-.2040259*pt+1.0572252*kt),[Bt,Jt,ee,R.length>3?R[3]:1]},co=function(R){return 255*(R<=.00304?12.92*R:1.055*Qn(R,1/2.4)-.055)},Il=function(R){return R>Cl.t1?R*R*R:Cl.t2*(R-Cl.t0)},Rs=vg,_g=v.unpack,nv=v.type,wg=C,Ls=P,Si=w,Nu=bh;Ls.prototype.lab=function(){return Nu(this._rgb)},wg.lab=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Ls,[null].concat(R,["lab"])))},Si.format.lab=Rs,Si.autodetect.push({p:2,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=_g(R,"lab"),nv(R)==="array"&&R.length===3)return"lab"}});var Rl=v.unpack,Gs=v.RAD2DEG,zu=Math.sqrt,os=Math.atan2,Ll=Math.round,$c=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=Rl(R,"lab"),Q=$[0],wt=$[1],Mt=$[2],pt=zu(wt*wt+Mt*Mt),kt=(os(Mt,wt)*Gs+360)%360;return Ll(pt*1e4)===0&&(kt=Number.NaN),[Q,pt,kt]},jc=$c,lp=v.unpack,Sh=bh,up=jc,Ei=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=lp(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2],pt=Sh(Q,wt,Mt),kt=pt[0],Bt=pt[1],Jt=pt[2];return up(kt,Bt,Jt)},$s=Ei,li=v.unpack,cp=v.DEG2RAD,fp=Math.sin,as=Math.cos,fo=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=li(R,"lch"),Q=$[0],wt=$[1],Mt=$[2];return isNaN(Mt)&&(Mt=0),Mt=Mt*cp,[Q,as(Mt)*wt,fp(Mt)*wt]},Yc=fo,dr=v.unpack,va=Yc,Eh=Rs,Mh=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=dr(R,"lch");var $=R[0],Q=R[1],wt=R[2],Mt=va($,Q,wt),pt=Mt[0],kt=Mt[1],Bt=Mt[2],Jt=Eh(pt,kt,Bt),ee=Jt[0],we=Jt[1],ae=Jt[2];return[ee,we,ae,R.length>3?R[3]:1]},Pl=Mh,xg=v.unpack,bg=Pl,Sg=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=xg(R,"hcl").reverse();return bg.apply(void 0,$)},Th=Sg,Dl=v.unpack,Uo=v.type,qc=C,Uu=P,kl=w,Xc=$s;Uu.prototype.lch=function(){return Xc(this._rgb)},Uu.prototype.hcl=function(){return Xc(this._rgb).reverse()},qc.lch=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Uu,[null].concat(R,["lch"])))},qc.hcl=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Uu,[null].concat(R,["hcl"])))},kl.format.lch=Pl,kl.format.hcl=Th,["lch","hcl"].forEach(function(R){return kl.autodetect.push({p:2,test:function(){for(var N=[],$=arguments.length;$--;)N[$]=arguments[$];if(N=Dl(N,R),Uo(N)==="array"&&N.length===3)return R}})});var Ol={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},gs=Ol,Zc=P,_a=w,js=v.type,Fl=gs,Bl=Bn,ys=on;Zc.prototype.name=function(){for(var R=ys(this._rgb,"rgb"),N=0,$=Object.keys(Fl);N<$.length;N+=1){var Q=$[N];if(Fl[Q]===R)return Q.toLowerCase()}return R},_a.format.named=function(R){if(R=R.toLowerCase(),Fl[R])return Bl(Fl[R]);throw new Error("unknown color name: "+R)},_a.autodetect.push({p:5,test:function(R){for(var N=[],$=arguments.length-1;$-- >0;)N[$]=arguments[$+1];if(!N.length&&js(R)==="string"&&Fl[R.toLowerCase()])return"named"}});var Kc=v.unpack,vr=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=Kc(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2];return(Q<<16)+(wt<<8)+Mt},Jc=vr,Vo=v.type,Nl=function(R){if(Vo(R)=="number"&&R>=0&&R<=16777215){var N=R>>16,$=R>>8&255,Q=R&255;return[N,$,Q,1]}throw new Error("unknown num color: "+R)},Ho=Nl,Eg=C,hp=P,Ah=w,zl=v.type,Ch=Jc;hp.prototype.num=function(){return Ch(this._rgb)},Eg.num=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(hp,[null].concat(R,["num"])))},Ah.format.num=Ho,Ah.autodetect.push({p:5,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R.length===1&&zl(R[0])==="number"&&R[0]>=0&&R[0]<=16777215)return"num"}});var dp=C,Wo=P,Qc=w,Ps=v.unpack,ji=v.type,Vu=Math.round;Wo.prototype.rgb=function(R){return R===void 0&&(R=!0),R===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Vu)},Wo.prototype.rgba=function(R){return R===void 0&&(R=!0),this._rgb.slice(0,4).map(function(N,$){return $<3?R===!1?N:Vu(N):N})},dp.rgb=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Wo,[null].concat(R,["rgb"])))},Qc.format.rgb=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=Ps(R,"rgba");return $[3]===void 0&&($[3]=1),$},Qc.autodetect.push({p:3,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=Ps(R,"rgba"),ji(R)==="array"&&(R.length===3||R.length===4&&ji(R[3])=="number"&&R[3]>=0&&R[3]<=1))return"rgb"}});var Dr=Math.log,Yi=function(R){var N=R/100,$,Q,wt;return N<66?($=255,Q=N<6?0:-155.25485562709179-.44596950469579133*(Q=N-2)+104.49216199393888*Dr(Q),wt=N<20?0:-254.76935184120902+.8274096064007395*(wt=N-10)+115.67994401066147*Dr(wt)):($=351.97690566805693+.114206453784165*($=N-55)-40.25366309332127*Dr($),Q=325.4494125711974+.07943456536662342*(Q=N-50)-28.0852963507957*Dr(Q),wt=255),[$,Q,wt,1]},zr=Yi,vs=zr,Hu=v.unpack,_s=Math.round,pp=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];for(var $=Hu(R,"rgb"),Q=$[0],wt=$[2],Mt=1e3,pt=4e4,kt=.4,Bt;pt-Mt>kt;){Bt=(pt+Mt)*.5;var Jt=vs(Bt);Jt[2]/Jt[0]>=wt/Q?pt=Bt:Mt=Bt}return _s(Bt)},mp=pp,wa=C,Go=P,Li=w,At=mp;Go.prototype.temp=Go.prototype.kelvin=Go.prototype.temperature=function(){return At(this._rgb)},wa.temp=wa.kelvin=wa.temperature=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(Go,[null].concat(R,["temp"])))},Li.format.temp=Li.format.kelvin=Li.format.temperature=zr;var Zt=v.unpack,Ut=Math.cbrt,Ce=Math.pow,rn=Math.sign,Gn=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=Zt(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2],pt=[ir(Q/255),ir(wt/255),ir(Mt/255)],kt=pt[0],Bt=pt[1],Jt=pt[2],ee=Ut(.4122214708*kt+.5363325363*Bt+.0514459929*Jt),we=Ut(.2119034982*kt+.6806995451*Bt+.1073969566*Jt),ae=Ut(.0883024619*kt+.2817188376*Bt+.6299787005*Jt);return[.2104542553*ee+.793617785*we-.0040720468*ae,1.9779984951*ee-2.428592205*we+.4505937099*ae,.0259040371*ee+.7827717662*we-.808675766*ae]},Ur=Gn;function ir(R){var N=Math.abs(R);return N<.04045?R/12.92:(rn(R)||1)*Ce((N+.055)/1.055,2.4)}var Wu=v.unpack,Gu=Math.pow,ws=Math.sign,tf=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=Wu(R,"lab");var $=R[0],Q=R[1],wt=R[2],Mt=Gu($+.3963377774*Q+.2158037573*wt,3),pt=Gu($-.1055613458*Q-.0638541728*wt,3),kt=Gu($-.0894841775*Q-1.291485548*wt,3);return[255*xa(4.0767416621*Mt-3.3077115913*pt+.2309699292*kt),255*xa(-1.2684380046*Mt+2.6097574011*pt-.3413193965*kt),255*xa(-.0041960863*Mt-.7034186147*pt+1.707614701*kt),R.length>3?R[3]:1]},ef=tf;function xa(R){var N=Math.abs(R);return N>.0031308?(ws(R)||1)*(1.055*Gu(N,1/2.4)-.055):R*12.92}var nf=v.unpack,rf=v.type,tr=C,gp=P,Ih=w,Rh=Ur;gp.prototype.oklab=function(){return Rh(this._rgb)},tr.oklab=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply(gp,[null].concat(R,["oklab"])))},Ih.format.oklab=ef,Ih.autodetect.push({p:3,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=nf(R,"oklab"),rf(R)==="array"&&R.length===3)return"oklab"}});var yp=v.unpack,Lh=Ur,rv=jc,Ph=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var $=yp(R,"rgb"),Q=$[0],wt=$[1],Mt=$[2],pt=Lh(Q,wt,Mt),kt=pt[0],Bt=pt[1],Jt=pt[2];return rv(kt,Bt,Jt)},Ka=Ph,Dh=v.unpack,Ys=Yc,Pi=ef,vp=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];R=Dh(R,"lch");var $=R[0],Q=R[1],wt=R[2],Mt=Ys($,Q,wt),pt=Mt[0],kt=Mt[1],Bt=Mt[2],Jt=Pi(pt,kt,Bt),ee=Jt[0],we=Jt[1],ae=Jt[2];return[ee,we,ae,R.length>3?R[3]:1]},_p=vp,sf=v.unpack,kh=v.type,$u=C,$o=P,ju=w,wp=Ka;$o.prototype.oklch=function(){return wp(this._rgb)},$u.oklch=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];return new(Function.prototype.bind.apply($o,[null].concat(R,["oklch"])))},ju.format.oklch=_p,ju.autodetect.push({p:3,test:function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];if(R=sf(R,"oklch"),kh(R)==="array"&&R.length===3)return"oklch"}});var xp=P,Oh=v.type;xp.prototype.alpha=function(R,N){return N===void 0&&(N=!1),R!==void 0&&Oh(R)==="number"?N?(this._rgb[3]=R,this):new xp([this._rgb[0],this._rgb[1],this._rgb[2],R],"rgb"):this._rgb[3]};var of=P;of.prototype.clipped=function(){return this._rgb._clipped||!1};var ho=P,Fh=Wc;ho.prototype.darken=function(R){R===void 0&&(R=1);var N=this,$=N.lab();return $[0]-=Fh.Kn*R,new ho($,"lab").alpha(N.alpha(),!0)},ho.prototype.brighten=function(R){return R===void 0&&(R=1),this.darken(-R)},ho.prototype.darker=ho.prototype.darken,ho.prototype.brighter=ho.prototype.brighten;var Mg=P;Mg.prototype.get=function(R){var N=R.split("."),$=N[0],Q=N[1],wt=this[$]();if(Q){var Mt=$.indexOf(Q)-($.substr(0,2)==="ok"?2:0);if(Mt>-1)return wt[Mt];throw new Error("unknown channel "+Q+" in mode "+$)}else return wt};var Ja=P,bp=v.type,Tg=Math.pow,mr=1e-7,Tr=20;Ja.prototype.luminance=function(R){if(R!==void 0&&bp(R)==="number"){if(R===0)return new Ja([0,0,0,this._rgb[3]],"rgb");if(R===1)return new Ja([255,255,255,this._rgb[3]],"rgb");var N=this.luminance(),$="rgb",Q=Tr,wt=function(pt,kt){var Bt=pt.interpolate(kt,.5,$),Jt=Bt.luminance();return Math.abs(R-Jt)<mr||!Q--?Bt:Jt>R?wt(pt,Bt):wt(Bt,kt)},Mt=(N>R?wt(new Ja([0,0,0]),this):wt(this,new Ja([255,255,255]))).rgb();return new Ja(Mt.concat([this._rgb[3]]))}return af.apply(void 0,this._rgb.slice(0,3))};var af=function(R,N,$){return R=Ul(R),N=Ul(N),$=Ul($),.2126*R+.7152*N+.0722*$},Ul=function(R){return R/=255,R<=.03928?R/12.92:Tg((R+.055)/1.055,2.4)},Di={},lf=P,uf=v.type,qs=Di,Bh=function(R,N,$){$===void 0&&($=.5);for(var Q=[],wt=arguments.length-3;wt-- >0;)Q[wt]=arguments[wt+3];var Mt=Q[0]||"lrgb";if(!qs[Mt]&&!Q.length&&(Mt=Object.keys(qs)[0]),!qs[Mt])throw new Error("interpolation mode "+Mt+" is not defined");return uf(R)!=="object"&&(R=new lf(R)),uf(N)!=="object"&&(N=new lf(N)),qs[Mt](R,N,$).alpha(R.alpha()+$*(N.alpha()-R.alpha()))},Vl=P,Hl=Bh;Vl.prototype.mix=Vl.prototype.interpolate=function(R,N){N===void 0&&(N=.5);for(var $=[],Q=arguments.length-2;Q-- >0;)$[Q]=arguments[Q+2];return Hl.apply(void 0,[this,R,N].concat($))};var Qa=P;Qa.prototype.premultiply=function(R){R===void 0&&(R=!1);var N=this._rgb,$=N[3];return R?(this._rgb=[N[0]*$,N[1]*$,N[2]*$,$],this):new Qa([N[0]*$,N[1]*$,N[2]*$,$],"rgb")};var Yu=P,Wl=Wc;Yu.prototype.saturate=function(R){R===void 0&&(R=1);var N=this,$=N.lch();return $[1]+=Wl.Kn*R,$[1]<0&&($[1]=0),new Yu($,"lch").alpha(N.alpha(),!0)},Yu.prototype.desaturate=function(R){return R===void 0&&(R=1),this.saturate(-R)};var Sp=P,Ag=v.type;Sp.prototype.set=function(R,N,$){$===void 0&&($=!1);var Q=R.split("."),wt=Q[0],Mt=Q[1],pt=this[wt]();if(Mt){var kt=wt.indexOf(Mt)-(wt.substr(0,2)==="ok"?2:0);if(kt>-1){if(Ag(N)=="string")switch(N.charAt(0)){case"+":pt[kt]+=+N;break;case"-":pt[kt]+=+N;break;case"*":pt[kt]*=+N.substr(1);break;case"/":pt[kt]/=+N.substr(1);break;default:pt[kt]=+N}else if(Ag(N)==="number")pt[kt]=N;else throw new Error("unsupported value for Color.set");var Bt=new Sp(pt,wt);return $?(this._rgb=Bt._rgb,this):Bt}throw new Error("unknown channel "+Mt+" in mode "+wt)}else return pt};var Cg=P,iv=function(R,N,$){var Q=R._rgb,wt=N._rgb;return new Cg(Q[0]+$*(wt[0]-Q[0]),Q[1]+$*(wt[1]-Q[1]),Q[2]+$*(wt[2]-Q[2]),"rgb")};Di.rgb=iv;var Ig=P,qu=Math.sqrt,po=Math.pow,Ep=function(R,N,$){var Q=R._rgb,wt=Q[0],Mt=Q[1],pt=Q[2],kt=N._rgb,Bt=kt[0],Jt=kt[1],ee=kt[2];return new Ig(qu(po(wt,2)*(1-$)+po(Bt,2)*$),qu(po(Mt,2)*(1-$)+po(Jt,2)*$),qu(po(pt,2)*(1-$)+po(ee,2)*$),"rgb")};Di.lrgb=Ep;var X=P,Gl=function(R,N,$){var Q=R.lab(),wt=N.lab();return new X(Q[0]+$*(wt[0]-Q[0]),Q[1]+$*(wt[1]-Q[1]),Q[2]+$*(wt[2]-Q[2]),"lab")};Di.lab=Gl;var Xu=P,Mi=function(R,N,$,Q){var wt,Mt,pt,kt;Q==="hsl"?(pt=R.hsl(),kt=N.hsl()):Q==="hsv"?(pt=R.hsv(),kt=N.hsv()):Q==="hcg"?(pt=R.hcg(),kt=N.hcg()):Q==="hsi"?(pt=R.hsi(),kt=N.hsi()):Q==="lch"||Q==="hcl"?(Q="hcl",pt=R.hcl(),kt=N.hcl()):Q==="oklch"&&(pt=R.oklch().reverse(),kt=N.oklch().reverse());var Bt,Jt,ee,we,ae,Ie;(Q.substr(0,1)==="h"||Q==="oklch")&&(wt=pt,Bt=wt[0],ee=wt[1],ae=wt[2],Mt=kt,Jt=Mt[0],we=Mt[1],Ie=Mt[2]);var Re,f,p,b;return!isNaN(Bt)&&!isNaN(Jt)?(Jt>Bt&&Jt-Bt>180?b=Jt-(Bt+360):Jt<Bt&&Bt-Jt>180?b=Jt+360-Bt:b=Jt-Bt,f=Bt+$*b):isNaN(Bt)?isNaN(Jt)?f=Number.NaN:(f=Jt,(ae==1||ae==0)&&Q!="hsv"&&(Re=we)):(f=Bt,(Ie==1||Ie==0)&&Q!="hsv"&&(Re=ee)),Re===void 0&&(Re=ee+$*(we-ee)),p=ae+$*(Ie-ae),Q==="oklch"?new Xu([p,Re,f],Q):new Xu([f,Re,p],Q)},Dn=Mi,Nh=function(R,N,$){return Dn(R,N,$,"lch")};Di.lch=Nh,Di.hcl=Nh;var Rg=P,Mp=function(R,N,$){var Q=R.num(),wt=N.num();return new Rg(Q+$*(wt-Q),"num")};Di.num=Mp;var tl=Mi,zh=function(R,N,$){return tl(R,N,$,"hcg")};Di.hcg=zh;var sv=Mi,Uh=function(R,N,$){return sv(R,N,$,"hsi")};Di.hsi=Uh;var Vh=Mi,Hh=function(R,N,$){return Vh(R,N,$,"hsl")};Di.hsl=Hh;var Xs=Mi,Wh=function(R,N,$){return Xs(R,N,$,"hsv")};Di.hsv=Wh;var cf=P,Tp=function(R,N,$){var Q=R.oklab(),wt=N.oklab();return new cf(Q[0]+$*(wt[0]-Q[0]),Q[1]+$*(wt[1]-Q[1]),Q[2]+$*(wt[2]-Q[2]),"oklab")};Di.oklab=Tp;var Ap=Mi,Cp=function(R,N,$){return Ap(R,N,$,"oklch")};Di.oklch=Cp;var Zs=P,Ip=v.clip_rgb,Zu=Math.pow,Rp=Math.sqrt,Lp=Math.PI,ff=Math.cos,jo=Math.sin,Pp=Math.atan2,Ge=function(R,N,$){N===void 0&&(N="lrgb"),$===void 0&&($=null);var Q=R.length;$||($=Array.from(new Array(Q)).map(function(){return 1}));var wt=Q/$.reduce(function(f,p){return f+p});if($.forEach(function(f,p){$[p]*=wt}),R=R.map(function(f){return new Zs(f)}),N==="lrgb")return Ar(R,$);for(var Mt=R.shift(),pt=Mt.get(N),kt=[],Bt=0,Jt=0,ee=0;ee<pt.length;ee++)if(pt[ee]=(pt[ee]||0)*$[0],kt.push(isNaN(pt[ee])?0:$[0]),N.charAt(ee)==="h"&&!isNaN(pt[ee])){var we=pt[ee]/180*Lp;Bt+=ff(we)*$[0],Jt+=jo(we)*$[0]}var ae=Mt.alpha()*$[0];R.forEach(function(f,p){var b=f.get(N);ae+=f.alpha()*$[p+1];for(var I=0;I<pt.length;I++)if(!isNaN(b[I]))if(kt[I]+=$[p+1],N.charAt(I)==="h"){var k=b[I]/180*Lp;Bt+=ff(k)*$[p+1],Jt+=jo(k)*$[p+1]}else pt[I]+=b[I]*$[p+1]});for(var Ie=0;Ie<pt.length;Ie++)if(N.charAt(Ie)==="h"){for(var Re=Pp(Jt/kt[Ie],Bt/kt[Ie])/Lp*180;Re<0;)Re+=360;for(;Re>=360;)Re-=360;pt[Ie]=Re}else pt[Ie]=pt[Ie]/kt[Ie];return ae/=Q,new Zs(pt,N).alpha(ae>.99999?1:ae,!0)},Ar=function(R,N){for(var $=R.length,Q=[0,0,0,0],wt=0;wt<R.length;wt++){var Mt=R[wt],pt=N[wt]/$,kt=Mt._rgb;Q[0]+=Zu(kt[0],2)*pt,Q[1]+=Zu(kt[1],2)*pt,Q[2]+=Zu(kt[2],2)*pt,Q[3]+=kt[3]*pt}return Q[0]=Rp(Q[0]),Q[1]=Rp(Q[1]),Q[2]=Rp(Q[2]),Q[3]>.9999999&&(Q[3]=1),new Zs(Ip(Q))},ur=C,Xr=v.type,$l=Math.pow,hf=function(R){var N="rgb",$=ur("#ccc"),Q=0,wt=[0,1],Mt=[],pt=[0,0],kt=!1,Bt=[],Jt=!1,ee=0,we=1,ae=!1,Ie={},Re=!0,f=1,p=function(yt){if(yt=yt||["#fff","#000"],yt&&Xr(yt)==="string"&&ur.brewer&&ur.brewer[yt.toLowerCase()]&&(yt=ur.brewer[yt.toLowerCase()]),Xr(yt)==="array"){yt.length===1&&(yt=[yt[0],yt[0]]),yt=yt.slice(0);for(var qt=0;qt<yt.length;qt++)yt[qt]=ur(yt[qt]);Mt.length=0;for(var ce=0;ce<yt.length;ce++)Mt.push(ce/(yt.length-1))}return st(),Bt=yt},b=function(yt){if(kt!=null){for(var qt=kt.length-1,ce=0;ce<qt&&yt>=kt[ce];)ce++;return ce-1}return 0},I=function(yt){return yt},k=function(yt){return yt},H=function(yt,qt){var ce,he;if(qt==null&&(qt=!1),isNaN(yt)||yt===null)return $;if(qt)he=yt;else if(kt&&kt.length>2){var ge=b(yt);he=ge/(kt.length-2)}else we!==ee?he=(yt-ee)/(we-ee):he=1;he=k(he),qt||(he=I(he)),f!==1&&(he=$l(he,f)),he=pt[0]+he*(1-pt[0]-pt[1]),he=Math.min(1,Math.max(0,he));var Be=Math.floor(he*1e4);if(Re&&Ie[Be])ce=Ie[Be];else{if(Xr(Bt)==="array")for(var Ne=0;Ne<Mt.length;Ne++){var cn=Mt[Ne];if(he<=cn){ce=Bt[Ne];break}if(he>=cn&&Ne===Mt.length-1){ce=Bt[Ne];break}if(he>cn&&he<Mt[Ne+1]){he=(he-cn)/(Mt[Ne+1]-cn),ce=ur.interpolate(Bt[Ne],Bt[Ne+1],he,N);break}}else Xr(Bt)==="function"&&(ce=Bt(he));Re&&(Ie[Be]=ce)}return ce},st=function(){return Ie={}};p(R);var mt=function(yt){var qt=ur(H(yt));return Jt&&qt[Jt]?qt[Jt]():qt};return mt.classes=function(yt){if(yt!=null){if(Xr(yt)==="array")kt=yt,wt=[yt[0],yt[yt.length-1]];else{var qt=ur.analyze(wt);yt===0?kt=[qt.min,qt.max]:kt=ur.limits(qt,"e",yt)}return mt}return kt},mt.domain=function(yt){if(!arguments.length)return wt;ee=yt[0],we=yt[yt.length-1],Mt=[];var qt=Bt.length;if(yt.length===qt&&ee!==we)for(var ce=0,he=Array.from(yt);ce<he.length;ce+=1){var ge=he[ce];Mt.push((ge-ee)/(we-ee))}else{for(var Be=0;Be<qt;Be++)Mt.push(Be/(qt-1));if(yt.length>2){var Ne=yt.map(function(Ct,bt){return bt/(yt.length-1)}),cn=yt.map(function(Ct){return(Ct-ee)/(we-ee)});cn.every(function(Ct,bt){return Ne[bt]===Ct})||(k=function(Ct){if(Ct<=0||Ct>=1)return Ct;for(var bt=0;Ct>=cn[bt+1];)bt++;var jt=(Ct-cn[bt])/(cn[bt+1]-cn[bt]),ve=Ne[bt]+jt*(Ne[bt+1]-Ne[bt]);return ve})}}return wt=[ee,we],mt},mt.mode=function(yt){return arguments.length?(N=yt,st(),mt):N},mt.range=function(yt,qt){return p(yt),mt},mt.out=function(yt){return Jt=yt,mt},mt.spread=function(yt){return arguments.length?(Q=yt,mt):Q},mt.correctLightness=function(yt){return yt==null&&(yt=!0),ae=yt,st(),ae?I=function(qt){for(var ce=H(0,!0).lab()[0],he=H(1,!0).lab()[0],ge=ce>he,Be=H(qt,!0).lab()[0],Ne=ce+(he-ce)*qt,cn=Be-Ne,Ct=0,bt=1,jt=20;Math.abs(cn)>.01&&jt-- >0;)(function(){return ge&&(cn*=-1),cn<0?(Ct=qt,qt+=(bt-qt)*.5):(bt=qt,qt+=(Ct-qt)*.5),Be=H(qt,!0).lab()[0],cn=Be-Ne})();return qt}:I=function(qt){return qt},mt},mt.padding=function(yt){return yt!=null?(Xr(yt)==="number"&&(yt=[yt,yt]),pt=yt,mt):pt},mt.colors=function(yt,qt){arguments.length<2&&(qt="hex");var ce=[];if(arguments.length===0)ce=Bt.slice(0);else if(yt===1)ce=[mt(.5)];else if(yt>1){var he=wt[0],ge=wt[1]-he;ce=ki(0,yt,!1).map(function(bt){return mt(he+bt/(yt-1)*ge)})}else{R=[];var Be=[];if(kt&&kt.length>2)for(var Ne=1,cn=kt.length,Ct=1<=cn;Ct?Ne<cn:Ne>cn;Ct?Ne++:Ne--)Be.push((kt[Ne-1]+kt[Ne])*.5);else Be=wt;ce=Be.map(function(bt){return mt(bt)})}return ur[qt]&&(ce=ce.map(function(bt){return bt[qt]()})),ce},mt.cache=function(yt){return yt!=null?(Re=yt,mt):Re},mt.gamma=function(yt){return yt!=null?(f=yt,mt):f},mt.nodata=function(yt){return yt!=null?($=ur(yt),mt):$},mt};function ki(R,N,$){for(var Q=[],wt=R<N,Mt=$?wt?N+1:N-1:N,pt=R;wt?pt<Mt:pt>Mt;wt?pt++:pt--)Q.push(pt);return Q}var ba=P,jl=hf,df=function(R){for(var N=[1,1],$=1;$<R;$++){for(var Q=[1],wt=1;wt<=N.length;wt++)Q[wt]=(N[wt]||0)+N[wt-1];N=Q}return N},Ku=function(R){var N,$,Q,wt,Mt,pt,kt;if(R=R.map(function(ae){return new ba(ae)}),R.length===2)N=R.map(function(ae){return ae.lab()}),Mt=N[0],pt=N[1],wt=function(ae){var Ie=[0,1,2].map(function(Re){return Mt[Re]+ae*(pt[Re]-Mt[Re])});return new ba(Ie,"lab")};else if(R.length===3)$=R.map(function(ae){return ae.lab()}),Mt=$[0],pt=$[1],kt=$[2],wt=function(ae){var Ie=[0,1,2].map(function(Re){return(1-ae)*(1-ae)*Mt[Re]+2*(1-ae)*ae*pt[Re]+ae*ae*kt[Re]});return new ba(Ie,"lab")};else if(R.length===4){var Bt;Q=R.map(function(ae){return ae.lab()}),Mt=Q[0],pt=Q[1],kt=Q[2],Bt=Q[3],wt=function(ae){var Ie=[0,1,2].map(function(Re){return(1-ae)*(1-ae)*(1-ae)*Mt[Re]+3*(1-ae)*(1-ae)*ae*pt[Re]+3*(1-ae)*ae*ae*kt[Re]+ae*ae*ae*Bt[Re]});return new ba(Ie,"lab")}}else if(R.length>=5){var Jt,ee,we;Jt=R.map(function(ae){return ae.lab()}),we=R.length-1,ee=df(we),wt=function(ae){var Ie=1-ae,Re=[0,1,2].map(function(f){return Jt.reduce(function(p,b,I){return p+ee[I]*Math.pow(Ie,we-I)*Math.pow(ae,I)*b[f]},0)});return new ba(Re,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return wt},pf=function(R){var N=Ku(R);return N.scale=function(){return jl(N)},N},Sa=C,qi=function(R,N,$){if(!qi[$])throw new Error("unknown blend mode "+$);return qi[$](R,N)},Yo=function(R){return function(N,$){var Q=Sa($).rgb(),wt=Sa(N).rgb();return Sa.rgb(R(Q,wt))}},Xi=function(R){return function(N,$){var Q=[];return Q[0]=R(N[0],$[0]),Q[1]=R(N[1],$[1]),Q[2]=R(N[2],$[2]),Q}},Pe=function(R){return R},Ks=function(R,N){return R*N/255},mf=function(R,N){return R>N?N:R},Zi=function(R,N){return R>N?R:N},ui=function(R,N){return 255*(1-(1-R/255)*(1-N/255))},gf=function(R,N){return N<128?2*R*N/255:255*(1-2*(1-R/255)*(1-N/255))},Ju=function(R,N){return 255*(1-(1-N/255)/(R/255))},Gh=function(R,N){return R===255?255:(R=255*(N/255)/(1-R/255),R>255?255:R)};qi.normal=Yo(Xi(Pe)),qi.multiply=Yo(Xi(Ks)),qi.screen=Yo(Xi(ui)),qi.overlay=Yo(Xi(gf)),qi.darken=Yo(Xi(mf)),qi.lighten=Yo(Xi(Zi)),qi.dodge=Yo(Xi(Gh)),qi.burn=Yo(Xi(Ju));for(var Yl=qi,Ti=v.type,Qu=v.clip_rgb,Dp=v.TWOPI,ql=Math.pow,Ea=Math.sin,yf=Math.cos,Gr=C,Xl=function(R,N,$,Q,wt){R===void 0&&(R=300),N===void 0&&(N=-1.5),$===void 0&&($=1),Q===void 0&&(Q=1),wt===void 0&&(wt=[0,1]);var Mt=0,pt;Ti(wt)==="array"?pt=wt[1]-wt[0]:(pt=0,wt=[wt,wt]);var kt=function(Bt){var Jt=Dp*((R+120)/360+N*Bt),ee=ql(wt[0]+pt*Bt,Q),we=Mt!==0?$[0]+Bt*Mt:$,ae=we*ee*(1-ee)/2,Ie=yf(Jt),Re=Ea(Jt),f=ee+ae*(-.14861*Ie+1.78277*Re),p=ee+ae*(-.29227*Ie-.90649*Re),b=ee+ae*(1.97294*Ie);return Gr(Qu([f*255,p*255,b*255,1]))};return kt.start=function(Bt){return Bt==null?R:(R=Bt,kt)},kt.rotations=function(Bt){return Bt==null?N:(N=Bt,kt)},kt.gamma=function(Bt){return Bt==null?Q:(Q=Bt,kt)},kt.hue=function(Bt){return Bt==null?$:($=Bt,Ti($)==="array"?(Mt=$[1]-$[0],Mt===0&&($=$[1])):Mt=0,kt)},kt.lightness=function(Bt){return Bt==null?wt:(Ti(Bt)==="array"?(wt=Bt,pt=Bt[1]-Bt[0]):(wt=[Bt,Bt],pt=0),kt)},kt.scale=function(){return Gr.scale(kt)},kt.hue($),kt},ls=P,Oi="0123456789abcdef",mo=Math.floor,Zl=Math.random,ci=function(){for(var R="#",N=0;N<6;N++)R+=Oi.charAt(mo(Zl()*16));return new ls(R,"hex")},vf=u,Zr=Math.log,_f=Math.pow,ov=Math.floor,Lg=Math.abs,kp=function(R,N){N===void 0&&(N=null);var $={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return vf(R)==="object"&&(R=Object.values(R)),R.forEach(function(Q){N&&vf(Q)==="object"&&(Q=Q[N]),Q!=null&&!isNaN(Q)&&($.values.push(Q),$.sum+=Q,Q<$.min&&($.min=Q),Q>$.max&&($.max=Q),$.count+=1)}),$.domain=[$.min,$.max],$.limits=function(Q,wt){return Kl($,Q,wt)},$},Kl=function(R,N,$){N===void 0&&(N="equal"),$===void 0&&($=7),vf(R)=="array"&&(R=kp(R));var Q=R.min,wt=R.max,Mt=R.values.sort(function(zp,lv){return zp-lv});if($===1)return[Q,wt];var pt=[];if(N.substr(0,1)==="c"&&(pt.push(Q),pt.push(wt)),N.substr(0,1)==="e"){pt.push(Q);for(var kt=1;kt<$;kt++)pt.push(Q+kt/$*(wt-Q));pt.push(wt)}else if(N.substr(0,1)==="l"){if(Q<=0)throw new Error("Logarithmic scales are only possible for values > 0");var Bt=Math.LOG10E*Zr(Q),Jt=Math.LOG10E*Zr(wt);pt.push(Q);for(var ee=1;ee<$;ee++)pt.push(_f(10,Bt+ee/$*(Jt-Bt)));pt.push(wt)}else if(N.substr(0,1)==="q"){pt.push(Q);for(var we=1;we<$;we++){var ae=(Mt.length-1)*we/$,Ie=ov(ae);if(Ie===ae)pt.push(Mt[Ie]);else{var Re=ae-Ie;pt.push(Mt[Ie]*(1-Re)+Mt[Ie+1]*Re)}}pt.push(wt)}else if(N.substr(0,1)==="k"){var f,p=Mt.length,b=new Array(p),I=new Array($),k=!0,H=0,st=null;st=[],st.push(Q);for(var mt=1;mt<$;mt++)st.push(Q+mt/$*(wt-Q));for(st.push(wt);k;){for(var yt=0;yt<$;yt++)I[yt]=0;for(var qt=0;qt<p;qt++)for(var ce=Mt[qt],he=Number.MAX_VALUE,ge=void 0,Be=0;Be<$;Be++){var Ne=Lg(st[Be]-ce);Ne<he&&(he=Ne,ge=Be),I[ge]++,b[qt]=ge}for(var cn=new Array($),Ct=0;Ct<$;Ct++)cn[Ct]=null;for(var bt=0;bt<p;bt++)f=b[bt],cn[f]===null?cn[f]=Mt[bt]:cn[f]+=Mt[bt];for(var jt=0;jt<$;jt++)cn[jt]*=1/I[jt];k=!1;for(var ve=0;ve<$;ve++)if(cn[ve]!==st[ve]){k=!0;break}st=cn,H++,H>200&&(k=!1)}for(var ke={},Kn=0;Kn<$;Kn++)ke[Kn]=[];for(var qe=0;qe<p;qe++)f=b[qe],ke[f].push(Mt[qe]);for(var Mn=[],gr=0;gr<$;gr++)Mn.push(ke[gr][0]),Mn.push(ke[gr][ke[gr].length-1]);Mn=Mn.sort(function(zp,lv){return zp-lv}),pt.push(Mn[0]);for(var $e=1;$e<Mn.length;$e+=2){var Vr=Mn[$e];!isNaN(Vr)&&pt.indexOf(Vr)===-1&&pt.push(Vr)}}return pt},$h={analyze:kp,limits:Kl},go=P,Op=function(R,N){R=new go(R),N=new go(N);var $=R.luminance(),Q=N.luminance();return $>Q?($+.05)/(Q+.05):(Q+.05)/($+.05)},Fp=P,Ds=Math.sqrt,kr=Math.pow,av=Math.min,Pg=Math.max,wf=Math.atan2,Ma=Math.abs,jh=Math.cos,Dg=Math.sin,Ta=Math.exp,Bp=Math.PI,Yh=function(R,N,$,Q,wt){$===void 0&&($=1),Q===void 0&&(Q=1),wt===void 0&&(wt=1);var Mt=function(Vr){return 360*Vr/(2*Bp)},pt=function(Vr){return 2*Bp*Vr/360};R=new Fp(R),N=new Fp(N);var kt=Array.from(R.lab()),Bt=kt[0],Jt=kt[1],ee=kt[2],we=Array.from(N.lab()),ae=we[0],Ie=we[1],Re=we[2],f=(Bt+ae)/2,p=Ds(kr(Jt,2)+kr(ee,2)),b=Ds(kr(Ie,2)+kr(Re,2)),I=(p+b)/2,k=.5*(1-Ds(kr(I,7)/(kr(I,7)+kr(25,7)))),H=Jt*(1+k),st=Ie*(1+k),mt=Ds(kr(H,2)+kr(ee,2)),yt=Ds(kr(st,2)+kr(Re,2)),qt=(mt+yt)/2,ce=Mt(wf(ee,H)),he=Mt(wf(Re,st)),ge=ce>=0?ce:ce+360,Be=he>=0?he:he+360,Ne=Ma(ge-Be)>180?(ge+Be+360)/2:(ge+Be)/2,cn=1-.17*jh(pt(Ne-30))+.24*jh(pt(2*Ne))+.32*jh(pt(3*Ne+6))-.2*jh(pt(4*Ne-63)),Ct=Be-ge;Ct=Ma(Ct)<=180?Ct:Be<=ge?Ct+360:Ct-360,Ct=2*Ds(mt*yt)*Dg(pt(Ct)/2);var bt=ae-Bt,jt=yt-mt,ve=1+.015*kr(f-50,2)/Ds(20+kr(f-50,2)),ke=1+.045*qt,Kn=1+.015*qt*cn,qe=30*Ta(-kr((Ne-275)/25,2)),Mn=2*Ds(kr(qt,7)/(kr(qt,7)+kr(25,7))),gr=-Mn*Dg(2*pt(qe)),$e=Ds(kr(bt/($*ve),2)+kr(jt/(Q*ke),2)+kr(Ct/(wt*Kn),2)+gr*(jt/(Q*ke))*(Ct/(wt*Kn)));return Pg(0,av(100,$e))},kg=P,qh=function(R,N,$){$===void 0&&($="lab"),R=new kg(R),N=new kg(N);var Q=R.get($),wt=N.get($),Mt=0;for(var pt in Q){var kt=(Q[pt]||0)-(wt[pt]||0);Mt+=kt*kt}return Math.sqrt(Mt)},Aa=P,Og=function(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];try{return new(Function.prototype.bind.apply(Aa,[null].concat(R))),!0}catch{return!1}},Np=C,tc=hf,Xh={cool:function(){return tc([Np.hsl(180,1,.9),Np.hsl(250,.7,.4)])},hot:function(){return tc(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Jl={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},xf=0,Zh=Object.keys(Jl);xf<Zh.length;xf+=1){var Kh=Zh[xf];Jl[Kh.toLowerCase()]=Jl[Kh]}var Jh=Jl,Kr=C;Kr.average=Ge,Kr.bezier=pf,Kr.blend=Yl,Kr.cubehelix=Xl,Kr.mix=Kr.interpolate=Bh,Kr.random=ci,Kr.scale=hf,Kr.analyze=$h.analyze,Kr.contrast=Op,Kr.deltaE=Yh,Kr.distance=qh,Kr.limits=$h.limits,Kr.valid=Og,Kr.scales=Xh,Kr.colors=gs,Kr.brewer=Jh;var Fg=Kr;return Fg})})(xU);var bU=xU.exports;function SU(...n){return t=>n.forEach(e=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(e,t))}function QS(...n){return Z.exports.useCallback(SU(...n),n)}const RI=Z.exports.forwardRef((n,t)=>{const{children:e,...r}=n;return Z.exports.Children.toArray(e).some(Yk)?Z.exports.createElement(Z.exports.Fragment,null,Z.exports.Children.map(e,i=>Yk(i)?Z.exports.createElement(MA,is({},r,{ref:t}),i.props.children):i)):Z.exports.createElement(MA,is({},r,{ref:t}),e)});RI.displayName="Slot";const MA=Z.exports.forwardRef((n,t)=>{const{children:e,...r}=n;return Z.exports.isValidElement(e)?Z.exports.cloneElement(e,{...Nst(r,e.props),ref:SU(t,e.ref)}):Z.exports.Children.count(e)>1?Z.exports.Children.only(null):null});MA.displayName="SlotClone";const EU=({children:n})=>Z.exports.createElement(Z.exports.Fragment,null,n);function Yk(n){return Z.exports.isValidElement(n)&&n.type===EU}function Nst(n,t){const e={...t};for(const r in t){const i=n[r],s=t[r];/^on[A-Z]/.test(r)?e[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?e[r]={...i,...s}:r==="className"&&(e[r]=[i,s].filter(Boolean).join(" "))}return{...n,...e}}const zst=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((n,t)=>({...n,[t]:Z.exports.forwardRef((e,r)=>{const{asChild:i,...s}=e,o=i?RI:t;return Z.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),Z.exports.createElement(o,is({},s,{ref:r}))})}),{}),Y_=Boolean(globalThis==null?void 0:globalThis.document)?Z.exports.useLayoutEffect:()=>{},Ust=Z.exports.forwardRef((n,t)=>{var e,r;const{containerRef:i,style:s,...o}=n,a=(e=i==null?void 0:i.current)!==null&&e!==void 0?e:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=Z.exports.useState({});return Y_(()=>{l({})},[]),a?nC.createPortal(Z.exports.createElement(zst.div,is({"data-radix-portal":""},o,{ref:t,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Vst=Ust;var qk=Object.prototype.hasOwnProperty;function q_(n,t){var e,r;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((r=n.length)===t.length)for(;r--&&q_(n[r],t[r]););return r===-1}if(!e||typeof n=="object"){r=0;for(e in n)if(qk.call(n,e)&&++r&&!qk.call(t,e)||!(e in t)||!q_(n[e],t[e]))return!1;return Object.keys(t).length===r}}return n!==n&&t!==t}var t2=function(t,e,r,i){this.name=t,this.fn=e,this.args=r,this.modifiers=i};t2.prototype._test=function(t){var e=this.fn;try{j0(this.modifiers.slice(),e,this)(t)}catch{e=function(){return!1}}try{return j0(this.modifiers.slice(),e,this)(t)}catch{return!1}};t2.prototype._check=function(t){try{j0(this.modifiers.slice(),this.fn,this)(t)}catch{if(j0(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!j0(this.modifiers.slice(),this.fn,this)(t))throw null};t2.prototype._testAsync=function(t){var e=this;return new Promise(function(r,i){TU(e.modifiers.slice(),e.fn,e)(t).then(function(s){s?r(t):i(null)}).catch(function(s){return i(s)})})};function MU(n,t){return t===void 0&&(t="simple"),typeof n=="object"?n[t]:n}function j0(n,t,e){if(n.length){var r=n.shift(),i=j0(n,t,e);return r.perform(i,e)}else return MU(t)}function TU(n,t,e){if(n.length){var r=n.shift(),i=TU(n,t,e);return r.performAsync(i,e)}else return function(s){return Promise.resolve(MU(t,"async")(s))}}var Hst=function(t,e,r){this.name=t,this.perform=e,this.performAsync=r},LI=function(n){function t(e,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,t),this.rule=e,this.value=r,this.cause=i,this.target=s}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t}(Error),Ac=function(t,e){t===void 0&&(t=[]),e===void 0&&(e=[]),this.chain=t,this.nextRuleModifiers=e};Ac.prototype._applyRule=function(t,e){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new t2(e,t.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Ac.prototype._applyModifier=function(t,e){return this.nextRuleModifiers.push(new Hst(e,t.simple,t.async)),this};Ac.prototype._clone=function(){return new Ac(this.chain.slice(),this.nextRuleModifiers.slice())};Ac.prototype.test=function(t){return this.chain.every(function(e){return e._test(t)})};Ac.prototype.testAll=function(t){var e=[];return this.chain.forEach(function(r){try{r._check(t)}catch(i){e.push(new LI(r,t,i))}}),e};Ac.prototype.check=function(t){this.chain.forEach(function(e){try{e._check(t)}catch(r){throw new LI(e,t,r)}})};Ac.prototype.testAsync=function(t){var e=this;return new Promise(function(r,i){AU(t,e.chain.slice(),r,i)})};function AU(n,t,e,r){if(t.length){var i=t.shift();i._testAsync(n).then(function(){AU(n,t,e,r)},function(s){r(new LI(i,n,s))})}else e(n)}var Xk=function(n,t){return t&&typeof n=="string"&&n.trim().length===0?!0:n==null};function Wst(n,t){return t===void 0&&(t=!1),{simple:function(e){return Xk(e,t)||n.check(e)===void 0},async:function(e){return Xk(e,t)||n.testAsync(e)}}}function ra(){return typeof Proxy!="undefined"?CU(new Ac):TA(new Ac)}var X_={};ra.extend=function(n){Object.assign(X_,n)};ra.clearCustomRules=function(){X_={}};function CU(n){return new Proxy(n,{get:function(e,r){if(r in e)return e[r];var i=CU(n._clone());if(r in bb)return i._applyModifier(bb[r],r);if(r in X_)return i._applyRule(X_[r],r);if(r in AA)return i._applyRule(AA[r],r)}})}function TA(n){var t=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=TA(s._clone()),h=u._applyRule(i[o],o).apply(void 0,a);return h}}),s},e=t(AA,n),r=t(X_,e);return Object.keys(bb).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=TA(r._clone());return s._applyModifier(bb[i],i)}})}),r}var bb={not:{simple:function(n){return function(t){return!n(t)}},async:function(n){return function(t){return Promise.resolve(n(t)).then(function(e){return!e}).catch(function(){return!0})}}},some:{simple:function(n){return function(t){return ix(t).some(function(e){try{return n(e)}catch{return!1}})}},async:function(n){return function(t){return Promise.all(ix(t).map(function(e){try{return n(e).catch(function(){return!1})}catch{return!1}})).then(function(e){return e.some(Boolean)})}}},every:{simple:function(n){return function(t){return t!==!1&&ix(t).every(n)}},async:function(n){return function(t){return Promise.all(ix(t).map(n)).then(function(e){return e.every(Boolean)})}}},strict:{simple:function(n,t){return function(e){return Zk(t)&&e&&typeof e=="object"?Object.keys(t.args[0]).length===Object.keys(e).length&&n(e):n(e)}},async:function(n,t){return function(e){return Promise.resolve(n(e)).then(function(r){return Zk(t)&&e&&typeof e=="object"?Object.keys(t.args[0]).length===Object.keys(e).length&&r:r}).catch(function(){return!1})}}}};function Zk(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function ix(n){return typeof n=="string"?n.split(""):n}var AA={equal:function(n){return function(t){return t==n}},exact:function(n){return function(t){return t===n}},number:function(n){return n===void 0&&(n=!0),function(t){return typeof t=="number"&&(n||isFinite(t))}},integer:function(){return function(n){var t=Number.isInteger||Gst;return t(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return u0("string")},boolean:function(){return u0("boolean")},undefined:function(){return u0("undefined")},null:function(){return u0("null")},array:function(){return u0("array")},object:function(){return u0("object")},instanceOf:function(n){return function(t){return t instanceof n}},pattern:function(n){return function(t){return n.test(t)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(t){return t[0]==n}},last:function(n){return function(t){return t[t.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,t){return function(e){return e.length>=n&&e.length<=(t||n)}},minLength:function(n){return function(t){return t.length>=n}},maxLength:function(n){return function(t){return t.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,t){return function(e){return e>=n&&e<=t}},range:function(n,t){return function(e){return e>=n&&e<=t}},lessThan:function(n){return function(t){return t<n}},lessThanOrEqual:function(n){return function(t){return t<=n}},greaterThan:function(n){return function(t){return t>n}},greaterThanOrEqual:function(n){return function(t){return t>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(t){return~t.indexOf(n)}},schema:function(n){return $st(n)},passesAnyOf:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return function(e){return n.some(function(r){return r.test(e)})}},optional:Wst};function u0(n){return function(t){return Array.isArray(t)&&n==="array"||t===null&&n==="null"||typeof t===n}}function Gst(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function $st(n){return{simple:function(t){var e=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((t||{})[r])}catch(s){s.target=r,e.push(s)}}),e.length>0)throw e;return!0},async:function(t){var e=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((t||{})[i]).catch(function(o){o.target=i,e.push(o)})});return Promise.all(r).then(function(){if(e.length>0)throw e;return!0})}}}var Or="colors",wo="sizes",Fe="space",jst={gap:Fe,gridGap:Fe,columnGap:Fe,gridColumnGap:Fe,rowGap:Fe,gridRowGap:Fe,inset:Fe,insetBlock:Fe,insetBlockEnd:Fe,insetBlockStart:Fe,insetInline:Fe,insetInlineEnd:Fe,insetInlineStart:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,marginBlock:Fe,marginBlockEnd:Fe,marginBlockStart:Fe,marginInline:Fe,marginInlineEnd:Fe,marginInlineStart:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,paddingBlock:Fe,paddingBlockEnd:Fe,paddingBlockStart:Fe,paddingInline:Fe,paddingInlineEnd:Fe,paddingInlineStart:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,scrollMargin:Fe,scrollMarginTop:Fe,scrollMarginRight:Fe,scrollMarginBottom:Fe,scrollMarginLeft:Fe,scrollMarginX:Fe,scrollMarginY:Fe,scrollMarginBlock:Fe,scrollMarginBlockEnd:Fe,scrollMarginBlockStart:Fe,scrollMarginInline:Fe,scrollMarginInlineEnd:Fe,scrollMarginInlineStart:Fe,scrollPadding:Fe,scrollPaddingTop:Fe,scrollPaddingRight:Fe,scrollPaddingBottom:Fe,scrollPaddingLeft:Fe,scrollPaddingX:Fe,scrollPaddingY:Fe,scrollPaddingBlock:Fe,scrollPaddingBlockEnd:Fe,scrollPaddingBlockStart:Fe,scrollPaddingInline:Fe,scrollPaddingInlineEnd:Fe,scrollPaddingInlineStart:Fe,fontSize:"fontSizes",background:Or,backgroundColor:Or,backgroundImage:Or,borderImage:Or,border:Or,borderBlock:Or,borderBlockEnd:Or,borderBlockStart:Or,borderBottom:Or,borderBottomColor:Or,borderColor:Or,borderInline:Or,borderInlineEnd:Or,borderInlineStart:Or,borderLeft:Or,borderLeftColor:Or,borderRight:Or,borderRightColor:Or,borderTop:Or,borderTopColor:Or,caretColor:Or,color:Or,columnRuleColor:Or,fill:Or,outline:Or,outlineColor:Or,stroke:Or,textDecorationColor:Or,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:wo,minBlockSize:wo,maxBlockSize:wo,inlineSize:wo,minInlineSize:wo,maxInlineSize:wo,width:wo,minWidth:wo,maxWidth:wo,height:wo,minHeight:wo,maxHeight:wo,flexBasis:wo,gridTemplateColumns:wo,gridTemplateRows:wo,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Yst=(n,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,Yy=()=>{const n=Object.create(null);return(t,e,...r)=>{const i=(s=>JSON.stringify(s,Yst))(t);return i in n?n[i]:n[i]=e(t,...r)}},Am=Symbol.for("sxs.internal"),PI=(n,t)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)),Kk=n=>{for(const t in n)return!0;return!1},{hasOwnProperty:qst}=Object.prototype,CA=n=>n.includes("-")?n:n.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Xst=/\s+(?![^()]*\))/,c0=n=>t=>n(...typeof t=="string"?String(t).split(Xst):[t]),Jk={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:c0((n,t)=>({marginBlockStart:n,marginBlockEnd:t||n})),marginInline:c0((n,t)=>({marginInlineStart:n,marginInlineEnd:t||n})),maxSize:c0((n,t)=>({maxBlockSize:n,maxInlineSize:t||n})),minSize:c0((n,t)=>({minBlockSize:n,minInlineSize:t||n})),paddingBlock:c0((n,t)=>({paddingBlockStart:n,paddingBlockEnd:t||n})),paddingInline:c0((n,t)=>({paddingInlineStart:n,paddingInlineEnd:t||n}))},aM=/([\d.]+)([^]*)/,Zst=(n,t)=>n.length?n.reduce((e,r)=>(e.push(...t.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),e),[]):t,Kst=(n,t)=>n in Jst&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(e,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${CA(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${CA(n)}:${r}fit-content`)+s):String(t),Jst={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},nh=n=>n?n+"-":"",IU=(n,t,e)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?nh(t)+(a.includes("$")?"":nh(e))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Qst=/\s*,\s*(?![^()]*\))/,tot=Object.prototype.toString,D0=(n,t,e,r,i)=>{let s,o,a;const l=(u,h,m)=>{let d,y;const _=v=>{for(d in v){const S=d.charCodeAt(0)===64,M=S&&Array.isArray(v[d])?v[d]:[v[d]];for(y of M){const T=/[A-Z]/.test(x=d)?x:x.replace(/-[^]/g,P=>P[1].toUpperCase()),A=typeof y=="object"&&y&&y.toString===tot&&(!r.utils[T]||!h.length);if(T in r.utils&&!A){const P=r.utils[T];if(P!==o){o=P,_(P(y)),o=null;continue}}else if(T in Jk){const P=Jk[T];if(P!==a){a=P,_(P(y)),a=null;continue}}if(S&&(w=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=w.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(P,F,C,B,V,Y)=>{const z=aM.test(F),q=.0625*(z?-1:1),[L,tt]=z?[B,F]:[F,B];return"("+(C[0]==="="?"":C[0]===">"===z?"max-":"min-")+L+":"+(C[0]!=="="&&C.length===1?tt.replace(aM,(ct,lt,at)=>Number(lt)+q*(C===">"?1:-1)+at):tt)+(V?") and ("+(V[0]===">"?"min-":"max-")+L+":"+(V.length===1?Y.replace(aM,(ct,lt,at)=>Number(lt)+q*(V===">"?-1:1)+at):Y):"")+")"})),A){const P=S?m.concat(d):[...m],F=S?[...h]:Zst(h,d.split(Qst));s!==void 0&&i(Qk(...s)),s=void 0,l(y,F,P)}else s===void 0&&(s=[[],h,m]),d=S||d.charCodeAt(0)!==36?d:`--${nh(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,y=A?y:typeof y=="number"?y&&T in eot?String(y)+"px":String(y):IU(Kst(T,y==null?"":y),r.prefix,r.themeMap[T]),s[0].push(`${S?`${d} `:`${CA(d)}:`}${y}`)}}var w,x};_(u),s!==void 0&&i(Qk(...s)),s=void 0};l(n,t,e)},Qk=(n,t,e)=>`${e.map(r=>`${r}{`).join("")}${t.length?`${t.join(",")}{`:""}${n.join(";")}${t.length?"}":""}${Array(e.length?e.length+1:0).join("}")}`,eot={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},tO=n=>String.fromCharCode(n+(n>25?39:97)),Cm=n=>(t=>{let e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=tO(e%52)+r;return tO(e%52)+r})(((t,e)=>{let r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return t})(5381,JSON.stringify(n))>>>0),Hv=["themed","global","styled","onevar","resonevar","allvar","inline"],not=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},rot=n=>{let t;const e=()=>{const{cssRules:i}=t.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in t.rules)if(t.rules[u].group===s)return`--sxs{--sxs:${[...t.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(t){const{rules:a,sheet:l}=t;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(n).styleSheets||[];for(const a of i)if(not(a)){for(let l=0,u=a.cssRules;u[l];++l){const h=Object(u[l]);if(h.type!==1)continue;const m=Object(u[l+1]);if(m.type!==4)continue;++l;const{cssText:d}=h;if(!d.startsWith("--sxs"))continue;const y=d.slice(14,-3).trim().split(/\s+/),_=Hv[y[0]];_&&(t||(t={sheet:a,reset:r,rules:{},toString:e}),t.rules[_]={group:m,index:l,cache:new Set(y)})}if(t)break}if(!t){const a=(l,u)=>({type:u,cssRules:[],insertRule(h,m){this.cssRules.splice(m,0,a(h,{import:3,undefined:1}[(h.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,h=>h.cssText).join("")}}`:l}});t={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:e}}const{sheet:s,rules:o}=t;for(let a=Hv.length-1;a>=0;--a){const l=Hv[a];if(!o[l]){const u=Hv[a+1],h=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",h),s.insertRule(`--sxs{--sxs:${a}}`,h),o[l]={group:s.cssRules[h+1],index:h,cache:new Set([a])}}iot(o[l])}};return r(),t},iot=n=>{const t=n.group;let e=t.cssRules.length;n.apply=r=>{try{t.insertRule(r,e),++e}catch{}}},Lv=Symbol(),sot=Yy(),eO=(n,t)=>sot(n,()=>(...e)=>{let r={type:null,composers:new Set};for(const i of e)if(i!=null)if(i[Am]){r.type==null&&(r.type=i[Am].type);for(const s of i[Am].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(oot(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),aot(n,r,t)}),oot=({variants:n,compoundVariants:t,defaultVariants:e,...r},i)=>{const s=`${nh(i.prefix)}c-${Cm(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const d in e)l[d]=String(e[d]);if(typeof n=="object"&&n)for(const d in n){h=l,m=d,qst.call(h,m)||(l[d]="undefined");const y=n[d];for(const _ in y){const v={[d]:String(_)};String(_)==="undefined"&&u.push(d);const w=y[_],x=[v,w,!Kk(w)];o.push(x)}}var h,m;if(typeof t=="object"&&t)for(const d of t){let{css:y,..._}=d;y=typeof y=="object"&&y||{};for(const w in _)_[w]=String(_[w]);const v=[_,y,!Kk(y)];a.push(v)}return[s,r,o,a,l,u]},aot=(n,t,e)=>{const[r,i,s,o]=lot(t.composers),a=typeof t.type=="function"||t.type.$$typeof?(m=>{function d(){for(let y=0;y<d[Lv].length;y++){const[_,v]=d[Lv][y];m.rules[_].apply(v)}return d[Lv]=[],null}return d[Lv]=[],d.rules={},Hv.forEach(y=>d.rules[y]={apply:_=>d[Lv].push([y,_])}),d})(e):null,l=(a||e).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,h=m=>{m=typeof m=="object"&&m||uot;const{css:d,...y}=m,_={};for(const x in s)if(delete y[x],x in m){let S=m[x];typeof S=="object"&&S?_[x]={"@initial":s[x],...S}:(S=String(S),_[x]=S!=="undefined"||o.has(x)?S:s[x])}else _[x]=s[x];const v=new Set([...i]);for(const[x,S,M,T]of t.composers){e.rules.styled.cache.has(x)||(e.rules.styled.cache.add(x),D0(S,[`.${x}`],[],n,F=>{l.styled.apply(F)}));const A=nO(M,_,n.media),P=nO(T,_,n.media,!0);for(const F of A)if(F!==void 0)for(const[C,B,V]of F){const Y=`${x}-${Cm(B)}-${C}`;v.add(Y);const z=(V?e.rules.resonevar:e.rules.onevar).cache,q=V?l.resonevar:l.onevar;z.has(Y)||(z.add(Y),D0(B,[`.${Y}`],[],n,L=>{q.apply(L)}))}for(const F of P)if(F!==void 0)for(const[C,B]of F){const V=`${x}-${Cm(B)}-${C}`;v.add(V),e.rules.allvar.cache.has(V)||(e.rules.allvar.cache.add(V),D0(B,[`.${V}`],[],n,Y=>{l.allvar.apply(Y)}))}}if(typeof d=="object"&&d){const x=`${r}-i${Cm(d)}-css`;v.add(x),e.rules.inline.cache.has(x)||(e.rules.inline.cache.add(x),D0(d,[`.${x}`],[],n,S=>{l.inline.apply(S)}))}for(const x of String(m.className||"").trim().split(/\s+/))x&&v.add(x);const w=y.className=[...v].join(" ");return{type:t.type,className:w,selector:u,props:y,toString:()=>w,deferredInjector:a}};return PI(h,{className:r,selector:u,[Am]:t,toString:()=>(e.rules.styled.cache.has(r)||h(),r)})},lot=n=>{let t="";const e=[],r={},i=[];for(const[s,,,,o,a]of n){t===""&&(t=s),e.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[t,e,r,new Set(i)]},nO=(n,t,e,r)=>{const i=[];t:for(let[s,o,a]of n){if(a)continue;let l,u=0,h=!1;for(l in s){const m=s[l];let d=t[l];if(d!==m){if(typeof d!="object"||!d)continue t;{let y,_,v=0;for(const w in d){if(m===String(d[w])){if(w!=="@initial"){const x=w.slice(1);(_=_||[]).push(x in e?e[x]:w.replace(/^@media ?/,"")),h=!0}u+=v,y=!0}++v}if(_&&_.length&&(o={["@media "+_.join(", ")]:o}),!y)continue t}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,h])}return i},uot={},cot=Yy(),fot=(n,t)=>cot(n,()=>(...e)=>{const r=()=>{for(let i of e){i=typeof i=="object"&&i||{};let s=Cm(i);if(!t.rules.global.cache.has(s)){if(t.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,t.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}D0(i,[],[],n,o=>{t.rules.global.apply(o)})}}return""};return PI(r,{toString:r})}),hot=Yy(),dot=(n,t)=>hot(n,()=>e=>{const r=`${nh(n.prefix)}k-${Cm(e)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const s=[];D0(e,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;t.rules.global.apply(o)}return r};return PI(i,{get name(){return i()},toString:i})}),pot=class{constructor(n,t,e,r){this.token=n==null?"":String(n),this.value=t==null?"":String(t),this.scale=e==null?"":String(e),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+nh(this.prefix)+nh(this.scale)+this.token}toString(){return this.computedValue}},mot=Yy(),got=(n,t)=>mot(n,()=>(e,r)=>{r=typeof e=="object"&&e||Object(r);const i=`.${e=(e=typeof e=="string"?e:"")||`${nh(n.prefix)}t-${Cm(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const h=`--${nh(n.prefix)}${l}-${u}`,m=IU(String(r[l][u]),n.prefix,l);s[l][u]=new pot(u,m,l,n.prefix),o.push(`${h}:${m}`)}}const a=()=>{if(o.length&&!t.rules.themed.cache.has(e)){t.rules.themed.cache.add(e);const l=`${r===n.theme?":root,":""}.${e}{${o.join(";")}}`;t.rules.themed.apply(l)}return e};return{...s,get className(){return a()},selector:i,toString:a}}),yot=Yy(),vot=Yy(),_ot=n=>{const t=(e=>{let r=!1;const i=yot(e,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},h={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...jst},utils:typeof s.utils=="object"&&s.utils||{}},m=rot(l),d={css:eO(h,m),globalCss:fot(h,m),keyframes:dot(h,m),createTheme:got(h,m),reset(){m.reset(),d.theme.toString()},theme:{},sheet:m,config:h,prefix:o,getCssText:m.toString,toString:m.toString};return String(d.theme=d.createTheme(u)),d});return r||i.reset(),i})(n);return t.styled=(({config:e,sheet:r})=>vot(e,()=>{const i=eO(e,r);return(...s)=>{const o=i(...s),a=o[Am].type,l=nn.forwardRef((u,h)=>{const m=u&&u.as||a,{props:d,deferredInjector:y}=o(u);return delete d.as,d.ref=h,y?nn.createElement(nn.Fragment,null,nn.createElement(m,d),nn.createElement(y,null)):nn.createElement(m,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Am]=o[Am],l}}))(t),t};const wot=Q7["useId".toString()]||(()=>{});let xot=0;function bot(n){const[t,e]=Z.exports.useState(wot());return Y_(()=>{n||e(r=>r!=null?r:String(xot++))},[n]),n||(t?`radix-${t}`:"")}const qy=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((n,t)=>({...n,[t]:Z.exports.forwardRef((e,r)=>{const{asChild:i,...s}=e,o=i?RI:t;return Z.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),e.as&&console.error(Sot),Z.exports.createElement(o,is({},s,{ref:r}))})}),{}),Sot="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",Eot=Z.exports.forwardRef((n,t)=>Z.exports.createElement(qy.span,is({},n,{ref:t,style:{...n.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),Mot=Eot,Tot=Z.exports.forwardRef((n,t)=>{var e,r;const{containerRef:i,style:s,...o}=n,a=(e=i==null?void 0:i.current)!==null&&e!==void 0?e:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=Z.exports.useState({});return Y_(()=>{l({})},[]),a?nC.createPortal(Z.exports.createElement(qy.div,is({"data-radix-portal":""},o,{ref:t,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Aot=Z.exports.forwardRef((n,t)=>{const{children:e,width:r=10,height:i=5,...s}=n;return Z.exports.createElement(qy.svg,is({},s,{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?e:Z.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Cot=Aot;function rO(n){const[t,e]=Z.exports.useState(void 0);return Z.exports.useEffect(()=>{if(n){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else{const l=n.getBoundingClientRect();o=l.width,a=l.height}e({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>{e(void 0),r.unobserve(n)}}},[n]),t}function Iot(n,t){const e=nm.get(n);return e===void 0?(nm.set(n,{rect:{},callbacks:[t]}),nm.size===1&&(IA=requestAnimationFrame(RU))):(e.callbacks.push(t),t(n.getBoundingClientRect())),()=>{const r=nm.get(n);if(r===void 0)return;const i=r.callbacks.indexOf(t);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(nm.delete(n),nm.size===0&&cancelAnimationFrame(IA))}}let IA;const nm=new Map;function RU(){const n=[];nm.forEach((t,e)=>{const r=e.getBoundingClientRect();var i,s;i=t.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(t.rect=r,n.push(t))}),n.forEach(t=>{t.callbacks.forEach(e=>e(t.rect))}),IA=requestAnimationFrame(RU)}function LU(n){const[t,e]=Z.exports.useState();return Z.exports.useEffect(()=>{if(n){const r=Iot(n,e);return()=>{e(void 0),r()}}},[n]),t}function PU(n,t=[]){let e=[];const r=()=>{const i=e.map(s=>Z.exports.createContext(s));return function(s){const o=(s==null?void 0:s[n])||i;return Z.exports.useMemo(()=>({[`__scope${n}`]:{...s,[n]:o}}),[s,o])}};return r.scopeName=n,[function(i,s){const o=Z.exports.createContext(s),a=e.length;function l(u){const{scope:h,children:m,...d}=u,y=(h==null?void 0:h[n][a])||o,_=Z.exports.useMemo(()=>d,Object.values(d));return Z.exports.createElement(y.Provider,{value:_},m)}return e=[...e,s],l.displayName=i+"Provider",[l,function(u,h){const m=(h==null?void 0:h[n][a])||o,d=Z.exports.useContext(m);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${i}\``)}]},Rot(r,...t)]}function Rot(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return Z.exports.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return e.scopeName=t.scopeName,e}function Lot({anchorRect:n,popperSize:t,arrowSize:e,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:h=0}){if(!n||!t||!u)return{popperStyles:Pot,arrowStyles:lM};const m=function(F,C,B=0,V=0,Y){const z=Y?Y.height:0,q=iO(C,F,"x"),L=iO(C,F,"y"),tt=L.before-B-z,ct=L.after+B+z,lt=q.before-B-z,at=q.after+B+z;return{top:{start:{x:q.start+V,y:tt},center:{x:q.center,y:tt},end:{x:q.end-V,y:tt}},right:{start:{x:at,y:L.start+V},center:{x:at,y:L.center},end:{x:at,y:L.end-V}},bottom:{start:{x:q.start+V,y:ct},center:{x:q.center,y:ct},end:{x:q.end-V,y:ct}},left:{start:{x:lt,y:L.start+V},center:{x:lt,y:L.center},end:{x:lt,y:L.end-V}}}}(t,n,s,a,e),d=m[i][o];if(l===!1){const F=sO(d);let C=lM;return e&&(C=aO({popperSize:t,arrowSize:e,arrowOffset:r,side:i,align:o})),{popperStyles:{...F,"--radix-popper-transform-origin":oO(t,i,o,r,e)},arrowStyles:C,placedSide:i,placedAlign:o}}const y=DOMRect.fromRect({...t,...d}),_=(v=u,w=h,DOMRect.fromRect({width:v.width-2*w,height:v.height-2*w,x:v.left+w,y:v.top+w}));var v,w;const x=uO(y,_),S=m[lO(i)][o],M=function(F,C,B){const V=lO(F);return C[F]&&!B[V]?V:F}(i,x,uO(DOMRect.fromRect({...t,...S}),_)),T=function(F,C,B,V,Y){const z=B==="top"||B==="bottom",q=z?"left":"top",L=z?"right":"bottom",tt=z?"width":"height",ct=C[tt]>F[tt];return(V==="start"||V==="center")&&(Y[q]&&ct||Y[L]&&!ct)?"end":(V==="end"||V==="center")&&(Y[L]&&ct||Y[q]&&!ct)?"start":V}(t,n,i,o,x),A=sO(m[M][T]);let P=lM;return e&&(P=aO({popperSize:t,arrowSize:e,arrowOffset:r,side:M,align:T})),{popperStyles:{...A,"--radix-popper-transform-origin":oO(t,M,T,r,e)},arrowStyles:P,placedSide:M,placedAlign:T}}function iO(n,t,e){const r=n[e==="x"?"left":"top"],i=e==="x"?"width":"height",s=n[i],o=t[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function sO(n){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(n.x+window.scrollX)}px, ${Math.round(n.y+window.scrollY)}px, 0)`}}function oO(n,t,e,r,i){const s=t==="top"||t==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let u="",h="";return s?(u={start:`${l}px`,center:"center",end:n.width-l+"px"}[e],h=t==="top"?`${n.height+a}px`:-a+"px"):(u=t==="left"?`${n.width+a}px`:-a+"px",h={start:`${l}px`,center:"center",end:n.height-l+"px"}[e]),`${u} ${h}`}const Pot={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},lM={position:"absolute",opacity:0};function aO({popperSize:n,arrowSize:t,arrowOffset:e,side:r,align:i}){const s=(n.width-t.width)/2,o=(n.height-t.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(t.width,t.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:Dot(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(u.left=`${e}px`),i==="center"&&(u.left=`${s}px`),i==="end"&&(u.right=`${e}px`)),r!=="left"&&r!=="right"||(i==="start"&&(u.top=`${e}px`),i==="center"&&(u.top=`${o}px`),i==="end"&&(u.bottom=`${e}px`)),u}function Dot(n,t){return(n!=="top"&&n!=="right"||t!=="end")&&(n!=="bottom"&&n!=="left"||t==="end")?"ltr":"rtl"}function lO(n){return{top:"bottom",right:"left",bottom:"top",left:"right"}[n]}function uO(n,t){return{top:n.top<t.top,right:n.right>t.right,bottom:n.bottom>t.bottom,left:n.left<t.left}}const[DU,kU]=PU("Popper"),[kot,OU]=DU("Popper"),Oot=n=>{const{__scopePopper:t,children:e}=n,[r,i]=Z.exports.useState(null);return Z.exports.createElement(kot,{scope:t,anchor:r,onAnchorChange:i},e)},Fot=Z.exports.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:r,...i}=n,s=OU("PopperAnchor",e),o=Z.exports.useRef(null),a=QS(t,o);return Z.exports.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:Z.exports.createElement(qy.div,is({},i,{ref:a}))}),[Bot,Not]=DU("PopperContent"),zot=Z.exports.forwardRef((n,t)=>{const{__scopePopper:e,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...u}=n,h=OU("PopperContent",e),[m,d]=Z.exports.useState(),y=LU(h.anchor),[_,v]=Z.exports.useState(null),w=rO(_),[x,S]=Z.exports.useState(null),M=rO(x),T=QS(t,z=>v(z)),A=function(){const[z,q]=Z.exports.useState(void 0);return Z.exports.useEffect(()=>{let L;function tt(){q({width:window.innerWidth,height:window.innerHeight})}function ct(){window.clearTimeout(L),L=window.setTimeout(tt,100)}return tt(),window.addEventListener("resize",ct),()=>window.removeEventListener("resize",ct)},[]),z}(),P=A?DOMRect.fromRect({...A,x:0,y:0}):void 0,{popperStyles:F,arrowStyles:C,placedSide:B,placedAlign:V}=Lot({anchorRect:y,popperSize:w,arrowSize:M,arrowOffset:m,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:P,collisionTolerance:a}),Y=B!==void 0;return Z.exports.createElement("div",{style:F,"data-radix-popper-content-wrapper":""},Z.exports.createElement(Bot,{scope:e,arrowStyles:C,onArrowChange:S,onArrowOffsetChange:d},Z.exports.createElement(qy.div,is({"data-side":B,"data-align":V},u,{style:{...u.style,animation:Y?void 0:"none"},ref:T}))))}),Uot=Z.exports.forwardRef(function(n,t){const{__scopePopper:e,offset:r,...i}=n,s=Not("PopperArrow",e),{onArrowOffsetChange:o}=s;return Z.exports.useEffect(()=>o(r),[o,r]),Z.exports.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},Z.exports.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},Z.exports.createElement(Cot,is({},i,{ref:t,style:{...i.style,display:"block"}}))))}),Vot=Oot,Hot=Fot,Wot=zot,Got=Uot,FU=n=>{const{present:t,children:e}=n,r=function(o){const[a,l]=Z.exports.useState(),u=Z.exports.useRef({}),h=Z.exports.useRef(o),m=Z.exports.useRef("none"),d=o?"mounted":"unmounted",[y,_]=function(v,w){return Z.exports.useReducer((x,S)=>{const M=w[x][S];return M!=null?M:x},v)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.exports.useEffect(()=>{const v=sx(u.current);m.current=y==="mounted"?v:"none"},[y]),Y_(()=>{const v=u.current,w=h.current;if(w!==o){const x=m.current,S=sx(v);o?_("MOUNT"):S==="none"||(v==null?void 0:v.display)==="none"?_("UNMOUNT"):_(w&&x!==S?"ANIMATION_OUT":"UNMOUNT"),h.current=o}},[o,_]),Y_(()=>{if(a){const v=x=>{const S=sx(u.current).includes(x.animationName);x.target===a&&S&&_("ANIMATION_END")},w=x=>{x.target===a&&(m.current=sx(u.current))};return a.addEventListener("animationstart",w),a.addEventListener("animationcancel",v),a.addEventListener("animationend",v),()=>{a.removeEventListener("animationstart",w),a.removeEventListener("animationcancel",v),a.removeEventListener("animationend",v)}}},[a,_]),{isPresent:["mounted","unmountSuspended"].includes(y),ref:Z.exports.useCallback(v=>{v&&(u.current=getComputedStyle(v)),l(v)},[])}}(t),i=typeof e=="function"?e({present:r.isPresent}):Z.exports.Children.only(e),s=QS(r.ref,i.ref);return typeof e=="function"||r.isPresent?Z.exports.cloneElement(i,{ref:s}):null};function sx(n){return(n==null?void 0:n.animationName)||"none"}FU.displayName="Presence";function cO(n){const t=Z.exports.useRef(n);return Z.exports.useEffect(()=>{t.current=n},[n]),t.current}function RA(n){const t=Z.exports.useRef(n);return Z.exports.useEffect(()=>{t.current=n}),Z.exports.useMemo(()=>(...e)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...e)},[])}function $ot(n){const t=RA(n);Z.exports.useEffect(()=>{const e=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t])}function jot({prop:n,defaultProp:t,onChange:e=()=>{}}){const[r,i]=function({defaultProp:l,onChange:u}){const h=Z.exports.useState(l),[m]=h,d=Z.exports.useRef(m),y=RA(u);return Z.exports.useEffect(()=>{d.current!==m&&(y(m),d.current=m)},[m,d,y]),h}({defaultProp:t,onChange:e}),s=n!==void 0,o=s?n:r,a=RA(e);return[o,Z.exports.useCallback(l=>{if(s){const u=l,h=typeof l=="function"?u(n):l;h!==n&&a(h)}else i(l)},[s,n,i,a])]}function f0(n,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(n==null||n(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}const[BU,Syt]=PU("Tooltip",[kU]),e2=kU(),Yot=700,[Eyt,qot]=BU("TooltipProvider",{isOpenDelayed:!0,delayDuration:Yot,onOpen:()=>{},onClose:()=>{}}),[Xot,n2]=BU("Tooltip"),Zot=n=>{const{__scopeTooltip:t,children:e,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=n,a=qot("Tooltip",t),l=e2(t),[u,h]=Z.exports.useState(null),m=bot(),d=Z.exports.useRef(0),y=o!=null?o:a.delayDuration,_=Z.exports.useRef(!1),{onOpen:v,onClose:w}=a,[x=!1,S]=jot({prop:r,defaultProp:i,onChange:P=>{P&&(document.dispatchEvent(new CustomEvent("tooltip.open")),v()),s==null||s(P)}}),M=Z.exports.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),T=Z.exports.useCallback(()=>{window.clearTimeout(d.current),_.current=!1,S(!0)},[S]),A=Z.exports.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{_.current=!0,S(!0)},y)},[y,S]);return Z.exports.useEffect(()=>()=>window.clearTimeout(d.current),[]),Z.exports.createElement(Vot,l,Z.exports.createElement(Xot,{scope:t,contentId:m,open:x,stateAttribute:M,trigger:u,onTriggerChange:h,onTriggerEnter:Z.exports.useCallback(()=>{a.isOpenDelayed?A():T()},[a.isOpenDelayed,A,T]),onOpen:Z.exports.useCallback(T,[T]),onClose:Z.exports.useCallback(()=>{window.clearTimeout(d.current),S(!1),w()},[S,w])},e))},Kot=Z.exports.forwardRef((n,t)=>{const{__scopeTooltip:e,...r}=n,i=n2("TooltipTrigger",e),s=e2(e),o=QS(t,i.onTriggerChange),a=Z.exports.useRef(!1),l=Z.exports.useCallback(()=>a.current=!1,[]);return Z.exports.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),Z.exports.createElement(Hot,is({asChild:!0},s),Z.exports.createElement(qy.button,is({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:f0(n.onMouseEnter,i.onTriggerEnter),onMouseLeave:f0(n.onMouseLeave,i.onClose),onMouseDown:f0(n.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:f0(n.onFocus,()=>{a.current||i.onOpen()}),onBlur:f0(n.onBlur,i.onClose),onClick:f0(n.onClick,i.onClose)})))}),Jot=Z.exports.forwardRef((n,t)=>{const{forceMount:e,...r}=n,i=n2("TooltipContent",n.__scopeTooltip);return Z.exports.createElement(FU,{present:e||i.open},Z.exports.createElement(Qot,is({ref:t},r)))}),Qot=Z.exports.forwardRef((n,t)=>{const{__scopeTooltip:e,children:r,"aria-label":i,portalled:s=!0,...o}=n,a=n2("TooltipContent",e),l=e2(e),u=s?Tot:Z.exports.Fragment,{onClose:h}=a;return $ot(()=>h()),Z.exports.useEffect(()=>(document.addEventListener("tooltip.open",h),()=>document.removeEventListener("tooltip.open",h)),[h]),Z.exports.createElement(u,null,Z.exports.createElement(eat,{__scopeTooltip:e}),Z.exports.createElement(Wot,is({"data-state":a.stateAttribute},l,o,{ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),Z.exports.createElement(EU,null,r),Z.exports.createElement(Mot,{id:a.contentId,role:"tooltip"},i||r)))}),tat=Z.exports.forwardRef((n,t)=>{const{__scopeTooltip:e,...r}=n,i=e2(e);return Z.exports.createElement(Got,is({},i,r,{ref:t}))});function eat(n){const{__scopeTooltip:t}=n,e=n2("CheckTriggerMoved",t),r=LU(e.trigger),i=r==null?void 0:r.left,s=cO(i),o=r==null?void 0:r.top,a=cO(o),l=e.onClose;return Z.exports.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const nat=Zot,rat=Kot,iat=Jot,sat=tat;function oat(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function Br(n,t){if(n==null)return{};var e=oat(n,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}let mi;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(mi||(mi={}));const aat={[mi.UNSUPPORTED_INPUT]:(n,t)=>[`An input with type \`${n}\` input was found at path \`${t}\` but it's not supported yet.`],[mi.NO_COMPONENT_FOR_TYPE]:(n,t)=>[`Type \`${n}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[mi.UNKNOWN_INPUT]:(n,t)=>[`input at path \`${n}\` is not recognized.`,t],[mi.DUPLICATE_KEYS]:(n,t,e)=>[`Key \`${n}\` of path \`${t}\` already exists at path \`${e}\`. Even nested keys need to be unique. Rename one of the keys.`],[mi.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[mi.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[mi.THEME_ERROR]:(n,t)=>[`Error accessing the theme \`${n}.${t}\` value.`],[mi.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[mi.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[mi.INPUT_TYPE_OVERRIDE]:(n,t,e)=>[`Input at path \`${n}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${e}\`.`],[mi.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function NU(n,t,...e){const[r,...i]=aat[t](...e);console[n]("LEVA: "+r,...i)}const Nf=NU.bind(null,"warn"),lat=NU.bind(null,"log"),uat=["value"],cat=["schema"],fat=["value"],zU=[],jm={};function fO(n){let{value:t}=n,e=Br(n,uat);for(let r of zU){const i=r(t,e);if(i)return i}}function fh(n,t){let{schema:e}=t,r=Br(t,cat);if(n in jm){Nf(mi.ALREADY_REGISTERED_TYPE,n);return}zU.push((i,s)=>e(i,s)&&n),jm[n]=r}function uM(n,t,e,r){const{normalize:i}=jm[n];if(i)return i(t,e,r);if(typeof t!="object"||!("value"in t))return{value:t};const{value:s}=t,o=Br(t,fat);return{value:s,settings:o}}function hat(n,t,e,r,i,s){const{sanitize:o}=jm[n];return o?o(t,e,r,i,s):t}function hO(n,t,e){const{format:r}=jm[n];return r?r(t,e):t}function dat(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function sn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(e),!0).forEach(function(r){dat(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const Gd=(n,t,e)=>n>e?e:n<t?t:n,pat=n=>{if(n===""||typeof n=="number")return n;try{const t=ud(n);if(!isNaN(t))return t}catch{}return parseFloat(n)},mat=Math.log(10);function pO(n){let t=Math.abs(+String(n).replace(".",""));if(t===0)return .01;for(;t!==0&&t%10===0;)t/=10;const e=Math.floor(Math.log(t)/mat)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-e);return Math.max(i,.001)}const Sb=(n,t,e)=>e===t?0:(Gd(n,t,e)-t)/(e-t),Eb=(n,t,e)=>n*(e-t)+t,gat=()=>"_"+Math.random().toString(36).substr(2,9),mO=/\(([0-9+\-*/^ .]+)\)/,gO=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,yO=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,vO=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,_O=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,wO=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function ud(n){if(isNaN(Number(n)))if(mO.test(n)){const t=n.replace(mO,(e,r)=>String(ud(r)));return ud(t)}else if(gO.test(n)){const t=n.replace(gO,(e,r,i)=>String(Math.pow(Number(r),Number(i))));return ud(t)}else if(yO.test(n)){const t=n.replace(yO,(e,r,i)=>String(Number(r)*Number(i)));return ud(t)}else if(vO.test(n)){const t=n.replace(vO,(e,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return ud(t)}else if(_O.test(n)){const t=n.replace(_O,(e,r,i)=>String(Number(r)+Number(i)));return ud(t)}else if(wO.test(n)){const t=n.replace(wO,(e,r,i)=>String(Number(r)-Number(i)));return ud(t)}else return Number(n);return Number(n)}function yat(n,t){return t.reduce((e,r)=>(!!n&&n.hasOwnProperty(r)&&(e[r]=n[r]),e),{})}function vat(n,t){const e=sn({},n);return t.forEach(r=>r in n&&delete e[r]),e}function _at(n,t){return n.reduce((e,r,i)=>Object.assign(e,{[t[i]]:r}),{})}function UU(n){return Object.prototype.toString.call(n)==="[object Object]"}const wat=n=>UU(n)&&Object.keys(n).length===0;let xu;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(xu||(xu={}));let Au;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Au||(Au={}));const xat=["type","__customInput"],bat=["render","label","optional","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Sat=["type"];function VU(n,t,e={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:sn({key:t,label:t,optional:!1,disabled:!1},e)};if("__customInput"in n){const{type:T,__customInput:A}=n,P=Br(n,xat);return VU(A,t,P,T)}const{render:o,label:a,optional:l,disabled:u,hint:h,onChange:m,onEditStart:d,onEditEnd:y,transient:_}=n,v=Br(n,bat),w=sn({render:o,key:t,label:a!=null?a:t,hint:h,transient:_!=null?_:!!m,onEditStart:d,onEditEnd:y,disabled:u,optional:l},e);let{type:x}=v,S=Br(v,Sat);if(x=r!=null?r:x,x in xu)return{type:x,input:S,options:w};let M;return r&&UU(S)&&"value"in S?M=S.value:M=wat(S)?void 0:S,{type:x,input:M,options:sn(sn({},w),{},{onChange:m,optional:(i=w.optional)!==null&&i!==void 0?i:!1,disabled:(s=w.disabled)!==null&&s!==void 0?s:!1})}}function Eat(n,t,e,r){const i=VU(n,t),{type:s,input:o,options:a}=i;if(s)return s in xu?i:{type:s,input:uM(s,o,e,r),options:a};let l=fO(o);return l?{type:l,input:uM(l,o,e,r),options:a}:(l=fO({value:o}),l?{type:l,input:uM(l,{value:o},e,r),options:a}:!1)}function xO(n,t,e,r,i){const{value:s,type:o,settings:a}=n;n.value=HU({type:o,value:s,settings:a},t,e,r),n.fromPanel=i}const bO=function(t,e,r){this.type="LEVA_ERROR",this.message="LEVA: "+t,this.previousValue=e,this.error=r};function HU({type:n,value:t,settings:e},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(t):r;let a;try{a=hat(n,o,e,t,i,s)}catch(l){throw new bO(`The value \`${r}\` did not result in a correct value.`,t,l)}if(q_(a,t))throw new bO(`The value \`${r}\` did not result in a value update, which remained the same: \`${t}\`.
        You can ignore this warning if this is the intended behavior.`,t);return a}const WU=(n,t,e=!1)=>{let r=0;return function(){const i=arguments,s=e&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,t),s&&o()}},GU=n=>n.shiftKey?5:n.altKey?1/5:1,Mat=["value"],Tat=["min","max"],Aat=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const t=parseFloat(n);return isNaN(t)?!1:n.substring((""+t).length).trim().length<4}return!1},$U=(n,{min:t=-1/0,max:e=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=Gd(i,t,e);return r?s+r:s},Cat=(n,{pad:t=0,suffix:e})=>{const r=parseFloat(n).toFixed(t);return e?r+e:r},jU=n=>{let{value:t}=n,e=Br(n,Mat);const{min:r=-1/0,max:i=1/0}=e,s=Br(e,Tat);let o=parseFloat(t);const a=typeof t=="string"?t.substring((""+o).length):void 0;o=Gd(o,r,i);let l=e.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?pO(l)*10:pO(o);l=l||u/10;const h=Math.round(Gd(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:sn({initialValue:o,step:l,pad:h,min:r,max:i,suffix:a},s)}},YU=(n,{step:t,initialValue:e})=>{const r=Math.round((n-e)/t);return e+r*t};var qU=Object.freeze({__proto__:null,schema:Aat,sanitize:$U,format:Cat,normalize:jU,sanitizeStep:YU});const XU=Z.exports.createContext({});function ao(){return Z.exports.useContext(XU)}const DI=Z.exports.createContext(null),ZU=Z.exports.createContext(null),KU=Z.exports.createContext(null);function r2(){return Z.exports.useContext(ZU)}function Iat(){return Z.exports.useContext(KU)}const JU=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ox(n,t){const[e,r]=n.split(" "),i={};return e!=="none"&&(i.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${e!=="default"&&e||t.borderColor}`),r&&(i.backgroundColor=r),i}const Pv={$inputStyle:()=>n=>ox(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>ox(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>ox(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>ox(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Ke,css:Myt,createTheme:Rat,globalCss:Lat,keyframes:Tyt}=_ot({prefix:"leva",theme:JU(),utils:sn(sn({},Pv),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Pv.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Pv.$focusStyle()(n)}),$hover:n=>({"&:hover":Pv.$hoverStyle()(n)}),$active:n=>({"&:active":Pv.$activeStyle()(n)})})}),Pat=Lat({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Dat(n){const t=JU();if(!n)return{theme:t,className:""};Object.keys(n).forEach(r=>{Object.assign(t[r],n[r])});const e=Rat(t);return{theme:t,className:e.className}}function Yf(n,t){const{theme:e}=Z.exports.useContext(DI);if(!(n in e)||!(t in e[n]))return Nf(mi.THEME_ERROR,n,t),"";let r=t;for(;;){let i=e[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const QU=Ke("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),t8=Ke("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${QU}`]:{paddingLeft:0}}),kat=Ke(t8,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Oat=Ke("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Fat=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Bat=["onUpdate"];function kI(n){let{innerLabel:t,value:e,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=n,h=Br(n,Fat);const{id:m,emitOnEditStart:d,emitOnEditEnd:y,disabled:_}=ao(),v=a||m,w=Z.exports.useRef(null),x=u>0,S=x?"textarea":"input",M=Z.exports.useCallback(P=>F=>{const C=F.currentTarget.value;P(C)},[]);nn.useEffect(()=>{const P=w.current,F=M(C=>{r(C),y()});return P==null||P.addEventListener("blur",F),()=>P==null?void 0:P.removeEventListener("blur",F)},[M,r,y]);const T=Z.exports.useCallback(P=>{P.key==="Enter"&&M(r)(P)},[M,r]),A=Object.assign({as:S},x?{rows:u}:{},h);return an(Oat,{textArea:x,children:[t&&typeof t=="string"?Nt(t8,{children:t}):t,Nt(QU,{levaType:o,ref:w,id:v,type:l,autoComplete:"off",spellCheck:"false",value:e,onChange:M(i),onFocus:()=>d(),onKeyPress:T,onKeyDown:s,disabled:_,...A})]})}function Nat(n){let{onUpdate:t}=n,e=Br(n,Bat);const r=Z.exports.useCallback(s=>t(pat(s)),[t]),i=Z.exports.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;t(l=>parseFloat(l)+o*a)}},[t]);return Nt(kI,{...e,onUpdate:r,onKeyDown:i,type:"number"})}const Mb=Ke("div",{}),LA=Ke("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),zat=Ke("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${LA}::after`]:{opacity:.6},[`${Mb}:hover > & + ${LA}::after`]:{opacity:.6},[`${Mb}:hover > & > svg`]:{opacity:1}}),e8=Ke("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Mb}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),n8=Ke("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${e8} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),r8=Ke(n8,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Uat=Ke("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Vat=Ke("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),PA=Ke("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Hat=Ke("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${PA}`]:{pointerEvents:"auto"}}}}}),i8=Ke("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Wat=Ke("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Gat=Ke(sat,{fill:"$toolTipBackground"});function OI({children:n}){const{className:t}=Z.exports.useContext(DI);return Nt(Vst,{className:t,children:n})}const $at=["align"];function jat(){const{id:n,disable:t,disabled:e}=ao();return an(Ru,{children:[Nt(Vat,{id:n+"__disable",type:"checkbox",checked:!e,onChange:()=>t(!e)}),Nt("label",{htmlFor:n+"__disable"})]})}function Yat(n){const{id:t,optional:e,hint:r}=ao(),i=n.htmlFor||(t?{htmlFor:t}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return an(Ru,{children:[e&&Nt(jat,{}),r!==void 0?an(nat,{children:[Nt(rat,{asChild:!0,children:Nt(PA,{...i,...n})}),Nt(iat,{side:"top",sideOffset:2,children:an(Wat,{children:[r,Nt(Gat,{})]})})]}):Nt(PA,{...i,...s,...n})]})}function Lu(n){let{align:t}=n,e=Br(n,$at);const{value:r,label:i,key:s,disabled:o}=ao(),{hideCopyButton:a}=Iat(),l=!a&&s!==void 0,[u,h]=Z.exports.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r!=null?r:""})),h(!0)}catch{Nf(mi.CLIPBOARD_ERROR,{[s]:r})}};return an(Uat,{align:t,onPointerLeave:()=>h(!1),children:[Nt(Yat,{...e}),l&&!o&&Nt("div",{title:`Click to copy ${typeof i=="string"?i:s} value`,children:u?an("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Nt("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Nt("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}):an("svg",{onClick:m,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Nt("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Nt("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})}const qat=["toggled"],Xat=Ke("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function FI(n){let{toggled:t}=n,e=Br(n,qat);return Nt(Xat,{width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`},...e,children:Nt("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"})})}const Zat=["input"];function El(n){let{input:t}=n,e=Br(n,Zat);return t?Nt(r8,{...e}):Nt(n8,{...e})}function s8({value:n,type:t,settings:e,setValue:r}){const[i,s]=Z.exports.useState(hO(t,n,e)),o=Z.exports.useRef(n),a=Z.exports.useRef(e);a.current=e;const l=Z.exports.useCallback(h=>s(hO(t,h,a.current)),[t]),u=Z.exports.useCallback(h=>{try{r(h)}catch(m){const{type:d,previousValue:y}=m;if(d!=="LEVA_ERROR")throw m;l(y)}},[l,r]);return Z.exports.useEffect(()=>{q_(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:u}}function E1(n,t){const{emitOnEditStart:e,emitOnEditEnd:r}=ao();return ort(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),e==null||e());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},t)}function Kat(n){const t=Z.exports.useRef(null),e=Z.exports.useRef(null),r=Z.exports.useRef(!1);return Z.exports.useEffect(()=>{const i=WU(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,n(t.current,e.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),Z.exports.useEffect(()=>{e.current=t.current.getContext("2d")},[]),[t,e]}function o8(){const n=Z.exports.useRef(null),t=Z.exports.useRef({x:0,y:0}),e=Z.exports.useCallback(r=>{Object.assign(t.current,r),n.current&&(n.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[n,e]}const Jat=["__refCount"],cM=(n,t)=>{if(!n[t])return null;const e=n[t];return Br(e,Jat)};function Qat(n){const t=r2(),[e,r]=Z.exports.useState(cM(t.getData(),n)),i=Z.exports.useCallback(u=>t.setValueAtPath(n,u,!0),[n,t]),s=Z.exports.useCallback(u=>t.setSettingsAtPath(n,u),[n,t]),o=Z.exports.useCallback(u=>t.disableInputAtPath(n,u),[n,t]),a=Z.exports.useCallback(()=>t.emitOnEditStart(n),[n,t]),l=Z.exports.useCallback(()=>t.emitOnEditEnd(n),[n,t]);return Z.exports.useEffect(()=>{r(cM(t.getData(),n));const u=t.useStore.subscribe(h=>cM(h.data,n),r,{equalityFn:_1});return()=>u()},[t,n]),[e,{set:i,setSettings:s,disable:o,storeId:t.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const tlt=Ke("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),a8=Ke("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),DA=Ke("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),l8=Ke("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),u8=Ke("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function elt({value:n,min:t,max:e,onDrag:r,step:i,initialValue:s}){const o=Z.exports.useRef(null),a=Z.exports.useRef(null),l=Z.exports.useRef(0),u=Yf("sizes","scrubberWidth"),h=E1(({event:d,first:y,xy:[_],movement:[v],memo:w})=>{if(y){const{width:S,left:M}=o.current.getBoundingClientRect();l.current=S-parseFloat(u),w=(d==null?void 0:d.target)===a.current?n:Eb((_-M)/S,t,e)}const x=w+Eb(v/l.current,0,e-t);return r(YU(x,{step:i,initialValue:s})),w}),m=Sb(n,t,e);return an(l8,{ref:o,...h(),children:[Nt(a8,{children:Nt(u8,{style:{left:0,right:`${(1-m)*100}%`}})}),Nt(DA,{ref:a,style:{left:`calc(${m} * (100% - ${u}))`}})]})}const nlt=nn.memo(({label:n,onUpdate:t,step:e,innerLabelTrim:r})=>{const[i,s]=Z.exports.useState(!1),o=E1(({active:a,delta:[l],event:u,memo:h=0})=>(s(a),h+=l/2,Math.abs(h)>=1&&(t(m=>parseFloat(m)+Math.floor(h)*e*GU(u)),h=0),h));return Nt(kat,{dragging:i,title:n.length>1?n:"",...o(),children:n.slice(0,r)})});function c8({label:n,id:t,displayValue:e,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&Nt(nlt,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return Nt(Nat,{id:t,value:String(e),onUpdate:r,onChange:i,innerLabel:a})}function rlt(){const n=ao(),{label:t,value:e,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return an(El,{input:!0,children:[Nt(Lu,{children:t}),an(tlt,{hasRange:l,children:[l&&Nt(elt,{value:parseFloat(e),onDrag:r,...i}),Nt(c8,{...n,id:s,label:"value",innerLabelTrim:l?0:1})]})]})}const{sanitizeStep:ilt}=qU,slt=Br(qU,["sanitizeStep"]);var olt=sn({component:rlt},slt);const alt=(n,t)=>ra().schema({options:ra().passesAnyOf(ra().object(),ra().array())}).test(t),llt=(n,{values:t})=>{if(t.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},ult=(n,{values:t})=>t.indexOf(n),clt=n=>{let{value:t,options:e}=n,r,i;return Array.isArray(e)?(i=e,r=e.map(s=>String(s))):(i=Object.values(e),r=Object.keys(e)),"value"in n?i.includes(t)||(r.unshift(String(t)),i.unshift(t)):t=i[0],Object.values(e).includes(t)||(e[String(t)]=t),{value:t,settings:{keys:r,values:i}}};var flt=Object.freeze({__proto__:null,schema:alt,sanitize:llt,format:ult,normalize:clt});const hlt=Ke("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),kA=Ke("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),dlt=Ke("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${kA}:focus + &`]:{$focusStyle:""},[`${kA}:hover + &`]:{$hoverStyle:""}});function plt({displayValue:n,value:t,onUpdate:e,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=Z.exports.useRef();return t===a[n]&&(l.current=o[n]),an(hlt,{children:[Nt(kA,{id:r,value:n,onChange:u=>e(a[Number(u.currentTarget.value)]),disabled:s,children:o.map((u,h)=>Nt("option",{value:h,children:u},u))}),Nt(dlt,{children:l.current}),Nt(FI,{toggled:!0})]})}function mlt(){const{label:n,value:t,displayValue:e,onUpdate:r,id:i,disabled:s,settings:o}=ao();return an(El,{input:!0,children:[Nt(Lu,{children:n}),Nt(plt,{id:i,value:t,displayValue:e,onUpdate:r,settings:o,disabled:s})]})}var glt=sn({component:mlt},flt);const ylt=n=>ra().string().test(n),vlt=n=>{if(typeof n!="string")throw Error("Invalid string");return n},_lt=({value:n,editable:t=!0,rows:e=!1})=>({value:n,settings:{editable:t,rows:typeof e=="number"?e:e?5:0}});var wlt=Object.freeze({__proto__:null,schema:ylt,sanitize:vlt,normalize:_lt});const xlt=["displayValue","onUpdate","onChange","editable"],blt=Ke("div",{whiteSpace:"pre-wrap"});function Slt(n){let{displayValue:t,onUpdate:e,onChange:r,editable:i=!0}=n,s=Br(n,xlt);return i?Nt(kI,{value:t,onUpdate:e,onChange:r,...s}):Nt(blt,{children:t})}function Elt(){const{label:n,settings:t,displayValue:e,onUpdate:r,onChange:i}=ao();return an(El,{input:!0,children:[Nt(Lu,{children:n}),Nt(Slt,{displayValue:e,onUpdate:r,onChange:i,...t})]})}var Mlt=sn({component:Elt},wlt);const Tlt=n=>ra().boolean().test(n),Alt=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Clt=Object.freeze({__proto__:null,schema:Tlt,sanitize:Alt});const Ilt=Ke("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Rlt({value:n,onUpdate:t,id:e,disabled:r}){return an(Ilt,{children:[Nt("input",{id:e,type:"checkbox",checked:n,onChange:i=>t(i.currentTarget.checked),disabled:r}),Nt("label",{htmlFor:e,children:Nt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:Nt("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}function Llt(){const{label:n,value:t,onUpdate:e,disabled:r,id:i}=ao();return an(El,{input:!0,children:[Nt(Lu,{children:n}),Nt(Rlt,{value:t,onUpdate:e,id:i,disabled:r})]})}var Plt=sn({component:Llt},Clt);const Dlt=["locked"];function klt({value:n,id:t,valueKey:e,settings:r,onUpdate:i,innerLabelTrim:s}){const o=Z.exports.useRef(n[e]);o.current=n[e];const a=Z.exports.useCallback(u=>i({[e]:HU({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,e]),l=s8({type:"NUMBER",value:n[e],settings:r,setValue:a});return Nt(c8,{id:t,label:e,value:n[e],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Olt=Ke("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Flt(n){let{locked:t}=n,e=Br(n,Dlt);return Nt("svg",{width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:t?Nt("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Nt("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function BI({value:n,onUpdate:t,settings:e,innerLabelTrim:r}){const{id:i,setSettings:s}=ao(),{lock:o,locked:a}=e;return an(Olt,{withLock:o,children:[o&&Nt(Flt,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,u)=>Nt(klt,{id:u===0?i:`${i}.${l}`,valueKey:l,value:n,settings:e[l],onUpdate:t,innerLabelTrim:r},l))]})}const f8=(n,t)=>{const e={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{e[s]=jU(sn({value:o},t[s])).settings,r=Math.max(r,e[s].step),i=Math.min(i,e[s].pad)});for(let s in e){const{step:o,min:a,max:l}=t[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(e[s].step=r,e[s].pad=i)}return e},Blt=["lock"],Nlt=["value"];function zlt(n){const t=ra().array().length(n).every.number(),e=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>t.test(r)||e(r)}function Ult(n){return Array.isArray(n)?"array":"object"}function i_(n,t,e){return Ult(n)===t?n:t==="array"?Object.values(n):_at(n,e)}const Vlt=(n,t,e)=>{const r=i_(n,"object",t.keys);for(let o in r)r[o]=$U(r[o],t[o]);const i=Object.keys(r);let s={};if(i.length===t.keys.length)s=r;else{const o=i_(e,"object",t.keys);if(i.length===1&&t.locked){const a=i[0],l=r[a],u=o[a],h=u!==0?l/u:1;for(let m in o)m===a?s[a]=l:s[m]=o[m]*h}else s=sn(sn({},o),r)}return i_(s,t.format,t.keys)},Hlt=(n,t)=>i_(n,"object",t.keys),Wlt=n=>!!n&&("step"in n||"min"in n||"max"in n);function Glt(n,t,e=[]){const{lock:r=!1}=t,i=Br(t,Blt),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):e,a=i_(n,"object",o),l=Wlt(i)?o.reduce((h,m)=>Object.assign(h,{[m]:i}),{}):i,u=f8(a,l);return{value:s==="array"?n:a,settings:sn(sn({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function h8(n){return{schema:zlt(n.length),normalize:t=>{let{value:e}=t,r=Br(t,Nlt);return Glt(e,r,n)},format:(t,e)=>Hlt(t,e),sanitize:(t,e,r)=>Vlt(t,e,r)}}var $lt={grad:.9,turn:360,rad:360/(2*Math.PI)},kf=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Ms=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e+0},gl=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n>t?n:t},d8=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},SO=function(n){return{r:gl(n.r,0,255),g:gl(n.g,0,255),b:gl(n.b,0,255),a:gl(n.a)}},fM=function(n){return{r:Ms(n.r),g:Ms(n.g),b:Ms(n.b),a:Ms(n.a,3)}},jlt=/^#([0-9a-f]{3,8})$/i,ax=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},p8=function(n){var t=n.r,e=n.g,r=n.b,i=n.a,s=Math.max(t,e,r),o=s-Math.min(t,e,r),a=o?s===t?(e-r)/o:s===e?2+(r-t)/o:4+(t-e)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},m8=function(n){var t=n.h,e=n.s,r=n.v,i=n.a;t=t/360*6,e/=100,r/=100;var s=Math.floor(t),o=r*(1-e),a=r*(1-(t-s)*e),l=r*(1-(1-t+s)*e),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},EO=function(n){return{h:d8(n.h),s:gl(n.s,0,100),l:gl(n.l,0,100),a:gl(n.a)}},MO=function(n){return{h:Ms(n.h),s:Ms(n.s),l:Ms(n.l),a:Ms(n.a,3)}},TO=function(n){return m8((e=(t=n).s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}));var t,e,r},s_=function(n){return{h:(t=p8(n)).h,s:(i=(200-(e=t.s))*(r=t.v)/100)>0&&i<200?e*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,e,r,i},Ylt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qlt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xlt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zlt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OA={string:[[function(n){var t=jlt.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Ms(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Ms(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=Xlt.exec(n)||Zlt.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:SO({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=Ylt.exec(n)||qlt.exec(n);if(!t)return null;var e,r,i=EO({h:(e=t[1],r=t[2],r===void 0&&(r="deg"),Number(e)*($lt[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return TO(i)},"hsl"]],object:[[function(n){var t=n.r,e=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return kf(t)&&kf(e)&&kf(r)?SO({r:Number(t),g:Number(e),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var t=n.h,e=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!kf(t)||!kf(e)||!kf(r))return null;var o=EO({h:Number(t),s:Number(e),l:Number(r),a:Number(s)});return TO(o)},"hsl"],[function(n){var t=n.h,e=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!kf(t)||!kf(e)||!kf(r))return null;var o=function(a){return{h:d8(a.h),s:gl(a.s,0,100),v:gl(a.v,0,100),a:gl(a.a)}}({h:Number(t),s:Number(e),v:Number(r),a:Number(s)});return m8(o)},"hsv"]]},AO=function(n,t){for(var e=0;e<t.length;e++){var r=t[e][0](n);if(r)return[r,t[e][1]]}return[null,void 0]},g8=function(n){return typeof n=="string"?AO(n.trim(),OA.string):typeof n=="object"&&n!==null?AO(n,OA.object):[null,void 0]},Klt=function(n){return g8(n)[1]},hM=function(n,t){var e=s_(n);return{h:e.h,s:gl(e.s+100*t,0,100),l:e.l,a:e.a}},dM=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},CO=function(n,t){var e=s_(n);return{h:e.h,s:e.s,l:gl(e.l+100*t,0,100),a:e.a}},FA=function(){function n(t){this.parsed=g8(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Ms(dM(this.rgba),2)},n.prototype.isDark=function(){return dM(this.rgba)<.5},n.prototype.isLight=function(){return dM(this.rgba)>=.5},n.prototype.toHex=function(){return t=fM(this.rgba),e=t.r,r=t.g,i=t.b,o=(s=t.a)<1?ax(Ms(255*s)):"","#"+ax(e)+ax(r)+ax(i)+o;var t,e,r,i,s,o},n.prototype.toRgb=function(){return fM(this.rgba)},n.prototype.toRgbString=function(){return t=fM(this.rgba),e=t.r,r=t.g,i=t.b,(s=t.a)<1?"rgba("+e+", "+r+", "+i+", "+s+")":"rgb("+e+", "+r+", "+i+")";var t,e,r,i,s},n.prototype.toHsl=function(){return MO(s_(this.rgba))},n.prototype.toHslString=function(){return t=MO(s_(this.rgba)),e=t.h,r=t.s,i=t.l,(s=t.a)<1?"hsla("+e+", "+r+"%, "+i+"%, "+s+")":"hsl("+e+", "+r+"%, "+i+"%)";var t,e,r,i,s},n.prototype.toHsv=function(){return t=p8(this.rgba),{h:Ms(t.h),s:Ms(t.s),v:Ms(t.v),a:Ms(t.a,3)};var t},n.prototype.invert=function(){return So({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),So(hM(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),So(hM(this.rgba,-t))},n.prototype.grayscale=function(){return So(hM(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),So(CO(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),So(CO(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?So({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Ms(this.rgba.a,3);var e},n.prototype.hue=function(t){var e=s_(this.rgba);return typeof t=="number"?So({h:t,s:e.s,l:e.l,a:e.a}):Ms(e.h)},n.prototype.isEqual=function(t){return this.toHex()===So(t).toHex()},n}(),So=function(n){return n instanceof FA?n:new FA(n)},IO=[],Jlt=function(n){n.forEach(function(t){IO.indexOf(t)<0&&(t(FA,OA),IO.push(t))})};function Qlt(n,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in e)r[e[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var h=this.toRgb(),m=1/0,d="black";if(!s.length)for(var y in e)s[y]=new n(e[y]).toRgb();for(var _ in e){var v=(a=h,l=s[_],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<m&&(m=v,d=_)}return d}},t.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":e[a];return l?new n(l).toRgb():null},"name"])}function Xy(){return(Xy=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function NI(n,t){if(n==null)return{};var e,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)t.indexOf(e=s[r])>=0||(i[e]=n[e]);return i}function BA(n){var t=Z.exports.useRef(n),e=Z.exports.useRef(function(r){t.current&&t.current(r)});return t.current=n,e.current}var _y=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n<t?t:n},o_=function(n){return"touches"in n},NA=function(n){return n&&n.ownerDocument.defaultView||self},RO=function(n,t,e){var r=n.getBoundingClientRect(),i=o_(t)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(t.touches,e):t;return{left:_y((i.pageX-(r.left+NA(n).pageXOffset))/r.width),top:_y((i.pageY-(r.top+NA(n).pageYOffset))/r.height)}},LO=function(n){!o_(n)&&n.preventDefault()},zI=nn.memo(function(n){var t=n.onMove,e=n.onKey,r=NI(n,["onMove","onKey"]),i=Z.exports.useRef(null),s=BA(t),o=BA(e),a=Z.exports.useRef(null),l=Z.exports.useRef(!1),u=Z.exports.useMemo(function(){var y=function(w){LO(w),(o_(w)?w.touches.length>0:w.buttons>0)&&i.current?s(RO(i.current,w,a.current)):v(!1)},_=function(){return v(!1)};function v(w){var x=l.current,S=NA(i.current),M=w?S.addEventListener:S.removeEventListener;M(x?"touchmove":"mousemove",y),M(x?"touchend":"mouseup",_)}return[function(w){var x=w.nativeEvent,S=i.current;if(S&&(LO(x),!function(T,A){return A&&!o_(T)}(x,l.current)&&S)){if(o_(x)){l.current=!0;var M=x.changedTouches||[];M.length&&(a.current=M[0].identifier)}S.focus(),s(RO(S,x,a.current)),v(!0)}},function(w){var x=w.which||w.keyCode;x<37||x>40||(w.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},v]},[o,s]),h=u[0],m=u[1],d=u[2];return Z.exports.useEffect(function(){return d},[d]),nn.createElement("div",Xy({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:i,onKeyDown:m,tabIndex:0,role:"slider"}))}),M1=function(n){return n.filter(Boolean).join(" ")},UI=function(n){var t=n.color,e=n.left,r=n.top,i=r===void 0?.5:r,s=M1(["react-colorful__pointer",n.className]);return nn.createElement("div",{className:s,style:{top:100*i+"%",left:100*e+"%"}},nn.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Io=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e},y8=function(n){var t=n.s,e=n.v,r=n.a,i=(200-t)*e/100;return{h:Io(n.h),s:Io(i>0&&i<200?t*e/100/(i<=100?i:200-i)*100:0),l:Io(i/2),a:Io(r,2)}},zA=function(n){var t=y8(n);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},pM=function(n){var t=y8(n);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},v8=function(n){var t=n.h,e=n.s,r=n.v,i=n.a;t=t/360*6,e/=100,r/=100;var s=Math.floor(t),o=r*(1-e),a=r*(1-(t-s)*e),l=r*(1-(1-t+s)*e),u=s%6;return{r:Io(255*[r,a,o,o,l,r][u]),g:Io(255*[l,r,r,a,o,o][u]),b:Io(255*[o,o,l,r,r,a][u]),a:Io(i,2)}},_8=function(n){var t=n.r,e=n.g,r=n.b,i=n.a,s=Math.max(t,e,r),o=s-Math.min(t,e,r),a=o?s===t?(e-r)/o:s===e?2+(r-t)/o:4+(t-e)/o:0;return{h:Io(60*(a<0?a+6:a)),s:Io(s?o/s*100:0),v:Io(s/255*100),a:i}},w8=nn.memo(function(n){var t=n.hue,e=n.onChange,r=M1(["react-colorful__hue",n.className]);return nn.createElement("div",{className:r},nn.createElement(zI,{onMove:function(i){e({h:360*i.left})},onKey:function(i){e({h:_y(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Io(t),"aria-valuemax":"360","aria-valuemin":"0"},nn.createElement(UI,{className:"react-colorful__hue-pointer",left:t/360,color:zA({h:t,s:100,v:100,a:1})})))}),x8=nn.memo(function(n){var t=n.hsva,e=n.onChange,r={backgroundColor:zA({h:t.h,s:100,v:100,a:1})};return nn.createElement("div",{className:"react-colorful__saturation",style:r},nn.createElement(zI,{onMove:function(i){e({s:100*i.left,v:100-100*i.top})},onKey:function(i){e({s:_y(t.s+100*i.left,0,100),v:_y(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Io(t.s)+"%, Brightness "+Io(t.v)+"%"},nn.createElement(UI,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:zA(t)})))}),VI=function(n,t){if(n===t)return!0;for(var e in n)if(n[e]!==t[e])return!1;return!0};function b8(n,t,e){var r=BA(e),i=Z.exports.useState(function(){return n.toHsva(t)}),s=i[0],o=i[1],a=Z.exports.useRef({color:t,hsva:s});Z.exports.useEffect(function(){if(!n.equal(t,a.current.color)){var u=n.toHsva(t);a.current={hsva:u,color:t},o(u)}},[t,n]),Z.exports.useEffect(function(){var u;VI(s,a.current.hsva)||n.equal(u=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,n,r]);var l=Z.exports.useCallback(function(u){o(function(h){return Object.assign({},h,u)})},[]);return[s,l]}var tut=typeof window!="undefined"?Z.exports.useLayoutEffect:Z.exports.useEffect,eut=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:void 0},PO=new Map,S8=function(n){tut(function(){var t=n.current?n.current.ownerDocument:document;if(t!==void 0&&!PO.has(t)){var e=t.createElement("style");e.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,PO.set(t,e);var r=eut();r&&e.setAttribute("nonce",r),t.head.appendChild(e)}},[])},nut=function(n){var t=n.className,e=n.colorModel,r=n.color,i=r===void 0?e.defaultColor:r,s=n.onChange,o=NI(n,["className","colorModel","color","onChange"]),a=Z.exports.useRef(null);S8(a);var l=b8(e,i,s),u=l[0],h=l[1],m=M1(["react-colorful",t]);return nn.createElement("div",Xy({},o,{ref:a,className:m}),nn.createElement(x8,{hsva:u,onChange:h}),nn.createElement(w8,{hue:u.h,onChange:h,className:"react-colorful__last-control"}))},rut=function(n){var t=n.className,e=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+pM(Object.assign({},e,{a:0}))+", "+pM(Object.assign({},e,{a:1}))+")"},s=M1(["react-colorful__alpha",t]),o=Io(100*e.a);return nn.createElement("div",{className:s},nn.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),nn.createElement(zI,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:_y(e.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},nn.createElement(UI,{className:"react-colorful__alpha-pointer",left:e.a,color:pM(e)})))},iut=function(n){var t=n.className,e=n.colorModel,r=n.color,i=r===void 0?e.defaultColor:r,s=n.onChange,o=NI(n,["className","colorModel","color","onChange"]),a=Z.exports.useRef(null);S8(a);var l=b8(e,i,s),u=l[0],h=l[1],m=M1(["react-colorful",t]);return nn.createElement("div",Xy({},o,{ref:a,className:m}),nn.createElement(x8,{hsva:u,onChange:h}),nn.createElement(w8,{hue:u.h,onChange:h}),nn.createElement(rut,{hsva:u,onChange:h,className:"react-colorful__last-control"}))},sut={defaultColor:{r:0,g:0,b:0,a:1},toHsva:_8,fromHsva:v8,equal:VI},out=function(n){return nn.createElement(iut,Xy({},n,{colorModel:sut}))},aut={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return _8({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(t=v8(n)).r,g:t.g,b:t.b};var t},equal:VI},lut=function(n){return nn.createElement(nut,Xy({},n,{colorModel:aut}))},uut=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function T1(n,t){var e=cut(n);if(typeof e.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(e,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return e}function cut(n){var t=n.name,e=t&&t.lastIndexOf(".")!==-1;if(e&&!n.type){var r=t.split(".").pop().toLowerCase(),i=uut.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var fut=[".DS_Store","Thumbs.db"];function hut(n){return Hy(this,void 0,void 0,function(){return Wy(this,function(t){return Tb(n)&&dut(n)?[2,yut(n.dataTransfer,n.type)]:put(n)?[2,mut(n)]:Array.isArray(n)&&n.every(function(e){return"getFile"in e&&typeof e.getFile=="function"})?[2,gut(n)]:[2,[]]})})}function dut(n){return Tb(n.dataTransfer)}function put(n){return Tb(n)&&Tb(n.target)}function Tb(n){return typeof n=="object"&&n!==null}function mut(n){return UA(n.target.files).map(function(t){return T1(t)})}function gut(n){return Hy(this,void 0,void 0,function(){var t;return Wy(this,function(e){switch(e.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return t=e.sent(),[2,t.map(function(r){return T1(r)})]}})})}function yut(n,t){return Hy(this,void 0,void 0,function(){var e,r;return Wy(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(e=UA(n.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,e]:[4,Promise.all(e.map(vut))]):[3,2];case 1:return r=i.sent(),[2,DO(E8(r))];case 2:return[2,DO(UA(n.files).map(function(s){return T1(s)}))]}})})}function DO(n){return n.filter(function(t){return fut.indexOf(t.name)===-1})}function UA(n){if(n===null)return[];for(var t=[],e=0;e<n.length;e++){var r=n[e];t.push(r)}return t}function vut(n){if(typeof n.webkitGetAsEntry!="function")return kO(n);var t=n.webkitGetAsEntry();return t&&t.isDirectory?M8(t):kO(n)}function E8(n){return n.reduce(function(t,e){return vrt(t,Array.isArray(e)?E8(e):[e])},[])}function kO(n){var t=n.getAsFile();if(!t)return Promise.reject(n+" is not a File");var e=T1(t);return Promise.resolve(e)}function _ut(n){return Hy(this,void 0,void 0,function(){return Wy(this,function(t){return[2,n.isDirectory?M8(n):wut(n)]})})}function M8(n){var t=n.createReader();return new Promise(function(e,r){var i=[];function s(){var o=this;t.readEntries(function(a){return Hy(o,void 0,void 0,function(){var l,u,h;return Wy(this,function(m){switch(m.label){case 0:if(a.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=m.sent(),e(l),[3,4];case 3:return u=m.sent(),r(u),[3,4];case 4:return[3,6];case 5:h=Promise.all(a.map(_ut)),i.push(h),s(),m.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function wut(n){return Hy(this,void 0,void 0,function(){return Wy(this,function(t){return[2,new Promise(function(e,r){n.file(function(i){var s=T1(i,n.fullPath);e(s)},function(i){r(i)})})]})})}var xut=function(n,t){if(n&&t){var e=Array.isArray(t)?t:t.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return e.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function OO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function FO(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(e),!0).forEach(function(r){T8(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):OO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function T8(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function BO(n,t){return Mut(n)||Eut(n,t)||Sut(n,t)||but()}function but(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sut(n,t){if(!!n){if(typeof n=="string")return NO(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return NO(n,t)}}function NO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Eut(n,t){var e=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r=[],i=!0,s=!1,o,a;try{for(e=e.call(n);!(i=(o=e.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&e.return!=null&&e.return()}finally{if(s)throw a}}return r}}function Mut(n){if(Array.isArray(n))return n}var Tut="file-invalid-type",Aut="file-too-large",Cut="file-too-small",Iut="too-many-files",Rut=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var e=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Tut,message:"File type must be ".concat(e)}},zO=function(t){return{code:Aut,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},UO=function(t){return{code:Cut,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Lut={code:Iut,message:"Too many files"};function A8(n,t){var e=n.type==="application/x-moz-file"||xut(n,t);return[e,e?null:Rut(t)]}function C8(n,t,e){if(Dv(n.size))if(Dv(t)&&Dv(e)){if(n.size>e)return[!1,zO(e)];if(n.size<t)return[!1,UO(t)]}else{if(Dv(t)&&n.size<t)return[!1,UO(t)];if(Dv(e)&&n.size>e)return[!1,zO(e)]}return[!0,null]}function Dv(n){return n!=null}function Put(n){var t=n.files,e=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(a){var l=A8(a,e),u=BO(l,1),h=u[0],m=C8(a,r,i),d=BO(m,1),y=d[0];return h&&y})}function Ab(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble!="undefined"?n.cancelBubble:!1}function lx(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!n.target&&!!n.target.files}function VO(n){n.preventDefault()}function Dut(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function kut(n){return n.indexOf("Edge/")!==-1}function Out(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Dut(n)||kut(n)}function rc(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.some(function(a){return!Ab(r)&&a&&a.apply(void 0,[r].concat(s)),Ab(r)})}}function Fut(){return"showOpenFilePicker"in window}function But(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}).reduce(function(t,e){return FO(FO({},t),{},T8({},e,[]))},{}):{}}]}function Nut(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function zut(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Uut=["children"],Vut=["open"],Hut=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Wut=["refKey","onChange","onClick"];function Gut(n){return Yut(n)||jut(n)||I8(n)||$ut()}function $ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jut(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Yut(n){if(Array.isArray(n))return VA(n)}function mM(n,t){return Zut(n)||Xut(n,t)||I8(n,t)||qut()}function qut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8(n,t){if(!!n){if(typeof n=="string")return VA(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return VA(n,t)}}function VA(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Xut(n,t){var e=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r=[],i=!0,s=!1,o,a;try{for(e=e.call(n);!(i=(o=e.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&e.return!=null&&e.return()}finally{if(s)throw a}}return r}}function Zut(n){if(Array.isArray(n))return n}function HO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function di(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(e),!0).forEach(function(r){HA(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function HA(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Cb(n,t){if(n==null)return{};var e=Kut(n,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}function Kut(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}var HI=Z.exports.forwardRef(function(n,t){var e=n.children,r=Cb(n,Uut),i=L8(r),s=i.open,o=Cb(i,Vut);return Z.exports.useImperativeHandle(t,function(){return{open:s}},[s]),Nt(Ru,{children:e(di(di({},o),{},{open:s}))})});HI.displayName="Dropzone";var R8={disabled:!1,getFilesFromEvent:hut,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};HI.defaultProps=R8;HI.propTypes={children:$r.func,accept:$r.oneOfType([$r.string,$r.arrayOf($r.string)]),multiple:$r.bool,preventDropOnDocument:$r.bool,noClick:$r.bool,noKeyboard:$r.bool,noDrag:$r.bool,noDragEventsBubbling:$r.bool,minSize:$r.number,maxSize:$r.number,maxFiles:$r.number,disabled:$r.bool,getFilesFromEvent:$r.func,onFileDialogCancel:$r.func,onFileDialogOpen:$r.func,useFsAccessApi:$r.bool,onDragEnter:$r.func,onDragLeave:$r.func,onDragOver:$r.func,onDrop:$r.func,onDropAccepted:$r.func,onDropRejected:$r.func,validator:$r.func};var WA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function L8(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=di(di({},R8),n),e=t.accept,r=t.disabled,i=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,h=t.onDragLeave,m=t.onDragOver,d=t.onDrop,y=t.onDropAccepted,_=t.onDropRejected,v=t.onFileDialogCancel,w=t.onFileDialogOpen,x=t.useFsAccessApi,S=t.preventDropOnDocument,M=t.noClick,T=t.noKeyboard,A=t.noDrag,P=t.noDragEventsBubbling,F=t.validator,C=Z.exports.useMemo(function(){return typeof w=="function"?w:WO},[w]),B=Z.exports.useMemo(function(){return typeof v=="function"?v:WO},[v]),V=Z.exports.useRef(null),Y=Z.exports.useRef(null),z=Z.exports.useReducer(Jut,WA),q=mM(z,2),L=q[0],tt=q[1],ct=L.isFocused,lt=L.isFileDialogActive,at=L.draggedFiles,it=Z.exports.useRef(typeof window!="undefined"&&window.isSecureContext&&x&&Fut()),ut=function(){!it.current&&lt&&setTimeout(function(){if(Y.current){var ft=Y.current.files;ft.length||(tt({type:"closeDialog"}),B())}},300)};Z.exports.useEffect(function(){return window.addEventListener("focus",ut,!1),function(){window.removeEventListener("focus",ut,!1)}},[Y,lt,B,it]);var j=Z.exports.useRef([]),K=function(ft){V.current&&V.current.contains(ft.target)||(ft.preventDefault(),j.current=[])};Z.exports.useEffect(function(){return S&&(document.addEventListener("dragover",VO,!1),document.addEventListener("drop",K,!1)),function(){S&&(document.removeEventListener("dragover",VO),document.removeEventListener("drop",K))}},[V,S]);var xt=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),vt(U),j.current=[].concat(Gut(j.current),[U.target]),lx(U)&&Promise.resolve(i(U)).then(function(ft){Ab(U)&&!P||(tt({draggedFiles:ft,isDragActive:!0,type:"setDraggedFiles"}),u&&u(U))})},[i,u,P]),Lt=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),vt(U);var ft=lx(U);if(ft&&U.dataTransfer)try{U.dataTransfer.dropEffect="copy"}catch{}return ft&&m&&m(U),!1},[m,P]),Pt=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),vt(U);var ft=j.current.filter(function(Ht){return V.current&&V.current.contains(Ht)}),Et=ft.indexOf(U.target);Et!==-1&&ft.splice(Et,1),j.current=ft,!(ft.length>0)&&(tt({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),lx(U)&&h&&h(U))},[V,h,P]),Ot=Z.exports.useCallback(function(U,ft){var Et=[],Ht=[];U.forEach(function(Qt){var ue=A8(Qt,e),Wt=mM(ue,2),He=Wt[0],Ue=Wt[1],xe=C8(Qt,o,s),gt=mM(xe,2),me=gt[0],pe=gt[1],De=F?F(Qt):null;if(He&&me&&!De)Et.push(Qt);else{var _e=[Ue,pe];De&&(_e=_e.concat(De)),Ht.push({file:Qt,errors:_e.filter(function(We){return We})})}}),(!a&&Et.length>1||a&&l>=1&&Et.length>l)&&(Et.forEach(function(Qt){Ht.push({file:Qt,errors:[Lut]})}),Et.splice(0)),tt({acceptedFiles:Et,fileRejections:Ht,type:"setFiles"}),d&&d(Et,Ht,ft),Ht.length>0&&_&&_(Ht,ft),Et.length>0&&y&&y(Et,ft)},[tt,a,e,o,s,l,d,y,_,F]),Ee=Z.exports.useCallback(function(U){U.preventDefault(),U.persist(),vt(U),j.current=[],lx(U)&&Promise.resolve(i(U)).then(function(ft){Ab(U)&&!P||Ot(ft,U)}),tt({type:"reset"})},[i,Ot,P]),se=Z.exports.useCallback(function(){if(it.current){tt({type:"openDialog"}),C();var U={multiple:a,types:But(e)};window.showOpenFilePicker(U).then(function(ft){return i(ft)}).then(function(ft){Ot(ft,null),tt({type:"closeDialog"})}).catch(function(ft){Nut(ft)?(B(ft),tt({type:"closeDialog"})):zut(ft)&&(it.current=!1,Y.current&&(Y.current.value=null,Y.current.click()))});return}Y.current&&(tt({type:"openDialog"}),C(),Y.current.value=null,Y.current.click())},[tt,C,B,x,Ot,e,a]),fe=Z.exports.useCallback(function(U){!V.current||!V.current.isEqualNode(U.target)||(U.key===" "||U.key==="Enter"||U.keyCode===32||U.keyCode===13)&&(U.preventDefault(),se())},[V,se]),oe=Z.exports.useCallback(function(){tt({type:"focus"})},[]),Le=Z.exports.useCallback(function(){tt({type:"blur"})},[]),Kt=Z.exports.useCallback(function(){M||(Out()?setTimeout(se,0):se())},[M,se]),Yt=function(ft){return r?null:ft},O=function(ft){return T?null:Yt(ft)},Tt=function(ft){return A?null:Yt(ft)},vt=function(ft){P&&ft.stopPropagation()},nt=Z.exports.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ft=U.refKey,Et=ft===void 0?"ref":ft,Ht=U.role,Qt=U.onKeyDown,ue=U.onFocus,Wt=U.onBlur,He=U.onClick,Ue=U.onDragEnter,xe=U.onDragOver,gt=U.onDragLeave,me=U.onDrop,pe=Cb(U,Hut);return di(di(HA({onKeyDown:O(rc(Qt,fe)),onFocus:O(rc(ue,oe)),onBlur:O(rc(Wt,Le)),onClick:Yt(rc(He,Kt)),onDragEnter:Tt(rc(Ue,xt)),onDragOver:Tt(rc(xe,Lt)),onDragLeave:Tt(rc(gt,Pt)),onDrop:Tt(rc(me,Ee)),role:typeof Ht=="string"&&Ht!==""?Ht:"button"},Et,V),!r&&!T?{tabIndex:0}:{}),pe)}},[V,fe,oe,Le,Kt,xt,Lt,Pt,Ee,T,A,r]),J=Z.exports.useCallback(function(U){U.stopPropagation()},[]),dt=Z.exports.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ft=U.refKey,Et=ft===void 0?"ref":ft,Ht=U.onChange,Qt=U.onClick,ue=Cb(U,Wut),Wt=HA({accept:e,multiple:a,type:"file",style:{display:"none"},onChange:Yt(rc(Ht,Ee)),onClick:Yt(rc(Qt,J)),tabIndex:-1},Et,Y);return di(di({},Wt),ue)}},[Y,e,a,Ee,r]),Gt=at.length,Vt=Gt>0&&Put({files:at,accept:e,minSize:o,maxSize:s,multiple:a,maxFiles:l}),G=Gt>0&&!Vt;return di(di({},L),{},{isDragAccept:Vt,isDragReject:G,isFocused:ct&&!r,getRootProps:nt,getInputProps:dt,rootRef:V,inputRef:Y,open:Yt(se)})}function Jut(n,t){switch(t.type){case"focus":return di(di({},n),{},{isFocused:!0});case"blur":return di(di({},n),{},{isFocused:!1});case"openDialog":return di(di({},WA),{},{isFileDialogActive:!0});case"closeDialog":return di(di({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var e=t.isDragActive,r=t.draggedFiles;return di(di({},n),{},{draggedFiles:r,isDragActive:e});case"setFiles":return di(di({},n),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return di({},WA);default:return n}}function WO(){}const Qut=n=>(t,e,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const h=(l==null?void 0:l.equalityFn)||Object.is;let m=o(r.getState());u=d=>{const y=o(d);if(!h(m,y)){const _=m;a(m=y,_)}},l!=null&&l.fireImmediately&&a(m,m)}return i(u)},n(t,e,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var tct=function(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ect=tct;function GO(n){return ect(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var P8=function(t){var e,r;return!(GO(t)===!1||(e=t.constructor,typeof e!="function")||(r=e.prototype,GO(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var nct=P8,WI=function(t){return nct(t)||typeof t=="function"||Array.isArray(t)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var rct=function(t,e,r){for(var i in t)if(e.call(r,t[i],i,t)===!1)break},ict=WI,sct=rct;function D8(n,t){for(var e=arguments.length,r=0;++r<e;){var i=arguments[r];GA(i)&&sct(i,oct,n)}return n}function oct(n,t){if(!!act(t)){var e=this[t];GA(n)&&GA(e)?D8(e,n):this[t]=n}}function GA(n){return ict(n)&&!Array.isArray(n)}function act(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var lct=D8;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var uct=function(n,t,e,r,i){if(!cct(n)||!t)return n;if(t=ux(t),e&&(t+="."+ux(e)),r&&(t+="."+ux(r)),i&&(t+="."+ux(i)),t in n)return n[t];for(var s=t.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function cct(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function ux(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var fct=function(n,t){if(n===null||typeof n=="undefined")throw new TypeError("expected first argument to be an object.");if(typeof t=="undefined"||typeof Symbol=="undefined"||typeof Object.getOwnPropertySymbols!="function")return n;for(var e=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];e.call(o,u)&&(r[u]=o[u])}return r},hct=WI,dct=fct,pct=Object.assign||function(n){if(n===null||typeof n=="undefined")throw new TypeError("Cannot convert undefined or null to object");$O(n)||(n={});for(var t=1;t<arguments.length;t++){var e=arguments[t];gct(e)&&(e=yct(e)),$O(e)&&(mct(n,e),dct(n,e))}return n};function mct(n,t){for(var e in t)vct(t,e)&&(n[e]=t[e])}function gct(n){return n&&typeof n=="string"}function yct(n){var t={};for(var e in n)t[e]=n[e];return t}function $O(n){return n&&typeof n=="object"||hct(n)}function vct(n,t){return Object.prototype.hasOwnProperty.call(n,t)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _ct=pct,wct=function(n,t,e){if(typeof n!="string")throw new TypeError("expected a string");typeof t=="function"&&(e=t,t=null),typeof t=="string"&&(t={sep:t});var r=_ct({sep:"."},t),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,h=n.length,m=-1,d;function y(){if(s&&a.length)return s[a[a.length-1]]}for(;++m<h;){var _=n[m],v=n[m+1],w={val:_,idx:m,arr:l,str:n};if(o.push(w),_==="\\"){w.val=bct(r,n,m)===!0?_+v:v,w.escaped=!0,typeof e=="function"&&e(w),l[l.length-1]+=w.val,m++;continue}if(s&&s[_]){a.push(_);var x=y(),S=m+1;if(n.indexOf(x,S+1)!==-1)for(;a.length&&S<h;){var M=n[++S];if(M==="\\"){M++;continue}if(i.indexOf(M)!==-1){S=$A(n,M,S+1);continue}if(x=y(),a.length&&n.indexOf(x,S+1)===-1)break;if(s[M]){a.push(M);continue}x===M&&a.pop()}if(d=S,d===-1){l[l.length-1]+=_;continue}_=n.slice(m,d+1),w.val=_,w.idx=m=d}if(i.indexOf(_)!==-1){if(d=$A(n,_,m+1),d===-1){l[l.length-1]+=_;continue}xct(_,r)===!0?_=n.slice(m,d+1):_=n.slice(m+1,d),w.val=_,w.idx=m=d}if(typeof e=="function"&&(e(w,o),_=w.val,m=w.idx),w.val===u&&w.split!==!1){l.push("");continue}l[l.length-1]+=w.val}return l};function $A(n,t,e,r){var i=n.indexOf(t,e);return n.charAt(i-1)==="\\"?$A(n,t,i+1):i}function xct(n,t){return t.keepDoubleQuotes===!0&&n==='"'||t.keepSingleQuotes===!0&&n==="'"?!0:t.keepQuotes}function bct(n,t,e){return typeof n.keepEscaping=="function"?n.keepEscaping(t,e):n.keepEscaping===!0||t[e+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Sct=function(t){return typeof t!="undefined"&&t!==null&&(typeof t=="object"||typeof t=="function")},jO=Sct,Ect=function(t){jO(t)||(t={});for(var e=arguments.length,r=1;r<e;r++){var i=arguments[r];jO(i)&&Mct(t,i)}return t};function Mct(n,t){for(var e in t)Tct(t,e)&&(n[e]=t[e])}function Tct(n,t){return Object.prototype.hasOwnProperty.call(n,t)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Act=function(t){return typeof t!="undefined"&&t!==null&&(typeof t=="object"||typeof t=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Cct=wct,Ict=Ect,YO=P8,qO=Act,Rct=function(n,t,e){if(!qO(n)||(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),typeof t!="string"))return n;for(var r=Cct(t,{sep:".",brackets:!0}).filter(Lct),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){qO(o[a])||(o[a]={}),o=o[a];continue}YO(o[a])&&YO(e)?o[a]=Ict({},o[a],e):o[a]=e}return n};function Lct(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var gM=WI,XO=lct,Pct=uct,ZO=Rct,Dct=function(t,e,r){if(!gM(t))throw new TypeError("expected an object");if(typeof e!="string"||r==null)return XO.apply(null,arguments);if(typeof r=="string")return ZO(t,e,r),t;var i=Pct(t,e);return gM(r)&&gM(i)&&(r=XO({},i,r)),ZO(t,e,r),t};const k8=(...n)=>n.filter(Boolean).join(".");function kct(n){const t=n.split(".");return[t.pop(),t.join(".")||void 0]}function Oct(n,t){return Object.entries(yat(n,t)).reduce((e,[,{value:r,disabled:i,key:s}])=>(e[s]=i?void 0:r,e),{})}function Fct(n,t){const e=Z.exports.useRef();return(t?q_:_1)(n,e.current)||(e.current=n),e.current}function O8(n,t){return Z.exports.useMemo(n,Fct(t,!0))}function Bct(n){const t=Z.exports.useRef(null),e=Z.exports.useRef(null),r=Z.exports.useRef(!0);return Z.exports.useLayoutEffect(()=>{n||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),Z.exports.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=t.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),e.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=e.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:t,contentRef:e}}const Nct=n=>{const[t,e]=Z.exports.useState(n.getVisiblePaths());return Z.exports.useEffect(()=>{e(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,e,{equalityFn:_1});return()=>r()},[n]),t};function zct(n,t,e){return n.useStore(i=>{const s=sn(sn({},e),i.data);return Oct(s,t)},_1)}function F8(n=3){const t=Z.exports.useRef(null),e=Z.exports.useRef(null),[r,i]=Z.exports.useState(!1),s=Z.exports.useCallback(()=>i(!0),[]),o=Z.exports.useCallback(()=>i(!1),[]);return Z.exports.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=t.current.getBoundingClientRect(),{height:h}=e.current.getBoundingClientRect(),m=a+h>window.innerHeight-40?"up":"down";e.current.style.position="fixed",e.current.style.zIndex="10000",e.current.style.left=u+"px",m==="down"?e.current.style.top=a+n+"px":e.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:t,wrapperRef:e,shown:r,show:s,hide:o}}Jlt([Qlt]);const Uct={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ra.extend({color:()=>n=>So(n).isValid()});const Vct=n=>ra().color().test(n);function B8(n,{format:t,hasAlpha:e,isString:r}){const i=Uct[t]+(r&&t!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!e?vat(s,["a"]):s}const N8=(n,t)=>{const e=So(n);if(!e.isValid())throw Error("Invalid color");return B8(e,t)},Hct=(n,t)=>B8(So(n),sn(sn({},t),{},{isString:!0,format:"hex"})),Wct=({value:n})=>{const t=Klt(n),e=t==="name"?"hex":t,r=typeof n=="object"?"a"in n:t==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:e,hasAlpha:r,isString:typeof n=="string"};return{value:N8(n,i),settings:i}};var Gct=Object.freeze({__proto__:null,schema:Vct,sanitize:N8,format:Hct,normalize:Wct});const $ct=Ke("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),jct=Ke("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Yct=Ke("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function KO(n,t){return t!=="rgb"?So(n).toRgb():n}function qct({value:n,displayValue:t,settings:e,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ao(),{format:o,hasAlpha:a}=e,{popinRef:l,wrapperRef:u,shown:h,show:m,hide:d}=F8(),y=Z.exports.useRef(0),[_,v]=Z.exports.useState(()=>KO(n,o)),w=a?out:lut,x=()=>{v(KO(n,o)),m(),i()},S=()=>{d(),s(),window.clearTimeout(y.current)},M=()=>{y.current=window.setTimeout(S,500)};return Z.exports.useEffect(()=>()=>window.clearTimeout(y.current),[]),an(Ru,{children:[Nt($ct,{ref:l,active:h,onClick:()=>x(),style:{color:t}}),h&&an(OI,{children:[Nt(i8,{onPointerUp:S}),Nt(Yct,{ref:u,onMouseEnter:()=>window.clearTimeout(y.current),onMouseLeave:T=>T.buttons===0&&M(),children:Nt(w,{color:_,onChange:r})})]})]})}function Xct(){const{value:n,displayValue:t,label:e,onChange:r,onUpdate:i,settings:s}=ao();return an(El,{input:!0,children:[Nt(Lu,{children:e}),an(jct,{children:[Nt(qct,{value:n,displayValue:t,onChange:r,onUpdate:i,settings:s}),Nt(kI,{value:t,onChange:r,onUpdate:i})]})]})}var Zct=sn({component:Xct},Gct);function Kct(){const{label:n,displayValue:t,onUpdate:e,settings:r}=ao();return an(El,{input:!0,children:[Nt(Lu,{children:n}),Nt(BI,{value:t,settings:r,onUpdate:e})]})}var Jct=sn({component:Kct},h8(["x","y","z"]));const Qct=Ke("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),tft=Ke("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function eft({value:n,settings:t,onUpdate:e}){const r=Z.exports.useRef(),i=Z.exports.useRef(0),s=Z.exports.useRef(0),o=Z.exports.useRef(1),[a,l]=Z.exports.useState(!1),[u,h]=Z.exports.useState(!1),[m,d]=o8(),y=Z.exports.useRef(null),_=Z.exports.useRef(null);Z.exports.useLayoutEffect(()=>{if(a){const{top:z,left:q,width:L,height:tt}=y.current.getBoundingClientRect();_.current.style.left=q+L/2+"px",_.current.style.top=z+tt/2+"px"}},[a]);const{keys:[v,w],joystick:x}=t,S=x==="invertY"?1:-1,{[v]:{step:M},[w]:{step:T}}=t,A=Yf("sizes","joystickWidth"),P=Yf("sizes","joystickHeight"),F=parseFloat(A)*.8/2,C=parseFloat(P)*.8/2,B=Z.exports.useCallback(()=>{r.current||(h(!0),i.current&&d({x:i.current*F}),s.current&&d({y:s.current*-C}),r.current=window.setInterval(()=>{e(z=>{const q=M*i.current*o.current,L=S*T*s.current*o.current;return Array.isArray(z)?{[v]:z[0]+q,[w]:z[1]+L}:{[v]:z[v]+q,[w]:z[w]+L}})},16))},[F,C,e,d,M,T,v,w,S]),V=Z.exports.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,h(!1)},[]);Z.exports.useEffect(()=>{function z(q){o.current=GU(q)}return window.addEventListener("keydown",z),window.addEventListener("keyup",z),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",z),window.removeEventListener("keyup",z)}},[]);const Y=E1(({first:z,active:q,delta:[L,tt],movement:[ct,lt]})=>{z&&l(!0);const at=Gd(ct,-F,F),it=Gd(lt,-C,C);i.current=Math.abs(ct)>Math.abs(at)?Math.sign(ct-at):0,s.current=Math.abs(lt)>Math.abs(it)?Math.sign(it-lt):0;let ut=n[v],j=n[w];q?(i.current||(ut+=L*M*o.current,d({x:at})),s.current||(j-=S*tt*T*o.current,d({y:it})),i.current||s.current?B():V(),e({[v]:ut,[w]:j})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),V())});return Nt(Qct,{ref:y,...Y(),children:a&&Nt(OI,{children:an(tft,{ref:_,isOutOfBounds:u,children:[Nt("div",{}),Nt("span",{ref:m})]})})})}const nft=Ke("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function rft(){const{label:n,displayValue:t,onUpdate:e,settings:r}=ao();return an(El,{input:!0,children:[Nt(Lu,{children:n}),an(nft,{withJoystick:!!r.joystick,children:[r.joystick&&Nt(eft,{value:t,settings:r,onUpdate:e}),Nt(BI,{value:t,settings:r,onUpdate:e})]})]})}const ift=["joystick"],z8=h8(["x","y"]),sft=n=>{let{joystick:t=!0}=n,e=Br(n,ift);const{value:r,settings:i}=z8.normalize(e);return{value:r,settings:sn(sn({},i),{},{joystick:t})}};var oft=sn(sn({component:rft},z8),{},{normalize:sft});const aft=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |\xA0File].")}},lft=(n,t)=>typeof t=="object"&&"image"in t,uft=({image:n})=>({value:n});var cft=Object.freeze({__proto__:null,sanitize:aft,schema:lft,normalize:uft});const fft=Ke("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),hft=Ke("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),dft=Ke("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),pft=Ke("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),mft=Ke("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),gft=Ke("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function yft(){const{label:n,value:t,onUpdate:e,disabled:r}=ao(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=F8(),u=Z.exports.useCallback(_=>{_.length&&e(_[0])},[e]),h=Z.exports.useCallback(_=>{_.stopPropagation(),e(void 0)},[e]),{getRootProps:m,getInputProps:d,isDragAccept:y}=L8({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return an(El,{input:!0,children:[Nt(Lu,{children:n}),an(fft,{children:[Nt(dft,{ref:i,hasImage:!!t,onPointerDown:()=>!!t&&a(),onPointerUp:l,style:{backgroundImage:t?`url(${t})`:"none"}}),o&&!!t&&an(OI,{children:[Nt(i8,{onPointerUp:l,style:{cursor:"pointer"}}),Nt(pft,{ref:s,style:{backgroundImage:`url(${t})`}})]}),an(hft,{...m({isDragAccept:y}),children:[Nt("input",{...d()}),Nt(mft,{children:y?"drop image":"click or drop"})]}),Nt(gft,{onClick:h,disabled:!t})]})]})}var vft=sn({component:yft},cft);const JO=ra().number(),_ft=(n,t)=>ra().array().length(2).every.number().test(n)&&ra().schema({min:JO,max:JO}).test(t),Ib=n=>({min:n[0],max:n[1]}),U8=(n,{bounds:[t,e]},r)=>{const i=Array.isArray(n)?Ib(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=sn(sn({},s),i);return[Gd(Number(o),t,Math.max(t,a)),Gd(Number(a),Math.min(e,o),e)]},wft=({value:n,min:t,max:e})=>{const r={min:t,max:e},i=f8(Ib(n),{min:r,max:r}),s=[t,e],o=sn(sn({},i),{},{bounds:s});return{value:U8(Ib(n),o,n),settings:o}};var xft=Object.freeze({__proto__:null,schema:_ft,format:Ib,sanitize:U8,normalize:wft});const bft=["value","bounds","onDrag"],Sft=["bounds"],Eft=Ke("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Mft(n){let{value:t,bounds:[e,r],onDrag:i}=n,s=Br(n,bft);const o=Z.exports.useRef(null),a=Z.exports.useRef(null),l=Z.exports.useRef(null),u=Z.exports.useRef(0),h=Yf("sizes","scrubberWidth"),m=E1(({event:_,first:v,xy:[w],movement:[x],memo:S={}})=>{if(v){const{width:T,left:A}=o.current.getBoundingClientRect();u.current=T-parseFloat(h);const P=(_==null?void 0:_.target)===a.current||(_==null?void 0:_.target)===l.current;S.pos=Eb((w-A)/T,e,r);const F=Math.abs(S.pos-t.min)-Math.abs(S.pos-t.max);S.key=F<0||F===0&&S.pos<=t.min?"min":"max",P&&(S.pos=t[S.key])}const M=S.pos+Eb(x/u.current,0,r-e);return i({[S.key]:ilt(M,s[S.key])}),S}),d=`calc(${Sb(t.min,e,r)} * (100% - ${h} - 8px) + 4px)`,y=`calc(${1-Sb(t.max,e,r)} * (100% - ${h} - 8px) + 4px)`;return an(l8,{ref:o,...m(),children:[Nt(a8,{children:Nt(u8,{style:{left:d,right:y}})}),Nt(DA,{position:"left",ref:a,style:{left:d}}),Nt(DA,{position:"right",ref:l,style:{right:y}})]})}function Tft(){const{label:n,displayValue:t,onUpdate:e,settings:r}=ao(),i=Br(r,Sft);return Nt(Ru,{children:an(El,{input:!0,children:[Nt(Lu,{children:n}),an(Eft,{children:[Nt(Mft,{value:t,...r,onDrag:e}),Nt(BI,{value:t,settings:i,onUpdate:e,innerLabelTrim:0})]})]})})}var Aft=sn({component:Tft},xft);const Cft=()=>{const n=new Map;return{on:(t,e)=>{let r=n.get(t);r===void 0&&(r=new Set,n.set(t,r)),r.add(e)},off:(t,e)=>{const r=n.get(t);r!==void 0&&(r.delete(e),r.size===0&&n.delete(t))},emit:(t,...e)=>{const r=n.get(t);if(r!==void 0)for(const i of r)i(...e)}}},Ift=["type","value"],Rft=["onChange","transient","onEditStart","onEditEnd"],Lft=function(){const t=a5(Qut(()=>({data:{}}))),e=Cft();this.storeId=gat(),this.useStore=t;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([h,m])=>{m.render&&a.some(d=>d.indexOf(h)===0)&&!m.render(this.get)&&l.push(h+".")});const u=[];return i.forEach(h=>{h in o&&o[h].__refCount>0&&l.every(m=>h.indexOf(m)===-1)&&(!o[h].render||o[h].render(this.get))&&u.push(h)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{t.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const h=l[u];h.__refCount--,h.__refCount===0&&h.type in xu&&delete l[u]}}),{data:l}})},this.dispose=()=>{t.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>t.getState().data,this.addData=(o,a)=>{t.setState(l=>{const u=l.data;return Object.entries(o).forEach(([h,m])=>{let d=u[h];if(d){const{type:y,value:_}=m,v=Br(m,Ift);y!==d.type?Nf(mi.INPUT_TYPE_OVERRIDE,y):((d.__refCount===0||a)&&Object.assign(d,v),d.__refCount++)}else u[h]=sn(sn({},m),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{t.setState(u=>{const h=u.data;return xO(h[o],a,o,this,l),{data:h}})},this.setSettingsAtPath=(o,a)=>{t.setState(l=>{const u=l.data;return u[o].settings=sn(sn({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{t.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{t.setState(l=>{const u=l.data;return Object.entries(o).forEach(([h,m])=>{try{xO(u[h],m,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{Nf(mi.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{e.emit(`onEditStart:${o}`,this.get(o),o,sn(sn({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{e.emit(`onEditEnd:${o}`,this.get(o),o,sn(sn({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return e.on(l,a),()=>e.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return e.on(l,a),()=>e.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([h,m])=>{if(h==="")return Nf(mi.EMPTY_KEY);let d=k8(a,h);if(m.type===xu.FOLDER){const y=s(m.schema,d,l);Object.assign(u,y),d in r||(r[d]=m.settings)}else if(h in l)Nf(mi.DUPLICATE_KEYS,h,d,l[h].path);else{const y=Eat(m,h,d,u);if(y){const{type:_,options:v,input:w}=y,{onChange:x,transient:S,onEditStart:M,onEditEnd:T}=v,A=Br(v,Rft);u[d]=sn(sn(sn({type:_},A),w),{},{fromPanel:!0}),l[h]={path:d,onChange:x,transient:S,onEditStart:M,onEditEnd:T}}else Nf(mi.UNKNOWN_INPUT,d,m)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},V8=new Lft,Pft={collapsed:!1};function H8(n,t){return{type:xu.FOLDER,schema:n,settings:sn(sn({},Pft),t)}}const Dft=n=>"__levaInput"in n,kft=(n,t)=>{const e={},r=t?t.toLowerCase():null;return n.forEach(i=>{const[s,o]=kct(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Dct(e,o,{[s]:{__levaInput:!0,path:i}})}),e};function Oft({toggle:n,toggled:t,name:e}){return an(zat,{onClick:()=>n(),children:[Nt(FI,{toggled:t}),Nt("div",{children:e})]})}const Fft=["type","label","path","valueKey","value","settings","setValue","disabled"];function Bft(n){let{type:t,label:e,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,u=Br(n,Fft);const{displayValue:h,onChange:m,onUpdate:d}=s8({type:t,value:s,settings:o,setValue:a}),y=jm[t].component;return y?Nt(XU.Provider,{value:sn({key:i,path:r,id:""+r,label:e,displayValue:h,value:s,onChange:m,onUpdate:d,settings:o,setValue:a,disabled:l},u),children:Nt(Hat,{disabled:l,children:Nt(y,{})})}):(Nf(mi.NO_COMPONENT_FOR_TYPE,t,r),null)}const Nft=Ke("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function zft({onClick:n,settings:t,label:e}){const r=r2();return Nt(El,{children:Nt(Nft,{disabled:t.disabled,onClick:()=>n(r.get),children:e})})}const Uft=Ke("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Vft=Ke("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Hft=({label:n,opts:t})=>{let e=typeof n=="string"&&n.trim()===""?null:n,r=t;return typeof t.opts=="object"&&(r.label!==void 0&&(e=t.label),r=t.opts),{label:e,opts:r}};function Wft(n){const{label:t,opts:e}=Hft(n),r=r2();return an(El,{input:!!t,children:[t&&Nt(Lu,{children:t}),Nt(Uft,{children:Object.entries(e).map(([i,s])=>Nt(Vft,{onClick:()=>s(r.get),children:i},i))})]})}const Gft=Ke("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),W8=100;function $ft(n,t){n.push(t),n.length>W8&&n.shift()}const jft=Z.exports.forwardRef(function({initialValue:n},t){const e=Yf("colors","highlight3"),r=Yf("colors","elevation2"),i=Yf("colors","highlight1"),[s,o]=Z.exports.useMemo(()=>[So(i).alpha(.4).toRgbString(),So(i).alpha(.1).toRgbString()],[i]),a=Z.exports.useRef([n]),l=Z.exports.useRef(n),u=Z.exports.useRef(n),h=Z.exports.useRef(),m=Z.exports.useCallback((_,v)=>{if(!_)return;const{width:w,height:x}=_,S=new Path2D,M=w/W8,T=x*.05;for(let F=0;F<a.current.length;F++){const C=Sb(a.current[F],l.current,u.current),B=M*F,V=x-C*(x-T*2)-T;S.lineTo(B,V)}v.clearRect(0,0,w,x);const A=new Path2D(S);A.lineTo(M*(a.current.length+1),x),A.lineTo(0,x),A.lineTo(0,0);const P=v.createLinearGradient(0,0,0,x);P.addColorStop(0,s),P.addColorStop(1,o),v.fillStyle=P,v.fill(A),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(S),v.strokeStyle=e,v.lineWidth=2,v.stroke(S)},[e,r,s,o]),[d,y]=Kat(m);return Z.exports.useImperativeHandle(t,()=>({frame:_=>{(l.current===void 0||_<l.current)&&(l.current=_),(u.current===void 0||_>u.current)&&(u.current=_),$ft(a.current,_),h.current=requestAnimationFrame(()=>m(d.current,y.current))}}),[d,y,m]),Z.exports.useEffect(()=>()=>cancelAnimationFrame(h.current),[]),Nt(Gft,{ref:d})}),QO=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Yft=Z.exports.forwardRef(function({initialValue:n},t){const[e,r]=Z.exports.useState(QO(n));return Z.exports.useImperativeHandle(t,()=>({frame:i=>r(QO(i))}),[]),Nt("div",{children:e})});function tF(n){return typeof n=="function"?n():n.current}function qft({label:n,objectOrFn:t,settings:e}){const r=Z.exports.useRef(),i=Z.exports.useRef(tF(t));return Z.exports.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(tF(t))},e.interval);return()=>window.clearInterval(s)},[t,e.interval]),an(El,{input:!0,children:[Nt(Lu,{align:"top",children:n}),e.graph?Nt(jft,{ref:r,initialValue:i.current}):Nt(Yft,{ref:r,initialValue:i.current})]})}const Xft=["type","label","key"],Zft={[xu.BUTTON]:zft,[xu.BUTTON_GROUP]:Wft,[xu.MONITOR]:qft},Kft=nn.memo(({path:n})=>{const[t,{set:e,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Qat(n);if(!t)return null;const{type:l,label:u,key:h}=t,m=Br(t,Xft);if(l in xu){const d=Zft[l];return Nt(d,{label:u,path:n,...m})}return l in jm?Nt(Bft,{type:l,label:u,storeId:s,path:n,valueKey:h,setValue:e,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a,...m},s+n):(lat(mi.UNSUPPORTED_INPUT,l,n),null)}),Jft=({name:n,path:t,tree:e})=>{const r=r2(),i=k8(t,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=Z.exports.useState(!s),u=Z.exports.useRef(null),h=Yf("colors","folderWidgetColor"),m=Yf("colors","folderTextColor");return Z.exports.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||h),u.current.style.setProperty("--leva-colors-folderTextColor",o||m)},[o,h,m]),an(Mb,{ref:u,children:[Nt(Oft,{name:n,toggled:a,toggle:()=>l(d=>!d)}),Nt(G8,{parent:i,tree:e,toggled:a})]})},G8=nn.memo(({isRoot:n=!1,fill:t=!1,flat:e=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Bct(s);return Nt(LA,{ref:o,isRoot:n,fill:t,flat:e,children:Nt(e8,{ref:a,isRoot:n,toggled:s,children:Object.entries(i).map(([l,u])=>Dft(u)?Nt(Kft,{valueKey:u.valueKey,path:u.path},u.path):Nt(Jft,{name:l,path:r,tree:u},l))})})}),Qft=Ke("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${r8}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),$8=40,Rb=Ke("i",{$flexCenter:"",width:$8,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),tht=Ke("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),eht=Ke("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Rb}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),nht=Ke("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),rht=Ke("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:$8}}}}),iht=nn.forwardRef(({setFilter:n,toggle:t},e)=>{const[r,i]=Z.exports.useState(""),s=Z.exports.useMemo(()=>WU(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const u=l.currentTarget.value;t(!0),i(u)};return Z.exports.useEffect(()=>{s(r)},[r,s]),an(Ru,{children:[Nt(nht,{ref:e,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),Nt(Rb,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"},children:Nt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor",children:Nt("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})});function sht({setFilter:n,onDrag:t,onDragStart:e,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[h,m]=Z.exports.useState(!1),d=Z.exports.useRef(null);Z.exports.useEffect(()=>{var _,v;h?(_=d.current)===null||_===void 0||_.focus():(v=d.current)===null||v===void 0||v.blur()},[h]);const y=E1(({offset:[_,v],first:w,last:x})=>{t({x:_,y:v}),w&&e({x:_,y:v}),x&&r({x:_,y:v})},{filterTaps:!0,from:({offset:[_,v]})=>[(u==null?void 0:u.x)||_,(u==null?void 0:u.y)||v]});return Z.exports.useEffect(()=>{const _=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&m(w=>!w)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),an(Ru,{children:[an(tht,{mode:a?"drag":void 0,children:[Nt(Rb,{active:!s,onClick:()=>i(),children:Nt(FI,{toggled:s,width:12,height:8})}),Nt(rht,{...a?y():{},drag:a,filterEnabled:l,children:o===void 0&&a?an("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg",children:[Nt("circle",{cx:"2",cy:"2",r:"2"}),Nt("circle",{cx:"14",cy:"2",r:"2"}),Nt("circle",{cx:"26",cy:"2",r:"2"}),Nt("circle",{cx:"2",cy:"12",r:"2"}),Nt("circle",{cx:"14",cy:"12",r:"2"}),Nt("circle",{cx:"26",cy:"12",r:"2"})]}):o}),l&&Nt(Rb,{active:h,onClick:()=>m(_=>!_),children:an("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20",children:[Nt("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Nt("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})]})})]}),Nt(eht,{toggled:h,children:Nt(iht,{ref:d,setFilter:n,toggle:i})})]})}const oht=["store","hidden","theme","collapsed"];function aht(n){let{store:t,hidden:e=!1,theme:r,collapsed:i=!1}=n,s=Br(n,oht);const o=O8(()=>Dat(r),[r]),[a,l]=Z.exports.useState(!i),u=typeof i=="object"?!i.collapsed:a,h=Z.exports.useMemo(()=>typeof i=="object"?m=>{typeof m=="function"?i.onChange(!m(!i.collapsed)):i.onChange(!m)}:l,[i]);return!t||e?null:Nt(DI.Provider,{value:o,children:Nt(lht,{store:t,...s,toggled:u,setToggle:h,rootClass:o.className})})}const lht=nn.memo(({store:n,rootClass:t,fill:e=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var h,m;const d=Nct(n),[y,_]=Z.exports.useState(""),v=Z.exports.useMemo(()=>kft(d,y),[d,y]),[w,x]=o8(),S=i||d.length>0,M=typeof o=="object"&&o.title||void 0,T=typeof o=="object"&&(h=o.drag)!==null&&h!==void 0?h:!0,A=typeof o=="object"&&(m=o.filter)!==null&&m!==void 0?m:!0,P=typeof o=="object"&&o.position||void 0,F=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,B=typeof o=="object"&&o.onDragEnd||void 0;return nn.useEffect(()=>{x({x:P==null?void 0:P.x,y:P==null?void 0:P.y})},[P,x]),Pat(),Nt(KU.Provider,{value:{hideCopyButton:a},children:an(Qft,{ref:w,className:t,fill:e,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:S?"block":"none"},children:[o&&Nt(sht,{onDrag:V=>{x(V),F==null||F(V)},onDragStart:V=>C==null?void 0:C(V),onDragEnd:V=>B==null?void 0:B(V),setFilter:_,toggle:V=>u(Y=>V!=null?V:!Y),toggled:l,title:M,drag:T,filterEnabled:A,from:P}),S&&Nt(ZU.Provider,{value:n,children:Nt(G8,{isRoot:!0,fill:e,flat:r,tree:v,toggled:l})})]})})}),uht=["isRoot"];let Lb=!1,cm=null;function cht(n){let{isRoot:t=!1}=n,e=Br(n,uht);return Z.exports.useEffect(()=>(Lb=!0,!t&&cm&&(cm.remove(),cm=null),()=>{t||(Lb=!1)}),[t]),Nt(aht,{store:V8,...e})}function fht(n){Z.exports.useEffect(()=>{n&&!Lb&&(cm||(cm=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(cm),nC.render(Nt(cht,{isRoot:!0}),cm))),Lb=!0)},[n])}function hht(n,t,e,r,i){let s,o,a,l,u;return typeof n=="string"?(o=n,s=t,Array.isArray(e)?u=e:e&&("store"in e?(l=e,u=r):(a=e,Array.isArray(r)?u=r:(l=r,u=i)))):(s=n,Array.isArray(t)?u=t:(l=t,u=e)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:u||[]}}function Pb(n,t,e,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:u}=hht(n,t,e,r,i),h=typeof o=="function",m=Z.exports.useRef(!1),d=Z.exports.useRef(!0),y=O8(()=>{m.current=!0;const Y=typeof o=="function"?o():o;return s?{[s]:H8(Y,a)}:Y},u),_=!(l!=null&&l.store);fht(_);const[v]=Z.exports.useState(()=>(l==null?void 0:l.store)||V8),[w,x]=Z.exports.useMemo(()=>v.getDataFromSchema(y),[v,y]),[S,M,T,A,P]=Z.exports.useMemo(()=>{const Y=[],z=[],q={},L={},tt={};return Object.values(x).forEach(({path:ct,onChange:lt,onEditStart:at,onEditEnd:it,transient:ut})=>{Y.push(ct),lt?(q[ct]=lt,ut||z.push(ct)):z.push(ct),at&&(L[ct]=at),it&&(tt[ct]=it)}),[Y,z,q,L,tt]},[x]),F=Z.exports.useMemo(()=>v.orderPaths(S),[S,v]),C=zct(v,M,w),B=Z.exports.useCallback(Y=>{const z=Object.entries(Y).reduce((q,[L,tt])=>Object.assign(q,{[x[L].path]:tt}),{});v.set(z,!1)},[v,x]),V=Z.exports.useCallback(Y=>v.get(x[Y].path),[v,x]);return Z.exports.useEffect(()=>{const Y=!d.current&&m.current;return v.addData(w,Y),d.current=!1,m.current=!1,()=>v.disposePaths(F)},[v,F,w]),Z.exports.useEffect(()=>{const Y=[];return Object.entries(T).forEach(([z,q])=>{q(v.get(z),z,sn({initial:!0,get:v.get},v.getInput(z)));const L=v.useStore.subscribe(tt=>{const ct=tt.data[z];return[ct.disabled?void 0:ct.value,ct]},([tt,ct])=>q(tt,z,sn({initial:!1,get:v.get},ct)),{equalityFn:_1});Y.push(L)}),()=>Y.forEach(z=>z())},[v,T]),Z.exports.useEffect(()=>{const Y=[];return Object.entries(A).forEach(([z,q])=>Y.push(v.subscribeToEditStart(z,q))),Object.entries(P).forEach(([z,q])=>Y.push(v.subscribeToEditEnd(z,q))),()=>Y.forEach(z=>z())},[A,P,v]),h?[C,B,V]:C}fh(Au.SELECT,glt);fh(Au.IMAGE,vft);fh(Au.NUMBER,olt);fh(Au.COLOR,Zct);fh(Au.STRING,Mlt);fh(Au.BOOLEAN,Plt);fh(Au.INTERVAL,Aft);fh(Au.VECTOR3D,Jct);fh(Au.VECTOR2D,oft);const jA=(n,t)=>{var e;if(n&&n.getChild(t)){const r=(e=n.getChild(t))==null?void 0:e.toArray(),i=pl.min(r),s=pl.max(r);return{min:i,max:s,range:pl.isNil(s)||pl.isNil(i)?null:s-i}}return{min:null,max:null,range:null}},dht="#99b898",pht=({table:n,attribute:t,colorscale:e="YlOrRd"})=>{if(t){const{min:r,max:i}=jA(n,t);if(!pl.isNil(r)&&!pl.isNil(i)){const s=bU.scale(e).domain([r,i]);return o=>s(o).hex()}}return()=>dht};function mht(n){const{opacity:t,color:e,active:r,height:i,width:s}=Pb("Cross Section",{Helper:H8({active:!1,opacity:{value:.5,min:0,max:1,step:.1},color:"#ffffff",height:1e3,width:5e3})});return r?an("mesh",{position:[0,0,0],scale:[s,i,1],...n,children:[Nt("planeBufferGeometry",{}),Nt("meshBasicMaterial",{color:e,side:Fd,transparent:!0,opacity:t})]}):null}const yM=new Yn,eF=new Te;function ght({data:n=[],mapping:t,arrow:e}){const r=["x","y"],i=pl.round(Number(n[0][t.x])),s=pl.round(Number(n[0][t.y])),{min:o,max:a}=jA(e,t.x),{min:l,max:u}=jA(e,t.y),{zScale:h}=Pb("Block Model",{zScale:{value:1,min:1,max:10,step:1}}),{active:m,direction:d,"x position":y,"y position":_}=Pb("Cross Section",{active:!1,direction:{value:r[0],options:r},"x position":{value:i,min:Number(o)-1,max:Number(a)+1,step:1},"y position":{value:s,min:Number(l)-1,max:Number(u)+1,step:1}},{collapsed:!0}),v=Z.exports.useRef(),{property:w,colorscale:x}=t,S=pht({table:e,attribute:w,colorscale:x}),M=Float32Array.from(Array.from({length:n.length+1},(F,C)=>{if(C===0)return eF.set("#CCCCCC").convertSRGBToLinear().toArray();{const B=Number(n[C-1][w]),V=S(B);return eF.set(V).convertSRGBToLinear().toArray()}}).flat());Z.exports.useLayoutEffect(()=>{var V,Y;const F=Number(n[0][t.x])+1,C=Number(n[0][t.y])+1,B=Number(n[0][t.z])+1;for(let z=0;z<n.length;z++){const q=Number(n[z][t.x])-F,L=Number(n[z][t.y])-C,tt=Number(n[z][t.z])-B;yM.position.set(q,tt,-L),yM.updateMatrix(),(V=v.current)==null||V.setMatrixAt(z+1,yM.matrix)}(Y=v.current)!=null&&Y.instanceMatrix&&(v.current.instanceMatrix.needsUpdate=!0)},[n,t]);const T=d==="y"?{position:[0,0,s-_+1]}:{position:[y-i-1,0,0],rotation:[0,Math.PI/2,0]},A=new hu,P=d==="y"?A.setComponents(0,0,_-s-1||.5,1):A.setComponents(i-y+1||.5,0,0,1);return an(Ru,{children:[m&&Nt(mht,{...T}),an("instancedMesh",{ref:v,args:[,,n.length+1],"scale-y":h,children:[Nt("boxBufferGeometry",{args:[pl.get(t,["block dimension","x"]),pl.get(t,["block dimension","z"]),pl.get(t,["block dimension","y"])],children:Nt("instancedBufferAttribute",{attachObject:["attributes","color"],args:[M,3]})}),Nt("meshBasicMaterial",{depthWrite:!0,vertexColors:!0,toneMapped:!1,side:la,clippingPlanes:m?[P]:null})]})]})}const yht=["x","X","xcentre"],vht=["y","Y","ycentre"],_ht=["z","Z","zcentre"],vM=(n,t)=>n.find(e=>t.includes(e))||"",wht=({data:n})=>{const t=Z.exports.useMemo(()=>(n==null?void 0:n.meta.fields)||[],[n]),e=Pb("Block Model",{property:{value:"",options:t},colorscale:{value:"YlOrRd",options:Object.keys(bU.brewer)},x:{value:vM(yht,t),options:t},y:{value:vM(vht,t),options:t},z:{value:vM(_ht,t),options:t},"block dimension":{value:{x:5,y:5,z:5},joystick:!1}}),{property:r}=e,i=Z.exports.useMemo(()=>{var s;return e.property?(s=n==null?void 0:n.data)==null?void 0:s.filter(o=>!!o[e.property]):n==null?void 0:n.data},[r,n]);return Nt(Ru,{children:Object.keys(e).every(s=>!!e[s]||s==="property")&&Nt(ght,{data:i,mapping:e,arrow:n.meta.arrow})})};function xht({parsedData:n}){return an(Ru,{children:[Nt(lrt,{makeDefault:!0,position:[0,430,120],fov:75,near:10,far:5e5}),Nt("ambientLight",{}),Nt("directionalLight",{position:[150,150,150],intensity:.55}),Nt(Z.exports.Suspense,{fallback:null,children:(n==null?void 0:n.data)&&Nt(wht,{data:n})}),Nt(urt,{})]})}function nF(n,t){if(!n)throw new Error(t||"loader assertion failed.")}const j8=Boolean(typeof process!="object"||String(process)!=="[object process]"||process.browser),rF=typeof process!="undefined"&&process.version&&/v([0-9]*)/.exec(process.version);rF&&parseFloat(rF[1]);const bht="3.2.10";function rh(n,t){if(!n)throw new Error(t||"loaders.gl assertion failed.")}const kx=typeof process!="object"||String(process)!=="[object process]"||process.browser,Sht=typeof window!="undefined"&&typeof window.orientation!="undefined",iF=typeof process!="undefined"&&process.version&&/v([0-9]*)/.exec(process.version);iF&&parseFloat(iF[1]);class Eht{constructor(t,e){_t(this,"name",void 0),_t(this,"workerThread",void 0),_t(this,"isRunning",!0),_t(this,"result",void 0),_t(this,"_resolve",()=>{}),_t(this,"_reject",()=>{}),this.name=t,this.workerThread=e,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(t,e){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:e})}done(t){rh(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){rh(this.isRunning),this.isRunning=!1,this._reject(t)}}class _M{}const wM=new Map;function Mht(n){rh(n.source&&!n.url||!n.source&&n.url);let t=wM.get(n.source||n.url);return t||(n.url&&(t=Tht(n.url),wM.set(n.url,t)),n.source&&(t=Y8(n.source),wM.set(n.source,t))),rh(t),t}function Tht(n){if(!n.startsWith("http"))return n;const t=Aht(n);return Y8(t)}function Y8(n){const t=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(t)}function Aht(n){return`try {
  importScripts('`.concat(n,`');
} catch (error) {
  console.error(error);
  throw error;
}`)}function q8(n,t=!0,e){const r=e||new Set;if(n){if(sF(n))r.add(n);else if(sF(n.buffer))r.add(n.buffer);else if(!ArrayBuffer.isView(n)){if(t&&typeof n=="object")for(const i in n)q8(n[i],t,r)}}return e===void 0?Array.from(r):[]}function sF(n){return n?n instanceof ArrayBuffer||typeof MessagePort!="undefined"&&n instanceof MessagePort||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas:!1}const xM=()=>{};class YA{static isSupported(){return typeof Worker!="undefined"&&kx||typeof _M!="undefined"&&!kx}constructor(t){_t(this,"name",void 0),_t(this,"source",void 0),_t(this,"url",void 0),_t(this,"terminated",!1),_t(this,"worker",void 0),_t(this,"onMessage",void 0),_t(this,"onError",void 0),_t(this,"_loadableURL","");const{name:e,source:r,url:i}=t;rh(r||i),this.name=e,this.source=r,this.url=i,this.onMessage=xM,this.onError=s=>console.log(s),this.worker=kx?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=xM,this.onError=xM,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(t,e){e=e||q8(t),this.worker.postMessage(t,e)}_getErrorFromErrorEvent(t){let e="Failed to load ";return e+="worker ".concat(this.name," from ").concat(this.url,". "),t.message&&(e+="".concat(t.message," in ")),t.lineno&&(e+=":".concat(t.lineno,":").concat(t.colno)),new Error(e)}_createBrowserWorker(){this._loadableURL=Mht({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},t.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},t.onmessageerror=e=>console.error(e),t}_createNodeWorker(){let t;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);t=new _M(r,{eval:!1})}else if(this.source)t=new _M(this.source,{eval:!0});else throw new Error("no worker");return t.on("message",e=>{this.onMessage(e)}),t.on("error",e=>{this.onError(e)}),t.on("exit",e=>{}),t}}class Cht{static isSupported(){return YA.isSupported()}constructor(t){_t(this,"name","unnamed"),_t(this,"source",void 0),_t(this,"url",void 0),_t(this,"maxConcurrency",1),_t(this,"maxMobileConcurrency",1),_t(this,"onDebug",()=>{}),_t(this,"reuseWorkers",!0),_t(this,"props",{}),_t(this,"jobQueue",[]),_t(this,"idleQueue",[]),_t(this,"count",0),_t(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},t.name!==void 0&&(this.name=t.name),t.maxConcurrency!==void 0&&(this.maxConcurrency=t.maxConcurrency),t.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=t.maxMobileConcurrency),t.reuseWorkers!==void 0&&(this.reuseWorkers=t.reuseWorkers),t.onDebug!==void 0&&(this.onDebug=t.onDebug)}async startJob(t,e=(i,s,o)=>i.done(o),r=(i,s)=>i.error(s)){const i=new Promise(s=>(this.jobQueue.push({name:t,onMessage:e,onError:r,onStart:s}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const e=this.jobQueue.shift();if(e){this.onDebug({message:"Starting job",name:e.name,workerThread:t,backlog:this.jobQueue.length});const r=new Eht(e.name,t);t.onMessage=i=>e.onMessage(r,i.type,i.payload),t.onError=i=>e.onError(r,i),e.onStart(r);try{await r.result}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new YA({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Sht?this.maxMobileConcurrency:this.maxConcurrency}}const Iht={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class zf{static isSupported(){return YA.isSupported()}static getWorkerFarm(t={}){return zf._workerFarm=zf._workerFarm||new zf({}),zf._workerFarm.setProps(t),zf._workerFarm}constructor(t){_t(this,"props",void 0),_t(this,"workerPools",new Map),this.props={...Iht},this.setProps(t),this.workerPools=new Map}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const e of this.workerPools.values())e.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:e,source:r,url:i}=t;let s=this.workerPools.get(e);return s||(s=new Cht({name:e,source:r,url:i}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(e,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}_t(zf,"_workerFarm",void 0);const Rht="latest";function Lht(n,t={}){const e=t[n.id]||{},r="".concat(n.id,"-worker.js");let i=e.workerUrl;if(!i&&n.id==="compression"&&(i=t.workerUrl),t._workerType==="test"&&(i="modules/".concat(n.module,"/dist/").concat(r)),!i){let s=n.version;s==="latest"&&(s=Rht);const o=s?"@".concat(s):"";i="https://unpkg.com/@loaders.gl/".concat(n.module).concat(o,"/dist/").concat(r)}return rh(i),i}function Pht(n,t=bht){rh(n,"no worker provided");const e=n.version;return!(!t||!e)}function Dht(n,t){return!zf.isSupported()||!kx&&!(t!=null&&t._nodeWorkers)?!1:n.worker&&(t==null?void 0:t.worker)}async function kht(n,t,e,r,i){const s=n.id,o=Lht(n,e),l=zf.getWorkerFarm(e).getWorkerPool({name:s,url:o});e=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(r||{}));const u=await l.startJob("process-on-worker",Oht.bind(null,i));return u.postMessage("process",{input:t,options:e,context:r}),await(await u.result).result}async function Oht(n,t,e,r){switch(e){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:s,options:o}=r;try{const a=await n(s,o);t.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";t.postMessage("error",{id:i,error:l})}break;default:console.warn("parse-with-worker unknown message ".concat(e))}}function X8(n){return n&&typeof n=="object"&&n.isBuffer}function Fht(n){return X8(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}function Z8(n){if(X8(n))return Fht(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if(typeof n=="string"){const t=n;return new TextEncoder().encode(t).buffer}if(n&&typeof n=="object"&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function Bht(n,t,e){if(e=e||n.byteLength,n.byteLength<e||t.byteLength<e)return!1;const r=new Uint8Array(n),i=new Uint8Array(t);for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}function Nht(...n){const t=n.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),e=t.reduce((s,o)=>s+o.byteLength,0),r=new Uint8Array(e);let i=0;for(const s of t)r.set(s,i),i+=s.byteLength;return r.buffer}async function zht(n){const t=[];for await(const e of n)t.push(e);return Nht(...t)}let Uht="";const oF={};function Vht(n){for(const t in oF)if(n.startsWith(t)){const e=oF[t];n=n.replace(t,e)}return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(Uht).concat(n)),n}function Hht(n){const t=n&&n.lastIndexOf("/");return t>=0?n.substr(t+1):""}const Wht=n=>typeof n=="boolean",a_=n=>typeof n=="function",A1=n=>n!==null&&typeof n=="object",aF=n=>A1(n)&&n.constructor==={}.constructor,Ght=n=>n&&typeof n[Symbol.iterator]=="function",$ht=n=>n&&typeof n[Symbol.asyncIterator]=="function",Zy=n=>typeof Response!="undefined"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,Ky=n=>typeof Blob!="undefined"&&n instanceof Blob,jht=n=>n&&typeof n=="object"&&n.isBuffer,Yht=n=>typeof ReadableStream!="undefined"&&n instanceof ReadableStream||A1(n)&&a_(n.tee)&&a_(n.cancel)&&a_(n.getReader),qht=n=>A1(n)&&a_(n.read)&&a_(n.pipe)&&Wht(n.readable),K8=n=>Yht(n)||qht(n),Xht=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Zht=/^([-\w.]+\/[-\w.+]+)/;function Kht(n){const t=Zht.exec(n);return t?t[1]:n}function lF(n){const t=Xht.exec(n);return t?t[1]:""}const Jht=/\?.*/;function i2(n){if(Zy(n)){const t=bM(n.url||""),e=n.headers.get("content-type")||"";return{url:t,type:Kht(e)||lF(t)}}return Ky(n)?{url:bM(n.name||""),type:n.type||""}:typeof n=="string"?{url:bM(n),type:lF(n)}:{url:"",type:""}}function Qht(n){return Zy(n)?n.headers["content-length"]||-1:Ky(n)?n.size:typeof n=="string"?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}function bM(n){return n.replace(Jht,"")}async function J8(n){if(Zy(n))return n;const t={},e=Qht(n);e>=0&&(t["content-length"]=String(e));const{url:r,type:i}=i2(n);i&&(t["content-type"]=i);const s=await ndt(n);s&&(t["x-first-bytes"]=s),typeof n=="string"&&(n=new TextEncoder().encode(n));const o=new Response(n,{headers:t});return Object.defineProperty(o,"url",{value:r}),o}async function tdt(n){if(!n.ok){const t=await edt(n);throw new Error(t)}}async function edt(n){let t="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const e=n.headers.get("Content-Type");let r=n.statusText;e.includes("application/json")&&(r+=" ".concat(await n.text())),t+=r,t=t.length>60?"".concat(t.slice(0,60),"..."):t}catch{}return t}async function ndt(n){if(typeof n=="string")return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const e=n.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=s=>{var o;return r(s==null||(o=s.target)===null||o===void 0?void 0:o.result)},i.readAsDataURL(e)})}if(n instanceof ArrayBuffer){const e=n.slice(0,5),r=rdt(e);return"data:base64,".concat(r)}return null}function rdt(n){let t="";const e=new Uint8Array(n);for(let r=0;r<e.byteLength;r++)t+=String.fromCharCode(e[r]);return btoa(t)}async function uF(n,t){if(typeof n=="string"){n=Vht(n);let e=t;return t!=null&&t.fetch&&typeof(t==null?void 0:t.fetch)!="function"&&(e=t.fetch),await fetch(n,e)}return await J8(n)}function idt(n){if(typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&Boolean(process.versions.electron))return!0;const t=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,e=n||t;return!!(e&&e.indexOf("Electron")>=0)}function C1(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser)||idt()}const Ox={self:typeof self!="undefined"&&self,window:typeof window!="undefined"&&window,global:typeof global!="undefined"&&global,document:typeof document!="undefined"&&document,process:typeof process=="object"&&process},cx=Ox.window||Ox.self||Ox.global,kv=Ox.process||{},Q8=typeof __VERSION__!="undefined"?__VERSION__:"untranspiled source";C1();function sdt(n){try{const t=window[n],e="__storage_test__";return t.setItem(e,e),t.removeItem(e),t}catch{return null}}class odt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";_t(this,"storage",void 0),_t(this,"id",void 0),_t(this,"config",{}),this.storage=sdt(r),this.id=t,this.config={},Object.assign(this.config,e),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){return this.config={},this.updateConfiguration(t)}updateConfiguration(t){if(Object.assign(this.config,t),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}return this}_loadConfiguration(){let t={};if(this.storage){const e=this.storage.getItem(this.id);t=e?JSON.parse(e):{}}return Object.assign(this.config,t),this}}function adt(n){let t;return n<10?t="".concat(n.toFixed(2),"ms"):n<100?t="".concat(n.toFixed(1),"ms"):n<1e3?t="".concat(n.toFixed(0),"ms"):t="".concat((n/1e3).toFixed(2),"s"),t}function ldt(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const e=Math.max(t-n.length,0);return"".concat(" ".repeat(e)).concat(n)}function SM(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const i=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>r&&(e=Math.min(e,r/n.width));const s=n.width*e,o=n.height*e,a=["font-size:1px;","padding:".concat(Math.floor(o/2),"px ").concat(Math.floor(s/2),"px;"),"line-height:".concat(o,"px;"),"background:url(".concat(i,");"),"background-size:".concat(s,"px ").concat(o,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),a]}let Db;(function(n){n[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Db||(Db={}));function cF(n){return typeof n=="string"?Db[n.toUpperCase()]||Db.WHITE:n}function udt(n,t,e){return!C1&&typeof n=="string"&&(t&&(t=cF(t),n="\x1B[".concat(t,"m").concat(n,"\x1B[39m")),e&&(t=cF(e),n="\x1B[".concat(e+10,"m").concat(n,"\x1B[49m"))),n}function cdt(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const e=Object.getPrototypeOf(n),r=Object.getOwnPropertyNames(e);for(const i of r)typeof n[i]=="function"&&(t.find(s=>i===s)||(n[i]=n[i].bind(n)))}function kb(n,t){if(!n)throw new Error(t||"Assertion failed")}function h0(){let n;if(C1&&"performance"in cx){var t,e;n=cx==null||(t=cx.performance)===null||t===void 0||(e=t.now)===null||e===void 0?void 0:e.call(t)}else if("hrtime"in kv){var r;const i=kv==null||(r=kv.hrtime)===null||r===void 0?void 0:r.call(kv);n=i[0]*1e3+i[1]/1e6}else n=Date.now();return n}const d0={debug:C1&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},fdt={enabled:!0,level:0};function ol(){}const fF={},hF={once:!0};class GI{constructor(){let{id:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};_t(this,"id",void 0),_t(this,"VERSION",Q8),_t(this,"_startTs",h0()),_t(this,"_deltaTs",h0()),_t(this,"_storage",void 0),_t(this,"userData",{}),_t(this,"LOG_THROTTLE_TIMEOUT",0),this.id=t,this._storage=new odt("__probe-".concat(this.id,"__"),fdt),this.userData={},this.timeStamp("".concat(this.id," started")),cdt(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((h0()-this._startTs).toPrecision(10))}getDelta(){return Number((h0()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.updateConfiguration({enabled:t}),this}setLevel(t){return this._storage.updateConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,e){this._storage.updateConfiguration({[t]:e})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,e){kb(t,e)}warn(t){return this._getLogFunction(0,t,d0.warn,arguments,hF)}error(t){return this._getLogFunction(0,t,d0.error,arguments)}deprecated(t,e){return this.warn("`".concat(t,"` is deprecated and will be removed in a later version. Use `").concat(e,"` instead"))}removed(t,e){return this.error("`".concat(t,"` has been removed. Use `").concat(e,"` instead"))}probe(t,e){return this._getLogFunction(t,e,d0.log,arguments,{time:!0,once:!0})}log(t,e){return this._getLogFunction(t,e,d0.debug,arguments)}info(t,e){return this._getLogFunction(t,e,console.info,arguments)}once(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return this._getLogFunction(t,e,d0.debug||d0.info,arguments,hF)}table(t,e,r){return e?this._getLogFunction(t,e,console.table||ol,r&&[r],{tag:mdt(e)}):ol}image(t){let{logLevel:e,priority:r,image:i,message:s="",scale:o=1}=t;return this._shouldLog(e||r)?C1?pdt({image:i,message:s,scale:o}):ddt({image:i,message:s,scale:o}):ol}time(t,e){return this._getLogFunction(t,e,console.time?console.time:console.info)}timeEnd(t,e){return this._getLogFunction(t,e,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,e){return this._getLogFunction(t,e,console.timeStamp||ol)}group(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const i=dF({logLevel:t,message:e,opts:r}),{collapsed:s}=r;return i.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(t,e,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||ol)}withGroup(t,e,r){this.group(t,e)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=tV(t)}_getLogFunction(t,e,r,i,s){if(this._shouldLog(t)){s=dF({logLevel:t,message:e,args:i,opts:s}),r=r||s.method,kb(r),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=h0();const o=s.tag||s.message;if(s.once)if(!fF[o])fF[o]=h0();else return ol;return e=hdt(this.id,s.message,s),r.bind(console,e,...s.args)}return ol}}_t(GI,"VERSION",Q8);function tV(n){if(!n)return 0;let t;switch(typeof n){case"number":t=n;break;case"object":t=n.logLevel||n.priority||0;break;default:return 0}return kb(Number.isFinite(t)&&t>=0),t}function dF(n){const{logLevel:t,message:e}=n;n.logLevel=tV(t);const r=n.args?Array.from(n.args):[];for(;r.length&&r.shift()!==e;);switch(typeof t){case"string":case"function":e!==void 0&&r.unshift(e),n.message=t;break;case"object":Object.assign(n,t);break}typeof n.message=="function"&&(n.message=n.message());const i=typeof n.message;return kb(i==="string"||i==="object"),Object.assign(n,{args:r},n.opts)}function hdt(n,t,e){if(typeof t=="string"){const r=e.time?ldt(adt(e.total)):"";t=e.time?"".concat(n,": ").concat(r,"  ").concat(t):"".concat(n,": ").concat(t),t=udt(t,e.color,e.background)}return t}function ddt(n){let{image:t,message:e="",scale:r=1}=n;return(void 0)({image:t,message:e,scale:r}),ol}function pdt(n){let{image:t,message:e="",scale:r=1}=n;if(typeof t=="string"){const s=new Image;return s.onload=()=>{const o=SM(s,e,r);console.log(...o)},s.src=t,ol}const i=t.nodeName||"";if(i.toLowerCase()==="img")return console.log(...SM(t,e,r)),ol;if(i.toLowerCase()==="canvas"){const s=new Image;return s.onload=()=>console.log(...SM(s,e,r)),s.src=t.toDataURL(),ol}return ol}function mdt(n){for(const t in n)for(const e in n[t])return e||"untitled";return"empty"}const pF=new GI({id:"loaders.gl"});class gdt{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class ydt{constructor(){_t(this,"console",void 0),this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}}const eV={fetch:null,mimeType:void 0,nothrow:!1,log:new ydt,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:j8,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},vdt={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function nV(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const rV=()=>{const n=nV();return n.globalOptions=n.globalOptions||{...eV},n.globalOptions};function _dt(n,t,e,r){return e=e||[],e=Array.isArray(e)?e:[e],wdt(n,e),bdt(t,n,r)}function iV(n,t){const e=rV(),r=n||e;return typeof r.fetch=="function"?r.fetch:A1(r.fetch)?i=>uF(i,r):t!=null&&t.fetch?t==null?void 0:t.fetch:uF}function wdt(n,t){mF(n,null,eV,vdt,t);for(const e of t){const r=n&&n[e.id]||{},i=e.options&&e.options[e.id]||{},s=e.deprecatedOptions&&e.deprecatedOptions[e.id]||{};mF(r,e.id,i,s,t)}}function mF(n,t,e,r,i){const s=t||"Top level",o=t?"".concat(t,"."):"";for(const a in n){const l=!t&&A1(n[a]),u=a==="baseUri"&&!t,h=a==="workerUrl"&&t;if(!(a in e)&&!u&&!h){if(a in r)pF.warn("".concat(s," loader option '").concat(o).concat(a,"' no longer supported, use '").concat(r[a],"'"))();else if(!l){const m=xdt(a,i);pF.warn("".concat(s," loader option '").concat(o).concat(a,"' not recognized. ").concat(m))()}}}}function xdt(n,t){const e=n.toLowerCase();let r="";for(const i of t)for(const s in i.options){if(n===s)return"Did you mean '".concat(i.id,".").concat(s,"'?");const o=s.toLowerCase();(e.startsWith(o)||o.startsWith(e))&&(r=r||"Did you mean '".concat(i.id,".").concat(s,"'?"))}return r}function bdt(n,t,e){const i={...n.options||{}};return Sdt(i,e),i.log===null&&(i.log=new gdt),gF(i,rV()),gF(i,t),i}function gF(n,t){for(const e in t)if(e in t){const r=t[e];aF(r)&&aF(n[e])?n[e]={...n[e],...t[e]}:n[e]=t[e]}}function Sdt(n,t){t&&!("baseUri"in n)&&(n.baseUri=t)}function $I(n){var t;return n?(Array.isArray(n)&&(n=n[0]),Array.isArray((t=n)===null||t===void 0?void 0:t.extensions)):!1}function sV(n){var t,e;nF(n,"null loader"),nF($I(n),"invalid loader");let r;return Array.isArray(n)&&(r=n[1],n=n[0],n={...n,options:{...n.options,...r}}),((t=n)!==null&&t!==void 0&&t.parseTextSync||(e=n)!==null&&e!==void 0&&e.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}const Edt=()=>{const n=nV();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function Mdt(){return Edt()}const Tdt=new GI({id:"loaders.gl"}),Adt=/\.([^.]+)$/;async function Cdt(n,t=[],e,r){if(!oV(n))return null;let i=yF(n,t,{...e,nothrow:!0},r);if(i)return i;if(Ky(n)&&(n=await n.slice(0,10).arrayBuffer(),i=yF(n,t,e,r)),!i&&!(e!=null&&e.nothrow))throw new Error(aV(n));return i}function yF(n,t=[],e,r){if(!oV(n))return null;if(t&&!Array.isArray(t))return sV(t);let i=[];t&&(i=i.concat(t)),e!=null&&e.ignoreRegisteredLoaders||i.push(...Mdt()),Rdt(i);const s=Idt(n,i,e,r);if(!s&&!(e!=null&&e.nothrow))throw new Error(aV(n));return s}function Idt(n,t,e,r){const{url:i,type:s}=i2(n),o=i||(r==null?void 0:r.url);let a=null,l="";if(e!=null&&e.mimeType&&(a=EM(t,e==null?void 0:e.mimeType),l="match forced by supplied MIME type ".concat(e==null?void 0:e.mimeType)),a=a||Ldt(t,o),l=l||(a?"matched url ".concat(o):""),a=a||EM(t,s),l=l||(a?"matched MIME type ".concat(s):""),a=a||Ddt(t,n),l=l||(a?"matched initial data ".concat(lV(n)):""),a=a||EM(t,e==null?void 0:e.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(s):""),l){var u;Tdt.log(1,"selectLoader selected ".concat((u=a)===null||u===void 0?void 0:u.name,": ").concat(l,"."))}return a}function oV(n){return!(n instanceof Response&&n.status===204)}function aV(n){const{url:t,type:e}=i2(n);let r="No valid loader found (";r+=t?"".concat(Hht(t),", "):"no url provided, ",r+="MIME type: ".concat(e?'"'.concat(e,'"'):"not provided",", ");const i=n?lV(n):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function Rdt(n){for(const t of n)sV(t)}function Ldt(n,t){const e=t&&Adt.exec(t),r=e&&e[1];return r?Pdt(n,r):null}function Pdt(n,t){t=t.toLowerCase();for(const e of n)for(const r of e.extensions)if(r.toLowerCase()===t)return e;return null}function EM(n,t){for(const e of n)if(e.mimeTypes&&e.mimeTypes.includes(t)||t==="application/x.".concat(e.id))return e;return null}function Ddt(n,t){if(!t)return null;for(const e of n)if(typeof t=="string"){if(kdt(t,e))return e}else if(ArrayBuffer.isView(t)){if(vF(t.buffer,t.byteOffset,e))return e}else if(t instanceof ArrayBuffer&&vF(t,0,e))return e;return null}function kdt(n,t){return t.testText?t.testText(n):(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>n.startsWith(r))}function vF(n,t,e){return(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>Odt(n,t,e,i))}function Odt(n,t,e,r){if(r instanceof ArrayBuffer)return Bht(r,n,r.byteLength);switch(typeof r){case"function":return r(n,e);case"string":const i=qA(n,t,r.length);return r===i;default:return!1}}function lV(n,t=5){return typeof n=="string"?n.slice(0,t):ArrayBuffer.isView(n)?qA(n.buffer,n.byteOffset,t):n instanceof ArrayBuffer?qA(n,0,t):""}function qA(n,t,e){if(n.byteLength<t+e)return"";const r=new DataView(n);let i="";for(let s=0;s<e;s++)i+=String.fromCharCode(r.getUint8(t+s));return i}const Fdt=256*1024;function*Bdt(n,t){const e=(t==null?void 0:t.chunkSize)||Fdt;let r=0;const i=new TextEncoder;for(;r<n.length;){const s=Math.min(n.length-r,e),o=n.slice(r,r+s);r+=s,yield i.encode(o)}}const Ndt=256*1024;function*zdt(n,t={}){const{chunkSize:e=Ndt}=t;let r=0;for(;r<n.byteLength;){const i=Math.min(n.byteLength-r,e),s=new ArrayBuffer(i),o=new Uint8Array(n,r,i);new Uint8Array(s).set(o),r+=i,yield s}}const Udt=1024*1024;async function*Vdt(n,t){const e=(t==null?void 0:t.chunkSize)||Udt;let r=0;for(;r<n.size;){const i=r+e,s=await n.slice(r,i).arrayBuffer();r=i,yield s}}function _F(n,t){return j8?Hdt(n,t):Wdt(n)}async function*Hdt(n,t){const e=n.getReader();let r;try{for(;;){const i=r||e.read();t!=null&&t._streamReadAhead&&(r=e.read());const{done:s,value:o}=await i;if(s)return;yield Z8(o)}}catch{e.releaseLock()}}async function*Wdt(n,t){for await(const e of n)yield Z8(e)}function Gdt(n,t){if(typeof n=="string")return Bdt(n,t);if(n instanceof ArrayBuffer)return zdt(n,t);if(Ky(n))return Vdt(n,t);if(K8(n))return _F(n,t);if(Zy(n))return _F(n.body,t);throw new Error("makeIterator")}const uV="Cannot convert supplied data type";function $dt(n,t,e){if(t.text&&typeof n=="string")return n;if(jht(n)&&(n=n.buffer),n instanceof ArrayBuffer){const r=n;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(n)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(n);let r=n.buffer;const i=n.byteLength||n.length;return(n.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(n.byteOffset,n.byteOffset+i)),r}throw new Error(uV)}async function jdt(n,t,e){const r=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if(typeof n=="string"||r)return $dt(n,t);if(Ky(n)&&(n=await J8(n)),Zy(n)){const i=n;return await tdt(i),t.binary?await i.arrayBuffer():await i.text()}if(K8(n)&&(n=Gdt(n,e)),Ght(n)||$ht(n))return zht(n);throw new Error(uV)}function Ydt(n,t,e=null){if(e)return e;const r={fetch:iV(t,n),...n};return Array.isArray(r.loaders)||(r.loaders=null),r}function qdt(n,t){if(!t&&n&&!Array.isArray(n))return n;let e;if(n&&(e=Array.isArray(n)?n:[n]),t&&t.loaders){const r=Array.isArray(t.loaders)?t.loaders:[t.loaders];e=e?[...e,...r]:r}return e&&e.length?e:null}async function s2(n,t,e,r){rh(!r||typeof r=="object"),t&&!Array.isArray(t)&&!$I(t)&&(r=void 0,e=t,t=void 0),n=await n,e=e||{};const{url:i}=i2(n),o=qdt(t,r),a=await Cdt(n,o,e);return a?(e=_dt(e,a,o,i),r=Ydt({url:i,parse:s2,loaders:o},e,r),await Xdt(a,n,e,r)):null}async function Xdt(n,t,e,r){if(Pht(n),Zy(t)){const i=t,{ok:s,redirected:o,status:a,statusText:l,type:u,url:h}=i,m=Object.fromEntries(i.headers.entries());r.response={headers:m,ok:s,redirected:o,status:a,statusText:l,type:u,url:h}}if(t=await jdt(t,n,e),n.parseTextSync&&typeof t=="string")return e.dataType="text",n.parseTextSync(t,e,r,n);if(Dht(n,e))return await kht(n,t,e,r,s2);if(n.parseText&&typeof t=="string")return await n.parseText(t,e,r,n);if(n.parse)return await n.parse(t,e,r,n);throw rh(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}async function cV(n,t,e,r){!Array.isArray(t)&&!$I(t)&&(e=t,t=void 0);const i=iV(e);let s=n;return typeof n=="string"&&(s=await i(n)),Ky(n)&&(s=await i(n)),await s2(s,t,e)}const Zdt="3.2.10",Kdt={arrow:{shape:"columnar-table"}},Jdt={name:"Apache Arrow",id:"arrow",module:"arrow",version:Zdt,worker:!0,category:"table",extensions:["arrow","feather"],mimeTypes:["application/vnd.apache.arrow.file","application/vnd.apache.arrow.stream","application/octet-stream"],binary:!0,tests:["ARROW"],options:Kdt};var Rt={};Rt.SIZEOF_SHORT=2;Rt.SIZEOF_INT=4;Rt.FILE_IDENTIFIER_LENGTH=4;Rt.SIZE_PREFIX_LENGTH=4;Rt.Encoding={UTF8_BYTES:1,UTF16_STRING:2};Rt.int32=new Int32Array(2);Rt.float32=new Float32Array(Rt.int32.buffer);Rt.float64=new Float64Array(Rt.int32.buffer);Rt.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;Rt.Long=function(n,t){this.low=n|0,this.high=t|0};Rt.Long.create=function(n,t){return n==0&&t==0?Rt.Long.ZERO:new Rt.Long(n,t)};Rt.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};Rt.Long.prototype.equals=function(n){return this.low==n.low&&this.high==n.high};Rt.Long.ZERO=new Rt.Long(0,0);Rt.Builder=function(n){if(n)var t=n;else var t=1024;this.bb=Rt.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};Rt.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};Rt.Builder.prototype.forceDefaults=function(n){this.force_defaults=n};Rt.Builder.prototype.dataBuffer=function(){return this.bb};Rt.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};Rt.Builder.prototype.prep=function(n,t){n>this.minalign&&(this.minalign=n);for(var e=~(this.bb.capacity()-this.space+t)+1&n-1;this.space<e+n+t;){var r=this.bb.capacity();this.bb=Rt.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(e)};Rt.Builder.prototype.pad=function(n){for(var t=0;t<n;t++)this.bb.writeInt8(--this.space,0)};Rt.Builder.prototype.writeInt8=function(n){this.bb.writeInt8(this.space-=1,n)};Rt.Builder.prototype.writeInt16=function(n){this.bb.writeInt16(this.space-=2,n)};Rt.Builder.prototype.writeInt32=function(n){this.bb.writeInt32(this.space-=4,n)};Rt.Builder.prototype.writeInt64=function(n){this.bb.writeInt64(this.space-=8,n)};Rt.Builder.prototype.writeFloat32=function(n){this.bb.writeFloat32(this.space-=4,n)};Rt.Builder.prototype.writeFloat64=function(n){this.bb.writeFloat64(this.space-=8,n)};Rt.Builder.prototype.addInt8=function(n){this.prep(1,0),this.writeInt8(n)};Rt.Builder.prototype.addInt16=function(n){this.prep(2,0),this.writeInt16(n)};Rt.Builder.prototype.addInt32=function(n){this.prep(4,0),this.writeInt32(n)};Rt.Builder.prototype.addInt64=function(n){this.prep(8,0),this.writeInt64(n)};Rt.Builder.prototype.addFloat32=function(n){this.prep(4,0),this.writeFloat32(n)};Rt.Builder.prototype.addFloat64=function(n){this.prep(8,0),this.writeFloat64(n)};Rt.Builder.prototype.addFieldInt8=function(n,t,e){(this.force_defaults||t!=e)&&(this.addInt8(t),this.slot(n))};Rt.Builder.prototype.addFieldInt16=function(n,t,e){(this.force_defaults||t!=e)&&(this.addInt16(t),this.slot(n))};Rt.Builder.prototype.addFieldInt32=function(n,t,e){(this.force_defaults||t!=e)&&(this.addInt32(t),this.slot(n))};Rt.Builder.prototype.addFieldInt64=function(n,t,e){(this.force_defaults||!t.equals(e))&&(this.addInt64(t),this.slot(n))};Rt.Builder.prototype.addFieldFloat32=function(n,t,e){(this.force_defaults||t!=e)&&(this.addFloat32(t),this.slot(n))};Rt.Builder.prototype.addFieldFloat64=function(n,t,e){(this.force_defaults||t!=e)&&(this.addFloat64(t),this.slot(n))};Rt.Builder.prototype.addFieldOffset=function(n,t,e){(this.force_defaults||t!=e)&&(this.addOffset(t),this.slot(n))};Rt.Builder.prototype.addFieldStruct=function(n,t,e){t!=e&&(this.nested(t),this.slot(n))};Rt.Builder.prototype.nested=function(n){if(n!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};Rt.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};Rt.Builder.prototype.slot=function(n){this.vtable[n]=this.offset()};Rt.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};Rt.Builder.growByteBuffer=function(n){var t=n.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var e=t<<1,r=Rt.ByteBuffer.allocate(e);return r.setPosition(e-t),r.bytes().set(n.bytes(),e-t),r};Rt.Builder.prototype.addOffset=function(n){this.prep(Rt.SIZEOF_INT,0),this.writeInt32(this.offset()-n+Rt.SIZEOF_INT)};Rt.Builder.prototype.startObject=function(n){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=n;for(var t=0;t<n;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()};Rt.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var n=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var e=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?n-this.vtable[t]:0);var r=2;this.addInt16(n-this.object_start);var i=(e+r)*Rt.SIZEOF_SHORT;this.addInt16(i);var s=0,o=this.space;t:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(i==this.bb.readInt16(a)){for(var l=Rt.SIZEOF_SHORT;l<i;l+=Rt.SIZEOF_SHORT)if(this.bb.readInt16(o+l)!=this.bb.readInt16(a+l))continue t;s=this.vtables[t];break}}return s?(this.space=this.bb.capacity()-n,this.bb.writeInt32(this.space,s-n)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-n,this.offset()-n)),this.isNested=!1,n};Rt.Builder.prototype.finish=function(n,t,e){var r=e?Rt.SIZE_PREFIX_LENGTH:0;if(t){var i=t;if(this.prep(this.minalign,Rt.SIZEOF_INT+Rt.FILE_IDENTIFIER_LENGTH+r),i.length!=Rt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Rt.FILE_IDENTIFIER_LENGTH);for(var s=Rt.FILE_IDENTIFIER_LENGTH-1;s>=0;s--)this.writeInt8(i.charCodeAt(s))}this.prep(this.minalign,Rt.SIZEOF_INT+r),this.addOffset(n),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};Rt.Builder.prototype.finishSizePrefixed=function(n,t){this.finish(n,t,!0)};Rt.Builder.prototype.requiredField=function(n,t){var e=this.bb.capacity()-n,r=e-this.bb.readInt32(e),i=this.bb.readInt16(r+t)!=0;if(!i)throw new Error("FlatBuffers: field "+t+" must be set")};Rt.Builder.prototype.startVector=function(n,t,e){this.notNested(),this.vector_num_elems=t,this.prep(Rt.SIZEOF_INT,n*t),this.prep(e,n*t)};Rt.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};Rt.Builder.prototype.createString=function(n){if(n instanceof Uint8Array)var t=n;else for(var t=[],e=0;e<n.length;){var r,i=n.charCodeAt(e++);if(i<55296||i>=56320)r=i;else{var s=n.charCodeAt(e++);r=(i<<10)+s+(65536-(55296<<10)-56320)}r<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(r&63|128))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var e=0,o=this.space,a=this.bb.bytes();e<t.length;e++)a[o++]=t[e];return this.endVector()};Rt.Builder.prototype.createLong=function(n,t){return Rt.Long.create(n,t)};Rt.ByteBuffer=function(n){this.bytes_=n,this.position_=0};Rt.ByteBuffer.allocate=function(n){return new Rt.ByteBuffer(new Uint8Array(n))};Rt.ByteBuffer.prototype.clear=function(){this.position_=0};Rt.ByteBuffer.prototype.bytes=function(){return this.bytes_};Rt.ByteBuffer.prototype.position=function(){return this.position_};Rt.ByteBuffer.prototype.setPosition=function(n){this.position_=n};Rt.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};Rt.ByteBuffer.prototype.readInt8=function(n){return this.readUint8(n)<<24>>24};Rt.ByteBuffer.prototype.readUint8=function(n){return this.bytes_[n]};Rt.ByteBuffer.prototype.readInt16=function(n){return this.readUint16(n)<<16>>16};Rt.ByteBuffer.prototype.readUint16=function(n){return this.bytes_[n]|this.bytes_[n+1]<<8};Rt.ByteBuffer.prototype.readInt32=function(n){return this.bytes_[n]|this.bytes_[n+1]<<8|this.bytes_[n+2]<<16|this.bytes_[n+3]<<24};Rt.ByteBuffer.prototype.readUint32=function(n){return this.readInt32(n)>>>0};Rt.ByteBuffer.prototype.readInt64=function(n){return new Rt.Long(this.readInt32(n),this.readInt32(n+4))};Rt.ByteBuffer.prototype.readUint64=function(n){return new Rt.Long(this.readUint32(n),this.readUint32(n+4))};Rt.ByteBuffer.prototype.readFloat32=function(n){return Rt.int32[0]=this.readInt32(n),Rt.float32[0]};Rt.ByteBuffer.prototype.readFloat64=function(n){return Rt.int32[Rt.isLittleEndian?0:1]=this.readInt32(n),Rt.int32[Rt.isLittleEndian?1:0]=this.readInt32(n+4),Rt.float64[0]};Rt.ByteBuffer.prototype.writeInt8=function(n,t){this.bytes_[n]=t};Rt.ByteBuffer.prototype.writeUint8=function(n,t){this.bytes_[n]=t};Rt.ByteBuffer.prototype.writeInt16=function(n,t){this.bytes_[n]=t,this.bytes_[n+1]=t>>8};Rt.ByteBuffer.prototype.writeUint16=function(n,t){this.bytes_[n]=t,this.bytes_[n+1]=t>>8};Rt.ByteBuffer.prototype.writeInt32=function(n,t){this.bytes_[n]=t,this.bytes_[n+1]=t>>8,this.bytes_[n+2]=t>>16,this.bytes_[n+3]=t>>24};Rt.ByteBuffer.prototype.writeUint32=function(n,t){this.bytes_[n]=t,this.bytes_[n+1]=t>>8,this.bytes_[n+2]=t>>16,this.bytes_[n+3]=t>>24};Rt.ByteBuffer.prototype.writeInt64=function(n,t){this.writeInt32(n,t.low),this.writeInt32(n+4,t.high)};Rt.ByteBuffer.prototype.writeUint64=function(n,t){this.writeUint32(n,t.low),this.writeUint32(n+4,t.high)};Rt.ByteBuffer.prototype.writeFloat32=function(n,t){Rt.float32[0]=t,this.writeInt32(n,Rt.int32[0])};Rt.ByteBuffer.prototype.writeFloat64=function(n,t){Rt.float64[0]=t,this.writeInt32(n,Rt.int32[Rt.isLittleEndian?0:1]),this.writeInt32(n+4,Rt.int32[Rt.isLittleEndian?1:0])};Rt.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+Rt.SIZEOF_INT+Rt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var n="",t=0;t<Rt.FILE_IDENTIFIER_LENGTH;t++)n+=String.fromCharCode(this.readInt8(this.position_+Rt.SIZEOF_INT+t));return n};Rt.ByteBuffer.prototype.__offset=function(n,t){var e=n-this.readInt32(n);return t<this.readInt16(e)?this.readInt16(e+t):0};Rt.ByteBuffer.prototype.__union=function(n,t){return n.bb_pos=t+this.readInt32(t),n.bb=this,n};Rt.ByteBuffer.prototype.__string=function(n,t){n+=this.readInt32(n);var e=this.readInt32(n),r="",i=0;if(n+=Rt.SIZEOF_INT,t===Rt.Encoding.UTF8_BYTES)return this.bytes_.subarray(n,n+e);for(;i<e;){var s,o=this.readUint8(n+i++);if(o<192)s=o;else{var a=this.readUint8(n+i++);if(o<224)s=(o&31)<<6|a&63;else{var l=this.readUint8(n+i++);if(o<240)s=(o&15)<<12|(a&63)<<6|l&63;else{var u=this.readUint8(n+i++);s=(o&7)<<18|(a&63)<<12|(l&63)<<6|u&63}}}s<65536?r+=String.fromCharCode(s):(s-=65536,r+=String.fromCharCode((s>>10)+55296,(s&(1<<10)-1)+56320))}return r};Rt.ByteBuffer.prototype.__indirect=function(n){return n+this.readInt32(n)};Rt.ByteBuffer.prototype.__vector=function(n){return n+this.readInt32(n)+Rt.SIZEOF_INT};Rt.ByteBuffer.prototype.__vector_len=function(n){return this.readInt32(n+this.readInt32(n))};Rt.ByteBuffer.prototype.__has_identifier=function(n){if(n.length!=Rt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Rt.FILE_IDENTIFIER_LENGTH);for(var t=0;t<Rt.FILE_IDENTIFIER_LENGTH;t++)if(n.charCodeAt(t)!=this.readInt8(this.position_+Rt.SIZEOF_INT+t))return!1;return!0};Rt.ByteBuffer.prototype.createLong=function(n,t){return Rt.Long.create(n,t)};function Uf(n,t,e){return t<=n&&n<=e}function o2(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Qdt(n){for(var t=String(n),e=t.length,r=0,i=[];r<e;){var s=t.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===e-1)i.push(65533);else{var o=n.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function tpt(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Ob=-1;function jI(n){this.tokens=[].slice.call(n)}jI.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ob},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var wy=-1;function MM(n,t){if(n)throw TypeError("Decoder error");return t||65533}var Fb="utf-8";function Bb(n,t){if(!(this instanceof Bb))return new Bb(n,t);if(n=n!==void 0?String(n).toLowerCase():Fb,n!==Fb)throw new Error("Encoding not supported. Only utf-8 is supported");t=o2(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Bb.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=o2(e),this._streaming||(this._decoder=new ept({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var i=new jI(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==wy);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===wy)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),tpt(s)}};function Nb(n,t){if(!(this instanceof Nb))return new Nb(n,t);if(n=n!==void 0?String(n).toLowerCase():Fb,n!==Fb)throw new Error("Encoding not supported. Only utf-8 is supported");t=o2(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Nb.prototype={encode:function(t,e){t=t?String(t):"",e=o2(e),this._streaming||(this._encoder=new npt(this._options)),this._streaming=Boolean(e.stream);for(var r=[],i=new jI(Qdt(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==wy);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==wy;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function ept(n){var t=n.fatal,e=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Ob&&i!==0)return i=0,MM(t);if(l===Ob)return wy;if(i===0){if(Uf(l,0,127))return l;if(Uf(l,194,223))i=1,e=l-192;else if(Uf(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,e=l-224;else if(Uf(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,e=l-240;else return MM(t);return e=e<<6*i,null}if(!Uf(l,s,o))return e=i=r=0,s=128,o=191,a.prepend(l),MM(t);if(s=128,o=191,r+=1,e+=l-128<<6*(i-r),r!==i)return null;var u=e;return e=i=r=0,u}}function npt(n){n.fatal,this.handler=function(t,e){if(e===Ob)return wy;if(Uf(e,0,127))return e;var r,i;Uf(e,128,2047)?(r=1,i=192):Uf(e,2048,65535)?(r=2,i=224):Uf(e,65536,1114111)&&(r=3,i=240);for(var s=[(e>>6*r)+i];r>0;){var o=e>>6*(r-1);s.push(128|o&63),r-=1}return s}}const rpt=new(typeof TextDecoder!="undefined"?TextDecoder:Bb)("utf-8"),XA=n=>rpt.decode(n),ipt=new(typeof TextEncoder!="undefined"?TextEncoder:Nb),YI=n=>ipt.encode(n),_i=Object.freeze({done:!0,value:void 0});class wF{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class og{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class spt extends og{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}async cancel(t){await this.return(t)}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(_i);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return al.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return al.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}async throw(t){return await this.abort(t),_i}async return(t){return await this.close(),_i}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,r)=>{this.resolvers.push({resolve:e,reject:r})}):Promise.resolve(_i)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error(`${this} is closed`)}}const[opt,qI]=(()=>{const n=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw n()}return t.asIntN=()=>{throw n()},t.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[t,!1]})(),[a2,Ayt]=(()=>{const n=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[t,!1]})(),[l2,Cyt]=(()=>{const n=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[t,!1]})(),apt=n=>typeof n=="number",fV=n=>typeof n=="boolean",Sl=n=>typeof n=="function",$a=n=>n!=null&&Object(n)===n,$d=n=>$a(n)&&Sl(n.then),Cc=n=>$a(n)&&Sl(n[Symbol.iterator]),rp=n=>$a(n)&&Sl(n[Symbol.asyncIterator]),ZA=n=>$a(n)&&$a(n.schema),hV=n=>$a(n)&&"done"in n&&"value"in n,dV=n=>$a(n)&&Sl(n.stat)&&apt(n.fd),pV=n=>$a(n)&&XI(n.body),lpt=n=>$a(n)&&Sl(n.abort)&&Sl(n.getWriter)&&!(n instanceof og),XI=n=>$a(n)&&Sl(n.cancel)&&Sl(n.getReader)&&!(n instanceof og),upt=n=>$a(n)&&Sl(n.end)&&Sl(n.write)&&fV(n.writable)&&!(n instanceof og),mV=n=>$a(n)&&Sl(n.read)&&Sl(n.pipe)&&fV(n.readable)&&!(n instanceof og);var cpt=Rt.ByteBuffer;const ZI=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function fpt(n){const t=n[0]?[n[0]]:[];let e,r,i,s;for(let o,a,l=0,u=0,h=n.length;++l<h;){if(o=t[u],a=n[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:e,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,e+i<r||r+s<e){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,e,r-e+s)}return t}function zb(n,t,e=0,r=t.byteLength){const i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,e),n}function Ic(n,t){const e=fpt(n),r=e.reduce((h,m)=>h+m.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(t||1/0,r);for(let h=e.length;++l<h;){if(i=e[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?e[l]=i.subarray(s.length):s.length===i.length&&l++,o?zb(o,s,a):o=s;break}zb(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),e.slice(l),r-(o?o.byteLength:0)]}function wr(n,t){let e=hV(t)?t.value:t;return e instanceof n?n===Uint8Array?new n(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=YI(e)),e instanceof ArrayBuffer?new n(e):e instanceof ZI?new n(e):e instanceof cpt?wr(n,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new n(0):new n(e.buffer,e.byteOffset,e.byteLength/n.BYTES_PER_ELEMENT):n.from(e)):new n(0)}const Ov=n=>wr(Int32Array,n),hpt=n=>wr(a2,n),yr=n=>wr(Uint8Array,n),dpt=n=>wr(l2,n),KA=n=>(n.next(),n);function*ppt(n,t){const e=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ZI?e(t):Cc(t)?t:e(t);return yield*KA(function*(i){let s=null;do s=i.next(yield wr(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}const mpt=n=>ppt(Uint8Array,n);async function*gV(n,t){if($d(t))return yield*gV(n,await t);const e=async function*(s){yield await s},r=async function*(s){yield*KA(function*(o){let a=null;do a=o.next(yield a&&a.value);while(!a.done)}(s[Symbol.iterator]()))},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ZI?e(t):Cc(t)?r(t):rp(t)?t:e(t);return yield*KA(async function*(s){let o=null;do o=await s.next(yield wr(n,o));while(!o.done)}(i[Symbol.asyncIterator]())),new n}const gpt=n=>gV(Uint8Array,n);function KI(n,t,e){if(n!==0){e=e.slice(0,t+1);for(let r=-1;++r<=t;)e[r]+=n}return e}function ypt(n,t){let e=0;const r=n.length;if(r!==t.length)return!1;if(r>0)do if(n[e]!==t[e])return!1;while(++e<r);return!0}var al={fromIterable(n){return fx(vpt(n))},fromAsyncIterable(n){return fx(_pt(n))},fromDOMStream(n){return fx(wpt(n))},fromNodeStream(n){return fx(bpt(n))},toDOMStream(n,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,t){throw new Error('"toNodeStream" not available in this environment')}};const fx=n=>(n.next(),n);function*vpt(n){let t,e=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?Ic(r,o)[0]:([i,r,a]=Ic(r,o),i)}({cmd:s,size:o}=yield null);const u=mpt(n)[Symbol.iterator]();try{do if({done:t,value:i}=isNaN(o-a)?u.next(void 0):u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(h){(e=!0)&&typeof u.throw=="function"&&u.throw(h)}finally{e===!1&&typeof u.return=="function"&&u.return(null)}return null}async function*_pt(n){let t,e=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?Ic(r,o)[0]:([i,r,a]=Ic(r,o),i)}({cmd:s,size:o}=yield null);const u=gpt(n)[Symbol.asyncIterator]();try{do if({done:t,value:i}=isNaN(o-a)?await u.next(void 0):await u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(h){(e=!0)&&typeof u.throw=="function"&&await u.throw(h)}finally{e===!1&&typeof u.return=="function"&&await u.return(new Uint8Array(0))}return null}async function*wpt(n){let t=!1,e=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?Ic(r,o)[0]:([i,r,a]=Ic(r,o),i)}({cmd:s,size:o}=yield null);const u=new xpt(n);try{do if({done:t,value:i}=isNaN(o-a)?await u.read(void 0):await u.read(o-a),!t&&i.byteLength>0&&(r.push(yr(i)),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(h){(e=!0)&&await u.cancel(h)}finally{e===!1?await u.cancel():n.locked&&u.releaseLock()}return null}class xpt{constructor(t){this.source=t,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch{this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(t){const{reader:e,source:r}=this;e&&await e.cancel(t).catch(()=>{}),r&&r.locked&&this.releaseLock()}async read(t){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=!this.supportsBYOB||typeof t!="number"?await this.getDefaultReader().read():await this.readFromBYOBReader(t);return!e.done&&(e.value=yr(e)),e}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}async readFromBYOBReader(t){return await yV(this.getBYOBReader(),new ArrayBuffer(t),0,t)}}async function yV(n,t,e,r){if(e>=r)return{done:!1,value:new Uint8Array(t,0,r)};const{done:i,value:s}=await n.read(new Uint8Array(t,e,r-e));return(e+=s.byteLength)<r&&!i?await yV(n,s.buffer,e,r):{done:i,value:new Uint8Array(s.buffer,0,e)}}const TM=(n,t)=>{const e=i=>r([t,i]);let r;return[t,e,new Promise(i=>(r=i)&&n.once(t,e))]};async function*bpt(n){const t=[];let e="error",r=!1,i=null,s,o,a=0,l=[],u;function h(){return s==="peek"?Ic(l,o)[0]:([u,l,a]=Ic(l,o),u)}if({cmd:s,size:o}=yield null,n.isTTY)return yield new Uint8Array(0),null;try{t[0]=TM(n,"end"),t[1]=TM(n,"error");do{if(t[2]=TM(n,"readable"),[e,i]=await Promise.race(t.map(d=>d[2])),e==="error")break;if((r=e==="end")||(isFinite(o-a)?(u=yr(n.read(o-a)),u.byteLength<o-a&&(u=yr(n.read(void 0)))):u=yr(n.read(void 0)),u.byteLength>0&&(l.push(u),a+=u.byteLength)),r||o<=a)do({cmd:s,size:o}=yield h());while(o<a)}while(!r)}finally{await m(t,e==="error"?i:null)}return null;function m(d,y){return u=l=null,new Promise((_,v)=>{for(const[w,x]of d)n.off(w,x);try{const w=n.destroy;w&&w.call(n,y),y=void 0}catch(w){y=w||y}finally{y!=null?v(y):_()}})}}class sr{}sr.prototype.data=null;var Ns;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(Ns||(Ns={}));var xF;(function(n){n[n.UNUSED=0]="UNUSED",n[n.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",n[n.COMPRESSED_BODY=2]="COMPRESSED_BODY"})(xF||(xF={}));var ja;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(ja||(ja={}));var io;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(io||(io={}));var fa;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(fa||(fa={}));var nr;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(nr||(nr={}));var Rc;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME"})(Rc||(Rc={}));var hi;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(hi||(hi={}));var Ub;(function(n){n[n.DenseArray=0]="DenseArray"})(Ub||(Ub={}));var xy;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(xy||(xy={}));class fm{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new fm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new fm).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return fm.startNull(t),fm.endNull(t)}}class hm{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new hm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new hm).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return hm.startStruct_(t),hm.endStruct_(t)}}class dm{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new dm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new dm).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return dm.startList(t),dm.endList(t)}}class cc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new cc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new cc).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return cc.startFixedSizeList(t),cc.addListSize(t,e),cc.endFixedSizeList(t)}}class fc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new fc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new fc).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return fc.startMap(t),fc.addKeysSorted(t,e),fc.endMap(t)}}class ea{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new ea).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new ea).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ja.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,ja.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,r){return ea.startUnion(t),ea.addMode(t,e),ea.addTypeIds(t,r),ea.endUnion(t)}}class Na{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Na).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Na).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,r){return Na.startInt(t),Na.addBitWidth(t,e),Na.addIsSigned(t,r),Na.endInt(t)}}class hc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new hc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new hc).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):io.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,io.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return hc.startFloatingPoint(t),hc.addPrecision(t,e),hc.endFloatingPoint(t)}}class pm{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new pm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new pm).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return pm.startUtf8(t),pm.endUtf8(t)}}class mm{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new mm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new mm).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return mm.startBinary(t),mm.endBinary(t)}}class dc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new dc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new dc).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return dc.startFixedSizeBinary(t),dc.addByteWidth(t,e),dc.endFixedSizeBinary(t)}}class gm{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new gm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new gm).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return gm.startBool(t),gm.endBool(t)}}class Ba{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Ba).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Ba).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,r,i){return Ba.startDecimal(t),Ba.addPrecision(t,e),Ba.addScale(t,r),Ba.addBitWidth(t,i),Ba.endDecimal(t)}}class pc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new pc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new pc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):fa.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,fa.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return pc.startDate(t),pc.addUnit(t,e),pc.endDate(t)}}class fl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new fl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new fl).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,nr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,r){return fl.startTime(t),fl.addUnit(t,e),fl.addBitWidth(t,r),fl.endTime(t)}}class hl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new hl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new hl).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,nr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,r){return hl.startTimestamp(t),hl.addUnit(t,e),hl.addTimezone(t,r),hl.endTimestamp(t)}}class mc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new mc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new mc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Rc.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Rc.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return mc.startInterval(t),mc.addUnit(t,e),mc.endInterval(t)}}class ds{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new ds).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new ds).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,r){return ds.startKeyValue(t),ds.addKey(t,e),ds.addValue(t,r),ds.endKeyValue(t)}}class Eo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Eo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Eo).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Na).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Ub.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Ub.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}static createDictionaryEncoding(t,e,r,i,s){return Eo.startDictionaryEncoding(t),Eo.addId(t,e),Eo.addIndexType(t,r),Eo.addIsOrdered(t,i),Eo.addDictionaryKind(t,s),Eo.endDictionaryEncoding(t)}}class ei{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new ei).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new ei).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):hi.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Eo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new ds).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,hi.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}static createField(t,e,r,i,s,o,a,l){return ei.startField(t),ei.addName(t,e),ei.addNullable(t,r),ei.addTypeType(t,i),ei.addType(t,s),ei.addDictionary(t,o),ei.addChildren(t,a),ei.addCustomMetadata(t,l),ei.endField(t)}}class vV{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}}class fs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new fs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new fs).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xy.Little}fields(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new ds).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,xy.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,r,i,s){return fs.startSchema(t),fs.addEndianness(t,e),fs.addFields(t,r),fs.addCustomMetadata(t,i),fs.addFeatures(t,s),fs.endSchema(t)}}var Vb;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(Vb||(Vb={}));var Hb;(function(n){n[n.BUFFER=0]="BUFFER"})(Hb||(Hb={}));var pr;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(pr||(pr={}));class _V{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}}class hd{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new hd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new hd).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Vb.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Hb.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Vb.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,Hb.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,r){return hd.startBodyCompression(t),hd.addCodec(t,e),hd.addMethod(t,r),hd.endBodyCompression(t)}}class Ts{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Ts).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Ts).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new _V).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new vV).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new hd).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}static createRecordBatch(t,e,r,i,s){return Ts.startRecordBatch(t),Ts.addLength(t,e),Ts.addNodes(t,r),Ts.addBuffers(t,i),Ts.addCompression(t,s),Ts.endRecordBatch(t)}}class Qo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Qo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Qo).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ts).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}static createDictionaryBatch(t,e,r,i){return Qo.startDictionaryBatch(t),Qo.addId(t,e),Qo.addData(t,r),Qo.addIsDelta(t,i),Qo.endDictionaryBatch(t)}}class Ss{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Ss).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Ss).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ns.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):pr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ds).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Ns.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,pr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,r,i,s,o){return Ss.startMessage(t),Ss.addVersion(t,e),Ss.addHeaderType(t,r),Ss.addHeader(t,i),Ss.addBodyLength(t,s),Ss.addCustomMetadata(t,o),Ss.endMessage(t)}}var It;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(It||(It={}));var Qe;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(Qe||(Qe={}));function wV(n,t,e,r){return(e&1<<r)!==0}function Spt(n,t,e,r){return(e&1<<r)>>r}function Ept(n,t,e){return e?!!(n[t>>3]|=1<<t%8)||!0:!(n[t>>3]&=~(1<<t%8))&&!1}function JI(n,t,e){const r=e.byteLength+7&-8;if(n>0||e.byteLength<r){const i=new Uint8Array(r);return i.set(n%8===0?e.subarray(n>>3):Wb(new u2(e,n,t,null,wV)).subarray(0,r)),i}return e}function Wb(n){const t=[];let e=0,r=0,i=0;for(const o of n)o&&(i|=1<<r),++r===8&&(t[e++]=i,i=r=0);(e===0||r>0)&&(t[e++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class u2{constructor(t,e,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function JA(n,t,e){if(e-t<=0)return 0;if(e-t<8){let s=0;for(const o of new u2(n,t,e-t,n,Spt))s+=o;return s}const r=e>>3<<3,i=t+(t%8===0?0:8-t%8);return JA(n,t,i)+JA(n,r,e)+Mpt(n,i>>3,r-i>>3)}function Mpt(n,t,e){let r=0,i=t|0;const s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=e===void 0?n.byteLength:i+e;for(;o-i>=4;)r+=AM(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=AM(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=AM(s.getUint8(i)),i+=1;return r}function AM(n){let t=n|0;return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}class $n{static isNull(t){return t&&t.typeId===It.Null}static isInt(t){return t&&t.typeId===It.Int}static isFloat(t){return t&&t.typeId===It.Float}static isBinary(t){return t&&t.typeId===It.Binary}static isUtf8(t){return t&&t.typeId===It.Utf8}static isBool(t){return t&&t.typeId===It.Bool}static isDecimal(t){return t&&t.typeId===It.Decimal}static isDate(t){return t&&t.typeId===It.Date}static isTime(t){return t&&t.typeId===It.Time}static isTimestamp(t){return t&&t.typeId===It.Timestamp}static isInterval(t){return t&&t.typeId===It.Interval}static isList(t){return t&&t.typeId===It.List}static isStruct(t){return t&&t.typeId===It.Struct}static isUnion(t){return t&&t.typeId===It.Union}static isFixedSizeBinary(t){return t&&t.typeId===It.FixedSizeBinary}static isFixedSizeList(t){return t&&t.typeId===It.FixedSizeList}static isMap(t){return t&&t.typeId===It.Map}static isDictionary(t){return t&&t.typeId===It.Dictionary}get typeId(){return It.NONE}}$n[Symbol.toStringTag]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))($n.prototype);class by extends $n{toString(){return"Null"}get typeId(){return It.Null}}by[Symbol.toStringTag]=(n=>n[Symbol.toStringTag]="Null")(by.prototype);class ha extends $n{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return It.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}ha[Symbol.toStringTag]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(ha.prototype);class QI extends ha{constructor(){super(!0,8)}}class tR extends ha{constructor(){super(!0,16)}}class Ym extends ha{constructor(){super(!0,32)}}class Sy extends ha{constructor(){super(!0,64)}}class eR extends ha{constructor(){super(!1,8)}}class nR extends ha{constructor(){super(!1,16)}}class rR extends ha{constructor(){super(!1,32)}}class Ey extends ha{constructor(){super(!1,64)}}Object.defineProperty(QI.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(tR.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Ym.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Sy.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(eR.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(nR.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(rR.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Ey.prototype,"ArrayType",{value:Uint32Array});class qm extends $n{constructor(t){super(),this.precision=t}get typeId(){return It.Float}get ArrayType(){switch(this.precision){case io.HALF:return Uint16Array;case io.SINGLE:return Float32Array;case io.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}qm[Symbol.toStringTag]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(qm.prototype);class c2 extends qm{constructor(){super(io.HALF)}}class f2 extends qm{constructor(){super(io.SINGLE)}}class iR extends qm{constructor(){super(io.DOUBLE)}}Object.defineProperty(c2.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(f2.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(iR.prototype,"ArrayType",{value:Float64Array});class Z_ extends $n{constructor(){super()}get typeId(){return It.Binary}toString(){return"Binary"}}Z_[Symbol.toStringTag]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(Z_.prototype);class My extends $n{constructor(){super()}get typeId(){return It.Utf8}toString(){return"Utf8"}}My[Symbol.toStringTag]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(My.prototype);class K_ extends $n{constructor(){super()}get typeId(){return It.Bool}toString(){return"Bool"}}K_[Symbol.toStringTag]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(K_.prototype);class Gb extends $n{constructor(t,e){super(),this.scale=t,this.precision=e}get typeId(){return It.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}Gb[Symbol.toStringTag]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(Gb.prototype);class Ty extends $n{constructor(t){super(),this.unit=t}get typeId(){return It.Date}toString(){return`Date${(this.unit+1)*32}<${fa[this.unit]}>`}}Ty[Symbol.toStringTag]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(Ty.prototype);class Tpt extends Ty{constructor(){super(fa.DAY)}}class bF extends Ty{constructor(){super(fa.MILLISECOND)}}class $b extends $n{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return It.Time}toString(){return`Time${this.bitWidth}<${nr[this.unit]}>`}}$b[Symbol.toStringTag]=(n=>(n.unit=null,n.bitWidth=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Time"))($b.prototype);class jb extends $n{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return It.Timestamp}toString(){return`Timestamp<${nr[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}jb[Symbol.toStringTag]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(jb.prototype);class Yb extends $n{constructor(t){super(),this.unit=t}get typeId(){return It.Interval}toString(){return`Interval<${Rc[this.unit]}>`}}Yb[Symbol.toStringTag]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(Yb.prototype);class J_ extends $n{constructor(t){super(),this.children=[t]}get typeId(){return It.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}J_[Symbol.toStringTag]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(J_.prototype);class Lc extends $n{constructor(t){super(),this.children=t}get typeId(){return It.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Lc[Symbol.toStringTag]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(Lc.prototype);class qb extends $n{constructor(t,e,r){super(),this.mode=t,this.children=r,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return It.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}qb[Symbol.toStringTag]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(qb.prototype);class Xb extends $n{constructor(t){super(),this.byteWidth=t}get typeId(){return It.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Xb[Symbol.toStringTag]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(Xb.prototype);class Zb extends $n{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return It.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Zb[Symbol.toStringTag]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(Zb.prototype);class Kb extends $n{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return It.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Kb[Symbol.toStringTag]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(Kb.prototype);const Apt=(n=>()=>++n)(-1);class Xm extends $n{constructor(t,e,r,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?Apt():typeof r=="number"?r:r.low}get typeId(){return It.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Xm[Symbol.toStringTag]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(Xm.prototype);function xV(n){const t=n;switch(n.typeId){case It.Decimal:return 4;case It.Timestamp:return 2;case It.Date:return 1+t.unit;case It.Interval:return 1+t.unit;case It.Int:return 1+ +(t.bitWidth>32);case It.Time:return 1+ +(t.bitWidth>32);case It.FixedSizeList:return t.listSize;case It.FixedSizeBinary:return t.byteWidth;default:return 1}}const Cpt=-1;class Me{constructor(t,e,r,i,s,o,a){this.type=t,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),this.childData=(o||[]).map(u=>u instanceof Me?u:u.data);let l;s instanceof Me?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=xV(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:r,nullBitmap:i,typeIds:s}=this;return e&&(t+=e.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.childData.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=Cpt&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-JA(e,this.offset,this.offset+this.length)),t}clone(t,e=this.offset,r=this.length,i=this._nullCount,s=this,o=this.childData){return new Me(t,e,r,i,s,o,this.dictionary)}slice(t,e){const{stride:r,typeId:i,childData:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,e,r,i);return this.clone(this.type,this.offset+t,e,o,l,!s.length||this.valueOffsets?s:this._sliceChildren(s,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===It.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);i[e>>3]=(1<<e-(e&-8))-1,r>0&&i.set(JI(this.offset,e,this.nullBitmap),0);const s=this.buffers;return s[Qe.VALIDITY]=i,this.clone(this.type,0,t,r+(t-e),s)}_sliceBuffers(t,e,r,i){let s;const{buffers:o}=this;return(s=o[Qe.TYPE])&&(o[Qe.TYPE]=s.subarray(t,t+e)),(s=o[Qe.OFFSET])&&(o[Qe.OFFSET]=s.subarray(t,t+e+1))||(s=o[Qe.DATA])&&(o[Qe.DATA]=i===6?s:s.subarray(r*t,r*(t+e))),o}_sliceChildren(t,e,r){return t.map(i=>i.slice(e,r))}static new(t,e,r,i,s,o,a){switch(s instanceof Me?s=s.buffers:s||(s=[]),t.typeId){case It.Null:return Me.Null(t,e,r);case It.Int:return Me.Int(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Dictionary:return Me.Dictionary(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[],a);case It.Float:return Me.Float(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Bool:return Me.Bool(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Decimal:return Me.Decimal(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Date:return Me.Date(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Time:return Me.Time(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Timestamp:return Me.Timestamp(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Interval:return Me.Interval(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.FixedSizeBinary:return Me.FixedSizeBinary(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.DATA]||[]);case It.Binary:return Me.Binary(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.OFFSET]||[],s[Qe.DATA]||[]);case It.Utf8:return Me.Utf8(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.OFFSET]||[],s[Qe.DATA]||[]);case It.List:return Me.List(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.OFFSET]||[],(o||[])[0]);case It.FixedSizeList:return Me.FixedSizeList(t,e,r,i||0,s[Qe.VALIDITY],(o||[])[0]);case It.Struct:return Me.Struct(t,e,r,i||0,s[Qe.VALIDITY],o||[]);case It.Map:return Me.Map(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.OFFSET]||[],(o||[])[0]);case It.Union:return Me.Union(t,e,r,i||0,s[Qe.VALIDITY],s[Qe.TYPE]||[],s[Qe.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${t.typeId}`)}static Null(t,e,r){return new Me(t,e,r,0)}static Int(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Dictionary(t,e,r,i,s,o,a){return new Me(t,e,r,i,[void 0,wr(t.indices.ArrayType,o),yr(s)],[],a)}static Float(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Bool(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Decimal(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Date(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Time(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Timestamp(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Interval(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static FixedSizeBinary(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,wr(t.ArrayType,o),yr(s)])}static Binary(t,e,r,i,s,o,a){return new Me(t,e,r,i,[Ov(o),yr(a),yr(s)])}static Utf8(t,e,r,i,s,o,a){return new Me(t,e,r,i,[Ov(o),yr(a),yr(s)])}static List(t,e,r,i,s,o,a){return new Me(t,e,r,i,[Ov(o),void 0,yr(s)],a?[a]:[])}static FixedSizeList(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,void 0,yr(s)],o?[o]:[])}static Struct(t,e,r,i,s,o){return new Me(t,e,r,i,[void 0,void 0,yr(s)],o)}static Map(t,e,r,i,s,o,a){return new Me(t,e,r,i,[Ov(o),void 0,yr(s)],a?[a]:[])}static Union(t,e,r,i,s,o,a,l){const u=[void 0,void 0,yr(s),wr(t.ArrayType,o)];return t.mode===ja.Sparse?new Me(t,e,r,i,u,a):(u[Qe.OFFSET]=Ov(a),new Me(t,e,r,i,u,l))}}Me.prototype.childData=Object.freeze([]);const Ipt=void 0;function l_(n){if(n===null)return"null";if(n===Ipt)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n)}function Rpt(n){if(!n||n.length<=0)return function(i){return!0};let t="";const e=n.filter(r=>r===r);return e.length>0&&(t=`
    switch (x) {${e.map(r=>`
        case ${Lpt(r)}:`).join("")}
            return false;
    }`),n.length!==e.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Lpt(n){return typeof n!="bigint"?l_(n):qI?`${l_(n)}n`:`"${l_(n)}"`}const CM=(n,t)=>(n*t+63&-64||64)/t,Ppt=(n,t=0)=>n.length>=t?n.subarray(0,t):zb(new n.constructor(t),n,0);class bV{constructor(t,e=1){this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=t.length/e|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const e=this.stride,r=this.length*e,i=this.buffer.length;r>=i&&this._resize(i===0?CM(r*1,this.BYTES_PER_ELEMENT):CM(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=CM(t*this.stride,this.BYTES_PER_ELEMENT);const e=Ppt(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=zb(new this.ArrayType(t),this.buffer)}}bV.prototype.offset=0;class Dpt extends bV{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}class kpt extends Dpt{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return e?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Pc{constructor({type:t,nullValues:e}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=e,this.stride=xV(t),this._nulls=new kpt,e&&e.length>0&&(this._isValid=Rpt(e))}static new(t){}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}static throughIterable(t){return Opt(t)}static throughAsyncIterable(t){return Fpt(t)}toVector(){return sr.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),this._typeIds&&(t+=this._typeIds.byteLength),this.children.reduce((e,r)=>e+r.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((e,r)=>e+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t,e=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){const t=[],e=this._values,r=this._offsets,i=this._typeIds,{length:s,nullCount:o}=this;i?(t[Qe.TYPE]=i.flush(s),r&&(t[Qe.OFFSET]=r.flush(s))):r?(e&&(t[Qe.DATA]=e.flush(r.last())),t[Qe.OFFSET]=r.flush(s)):e&&(t[Qe.DATA]=e.flush(s)),o>0&&(t[Qe.VALIDITY]=this._nulls.flush(s));const a=Me.new(this.type,0,s,o,t,this.children.map(l=>l.flush()));return this.clear(),a}finish(){return this.finished=!0,this.children.forEach(t=>t.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(t=>t.clear()),this}}Pc.prototype.length=1;Pc.prototype.stride=1;Pc.prototype.children=null;Pc.prototype.finished=!1;Pc.prototype.nullValues=null;Pc.prototype._isValid=()=>!0;function Opt(n){const{["queueingStrategy"]:t="count"}=n,{["highWaterMark"]:e=t!=="bytes"?1e3:2**14}=n,r=t!=="bytes"?"length":"byteLength";return function*(i){let s=0;const o=Pc.new(n);for(const a of i)o.append(a)[r]>=e&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}function Fpt(n){const{["queueingStrategy"]:t="count"}=n,{["highWaterMark"]:e=t!=="bytes"?1e3:2**14}=n,r=t!=="bytes"?"length":"byteLength";return async function*(i){let s=0;const o=Pc.new(n);for await(const a of i)o.append(a)[r]>=e&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}const SV=new Float64Array(1),p0=new Uint32Array(SV.buffer);function Bpt(n){const t=(n&31744)>>10,e=(n&1023)/1024,r=(-1)**((n&32768)>>15);switch(t){case 31:return r*(e?NaN:1/0);case 0:return r*(e?6103515625e-14*e:0)}return r*2**(t-15)*(1+e)}function Npt(n){if(n!==n)return 32256;SV[0]=n;const t=(p0[1]&2147483648)>>16&65535;let e=p0[1]&2146435072,r=0;return e>=1089470464?p0[0]>0?e=31744:(e=(e&2080374784)>>16,r=(p0[1]&1048575)>>10):e<=1056964608?(r=1048576+(p0[1]&1048575),r=1048576+(r<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,r=(p0[1]&1048575)+512>>10),t|e|r&65535}const zpt=Symbol.for("isArrowBigNum");function Pu(n,...t){return t.length===0?Object.setPrototypeOf(wr(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...t),this.constructor.prototype)}Pu.prototype[zpt]=!0;Pu.prototype.toJSON=function(){return`"${Im(this)}"`};Pu.prototype.valueOf=function(){return EV(this)};Pu.prototype.toString=function(){return Im(this)};Pu.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return EV(this);case"string":return Im(this);case"default":return QA(this)}return Im(this)};function Y0(...n){return Pu.apply(this,n)}function q0(...n){return Pu.apply(this,n)}function Q_(...n){return Pu.apply(this,n)}Object.setPrototypeOf(Y0.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(q0.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Q_.prototype,Object.create(Uint32Array.prototype));Object.assign(Y0.prototype,Pu.prototype,{constructor:Y0,signed:!0,TypedArray:Int32Array,BigIntArray:a2});Object.assign(q0.prototype,Pu.prototype,{constructor:q0,signed:!1,TypedArray:Uint32Array,BigIntArray:l2});Object.assign(Q_.prototype,Pu.prototype,{constructor:Q_,signed:!0,TypedArray:Uint32Array,BigIntArray:l2});function EV(n){const{buffer:t,byteOffset:e,length:r,signed:i}=n,s=new Int32Array(t,e,r);let o=0,a=0;const l=s.length;let u,h;for(;a<l;)h=s[a++],u=s[a++],i||(u=u>>>0),o+=(h>>>0)+u*a**32;return o}let Im,QA;qI?(QA=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:IM(n),Im=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:IM(n)):(Im=IM,QA=Im);function IM(n){let t="";const e=new Uint32Array(2);let r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(e[0]=r[s=0];s<o;)r[s++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+r[s];r[s]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t||"0"}class Jy{static new(t,e){switch(e){case!0:return new Y0(t);case!1:return new q0(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case a2:return new Y0(t)}return t.byteLength===16?new Q_(t):new q0(t)}static signed(t){return new Y0(t)}static unsigned(t){return new q0(t)}static decimal(t){return new Q_(t)}constructor(t,e){return Jy.new(t,e)}}class Fr{constructor(t=[],e,r){this.fields=t||[],this.metadata=e||new Map,r||(r=t3(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(...t){const e=t.reduce((r,i)=>(r[i]=!0)&&r,Object.create(null));return new Fr(this.fields.filter(r=>e[r.name]),this.metadata)}selectAt(...t){return new Fr(t.map(e=>this.fields[e]).filter(Boolean),this.metadata)}assign(...t){const e=t[0]instanceof Fr?t[0]:Array.isArray(t[0])?new Fr(t[0]):new Fr(t),r=[...this.fields],i=hx(hx(new Map,this.metadata),e.metadata),s=e.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:hx(hx(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=t3(s,new Map);return new Fr([...r,...s],i,new Map([...this.dictionaries,...o]))}}class Nr{constructor(t,e,r=!1,i){this.name=t,this.type=e,this.nullable=r,this.metadata=i||new Map}static new(...t){let[e,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Nr(`${e}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:e=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Nr.new(e,r,i,s)}}function hx(n,t){return new Map([...n||new Map,...t||new Map])}function t3(n,t=new Map){for(let e=-1,r=n.length;++e<r;){const s=n[e].type;if($n.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&t3(s.children,t)}return t}Fr.prototype.fields=null;Fr.prototype.metadata=null;Fr.prototype.dictionaries=null;Nr.prototype.type=null;Nr.prototype.name=null;Nr.prototype.nullable=null;Nr.prototype.metadata=null;class Zn{visitMany(t,...e){return t.map((r,i)=>this.visit(r,...e.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return Upt(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function Upt(n,t,e=!0){let r=null,i=It.NONE;switch(t instanceof Me||t instanceof sr?i=RM(t.type):t instanceof $n?i=RM(t):typeof(i=t)!="number"&&(i=It[t]),i){case It.Null:r=n.visitNull;break;case It.Bool:r=n.visitBool;break;case It.Int:r=n.visitInt;break;case It.Int8:r=n.visitInt8||n.visitInt;break;case It.Int16:r=n.visitInt16||n.visitInt;break;case It.Int32:r=n.visitInt32||n.visitInt;break;case It.Int64:r=n.visitInt64||n.visitInt;break;case It.Uint8:r=n.visitUint8||n.visitInt;break;case It.Uint16:r=n.visitUint16||n.visitInt;break;case It.Uint32:r=n.visitUint32||n.visitInt;break;case It.Uint64:r=n.visitUint64||n.visitInt;break;case It.Float:r=n.visitFloat;break;case It.Float16:r=n.visitFloat16||n.visitFloat;break;case It.Float32:r=n.visitFloat32||n.visitFloat;break;case It.Float64:r=n.visitFloat64||n.visitFloat;break;case It.Utf8:r=n.visitUtf8;break;case It.Binary:r=n.visitBinary;break;case It.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case It.Date:r=n.visitDate;break;case It.DateDay:r=n.visitDateDay||n.visitDate;break;case It.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case It.Timestamp:r=n.visitTimestamp;break;case It.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case It.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case It.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case It.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case It.Time:r=n.visitTime;break;case It.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case It.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case It.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case It.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case It.Decimal:r=n.visitDecimal;break;case It.List:r=n.visitList;break;case It.Struct:r=n.visitStruct;break;case It.Union:r=n.visitUnion;break;case It.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case It.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case It.Dictionary:r=n.visitDictionary;break;case It.Interval:r=n.visitInterval;break;case It.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case It.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case It.FixedSizeList:r=n.visitFixedSizeList;break;case It.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!e)return()=>null;throw new Error(`Unrecognized type '${It[i]}'`)}function RM(n){switch(n.typeId){case It.Null:return It.Null;case It.Int:{const{bitWidth:t,isSigned:e}=n;switch(t){case 8:return e?It.Int8:It.Uint8;case 16:return e?It.Int16:It.Uint16;case 32:return e?It.Int32:It.Uint32;case 64:return e?It.Int64:It.Uint64}return It.Int}case It.Float:switch(n.precision){case io.HALF:return It.Float16;case io.SINGLE:return It.Float32;case io.DOUBLE:return It.Float64}return It.Float;case It.Binary:return It.Binary;case It.Utf8:return It.Utf8;case It.Bool:return It.Bool;case It.Decimal:return It.Decimal;case It.Time:switch(n.unit){case nr.SECOND:return It.TimeSecond;case nr.MILLISECOND:return It.TimeMillisecond;case nr.MICROSECOND:return It.TimeMicrosecond;case nr.NANOSECOND:return It.TimeNanosecond}return It.Time;case It.Timestamp:switch(n.unit){case nr.SECOND:return It.TimestampSecond;case nr.MILLISECOND:return It.TimestampMillisecond;case nr.MICROSECOND:return It.TimestampMicrosecond;case nr.NANOSECOND:return It.TimestampNanosecond}return It.Timestamp;case It.Date:switch(n.unit){case fa.DAY:return It.DateDay;case fa.MILLISECOND:return It.DateMillisecond}return It.Date;case It.Interval:switch(n.unit){case Rc.DAY_TIME:return It.IntervalDayTime;case Rc.YEAR_MONTH:return It.IntervalYearMonth}return It.Interval;case It.Map:return It.Map;case It.List:return It.List;case It.Struct:return It.Struct;case It.Union:switch(n.mode){case ja.Dense:return It.DenseUnion;case ja.Sparse:return It.SparseUnion}return It.Union;case It.FixedSizeBinary:return It.FixedSizeBinary;case It.FixedSizeList:return It.FixedSizeList;case It.Dictionary:return It.Dictionary}throw new Error(`Unrecognized type '${It[n.typeId]}'`)}Zn.prototype.visitInt8=null;Zn.prototype.visitInt16=null;Zn.prototype.visitInt32=null;Zn.prototype.visitInt64=null;Zn.prototype.visitUint8=null;Zn.prototype.visitUint16=null;Zn.prototype.visitUint32=null;Zn.prototype.visitUint64=null;Zn.prototype.visitFloat16=null;Zn.prototype.visitFloat32=null;Zn.prototype.visitFloat64=null;Zn.prototype.visitDateDay=null;Zn.prototype.visitDateMillisecond=null;Zn.prototype.visitTimestampSecond=null;Zn.prototype.visitTimestampMillisecond=null;Zn.prototype.visitTimestampMicrosecond=null;Zn.prototype.visitTimestampNanosecond=null;Zn.prototype.visitTimeSecond=null;Zn.prototype.visitTimeMillisecond=null;Zn.prototype.visitTimeMicrosecond=null;Zn.prototype.visitTimeNanosecond=null;Zn.prototype.visitDenseUnion=null;Zn.prototype.visitSparseUnion=null;Zn.prototype.visitIntervalDayTime=null;Zn.prototype.visitIntervalYearMonth=null;class Rn extends Zn{}const Vpt=(n,t,e)=>{n[t]=e/864e5|0},sR=(n,t,e)=>{n[t]=e%4294967296|0,n[t+1]=e/4294967296|0},Hpt=(n,t,e)=>{n[t]=e*1e3%4294967296|0,n[t+1]=e*1e3/4294967296|0},Wpt=(n,t,e)=>{n[t]=e*1e6%4294967296|0,n[t+1]=e*1e6/4294967296|0},MV=(n,t,e,r)=>{const{[e]:i,[e+1]:s}=t;i!=null&&s!=null&&n.set(r.subarray(0,s-i),i)},Gpt=({offset:n,values:t},e,r)=>{const i=n+e;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},TV=({values:n},t,e)=>{Vpt(n,t,e.valueOf())},AV=({values:n},t,e)=>{sR(n,t*2,e.valueOf())},kc=({stride:n,values:t},e,r)=>{t[n*e]=r},CV=({stride:n,values:t},e,r)=>{t[n*e]=Npt(r)},oR=(n,t,e)=>{switch(typeof e){case"bigint":n.values64[t]=e;break;case"number":n.values[t*n.stride]=e;break;default:{const r=e,{stride:i,ArrayType:s}=n,o=wr(s,r);n.values.set(o.subarray(0,i),i*t)}}},$pt=({stride:n,values:t},e,r)=>{t.set(r.subarray(0,n),n*e)},jpt=({values:n,valueOffsets:t},e,r)=>MV(n,t,e,r),Ypt=({values:n,valueOffsets:t},e,r)=>{MV(n,t,e,YI(r))},qpt=(n,t,e)=>{n.type.bitWidth<64?kc(n,t,e):oR(n,t,e)},Xpt=(n,t,e)=>{n.type.precision!==io.HALF?kc(n,t,e):CV(n,t,e)},Zpt=(n,t,e)=>{n.type.unit===fa.DAY?TV(n,t,e):AV(n,t,e)},IV=({values:n},t,e)=>sR(n,t*2,e/1e3),RV=({values:n},t,e)=>sR(n,t*2,e),LV=({values:n},t,e)=>Hpt(n,t*2,e),PV=({values:n},t,e)=>Wpt(n,t*2,e),Kpt=(n,t,e)=>{switch(n.type.unit){case nr.SECOND:return IV(n,t,e);case nr.MILLISECOND:return RV(n,t,e);case nr.MICROSECOND:return LV(n,t,e);case nr.NANOSECOND:return PV(n,t,e)}},DV=({values:n,stride:t},e,r)=>{n[t*e]=r},kV=({values:n,stride:t},e,r)=>{n[t*e]=r},OV=({values:n},t,e)=>{n.set(e.subarray(0,2),2*t)},FV=({values:n},t,e)=>{n.set(e.subarray(0,2),2*t)},Jpt=(n,t,e)=>{switch(n.type.unit){case nr.SECOND:return DV(n,t,e);case nr.MILLISECOND:return kV(n,t,e);case nr.MICROSECOND:return OV(n,t,e);case nr.NANOSECOND:return FV(n,t,e)}},Qpt=({values:n},t,e)=>{n.set(e.subarray(0,4),4*t)},tmt=(n,t,e)=>{const r=n.getChildAt(0),i=n.valueOffsets;for(let s=-1,o=i[t],a=i[t+1];o<a;)r.set(o++,e.get(++s))},emt=(n,t,e)=>{const r=n.getChildAt(0),i=n.valueOffsets,s=e instanceof Map?[...e]:Object.entries(e);for(let o=-1,a=i[t],l=i[t+1];a<l;)r.set(a++,s[++o])},nmt=(n,t)=>(e,r,i)=>e&&e.set(n,t[i]),rmt=(n,t)=>(e,r,i)=>e&&e.set(n,t.get(i)),imt=(n,t)=>(e,r,i)=>e&&e.set(n,t.get(r.name)),smt=(n,t)=>(e,r,i)=>e&&e.set(n,t[r.name]),omt=(n,t,e)=>{const r=e instanceof Map?imt(t,e):e instanceof sr?rmt(t,e):Array.isArray(e)?nmt(t,e):smt(t,e);n.type.children.forEach((i,s)=>r(n.getChildAt(s),i,s))},amt=(n,t,e)=>{n.type.mode===ja.Dense?BV(n,t,e):NV(n,t,e)},BV=(n,t,e)=>{const r=n.typeIdToChildIndex[n.typeIds[t]],i=n.getChildAt(r);i&&i.set(n.valueOffsets[t],e)},NV=(n,t,e)=>{const r=n.typeIdToChildIndex[n.typeIds[t]],i=n.getChildAt(r);i&&i.set(t,e)},lmt=(n,t,e)=>{const r=n.getKey(t);r!==null&&n.setValue(r,e)},umt=(n,t,e)=>{n.type.unit===Rc.DAY_TIME?zV(n,t,e):UV(n,t,e)},zV=({values:n},t,e)=>{n.set(e.subarray(0,2),2*t)},UV=({values:n},t,e)=>{n[t]=e[0]*12+e[1]%12},cmt=(n,t,e)=>{const r=n.getChildAt(0),{stride:i}=n;for(let s=-1,o=t*i;++s<i;)r.set(o+s,e.get(s))};Rn.prototype.visitBool=Gpt;Rn.prototype.visitInt=qpt;Rn.prototype.visitInt8=kc;Rn.prototype.visitInt16=kc;Rn.prototype.visitInt32=kc;Rn.prototype.visitInt64=oR;Rn.prototype.visitUint8=kc;Rn.prototype.visitUint16=kc;Rn.prototype.visitUint32=kc;Rn.prototype.visitUint64=oR;Rn.prototype.visitFloat=Xpt;Rn.prototype.visitFloat16=CV;Rn.prototype.visitFloat32=kc;Rn.prototype.visitFloat64=kc;Rn.prototype.visitUtf8=Ypt;Rn.prototype.visitBinary=jpt;Rn.prototype.visitFixedSizeBinary=$pt;Rn.prototype.visitDate=Zpt;Rn.prototype.visitDateDay=TV;Rn.prototype.visitDateMillisecond=AV;Rn.prototype.visitTimestamp=Kpt;Rn.prototype.visitTimestampSecond=IV;Rn.prototype.visitTimestampMillisecond=RV;Rn.prototype.visitTimestampMicrosecond=LV;Rn.prototype.visitTimestampNanosecond=PV;Rn.prototype.visitTime=Jpt;Rn.prototype.visitTimeSecond=DV;Rn.prototype.visitTimeMillisecond=kV;Rn.prototype.visitTimeMicrosecond=OV;Rn.prototype.visitTimeNanosecond=FV;Rn.prototype.visitDecimal=Qpt;Rn.prototype.visitList=tmt;Rn.prototype.visitStruct=omt;Rn.prototype.visitUnion=amt;Rn.prototype.visitDenseUnion=BV;Rn.prototype.visitSparseUnion=NV;Rn.prototype.visitDictionary=lmt;Rn.prototype.visitInterval=umt;Rn.prototype.visitIntervalDayTime=zV;Rn.prototype.visitIntervalYearMonth=UV;Rn.prototype.visitFixedSizeList=cmt;Rn.prototype.visitMap=emt;const VV=new Rn;class Qi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Qi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+Rt.SIZE_PREFIX_LENGTH),(e||new Qi).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ns.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new fs).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new e3).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new e3).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ds).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Ns.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}static createFooter(t,e,r,i,s,o){return Qi.startFooter(t),Qi.addVersion(t,e),Qi.addSchema(t,r),Qi.addDictionaries(t,i),Qi.addRecordBatches(t,s),Qi.addCustomMetadata(t,o),Qi.endFooter(t)}}class e3{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(t,e,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(e),t.offset()}}var SF=Rt.Long,fmt=Rt.Builder,hmt=Rt.ByteBuffer;class t1{constructor(t,e=Ns.V4,r,i){this.schema=t,this.version=e,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new hmt(yr(t));const e=Qi.getRootAsFooter(t),r=Fr.decode(e.schema());return new dmt(r,e)}static encode(t){const e=new fmt,r=Fr.encode(e,t.schema);Qi.startRecordBatchesVector(e,t.numRecordBatches),[...t.recordBatches()].slice().reverse().forEach(o=>jd.encode(e,o));const i=e.endVector();Qi.startDictionariesVector(e,t.numDictionaries),[...t.dictionaryBatches()].slice().reverse().forEach(o=>jd.encode(e,o));const s=e.endVector();return Qi.startFooter(e),Qi.addSchema(e,r),Qi.addVersion(e,Ns.V4),Qi.addRecordBatches(e,i),Qi.addDictionaries(e,s),Qi.finishFooterBuffer(e,Qi.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,r=this.numRecordBatches;++e<r;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,r=this.numDictionaries;++e<r;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class dmt extends t1{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return jd.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return jd.decode(e)}return null}}class jd{constructor(t,e,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new jd(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:r}=e,i=new SF(e.offset,0),s=new SF(e.bodyLength,0);return e3.createBlock(t,i,r,s)}}class Fx extends spt{write(t){if((t=yr(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?XA(this.toUint8Array(!0)):this.toUint8Array(!1).then(XA)}toUint8Array(t=!1){return t?Ic(this._values)[0]:(async()=>{const e=[];let r=0;for await(const i of this)e.push(i),r+=i.byteLength;return Ic(e,r)[0]})()}}class Jb{constructor(t){t&&(this.source=new pmt(al.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Ay{constructor(t){t instanceof Ay?this.source=t.source:t instanceof Fx?this.source=new Jp(al.fromAsyncIterable(t)):mV(t)?this.source=new Jp(al.fromNodeStream(t)):XI(t)?this.source=new Jp(al.fromDOMStream(t)):pV(t)?this.source=new Jp(al.fromDOMStream(t.body)):Cc(t)?this.source=new Jp(al.fromIterable(t)):$d(t)?this.source=new Jp(al.fromAsyncIterable(t)):rp(t)&&(this.source=new Jp(al.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class pmt{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||_i)}return(t){return Object.create(this.source.return&&this.source.return(t)||_i)}}class Jp{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}async cancel(t){await this.return(t)}get closed(){return this._closedPromise}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}async next(t,e="read"){return await this.source.next({cmd:e,size:t})}async throw(t){const e=this.source.throw&&await this.source.throw(t)||_i;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}async return(t){const e=this.source.return&&await this.source.return(t)||_i;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}}class EF extends Jb{constructor(t,e){super(),this.position=0,this.buffer=yr(t),this.size=typeof e=="undefined"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:r}=this.readAt(t,4);return new DataView(e,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:r,position:i}=this;return e&&i<r?(typeof t!="number"&&(t=1/0),this.position=Math.min(r,i+Math.min(r-i,t)),e.subarray(i,this.position)):null}readAt(t,e){const r=this.buffer,i=Math.min(this.size,t+e);return r?r.subarray(t,i):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Qb extends Ay{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=(async()=>{this.size=(await t.stat()).size,delete this._pending})()}async readInt32(t){const{buffer:e,byteOffset:r}=await this.readAt(t,4);return new DataView(e,r).getInt32(0,!0)}async seek(t){return this._pending&&await this._pending,this.position=Math.min(t,this.size),t<this.size}async read(t){this._pending&&await this._pending;const{_handle:e,size:r,position:i}=this;if(e&&i<r){typeof t!="number"&&(t=1/0);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,t)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=await e.read(u,o,u.byteLength-o,s));return u}return null}async readAt(t,e){this._pending&&await this._pending;const{_handle:r,size:i}=this;if(r&&t+e<i){const s=Math.min(i,t+e),o=new Uint8Array(s-t);return(await r.read(o,0,e,t)).buffer}return new Uint8Array(e)}async close(){const t=this._handle;this._handle=null,t&&await t.close()}async throw(t){return await this.close(),{done:!0,value:t}}async return(t){return await this.close(),{done:!0,value:t}}}const mmt=1<<16;function k0(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}const Cy=8,aR=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class HV{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=e[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=e[2]*r[3],s+=i,i=e[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?mmt:0,this.buffer[1]+=s>>>16,this.buffer[1]+=e[1]*r[3]+e[2]*r[2]+e[3]*r[1],this.buffer[1]+=e[0]*r[3]+e[1]*r[2]+e[2]*r[1]+e[3]*r[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${k0(this.buffer[1])} ${k0(this.buffer[0])}`}}class Ir extends HV{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return Ir.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Ir.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const r=t.length,i=new Ir(e);for(let s=0;s<r;){const o=Cy<r-s?Cy:r-s,a=new Ir(new Uint32Array([parseInt(t.substr(s,o),10),0])),l=new Ir(new Uint32Array([aR[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(t){const e=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)Ir.from(t[r],new Uint32Array(e.buffer,e.byteOffset+2*r*4,2));return e}static multiply(t,e){return new Ir(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Ir(new Uint32Array(t.buffer)).plus(e)}}class Jo extends HV{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,r=t.buffer[1]<<0;return e<r||e===r&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return Jo.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Jo.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const r=t.startsWith("-"),i=t.length,s=new Jo(e);for(let o=r?1:0;o<i;){const a=Cy<i-o?Cy:i-o,l=new Jo(new Uint32Array([parseInt(t.substr(o,a),10),0])),u=new Jo(new Uint32Array([aR[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)Jo.from(t[r],new Uint32Array(e.buffer,e.byteOffset+2*r*4,2));return e}static multiply(t,e){return new Jo(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Jo(new Uint32Array(t.buffer)).plus(e)}}class sc{constructor(t){this.buffer=t}high(){return new Jo(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Jo(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new Ir(new Uint32Array([this.buffer[3],0])),r=new Ir(new Uint32Array([this.buffer[2],0])),i=new Ir(new Uint32Array([this.buffer[1],0])),s=new Ir(new Uint32Array([this.buffer[0],0])),o=new Ir(new Uint32Array([t.buffer[3],0])),a=new Ir(new Uint32Array([t.buffer[2],0])),l=new Ir(new Uint32Array([t.buffer[1],0])),u=new Ir(new Uint32Array([t.buffer[0],0]));let h=Ir.multiply(s,u);this.buffer[0]=h.low();const m=new Ir(new Uint32Array([h.high(),0]));return h=Ir.multiply(i,u),m.plus(h),h=Ir.multiply(s,l),m.plus(h),this.buffer[1]=m.low(),this.buffer[3]=m.lessThan(h)?1:0,this.buffer[2]=m.high(),new Ir(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Ir.multiply(r,u)).plus(Ir.multiply(i,l)).plus(Ir.multiply(s,a)),this.buffer[3]+=Ir.multiply(e,u).plus(Ir.multiply(r,l)).plus(Ir.multiply(i,a)).plus(Ir.multiply(s,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${k0(this.buffer[3])} ${k0(this.buffer[2])} ${k0(this.buffer[1])} ${k0(this.buffer[0])}`}static multiply(t,e){return new sc(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new sc(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return sc.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return sc.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const r=t.startsWith("-"),i=t.length,s=new sc(e);for(let o=r?1:0;o<i;){const a=Cy<i-o?Cy:i-o,l=new sc(new Uint32Array([parseInt(t.substr(o,a),10),0,0,0])),u=new sc(new Uint32Array([aR[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(t){const e=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)sc.from(t[r],new Uint32Array(e.buffer,e.byteOffset+4*4*r,4));return e}}class WV extends Zn{constructor(t,e,r,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=r,this.dictionaries=i}visit(t){return super.visit(t instanceof Nr?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return Me.Null(t,0,e)}visitBool(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Bool(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitInt(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Int(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitFloat(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Float(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitUtf8(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Utf8(t,0,e,r,this.readNullBitmap(t,r),this.readOffsets(t),this.readData(t))}visitBinary(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Binary(t,0,e,r,this.readNullBitmap(t,r),this.readOffsets(t),this.readData(t))}visitFixedSizeBinary(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.FixedSizeBinary(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitDate(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Date(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitTimestamp(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Timestamp(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitTime(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Time(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitDecimal(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Decimal(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitList(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.List(t,0,e,r,this.readNullBitmap(t,r),this.readOffsets(t),this.visit(t.children[0]))}visitStruct(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Struct(t,0,e,r,this.readNullBitmap(t,r),this.visitMany(t.children))}visitUnion(t){return t.mode===ja.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Union(t,0,e,r,this.readNullBitmap(t,r),this.readTypeIds(t),this.readOffsets(t),this.visitMany(t.children))}visitSparseUnion(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Union(t,0,e,r,this.readNullBitmap(t,r),this.readTypeIds(t),this.visitMany(t.children))}visitDictionary(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Dictionary(t,0,e,r,this.readNullBitmap(t,r),this.readData(t.indices),this.readDictionary(t))}visitInterval(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Interval(t,0,e,r,this.readNullBitmap(t,r),this.readData(t))}visitFixedSizeList(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.FixedSizeList(t,0,e,r,this.readNullBitmap(t,r),this.visit(t.children[0]))}visitMap(t,{length:e,nullCount:r}=this.nextFieldNode()){return Me.Map(t,0,e,r,this.readNullBitmap(t,r),this.readOffsets(t),this.visit(t.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,r=this.nextBufferRange()){return e>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class gmt extends WV{constructor(t,e,r,i){super(new Uint8Array(0),e,r,i),this.sources=t}readNullBitmap(t,e,{offset:r}=this.nextBufferRange()){return e<=0?new Uint8Array(0):Wb(this.sources[r])}readOffsets(t,{offset:e}=this.nextBufferRange()){return wr(Uint8Array,wr(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return wr(Uint8Array,wr(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:r}=this;return $n.isTimestamp(t)||($n.isInt(t)||$n.isTime(t))&&t.bitWidth===64||$n.isDate(t)&&t.unit===fa.MILLISECOND?wr(Uint8Array,Jo.convertArray(r[e])):$n.isDecimal(t)?wr(Uint8Array,sc.convertArray(r[e])):$n.isBinary(t)||$n.isFixedSizeBinary(t)?ymt(r[e]):$n.isBool(t)?Wb(r[e]):$n.isUtf8(t)?YI(r[e].join("")):wr(Uint8Array,wr(t.ArrayType,r[e].map(i=>+i)))}}function ymt(n){const t=n.join(""),e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r>>1]=parseInt(t.substr(r,2),16);return e}const Fs=Symbol.for("parent"),X0=Symbol.for("rowIndex"),Fa=Symbol.for("keyToIdx"),ka=Symbol.for("idxToVal"),n3=Symbol.for("nodejs.util.inspect.custom");class Gf{constructor(t,e){this[Fs]=t,this.size=e}entries(){return this[Symbol.iterator]()}has(t){return this.get(t)!==void 0}get(t){let e;if(t!=null){const r=this[Fa]||(this[Fa]=new Map);let i=r.get(t);if(i!==void 0){const s=this[ka]||(this[ka]=new Array(this.size));(e=s[i])!==void 0||(s[i]=e=this.getValue(i))}else if((i=this.getIndex(t))>-1){r.set(t,i);const s=this[ka]||(this[ka]=new Array(this.size));(e=s[i])!==void 0||(s[i]=e=this.getValue(i))}}return e}set(t,e){if(t!=null){const r=this[Fa]||(this[Fa]=new Map);let i=r.get(t);if(i===void 0&&r.set(t,i=this.getIndex(t)),i>-1){const s=this[ka]||(this[ka]=new Array(this.size));s[i]=this.setValue(i,e)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(t){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){const t=this.keys(),e=this.values(),r=this[Fa]||(this[Fa]=new Map),i=this[ka]||(this[ka]=new Array(this.size));for(let s,o,a=0,l,u;!((l=t.next()).done||(u=e.next()).done);++a)s=l.value,o=u.value,i[a]=o,r.has(s)||r.set(s,a),yield[s,o]}forEach(t,e){const r=this.keys(),i=this.values(),s=e===void 0?t:(l,u,h)=>t.call(e,l,u,h),o=this[Fa]||(this[Fa]=new Map),a=this[ka]||(this[ka]=new Array(this.size));for(let l,u,h=0,m,d;!((m=r.next()).done||(d=i.next()).done);++h)l=m.value,u=d.value,a[h]=u,o.has(l)||o.set(l,h),s(u,l,this)}toArray(){return[...this.values()]}toJSON(){const t={};return this.forEach((e,r)=>t[r]=e),t}inspect(){return this.toString()}[n3](){return this.toString()}toString(){const t=[];return this.forEach((e,r)=>{r=l_(r),e=l_(e),t.push(`${r}: ${e}`)}),`{ ${t.join(", ")} }`}}Gf[Symbol.toStringTag]=(n=>(Object.defineProperties(n,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[Fs]:{writable:!0,enumerable:!1,configurable:!1,value:null},[X0]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),n[Symbol.toStringTag]="Row"))(Gf.prototype);class GV extends Gf{constructor(t){return super(t,t.length),vmt(this)}keys(){return this[Fs].getChildAt(0)[Symbol.iterator]()}values(){return this[Fs].getChildAt(1)[Symbol.iterator]()}getKey(t){return this[Fs].getChildAt(0).get(t)}getIndex(t){return this[Fs].getChildAt(0).indexOf(t)}getValue(t){return this[Fs].getChildAt(1).get(t)}setValue(t,e){this[Fs].getChildAt(1).set(t,e)}}class $V extends Gf{constructor(t){return super(t,t.type.children.length),jV(this)}*keys(){for(const t of this[Fs].type.children)yield t.name}*values(){for(const t of this[Fs].type.children)yield this[t.name]}getKey(t){return this[Fs].type.children[t].name}getIndex(t){return this[Fs].type.children.findIndex(e=>e.name===t)}getValue(t){return this[Fs].getChildAt(t).get(this[X0])}setValue(t,e){return this[Fs].getChildAt(t).set(this[X0],e)}}Object.setPrototypeOf(Gf.prototype,Map.prototype);const jV=(()=>{const n={enumerable:!0,configurable:!1,get:null,set:null};return t=>{let e=-1;const r=t[Fa]||(t[Fa]=new Map),i=o=>function(){return this.get(o)},s=o=>function(a){return this.set(o,a)};for(const o of t.keys())r.set(o,++e),n.get=i(o),n.set=s(o),Object.prototype.hasOwnProperty.call(t,o)||(n.enumerable=!0,Object.defineProperty(t,o,n)),Object.prototype.hasOwnProperty.call(t,e)||(n.enumerable=!1,Object.defineProperty(t,e,n));return n.get=n.set=null,t}})(),vmt=(()=>{if(typeof Proxy=="undefined")return jV;const n=Gf.prototype.has,t=Gf.prototype.get,e=Gf.prototype.set,r=Gf.prototype.getKey,i={isExtensible(){return!1},deleteProperty(){return!1},preventExtensions(){return!0},ownKeys(s){return[...s.keys()].map(o=>`${o}`)},has(s,o){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Fs:case X0:case ka:case Fa:case n3:return!0}return typeof o=="number"&&!s.has(o)&&(o=s.getKey(o)),s.has(o)},get(s,o,a){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Fs:case X0:case ka:case Fa:case n3:return Reflect.get(s,o,a)}return typeof o=="number"&&!n.call(a,o)&&(o=r.call(a,o)),t.call(a,o)},set(s,o,a,l){switch(o){case Fs:case X0:case ka:case Fa:return Reflect.set(s,o,a,l);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return typeof o=="number"&&!n.call(l,o)&&(o=r.call(l,o)),n.call(l,o)?!!e.call(l,o,a):!1}};return s=>new Proxy(s,i)})();let MF;function YV(n,t,e,r){const{length:i=0}=n;let s=typeof t!="number"?0:t,o=typeof e!="number"?i:e;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(MF=s,s=o,o=MF),o>i&&(o=i),r?r(n,s,o):[s,o]}const _mt=qI?opt(0):0,TF=n=>n!==n;function Qy(n){const t=typeof n;if(t!=="object"||n===null)return TF(n)?TF:t!=="bigint"?e=>e===n:e=>_mt+e===n;if(n instanceof Date){const e=n.valueOf();return r=>r instanceof Date?r.valueOf()===e:!1}return ArrayBuffer.isView(n)?e=>e?ypt(n,e):!1:n instanceof Map?xmt(n):Array.isArray(n)?wmt(n):n instanceof sr?bmt(n):Smt(n)}function wmt(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=Qy(n[e]);return h2(t)}function xmt(n){let t=-1;const e=[];return n.forEach(r=>e[++t]=Qy(r)),h2(e)}function bmt(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=Qy(n.get(e));return h2(t)}function Smt(n){const t=Object.keys(n);if(t.length===0)return()=>!1;const e=[];for(let r=-1,i=t.length;++r<i;)e[r]=Qy(n[t[r]]);return h2(e,t)}function h2(n,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return Emt(n,e);case Map:case GV:case $V:return AF(n,e,e.keys());case Object:case void 0:return AF(n,e,t||Object.keys(e))}return e instanceof sr?Mmt(n,e):!1}}function Emt(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t[r]))return!1;return!0}function Mmt(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t.get(r)))return!1;return!0}function AF(n,t,e){const r=e[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=n.length;let l=s.next(),u=r.next(),h=i.next();for(;o<a&&!u.done&&!h.done&&!l.done&&!(u.value!==h.value||!n[o](l.value));++o,u=r.next(),h=i.next(),l=s.next());return o===a&&u.done&&h.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}const ym=Array.isArray,Tmt=(n,t)=>lR(n,t,[],0),Amt=n=>{const[t,e]=uR(n,[[],[]]);return e.map((r,i)=>r instanceof yu?yu.new(r.field.clone(t[i]),r):r instanceof sr?yu.new(t[i],r):yu.new(t[i],[]))},Cmt=n=>uR(n,[[],[]]),Imt=(n,t)=>r3(n,t,[],0),Rmt=(n,t)=>qV(n,t,[],0);function lR(n,t,e,r){let i,s=r,o=-1;const a=t.length;for(;++o<a;)ym(i=t[o])?s=lR(n,i,e,s).length:i instanceof n&&(e[s++]=i);return e}function r3(n,t,e,r){let i,s=r,o=-1;const a=t.length;for(;++o<a;)ym(i=t[o])?s=r3(n,i,e,s).length:i instanceof Bs?s=r3(n,i.chunks,e,s).length:i instanceof n&&(e[s++]=i);return e}function qV(n,t,e,r){let i,s=r,o=-1;const a=t.length;for(;++o<a;)ym(i=t[o])?s=qV(n,i,e,s).length:i instanceof n?s=lR(sr,i.schema.fields.map((l,u)=>i.getChildAt(u)),e,s).length:i instanceof sr&&(e[s++]=i);return e}const Lmt=(n,[t,e],r)=>(n[0][r]=t,n[1][r]=e,n);function uR(n,t){let e,r;switch(r=n.length){case 0:return t;case 1:if(e=t[0],!n[0])return t;if(ym(n[0]))return uR(n[0],t);n[0]instanceof Me||n[0]instanceof sr||n[0]instanceof $n||([e,n]=Object.entries(n[0]).reduce(Lmt,t));break;default:ym(e=n[r-1])?n=ym(n[0])?n[0]:n.slice(0,r-1):(n=ym(n[0])?n[0]:n,e=[])}let i=-1,s=-1,o=-1;const a=n.length;let l,u;const[h,m]=t;for(;++o<a;)u=n[o],u instanceof yu&&(m[++s]=u)?h[++i]=u.field.clone(e[o],u.type,!0):({[o]:l=o}=e,u instanceof $n&&(m[++s]=u)?h[++i]=Nr.new(l,u,!0):u&&u.type&&(m[++s]=u)&&(u instanceof Me&&(m[s]=u=sr.new(u)),h[++i]=Nr.new(l,u.type,!0)));return t}class Pmt{constructor(t){this.chunks=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}}class Bs extends sr{constructor(t,e=[],r=Dmt(e)){super(),this._nullCount=-1,this._type=t,this._chunks=e,this._chunkOffsets=r,this._length=r[r.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...t){return Imt(sr,t)}static concat(...t){const e=Bs.flatten(...t);return new Bs(e[0].type,e)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((t,e)=>t+e.byteLength,0)}get nullCount(){let t=this._nullCount;return t<0&&(this._nullCount=t=this._chunks.reduce((e,{nullCount:r})=>e+r,0)),t}get indices(){if($n.isDictionary(this._type)){if(!this._indices){const t=this._chunks;this._indices=t.length===1?t[0].indices:Bs.concat(...t.map(e=>e.indices))}return this._indices}return null}get dictionary(){return $n.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new Pmt(this._chunks)}clone(t=this._chunks){return new Bs(this._type,t)}concat(...t){return this.clone(Bs.flatten(this,...t))}slice(t,e){return YV(this,t,e,this._sliceInternal)}getChildAt(t){if(t<0||t>=this._numChildren)return null;const e=this._children||(this._children=[]);let r,i,s;return(r=e[t])?r:(i=(this._type.children||[])[t])&&(s=this._chunks.map(o=>o.getChildAt(t)).filter(o=>o!=null),s.length>0)?e[t]=new Bs(i.type,s):null}search(t,e){const r=t,i=this._chunkOffsets;let s=i.length-1;if(r<0||r>=i[s])return null;if(s<=1)return e?e(this,0,r):[0,r];let o=0,a=0,l=0;do{if(o+1===s)return e?e(this,o,r-a):[o,r-a];l=o+(s-o)/2|0,r>=i[l]?o=l:s=l}while(r<i[s]&&r>=(a=i[o]));return null}isValid(t){return!!this.search(t,this.isValidInternal)}get(t){return this.search(t,this.getInternal)}set(t,e){this.search(t,({chunks:r},i,s)=>r[i].set(s,e))}indexOf(t,e){return e&&typeof e=="number"?this.search(e,(r,i,s)=>this.indexOfInternal(r,i,s,t)):this.indexOfInternal(this,0,Math.max(0,e||0),t)}toArray(){const{chunks:t}=this,e=t.length;let r=this._type.ArrayType;if(e<=0)return new r(0);if(e<=1)return t[0].toArray();let i=0;const s=new Array(e);for(let l=-1;++l<e;)i+=(s[l]=t[l].toArray()).length;r!==s[0].constructor&&(r=s[0].constructor);const o=new r(i),a=r===Array?Omt:kmt;for(let l=-1,u=0;++l<e;)u=a(s[l],o,u);return o}getInternal({_chunks:t},e,r){return t[e].get(r)}isValidInternal({_chunks:t},e,r){return t[e].isValid(r)}indexOfInternal({_chunks:t},e,r,i){let s=e-1;const o=t.length;let a=r,l=0,u=-1;for(;++s<o;){if(~(u=t[s].indexOf(i,a)))return l+u;a=0,l+=t[s].length}return-1}_sliceInternal(t,e,r){const i=[],{chunks:s,_chunkOffsets:o}=t;for(let a=-1,l=s.length;++a<l;){const u=s[a],h=u.length,m=o[a];if(m>=r)break;if(e>=m+h)continue;if(m>=e&&m+h<=r){i.push(u);continue}const d=Math.max(0,e-m),y=Math.min(r-m,h);i.push(u.slice(d,y))}return t.clone(i)}}function Dmt(n){const t=new Uint32Array((n||[]).length+1);let e=t[0]=0;const r=t.length;for(let i=0;++i<r;)t[i]=e+=n[i-1].length;return t}const kmt=(n,t,e)=>(t.set(n,e),e+n.length),Omt=(n,t,e)=>{let r=e;for(let i=-1,s=n.length;++i<s;)t[r++]=n[i];return r};class yu extends Bs{constructor(t,e=[],r){if(e=Bs.flatten(...e),super(t.type,e,r),this._field=t,e.length===1&&!(this instanceof CF))return new CF(t,e[0],this._chunkOffsets)}static new(...t){let[e,r,...i]=t;typeof e!="string"&&!(e instanceof Nr)&&(r=e,e="");const s=Bs.flatten(Array.isArray(r)?[...r,...i]:r instanceof sr?[r,...i]:[sr.new(r,...i)]);if(typeof e=="string"){const o=s[0].data.type;e=new Nr(e,o,!0)}else!e.nullable&&s.some(({nullCount:o})=>o>0)&&(e=e.clone({nullable:!0}));return new yu(e,s)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(t=this._chunks){return new yu(this._field,t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;const e=this._children||(this._children=[]);let r,i,s;return(r=e[t])?r:(i=(this.type.children||[])[t])&&(s=this._chunks.map(o=>o.getChildAt(t)).filter(o=>o!=null),s.length>0)?e[t]=new yu(i,s):null}}class CF extends yu{constructor(t,e,r){super(t,[e],r),this._chunk=e}search(t,e){return e?e(this,0,t):[0,t]}isValid(t){return this._chunk.isValid(t)}get(t){return this._chunk.get(t)}set(t,e){this._chunk.set(t,e)}indexOf(t,e){return this._chunk.indexOf(t,e)}}var Fmt=Rt.Long;class Bmt extends Zn{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return fm.startNull(e),fm.endNull(e)}visitInt(t,e){return Na.startInt(e),Na.addBitWidth(e,t.bitWidth),Na.addIsSigned(e,t.isSigned),Na.endInt(e)}visitFloat(t,e){return hc.startFloatingPoint(e),hc.addPrecision(e,t.precision),hc.endFloatingPoint(e)}visitBinary(t,e){return mm.startBinary(e),mm.endBinary(e)}visitBool(t,e){return gm.startBool(e),gm.endBool(e)}visitUtf8(t,e){return pm.startUtf8(e),pm.endUtf8(e)}visitDecimal(t,e){return Ba.startDecimal(e),Ba.addScale(e,t.scale),Ba.addPrecision(e,t.precision),Ba.endDecimal(e)}visitDate(t,e){return pc.startDate(e),pc.addUnit(e,t.unit),pc.endDate(e)}visitTime(t,e){return fl.startTime(e),fl.addUnit(e,t.unit),fl.addBitWidth(e,t.bitWidth),fl.endTime(e)}visitTimestamp(t,e){const r=t.timezone&&e.createString(t.timezone)||void 0;return hl.startTimestamp(e),hl.addUnit(e,t.unit),r!==void 0&&hl.addTimezone(e,r),hl.endTimestamp(e)}visitInterval(t,e){return mc.startInterval(e),mc.addUnit(e,t.unit),mc.endInterval(e)}visitList(t,e){return dm.startList(e),dm.endList(e)}visitStruct(t,e){return hm.startStruct_(e),hm.endStruct_(e)}visitUnion(t,e){ea.startTypeIdsVector(e,t.typeIds.length);const r=ea.createTypeIdsVector(e,t.typeIds);return ea.startUnion(e),ea.addMode(e,t.mode),ea.addTypeIds(e,r),ea.endUnion(e)}visitDictionary(t,e){const r=this.visit(t.indices,e);return Eo.startDictionaryEncoding(e),Eo.addId(e,new Fmt(t.id,0)),Eo.addIsOrdered(e,t.isOrdered),r!==void 0&&Eo.addIndexType(e,r),Eo.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return dc.startFixedSizeBinary(e),dc.addByteWidth(e,t.byteWidth),dc.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return cc.startFixedSizeList(e),cc.addListSize(e,t.listSize),cc.endFixedSizeList(e)}visitMap(t,e){return fc.startMap(e),fc.addKeysSorted(e,t.keysSorted),fc.endMap(e)}}const LM=new Bmt;function Nmt(n,t=new Map){return new Fr(Umt(n,t),Bx(n.customMetadata),t)}function XV(n){return new Ya(n.count,ZV(n.columns),KV(n.columns))}function zmt(n){return new Dc(XV(n.data),n.id,n.isDelta)}function Umt(n,t){return(n.fields||[]).filter(Boolean).map(e=>Nr.fromJSON(e,t))}function IF(n,t){return(n.children||[]).filter(Boolean).map(e=>Nr.fromJSON(e,t))}function ZV(n){return(n||[]).reduce((t,e)=>[...t,new ag(e.count,Vmt(e.VALIDITY)),...ZV(e.children)],[])}function KV(n,t=[]){for(let e=-1,r=(n||[]).length;++e<r;){const i=n[e];i.VALIDITY&&t.push(new gc(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new gc(t.length,i.TYPE.length)),i.OFFSET&&t.push(new gc(t.length,i.OFFSET.length)),i.DATA&&t.push(new gc(t.length,i.DATA.length)),t=KV(i.children,t)}return t}function Vmt(n){return(n||[]).reduce((t,e)=>t+ +(e===0),0)}function Hmt(n,t){let e,r,i,s,o,a;return!t||!(s=n.dictionary)?(o=LF(n,IF(n,t)),i=new Nr(n.name,o,n.nullable,Bx(n.customMetadata))):t.has(e=s.id)?(r=(r=s.indexType)?RF(r):new Ym,a=new Xm(t.get(e),r,e,s.isOrdered),i=new Nr(n.name,a,n.nullable,Bx(n.customMetadata))):(r=(r=s.indexType)?RF(r):new Ym,t.set(e,o=LF(n,IF(n,t))),a=new Xm(o,r,e,s.isOrdered),i=new Nr(n.name,a,n.nullable,Bx(n.customMetadata))),i||null}function Bx(n){return new Map(Object.entries(n||{}))}function RF(n){return new ha(n.isSigned,n.bitWidth)}function LF(n,t){const e=n.type.name;switch(e){case"NONE":return new by;case"null":return new by;case"binary":return new Z_;case"utf8":return new My;case"bool":return new K_;case"list":return new J_((t||[])[0]);case"struct":return new Lc(t||[]);case"struct_":return new Lc(t||[])}switch(e){case"int":{const r=n.type;return new ha(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=n.type;return new qm(io[r.precision])}case"decimal":{const r=n.type;return new Gb(r.scale,r.precision)}case"date":{const r=n.type;return new Ty(fa[r.unit])}case"time":{const r=n.type;return new $b(nr[r.unit],r.bitWidth)}case"timestamp":{const r=n.type;return new jb(nr[r.unit],r.timezone)}case"interval":{const r=n.type;return new Yb(Rc[r.unit])}case"union":{const r=n.type;return new qb(ja[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=n.type;return new Xb(r.byteWidth)}case"fixedsizelist":{const r=n.type;return new Zb(r.listSize,(t||[])[0])}case"map":{const r=n.type;return new Kb((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var Zm=Rt.Long,Wmt=Rt.Builder,Gmt=Rt.ByteBuffer;class Co{constructor(t,e,r,i){this._version=e,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const r=new Co(0,Ns.V4,e);return r._createHeader=$mt(t,e),r}static decode(t){t=new Gmt(yr(t));const e=Ss.getRootAsMessage(t),r=e.bodyLength(),i=e.version(),s=e.headerType(),o=new Co(r,i,s);return o._createHeader=jmt(e,s),o}static encode(t){const e=new Wmt;let r=-1;return t.isSchema()?r=Fr.encode(e,t.header()):t.isRecordBatch()?r=Ya.encode(e,t.header()):t.isDictionaryBatch()&&(r=Dc.encode(e,t.header())),Ss.startMessage(e),Ss.addVersion(e,Ns.V4),Ss.addHeader(e,r),Ss.addHeaderType(e,t.headerType),Ss.addBodyLength(e,new Zm(t.bodyLength,0)),Ss.finishMessageBuffer(e,Ss.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof Fr)return new Co(0,Ns.V4,pr.Schema,t);if(t instanceof Ya)return new Co(e,Ns.V4,pr.RecordBatch,t);if(t instanceof Dc)return new Co(e,Ns.V4,pr.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===pr.Schema}isRecordBatch(){return this.headerType===pr.RecordBatch}isDictionaryBatch(){return this.headerType===pr.DictionaryBatch}}class Ya{constructor(t,e,r){this._nodes=e,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Dc{constructor(t,e,r=!1){this._data=t,this._isDelta=r,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class gc{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class ag{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function $mt(n,t){return()=>{switch(t){case pr.Schema:return Fr.fromJSON(n);case pr.RecordBatch:return Ya.fromJSON(n);case pr.DictionaryBatch:return Dc.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${pr[t]}, type: ${t} }`)}}function jmt(n,t){return()=>{switch(t){case pr.Schema:return Fr.decode(n.header(new fs));case pr.RecordBatch:return Ya.decode(n.header(new Ts),n.version());case pr.DictionaryBatch:return Dc.decode(n.header(new Qo),n.version())}throw new Error(`Unrecognized Message type: { name: ${pr[t]}, type: ${t} }`)}}Nr.encode=rgt;Nr.decode=egt;Nr.fromJSON=Hmt;Fr.encode=ngt;Fr.decode=Ymt;Fr.fromJSON=Nmt;Ya.encode=igt;Ya.decode=qmt;Ya.fromJSON=XV;Dc.encode=sgt;Dc.decode=Xmt;Dc.fromJSON=zmt;ag.encode=ogt;ag.decode=Kmt;gc.encode=agt;gc.decode=Zmt;function Ymt(n,t=new Map){const e=tgt(n,t);return new Fr(e,Nx(n),t)}function qmt(n,t=Ns.V4){return new Ya(n.length(),Jmt(n),Qmt(n,t))}function Xmt(n,t=Ns.V4){return new Dc(Ya.decode(n.data(),t),n.id(),n.isDelta())}function Zmt(n){return new gc(n.offset(),n.length())}function Kmt(n){return new ag(n.length(),n.nullCount())}function Jmt(n){const t=[];for(let e,r=-1,i=-1,s=n.nodesLength();++r<s;)(e=n.nodes(r))&&(t[++i]=ag.decode(e));return t}function Qmt(n,t){const e=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(t<Ns.V4&&(r.bb_pos+=8*(i+1)),e[++s]=gc.decode(r));return e}function tgt(n,t){const e=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(e[++s]=Nr.decode(r,t));return e}function PF(n,t){const e=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(e[++s]=Nr.decode(r,t));return e}function egt(n,t){let e,r,i,s,o,a;return!t||!(a=n.dictionary())?(i=kF(n,PF(n,t)),r=new Nr(n.name(),i,n.nullable(),Nx(n))):t.has(e=a.id().low)?(s=(s=a.indexType())?DF(s):new Ym,o=new Xm(t.get(e),s,e,a.isOrdered()),r=new Nr(n.name(),o,n.nullable(),Nx(n))):(s=(s=a.indexType())?DF(s):new Ym,t.set(e,i=kF(n,PF(n,t))),o=new Xm(i,s,e,a.isOrdered()),r=new Nr(n.name(),o,n.nullable(),Nx(n))),r||null}function Nx(n){const t=new Map;if(n)for(let e,r,i=-1,s=n.customMetadataLength()|0;++i<s;)(e=n.customMetadata(i))&&(r=e.key())!=null&&t.set(r,e.value());return t}function DF(n){return new ha(n.isSigned(),n.bitWidth())}function kF(n,t){const e=n.typeType();switch(e){case hi.NONE:return new by;case hi.Null:return new by;case hi.Binary:return new Z_;case hi.Utf8:return new My;case hi.Bool:return new K_;case hi.List:return new J_((t||[])[0]);case hi.Struct_:return new Lc(t||[])}switch(e){case hi.Int:{const r=n.type(new Na);return new ha(r.isSigned(),r.bitWidth())}case hi.FloatingPoint:{const r=n.type(new hc);return new qm(r.precision())}case hi.Decimal:{const r=n.type(new Ba);return new Gb(r.scale(),r.precision())}case hi.Date:{const r=n.type(new pc);return new Ty(r.unit())}case hi.Time:{const r=n.type(new fl);return new $b(r.unit(),r.bitWidth())}case hi.Timestamp:{const r=n.type(new hl);return new jb(r.unit(),r.timezone())}case hi.Interval:{const r=n.type(new mc);return new Yb(r.unit())}case hi.Union:{const r=n.type(new ea);return new qb(r.mode(),r.typeIdsArray()||[],t||[])}case hi.FixedSizeBinary:{const r=n.type(new dc);return new Xb(r.byteWidth())}case hi.FixedSizeList:{const r=n.type(new cc);return new Zb(r.listSize(),(t||[])[0])}case hi.Map:{const r=n.type(new fc);return new Kb((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${hi[e]}" (${e})`)}function ngt(n,t){const e=t.fields.map(s=>Nr.encode(n,s));fs.startFieldsVector(n,e.length);const r=fs.createFieldsVector(n,e),i=t.metadata&&t.metadata.size>0?fs.createCustomMetadataVector(n,[...t.metadata].map(([s,o])=>{const a=n.createString(`${s}`),l=n.createString(`${o}`);return ds.startKeyValue(n),ds.addKey(n,a),ds.addValue(n,l),ds.endKeyValue(n)})):-1;return fs.startSchema(n),fs.addFields(n,r),fs.addEndianness(n,lgt?xy.Little:xy.Big),i!==-1&&fs.addCustomMetadata(n,i),fs.endSchema(n)}function rgt(n,t){let e=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;$n.isDictionary(s)?(o=s.dictionary.typeId,i=LM.visit(s,n),r=LM.visit(s.dictionary,n)):r=LM.visit(s,n);const a=(s.children||[]).map(h=>Nr.encode(n,h)),l=ei.createChildrenVector(n,a),u=t.metadata&&t.metadata.size>0?ei.createCustomMetadataVector(n,[...t.metadata].map(([h,m])=>{const d=n.createString(`${h}`),y=n.createString(`${m}`);return ds.startKeyValue(n),ds.addKey(n,d),ds.addValue(n,y),ds.endKeyValue(n)})):-1;return t.name&&(e=n.createString(t.name)),ei.startField(n),ei.addType(n,r),ei.addTypeType(n,o),ei.addChildren(n,l),ei.addNullable(n,!!t.nullable),e!==-1&&ei.addName(n,e),i!==-1&&ei.addDictionary(n,i),u!==-1&&ei.addCustomMetadata(n,u),ei.endField(n)}function igt(n,t){const e=t.nodes||[],r=t.buffers||[];Ts.startNodesVector(n,e.length),e.slice().reverse().forEach(o=>ag.encode(n,o));const i=n.endVector();Ts.startBuffersVector(n,r.length),r.slice().reverse().forEach(o=>gc.encode(n,o));const s=n.endVector();return Ts.startRecordBatch(n),Ts.addLength(n,new Zm(t.length,0)),Ts.addNodes(n,i),Ts.addBuffers(n,s),Ts.endRecordBatch(n)}function sgt(n,t){const e=Ya.encode(n,t.data);return Qo.startDictionaryBatch(n),Qo.addId(n,new Zm(t.id,0)),Qo.addIsDelta(n,t.isDelta),Qo.addData(n,e),Qo.endDictionaryBatch(n)}function ogt(n,t){return _V.createFieldNode(n,new Zm(t.length,0),new Zm(t.nullCount,0))}function agt(n,t){return vV.createBuffer(n,new Zm(t.offset,0),new Zm(t.length,0))}const lgt=function(){const n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256}();var JV=Rt.ByteBuffer;const cR=n=>`Expected ${pr[n]} Message in stream, but was null or length 0.`,fR=n=>`Header pointer of flatbuffer-encoded ${pr[n]} Message is null or length 0.`,QV=(n,t)=>`Expected to read ${n} metadata bytes, but only read ${t}.`,tH=(n,t)=>`Expected to read ${n} bytes for message body, but only read ${t}.`;class eH{constructor(t){this.source=t instanceof Jb?t:new Jb(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?_i:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(cR(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=yr(this.source.read(t));if(e.byteLength<t)throw new Error(tH(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=pr.Schema,r=this.readMessage(e),i=r&&r.header();if(t&&!i)throw new Error(fR(e));return i}readMetadataLength(){const t=this.source.read(d2),e=t&&new JV(t),r=e&&e.readInt32(0)||0;return{done:r===0,value:r}}readMetadata(t){const e=this.source.read(t);if(!e)return _i;if(e.byteLength<t)throw new Error(QV(t,e.byteLength));return{done:!1,value:Co.decode(e)}}}class ugt{constructor(t,e){this.source=t instanceof Ay?t:dV(t)?new Qb(t,e):new Ay(t)}[Symbol.asyncIterator](){return this}async next(){let t;return(t=await this.readMetadataLength()).done||t.value===-1&&(t=await this.readMetadataLength()).done||(t=await this.readMetadata(t.value)).done?_i:t}async throw(t){return await this.source.throw(t)}async return(t){return await this.source.return(t)}async readMessage(t){let e;if((e=await this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(cR(t));return e.value}async readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=yr(await this.source.read(t));if(e.byteLength<t)throw new Error(tH(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}async readSchema(t=!1){const e=pr.Schema,r=await this.readMessage(e),i=r&&r.header();if(t&&!i)throw new Error(fR(e));return i}async readMetadataLength(){const t=await this.source.read(d2),e=t&&new JV(t),r=e&&e.readInt32(0)||0;return{done:r===0,value:r}}async readMetadata(t){const e=await this.source.read(t);if(!e)return _i;if(e.byteLength<t)throw new Error(QV(t,e.byteLength));return{done:!1,value:Co.decode(e)}}}class cgt extends eH{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof wF?t:new wF(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;const e=Co.fromJSON(t.schema,pr.Schema);return{done:!1,value:e}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;const r=Co.fromJSON(e,pr.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;const r=Co.fromJSON(e,pr.RecordBatch);return{done:!1,value:r}}return this._body=[],_i}readMessageBody(t){return e(this._body);function e(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...e(s.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(cR(t));return e.value}readSchema(){const t=pr.Schema,e=this.readMessage(t),r=e&&e.header();if(!e||!r)throw new Error(fR(t));return r}}const d2=4,i3="ARROW1",e1=new Uint8Array(i3.length);for(let n=0;n<i3.length;n+=1)e1[n]=i3.charCodeAt(n);function hR(n,t=0){for(let e=-1,r=e1.length;++e<r;)if(e1[e]!==n[t+e])return!1;return!0}const I1=e1.length,nH=I1+d2,fgt=I1*2+d2;class wn extends Zn{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((r,i)=>this.compareFields(r,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ga(n,t){return t instanceof n.constructor}function R1(n,t){return n===t||ga(n,t)}function hh(n,t){return n===t||ga(n,t)&&n.bitWidth===t.bitWidth&&n.isSigned===t.isSigned}function p2(n,t){return n===t||ga(n,t)&&n.precision===t.precision}function hgt(n,t){return n===t||ga(n,t)&&n.byteWidth===t.byteWidth}function dR(n,t){return n===t||ga(n,t)&&n.unit===t.unit}function L1(n,t){return n===t||ga(n,t)&&n.unit===t.unit&&n.timezone===t.timezone}function P1(n,t){return n===t||ga(n,t)&&n.unit===t.unit&&n.bitWidth===t.bitWidth}function dgt(n,t){return n===t||ga(n,t)&&n.children.length===t.children.length&&Yd.compareManyFields(n.children,t.children)}function pgt(n,t){return n===t||ga(n,t)&&n.children.length===t.children.length&&Yd.compareManyFields(n.children,t.children)}function pR(n,t){return n===t||ga(n,t)&&n.mode===t.mode&&n.typeIds.every((e,r)=>e===t.typeIds[r])&&Yd.compareManyFields(n.children,t.children)}function mgt(n,t){return n===t||ga(n,t)&&n.id===t.id&&n.isOrdered===t.isOrdered&&Yd.visit(n.indices,t.indices)&&Yd.visit(n.dictionary,t.dictionary)}function mR(n,t){return n===t||ga(n,t)&&n.unit===t.unit}function ggt(n,t){return n===t||ga(n,t)&&n.listSize===t.listSize&&n.children.length===t.children.length&&Yd.compareManyFields(n.children,t.children)}function ygt(n,t){return n===t||ga(n,t)&&n.keysSorted===t.keysSorted&&n.children.length===t.children.length&&Yd.compareManyFields(n.children,t.children)}wn.prototype.visitNull=R1;wn.prototype.visitBool=R1;wn.prototype.visitInt=hh;wn.prototype.visitInt8=hh;wn.prototype.visitInt16=hh;wn.prototype.visitInt32=hh;wn.prototype.visitInt64=hh;wn.prototype.visitUint8=hh;wn.prototype.visitUint16=hh;wn.prototype.visitUint32=hh;wn.prototype.visitUint64=hh;wn.prototype.visitFloat=p2;wn.prototype.visitFloat16=p2;wn.prototype.visitFloat32=p2;wn.prototype.visitFloat64=p2;wn.prototype.visitUtf8=R1;wn.prototype.visitBinary=R1;wn.prototype.visitFixedSizeBinary=hgt;wn.prototype.visitDate=dR;wn.prototype.visitDateDay=dR;wn.prototype.visitDateMillisecond=dR;wn.prototype.visitTimestamp=L1;wn.prototype.visitTimestampSecond=L1;wn.prototype.visitTimestampMillisecond=L1;wn.prototype.visitTimestampMicrosecond=L1;wn.prototype.visitTimestampNanosecond=L1;wn.prototype.visitTime=P1;wn.prototype.visitTimeSecond=P1;wn.prototype.visitTimeMillisecond=P1;wn.prototype.visitTimeMicrosecond=P1;wn.prototype.visitTimeNanosecond=P1;wn.prototype.visitDecimal=R1;wn.prototype.visitList=dgt;wn.prototype.visitStruct=pgt;wn.prototype.visitUnion=pR;wn.prototype.visitDenseUnion=pR;wn.prototype.visitSparseUnion=pR;wn.prototype.visitDictionary=mgt;wn.prototype.visitInterval=mR;wn.prototype.visitIntervalDayTime=mR;wn.prototype.visitIntervalYearMonth=mR;wn.prototype.visitFixedSizeList=ggt;wn.prototype.visitMap=ygt;const Yd=new wn;function OF(n,t){return Yd.compareSchemas(n,t)}class ss extends Zn{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=new ss,r=Rmt(ia,t),[i=e]=e.visitMany(r);return i}visit(t){if(!$n.isDictionary(t.type)){const{data:e,length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");$n.isNull(t.type)||bu.call(this,i<=0?new Uint8Array(0):JI(e.offset,r,e.nullBitmap)),this.nodes.push(new ag(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function bu(n){const t=n.byteLength+7&-8;return this.buffers.push(n),this.bufferRegions.push(new gc(this._byteLength,t)),this._byteLength+=t,this}function vgt(n){const{type:t,length:e,typeIds:r,valueOffsets:i}=n;if(bu.call(this,r),t.mode===ja.Sparse)return s3.call(this,n);if(t.mode===ja.Dense){if(n.offset<=0)return bu.call(this,i),s3.call(this,n);{const s=r.reduce((h,m)=>Math.max(h,m),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(e),u=KI(-i[0],e,i);for(let h,m,d=-1;++d<e;)(m=a[h=r[d]])===-1&&(m=a[h]=u[h]),l[d]=u[d]-m,++o[h];bu.call(this,l);for(let h,m=-1,d=t.children.length;++m<d;)if(h=n.getChildAt(m)){const y=t.typeIds[m],_=Math.min(e,o[y]);this.visit(h.slice(a[y],_))}}}return this}function _gt(n){let t;return n.nullCount>=n.length?bu.call(this,new Uint8Array(0)):(t=n.values)instanceof Uint8Array?bu.call(this,JI(n.offset,n.length,t)):bu.call(this,Wb(n))}function ip(n){return bu.call(this,n.values.subarray(0,n.length*n.stride))}function rH(n){const{length:t,values:e,valueOffsets:r}=n,i=r[0],s=r[t],o=Math.min(s-i,e.byteLength-i);return bu.call(this,KI(-r[0],t,r)),bu.call(this,e.subarray(i,i+o)),this}function gR(n){const{length:t,valueOffsets:e}=n;return e&&bu.call(this,KI(e[0],t,e)),this.visit(n.getChildAt(0))}function s3(n){return this.visitMany(n.type.children.map((t,e)=>n.getChildAt(e)).filter(Boolean))[0]}ss.prototype.visitBool=_gt;ss.prototype.visitInt=ip;ss.prototype.visitFloat=ip;ss.prototype.visitUtf8=rH;ss.prototype.visitBinary=rH;ss.prototype.visitFixedSizeBinary=ip;ss.prototype.visitDate=ip;ss.prototype.visitTimestamp=ip;ss.prototype.visitTime=ip;ss.prototype.visitDecimal=ip;ss.prototype.visitList=gR;ss.prototype.visitStruct=s3;ss.prototype.visitUnion=vgt;ss.prototype.visitInterval=ip;ss.prototype.visitFixedSizeList=gR;ss.prototype.visitMap=gR;class iH extends og{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Fx,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,$a(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return $d(t)?t.then(e=>this.writeAll(e)):rp(t)?wR(this,t):_R(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof Fx?this._sink=t:(this._sink=new Fx,t&&lpt(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&upt(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!OF(e,this._schema))&&(e===null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof pi&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof ia&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!OF(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof ia?t instanceof v2||this._writeRecordBatch(t):t instanceof pi?this.writeAll(t.chunks):Cc(t)&&this.writeAll(t)}_writeMessage(t,e=8){const r=e-1,i=Co.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return t.headerType===pr.RecordBatch?this._recordBatchBlocks.push(new jd(a,t.bodyLength,this._position)):t.headerType===pr.DictionaryBatch&&this._dictionaryBlocks.push(new jd(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const e=yr(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(Co.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(e1)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:r,bufferRegions:i,buffers:s}=ss.assemble(t),o=new Ya(t.length,r,i),a=Co.from(o,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,e,r=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=ss.assemble(t),l=new Ya(t.length,s,o),u=new Dc(l,e,r),h=Co.from(u,i);return this._writeMessage(h)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,r,i;for(let s=-1,o=t.length;++s<o;)(e=t[s])&&(r=e.byteLength)>0&&(this._write(e),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[e,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(e)||0;if(i===0||(r=r.slice(i)).length>0){const s="chunks"in r?r.chunks:[r];for(const o of s)this._writeDictionaryBatch(o,e,i>0),i+=o.length}}return this}}class yR extends iH{static writeAll(t,e){const r=new yR(e);return $d(t)?t.then(i=>r.writeAll(i)):rp(t)?wR(r,t):_R(r,t)}}class vR extends iH{static writeAll(t){const e=new vR;return $d(t)?t.then(r=>e.writeAll(r)):rp(t)?wR(e,t):_R(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=t1.encode(new t1(t,Ns.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function _R(n,t){let e=t;t instanceof pi&&(e=t.chunks,n.reset(void 0,t.schema));for(const r of e)n.write(r);return n.finish()}async function wR(n,t){for await(const e of t)n.write(e);return n.finish()}const PM=new Uint8Array(0),sH=n=>[PM,PM,new Uint8Array(n),PM];function wgt(n,t,e=t.reduce((r,i)=>Math.max(r,i.length),0)){let r,i,s=-1;const o=t.length,a=[...n.fields],l=[],u=(e+63&-64)>>3;for(;++s<o;)(r=t[s])&&r.length===e?l[s]=r:((i=a[s]).nullable||(a[s]=a[s].clone({nullable:!0})),l[s]=r?r._changeLengthAndBackfillNullBitmap(e):Me.new(i.type,0,e,e,sH(u)));return[new Fr(a),e,l]}function xgt(n){return oH(new Fr(n.map(({field:t})=>t)),n)}function oH(n,t){return bgt(n,t.map(e=>e instanceof Bs?e.chunks.map(r=>r.data):[e.data]))}function bgt(n,t){const e=[...n.fields],r=[],i={numBatches:t.reduce((m,d)=>Math.max(m,d.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,h=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)h[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);isFinite(o)&&(h=Sgt(e,o,h,t,i),o>0&&(r[s++]=[o,h.slice()]))}return[n=new Fr(e,n.metadata),r.map(m=>new ia(n,...m))]}function Sgt(n,t,e,r,i){let s,o,a=0,l=-1;const u=r.length,h=(t+63&-64)>>3;for(;++l<u;)(s=e[l])&&(a=s.length)>=t?a===t?e[l]=s:(e[l]=s.slice(0,t),s=s.slice(t,a-t),i.numBatches=Math.max(i.numBatches,r[l].unshift(s))):((o=n[l]).nullable||(n[l]=o.clone({nullable:!0})),e[l]=s?s._changeLengthAndBackfillNullBitmap(t):Me.new(o.type,0,t,t,sH(h)));return e}class Yr extends sr{constructor(t,e){super(),this._children=e,this.numChildren=t.childData.length,this._bindDataAccessors(this.data=t)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${It[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(t,e=this._children){return sr.new(t,e)}concat(...t){return Bs.concat(this,...t)}slice(t,e){return YV(this,t,e,this._sliceInternal)}isValid(t){if(this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}getChildAt(t){return t<0||t>=this.numChildren?null:(this._children||(this._children=[]))[t]||(this._children[t]=sr.new(this.data.childData[t]))}toJSON(){return[...this]}_sliceInternal(t,e,r){return t.clone(t.data.slice(e,r-e),null)}_bindDataAccessors(t){}}Yr.prototype[Symbol.isConcatSpreadable]=!0;class Egt extends Yr{asUtf8(){return sr.new(this.data.clone(new My))}}class Mgt extends Yr{static from(t){return Km(()=>new K_,t)}}class xR extends Yr{static from(...t){return t.length===2?Km(()=>t[1]===fa.DAY?new Tpt:new bF,t[0]):Km(()=>new bF,t[0])}}class Tgt extends xR{}class Agt extends xR{}class Cgt extends Yr{}class aH extends Yr{constructor(t){super(t),this.indices=sr.new(t.clone(this.type.indices))}static from(...t){if(t.length===3){const[e,r,i]=t,s=new Xm(e.type,r,null,null);return sr.new(Me.Dictionary(s,0,i.length,0,null,i,e))}return Km(()=>t[0].type,t[0])}get dictionary(){return this.data.dictionary}reverseLookup(t){return this.dictionary.indexOf(t)}getKey(t){return this.indices.get(t)}getValue(t){return this.dictionary.get(t)}setKey(t,e){return this.indices.set(t,e)}setValue(t,e){return this.dictionary.set(t,e)}}aH.prototype.indices=null;class Igt extends Yr{}class Rgt extends Yr{}class m2 extends Yr{static from(t){let e=Dgt(this);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){const r=Pgt(t.constructor)||e;if(e===null&&(e=r),e&&e===r){const i=new e,s=t.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!Lgt(e,t.constructor))return sr.new(Me.Float(i,0,s,0,null,t))}}if(e)return Km(()=>new e,t);throw t instanceof DataView||t instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${t.constructor.name}`):new TypeError("Unrecognized FloatVector input")}}class lH extends m2{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}}class bR extends m2{}class uH extends m2{}const Lgt=(n,t)=>n===c2&&t!==Uint16Array,Pgt=n=>{switch(n){case Uint16Array:return c2;case Float32Array:return f2;case Float64Array:return iR;default:return null}},Dgt=n=>{switch(n){case lH:return c2;case bR:return f2;case uH:return iR;default:return null}};class SR extends Yr{}class kgt extends SR{}class Ogt extends SR{}class dh extends Yr{static from(...t){const[e,r=!1]=t;let i=Ngt(this,r);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){const s=Bgt(e.constructor,r)||i;if(i===null&&(i=s),i&&i===s){const o=new i;let a=e.byteLength/o.ArrayType.BYTES_PER_ELEMENT;return Fgt(i,e.constructor)&&(a*=.5),sr.new(Me.Int(o,0,a,0,null,e))}}if(i)return Km(()=>new i,e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${e.constructor.name}`):new TypeError("Unrecognized IntVector input")}}class cH extends dh{}class fH extends dh{}class hH extends dh{}class dH extends dh{toBigInt64Array(){return hpt(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}}class pH extends dh{}class mH extends dh{}class gH extends dh{}class yH extends dh{toBigUint64Array(){return dpt(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}}const Fgt=(n,t)=>(n===Sy||n===Ey)&&(t===Int32Array||t===Uint32Array),Bgt=(n,t)=>{switch(n){case Int8Array:return QI;case Int16Array:return tR;case Int32Array:return t?Sy:Ym;case a2:return Sy;case Uint8Array:return eR;case Uint16Array:return nR;case Uint32Array:return t?Ey:rR;case l2:return Ey;default:return null}},Ngt=(n,t)=>{switch(n){case cH:return QI;case fH:return tR;case hH:return t?Sy:Ym;case dH:return Sy;case pH:return eR;case mH:return nR;case gH:return t?Ey:rR;case yH:return Ey;default:return null}};class zgt extends Yr{}class Ugt extends Yr{asList(){const t=this.type.children[0];return sr.new(this.data.clone(new J_(t)))}bind(t){const e=this.getChildAt(0),{[t]:r,[t+1]:i}=this.valueOffsets;return new GV(e.slice(r,i))}}class Vgt extends Yr{}const Hgt=Symbol.for("rowIndex");class g2 extends Yr{bind(t){const e=this._row||(this._row=new $V(this)),r=Object.create(e);return r[Hgt]=t,r}}class D1 extends Yr{}class Wgt extends D1{}class Ggt extends D1{}class $gt extends D1{}class jgt extends D1{}class k1 extends Yr{}class Ygt extends k1{}class qgt extends k1{}class Xgt extends k1{}class Zgt extends k1{}class ER extends Yr{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}}class Kgt extends ER{get valueOffsets(){return this.data.valueOffsets}}class Jgt extends ER{}class Qgt extends Yr{static from(t){return Km(()=>new My,t)}asBinary(){return sr.new(this.data.clone(new Z_))}}function FF(n){return function(){return n(this)}}function t0t(n){return function(t){return n(this,t)}}function BF(n){return function(t,e){return n(this,t,e)}}class xn extends Zn{}const e0t=(n,t)=>864e5*n[t],MR=(n,t)=>4294967296*n[t+1]+(n[t]>>>0),n0t=(n,t)=>4294967296*(n[t+1]/1e3)+(n[t]>>>0)/1e3,r0t=(n,t)=>4294967296*(n[t+1]/1e6)+(n[t]>>>0)/1e6,vH=n=>new Date(n),i0t=(n,t)=>vH(e0t(n,t)),s0t=(n,t)=>vH(MR(n,t)),o0t=(n,t)=>null,_H=(n,t,e)=>{const{[e]:r,[e+1]:i}=t;return r!=null&&i!=null?n.subarray(r,i):null},a0t=({offset:n,values:t},e)=>{const r=n+e;return(t[r>>3]&1<<r%8)!==0},wH=({values:n},t)=>i0t(n,t),xH=({values:n},t)=>s0t(n,t*2),Oc=({stride:n,values:t},e)=>t[n*e],bH=({stride:n,values:t},e)=>Bpt(t[n*e]),TR=({stride:n,values:t,type:e},r)=>Jy.new(t.subarray(n*r,n*(r+1)),e.isSigned),l0t=({stride:n,values:t},e)=>t.subarray(n*e,n*(e+1)),u0t=({values:n,valueOffsets:t},e)=>_H(n,t,e),c0t=({values:n,valueOffsets:t},e)=>{const r=_H(n,t,e);return r!==null?XA(r):null},f0t=(n,t)=>n.type.bitWidth<64?Oc(n,t):TR(n,t),h0t=(n,t)=>n.type.precision!==io.HALF?Oc(n,t):bH(n,t),d0t=(n,t)=>n.type.unit===fa.DAY?wH(n,t):xH(n,t),SH=({values:n},t)=>1e3*MR(n,t*2),EH=({values:n},t)=>MR(n,t*2),MH=({values:n},t)=>n0t(n,t*2),TH=({values:n},t)=>r0t(n,t*2),p0t=(n,t)=>{switch(n.type.unit){case nr.SECOND:return SH(n,t);case nr.MILLISECOND:return EH(n,t);case nr.MICROSECOND:return MH(n,t);case nr.NANOSECOND:return TH(n,t)}},AH=({values:n,stride:t},e)=>n[t*e],CH=({values:n,stride:t},e)=>n[t*e],IH=({values:n},t)=>Jy.signed(n.subarray(2*t,2*(t+1))),RH=({values:n},t)=>Jy.signed(n.subarray(2*t,2*(t+1))),m0t=(n,t)=>{switch(n.type.unit){case nr.SECOND:return AH(n,t);case nr.MILLISECOND:return CH(n,t);case nr.MICROSECOND:return IH(n,t);case nr.NANOSECOND:return RH(n,t)}},g0t=({values:n},t)=>Jy.decimal(n.subarray(4*t,4*(t+1))),y0t=(n,t)=>{const e=n.getChildAt(0),{valueOffsets:r,stride:i}=n;return e.slice(r[t*i],r[t*i+1])},v0t=(n,t)=>n.bind(t),_0t=(n,t)=>n.bind(t),w0t=(n,t)=>n.type.mode===ja.Dense?LH(n,t):PH(n,t),LH=(n,t)=>{const e=n.typeIdToChildIndex[n.typeIds[t]],r=n.getChildAt(e);return r?r.get(n.valueOffsets[t]):null},PH=(n,t)=>{const e=n.typeIdToChildIndex[n.typeIds[t]],r=n.getChildAt(e);return r?r.get(t):null},x0t=(n,t)=>n.getValue(n.getKey(t)),b0t=(n,t)=>n.type.unit===Rc.DAY_TIME?DH(n,t):kH(n,t),DH=({values:n},t)=>n.subarray(2*t,2*(t+1)),kH=({values:n},t)=>{const e=n[t],r=new Int32Array(2);return r[0]=e/12|0,r[1]=e%12|0,r},S0t=(n,t)=>{const e=n.getChildAt(0),{stride:r}=n;return e.slice(t*r,(t+1)*r)};xn.prototype.visitNull=o0t;xn.prototype.visitBool=a0t;xn.prototype.visitInt=f0t;xn.prototype.visitInt8=Oc;xn.prototype.visitInt16=Oc;xn.prototype.visitInt32=Oc;xn.prototype.visitInt64=TR;xn.prototype.visitUint8=Oc;xn.prototype.visitUint16=Oc;xn.prototype.visitUint32=Oc;xn.prototype.visitUint64=TR;xn.prototype.visitFloat=h0t;xn.prototype.visitFloat16=bH;xn.prototype.visitFloat32=Oc;xn.prototype.visitFloat64=Oc;xn.prototype.visitUtf8=c0t;xn.prototype.visitBinary=u0t;xn.prototype.visitFixedSizeBinary=l0t;xn.prototype.visitDate=d0t;xn.prototype.visitDateDay=wH;xn.prototype.visitDateMillisecond=xH;xn.prototype.visitTimestamp=p0t;xn.prototype.visitTimestampSecond=SH;xn.prototype.visitTimestampMillisecond=EH;xn.prototype.visitTimestampMicrosecond=MH;xn.prototype.visitTimestampNanosecond=TH;xn.prototype.visitTime=m0t;xn.prototype.visitTimeSecond=AH;xn.prototype.visitTimeMillisecond=CH;xn.prototype.visitTimeMicrosecond=IH;xn.prototype.visitTimeNanosecond=RH;xn.prototype.visitDecimal=g0t;xn.prototype.visitList=y0t;xn.prototype.visitStruct=_0t;xn.prototype.visitUnion=w0t;xn.prototype.visitDenseUnion=LH;xn.prototype.visitSparseUnion=PH;xn.prototype.visitDictionary=x0t;xn.prototype.visitInterval=b0t;xn.prototype.visitIntervalDayTime=DH;xn.prototype.visitIntervalYearMonth=kH;xn.prototype.visitFixedSizeList=S0t;xn.prototype.visitMap=v0t;const y2=new xn;class bn extends Zn{}function E0t(n,t){return t===null&&n.length>0?0:-1}function M0t(n,t){const{nullBitmap:e}=n.data;if(!e||n.nullCount<=0)return-1;let r=0;for(const i of new u2(e,n.data.offset+(t||0),n.length,e,wV)){if(!i)return r;++r}return-1}function Vn(n,t,e){if(t===void 0)return-1;if(t===null)return M0t(n,e);const r=Qy(t);for(let i=(e||0)-1,s=n.length;++i<s;)if(r(n.get(i)))return i;return-1}function OH(n,t,e){const r=Qy(t);for(let i=(e||0)-1,s=n.length;++i<s;)if(r(n.get(i)))return i;return-1}bn.prototype.visitNull=E0t;bn.prototype.visitBool=Vn;bn.prototype.visitInt=Vn;bn.prototype.visitInt8=Vn;bn.prototype.visitInt16=Vn;bn.prototype.visitInt32=Vn;bn.prototype.visitInt64=Vn;bn.prototype.visitUint8=Vn;bn.prototype.visitUint16=Vn;bn.prototype.visitUint32=Vn;bn.prototype.visitUint64=Vn;bn.prototype.visitFloat=Vn;bn.prototype.visitFloat16=Vn;bn.prototype.visitFloat32=Vn;bn.prototype.visitFloat64=Vn;bn.prototype.visitUtf8=Vn;bn.prototype.visitBinary=Vn;bn.prototype.visitFixedSizeBinary=Vn;bn.prototype.visitDate=Vn;bn.prototype.visitDateDay=Vn;bn.prototype.visitDateMillisecond=Vn;bn.prototype.visitTimestamp=Vn;bn.prototype.visitTimestampSecond=Vn;bn.prototype.visitTimestampMillisecond=Vn;bn.prototype.visitTimestampMicrosecond=Vn;bn.prototype.visitTimestampNanosecond=Vn;bn.prototype.visitTime=Vn;bn.prototype.visitTimeSecond=Vn;bn.prototype.visitTimeMillisecond=Vn;bn.prototype.visitTimeMicrosecond=Vn;bn.prototype.visitTimeNanosecond=Vn;bn.prototype.visitDecimal=Vn;bn.prototype.visitList=Vn;bn.prototype.visitStruct=Vn;bn.prototype.visitUnion=Vn;bn.prototype.visitDenseUnion=OH;bn.prototype.visitSparseUnion=OH;bn.prototype.visitDictionary=Vn;bn.prototype.visitInterval=Vn;bn.prototype.visitIntervalDayTime=Vn;bn.prototype.visitIntervalYearMonth=Vn;bn.prototype.visitFixedSizeList=Vn;bn.prototype.visitMap=Vn;const FH=new bn;class Sn extends Zn{}function T0t(n){const t=y2.getVisitFn(n);return new u2(n.data.nullBitmap,n.data.offset,n.length,n,(e,r,i,s)=>(i&1<<s)!==0?t(e,r):null)}class A0t{constructor(t,e){this.vector=t,this.getFn=e,this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}function Ln(n){if(n.nullCount>0)return T0t(n);const{type:t,typeId:e,length:r}=n;return n.stride===1&&(e===It.Timestamp||e===It.Int&&t.bitWidth!==64||e===It.Time&&t.bitWidth!==64||e===It.Float&&t.precision>0)?n.data.values.subarray(0,r)[Symbol.iterator]():new A0t(n,y2.getVisitFn(n))}Sn.prototype.visitNull=Ln;Sn.prototype.visitBool=Ln;Sn.prototype.visitInt=Ln;Sn.prototype.visitInt8=Ln;Sn.prototype.visitInt16=Ln;Sn.prototype.visitInt32=Ln;Sn.prototype.visitInt64=Ln;Sn.prototype.visitUint8=Ln;Sn.prototype.visitUint16=Ln;Sn.prototype.visitUint32=Ln;Sn.prototype.visitUint64=Ln;Sn.prototype.visitFloat=Ln;Sn.prototype.visitFloat16=Ln;Sn.prototype.visitFloat32=Ln;Sn.prototype.visitFloat64=Ln;Sn.prototype.visitUtf8=Ln;Sn.prototype.visitBinary=Ln;Sn.prototype.visitFixedSizeBinary=Ln;Sn.prototype.visitDate=Ln;Sn.prototype.visitDateDay=Ln;Sn.prototype.visitDateMillisecond=Ln;Sn.prototype.visitTimestamp=Ln;Sn.prototype.visitTimestampSecond=Ln;Sn.prototype.visitTimestampMillisecond=Ln;Sn.prototype.visitTimestampMicrosecond=Ln;Sn.prototype.visitTimestampNanosecond=Ln;Sn.prototype.visitTime=Ln;Sn.prototype.visitTimeSecond=Ln;Sn.prototype.visitTimeMillisecond=Ln;Sn.prototype.visitTimeMicrosecond=Ln;Sn.prototype.visitTimeNanosecond=Ln;Sn.prototype.visitDecimal=Ln;Sn.prototype.visitList=Ln;Sn.prototype.visitStruct=Ln;Sn.prototype.visitUnion=Ln;Sn.prototype.visitDenseUnion=Ln;Sn.prototype.visitSparseUnion=Ln;Sn.prototype.visitDictionary=Ln;Sn.prototype.visitInterval=Ln;Sn.prototype.visitIntervalDayTime=Ln;Sn.prototype.visitIntervalYearMonth=Ln;Sn.prototype.visitFixedSizeList=Ln;Sn.prototype.visitMap=Ln;const AR=new Sn;class En extends Zn{}function Pn(n){const{type:t,length:e,stride:r}=n;switch(t.typeId){case It.Int:case It.Float:case It.Decimal:case It.Time:case It.Timestamp:return n.data.values.subarray(0,e*r)}return[...AR.visit(n)]}En.prototype.visitNull=Pn;En.prototype.visitBool=Pn;En.prototype.visitInt=Pn;En.prototype.visitInt8=Pn;En.prototype.visitInt16=Pn;En.prototype.visitInt32=Pn;En.prototype.visitInt64=Pn;En.prototype.visitUint8=Pn;En.prototype.visitUint16=Pn;En.prototype.visitUint32=Pn;En.prototype.visitUint64=Pn;En.prototype.visitFloat=Pn;En.prototype.visitFloat16=Pn;En.prototype.visitFloat32=Pn;En.prototype.visitFloat64=Pn;En.prototype.visitUtf8=Pn;En.prototype.visitBinary=Pn;En.prototype.visitFixedSizeBinary=Pn;En.prototype.visitDate=Pn;En.prototype.visitDateDay=Pn;En.prototype.visitDateMillisecond=Pn;En.prototype.visitTimestamp=Pn;En.prototype.visitTimestampSecond=Pn;En.prototype.visitTimestampMillisecond=Pn;En.prototype.visitTimestampMicrosecond=Pn;En.prototype.visitTimestampNanosecond=Pn;En.prototype.visitTime=Pn;En.prototype.visitTimeSecond=Pn;En.prototype.visitTimeMillisecond=Pn;En.prototype.visitTimeMicrosecond=Pn;En.prototype.visitTimeNanosecond=Pn;En.prototype.visitDecimal=Pn;En.prototype.visitList=Pn;En.prototype.visitStruct=Pn;En.prototype.visitUnion=Pn;En.prototype.visitDenseUnion=Pn;En.prototype.visitSparseUnion=Pn;En.prototype.visitDictionary=Pn;En.prototype.visitInterval=Pn;En.prototype.visitIntervalDayTime=Pn;En.prototype.visitIntervalYearMonth=Pn;En.prototype.visitFixedSizeList=Pn;En.prototype.visitMap=Pn;const BH=new En,Fv=(n,t)=>n+t,DM=n=>`Cannot compute the byte width of variable-width column ${n}`;class C0t extends Zn{visitNull(t){return 0}visitInt(t){return t.bitWidth/8}visitFloat(t){return t.ArrayType.BYTES_PER_ELEMENT}visitBinary(t){throw new Error(DM(t))}visitUtf8(t){throw new Error(DM(t))}visitBool(t){return 1/8}visitDecimal(t){return 16}visitDate(t){return(t.unit+1)*4}visitTime(t){return t.bitWidth/8}visitTimestamp(t){return t.unit===nr.SECOND?4:8}visitInterval(t){return(t.unit+1)*4}visitList(t){throw new Error(DM(t))}visitStruct(t){return this.visitFields(t.children).reduce(Fv,0)}visitUnion(t){return this.visitFields(t.children).reduce(Fv,0)}visitFixedSizeBinary(t){return t.byteWidth}visitFixedSizeList(t){return t.listSize*this.visitFields(t.children).reduce(Fv,0)}visitMap(t){return this.visitFields(t.children).reduce(Fv,0)}visitDictionary(t){return this.visit(t.indices)}visitFields(t){return(t||[]).map(e=>this.visit(e.type))}visitSchema(t){return this.visitFields(t.fields).reduce(Fv,0)}}const NH=new C0t;class I0t extends Zn{visitNull(){return Vgt}visitBool(){return Mgt}visitInt(){return dh}visitInt8(){return cH}visitInt16(){return fH}visitInt32(){return hH}visitInt64(){return dH}visitUint8(){return pH}visitUint16(){return mH}visitUint32(){return gH}visitUint64(){return yH}visitFloat(){return m2}visitFloat16(){return lH}visitFloat32(){return bR}visitFloat64(){return uH}visitUtf8(){return Qgt}visitBinary(){return Egt}visitFixedSizeBinary(){return Igt}visitDate(){return xR}visitDateDay(){return Tgt}visitDateMillisecond(){return Agt}visitTimestamp(){return D1}visitTimestampSecond(){return Wgt}visitTimestampMillisecond(){return Ggt}visitTimestampMicrosecond(){return $gt}visitTimestampNanosecond(){return jgt}visitTime(){return k1}visitTimeSecond(){return Ygt}visitTimeMillisecond(){return qgt}visitTimeMicrosecond(){return Xgt}visitTimeNanosecond(){return Zgt}visitDecimal(){return Cgt}visitList(){return zgt}visitStruct(){return g2}visitUnion(){return ER}visitDenseUnion(){return Kgt}visitSparseUnion(){return Jgt}visitDictionary(){return aH}visitInterval(){return SR}visitIntervalDayTime(){return kgt}visitIntervalYearMonth(){return Ogt}visitFixedSizeList(){return Rgt}visitMap(){return Ugt}}const zH=new I0t;sr.new=R0t;sr.from=L0t;function R0t(n,...t){return new(zH.getVisitFn(n)())(n,...t)}function Km(n,t){if(Cc(t))return sr.from({nullValues:[null,void 0],type:n(),values:t});if(rp(t))return sr.from({nullValues:[null,void 0],type:n(),values:t});const{values:e=[],type:r=n(),nullValues:i=[null,void 0]}={...t};return Cc(e)?sr.from({nullValues:i,...t,type:r}):sr.from({nullValues:i,...t,type:r})}function L0t(n){const{values:t=[],...e}={nullValues:[null,void 0],...n};if(Cc(t)){const r=[...Pc.throughIterable(e)(t)];return r.length===1?r[0]:Bs.concat(r)}return(async r=>{const i=Pc.throughAsyncIterable(e);for await(const s of i(t))r.push(s);return r.length===1?r[0]:Bs.concat(r)})([])}Yr.prototype.get=function(t){return y2.visit(this,t)};Yr.prototype.set=function(t,e){return VV.visit(this,t,e)};Yr.prototype.indexOf=function(t,e){return FH.visit(this,t,e)};Yr.prototype.toArray=function(){return BH.visit(this)};Yr.prototype.getByteWidth=function(){return NH.visit(this.type)};Yr.prototype[Symbol.iterator]=function(){return AR.visit(this)};Yr.prototype._bindDataAccessors=O0t;Object.keys(It).map(n=>It[n]).filter(n=>typeof n=="number").filter(n=>n!==It.NONE).forEach(n=>{const t=zH.visit(n);t.prototype.get=t0t(y2.getVisitFn(n)),t.prototype.set=BF(VV.getVisitFn(n)),t.prototype.indexOf=BF(FH.getVisitFn(n)),t.prototype.toArray=FF(BH.getVisitFn(n)),t.prototype.getByteWidth=P0t(NH.getVisitFn(n)),t.prototype[Symbol.iterator]=FF(AR.getVisitFn(n))});function P0t(n){return function(){return n(this.type)}}function D0t(n){return function(t){return this.isValid(t)?n.call(this,t):null}}function k0t(n){return function(t,e){Ept(this.nullBitmap,this.offset+t,e!=null)&&n.call(this,t,e)}}function O0t(){const n=this.nullBitmap;n&&n.byteLength>0&&(this.get=D0t(this.get),this.set=k0t(this.set))}class pi extends Bs{constructor(...t){let e=null;t[0]instanceof Fr&&(e=t.shift());const r=Tmt(ia,t);if(!e&&!(e=r[0]&&r[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");r[0]||(r[0]=new v2(e)),super(new Lc(e.fields),r),this._schema=e,this._chunks=r}static empty(t=new Fr([])){return new pi(t,[])}static from(t){if(!t)return pi.empty();if(typeof t=="object"){const r=Cc(t.values)?F0t(t):rp(t.values)?B0t(t):null;if(r!==null)return r}let e=bc.from(t);return $d(e)?(async()=>await pi.from(await e))():e.isSync()&&(e=e.open())?e.schema?new pi(e.schema,[...e]):pi.empty():(async r=>{const i=await r,s=i.schema,o=[];if(s){for await(const a of i)o.push(a);return new pi(s,o)}return pi.empty()})(e.open())}static async fromAsync(t){return await pi.from(t)}static fromStruct(t){return pi.new(t.data.childData,t.type.children)}static new(...t){return new pi(...xgt(Amt(t)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(t=this._chunks){return new pi(this._schema,t)}getColumn(t){return this.getColumnAt(this.getColumnIndex(t))}getColumnAt(t){return this.getChildAt(t)}getColumnIndex(t){return this._schema.fields.findIndex(e=>e.name===t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,r;const i=this._schema.fields,s=this._children||(this._children=[]);if(r=s[t])return r;if(e=i[t]){const o=this._chunks.map(a=>a.getChildAt(t)).filter(a=>a!=null);if(o.length>0)return s[t]=new yu(e,o)}return null}serialize(t="binary",e=!0){return(e?yR:vR).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...t){const e=this._schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(...t.map(r=>e.get(r)).filter(r=>r>-1))}selectAt(...t){const e=this._schema.selectAt(...t);return new pi(e,this._chunks.map(({length:r,data:{childData:i}})=>new ia(e,r,t.map(s=>i[s]).filter(Boolean))))}assign(t){const e=this._schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[h,m]=a,d=e.findIndex(y=>y.name===l.name);return~d?m[d]=u:h.push(u),a},[[],[]]),s=this._schema.assign(t.schema),o=[...e.map((a,l,u,h=i[l])=>h===void 0?this.getColumnAt(l):t.getColumnAt(h)),...r.map(a=>t.getColumnAt(a))].filter(Boolean);return new pi(...oH(s,o))}}function F0t(n){const{type:t}=n;return t instanceof Lc?pi.fromStruct(g2.from(n)):null}function B0t(n){const{type:t}=n;return t instanceof Lc?g2.from(n).then(e=>pi.fromStruct(e)):null}class ia extends g2{constructor(...t){let e;const r=t[0];let i;if(t[1]instanceof Me)[,e,i]=t;else{const s=r.fields,[,o,a]=t;e=Me.Struct(new Lc(s),0,o,0,null,a)}super(e,i),this._schema=r}static from(t){return Cc(t.values),pi.from(t)}static new(...t){const[e,r]=Cmt(t),i=r.filter(s=>s instanceof sr);return new ia(...wgt(new Fr(e),i.map(s=>s.data)))}clone(t,e=this._children){return new ia(this._schema,t,e)}concat(...t){const e=this._schema,r=Bs.flatten(this,...t);return new pi(e,r.map(({data:i})=>new ia(e,i)))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=CR.collect(this))}select(...t){const e=this._schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(...t.map(r=>e.get(r)).filter(r=>r>-1))}selectAt(...t){const e=this._schema.selectAt(...t),r=t.map(i=>this.data.childData[i]).filter(Boolean);return new ia(e,this.length,r)}}class v2 extends ia{constructor(t){super(t,0,t.fields.map(e=>Me.new(e.type,0,0,0)))}}class CR extends Zn{constructor(){super(...arguments),this.dictionaries=new Map}static collect(t){return new CR().visit(t.data,new Lc(t.schema.fields)).dictionaries}visit(t,e){return $n.isDictionary(e)?this.visitDictionary(t,e):(t.childData.forEach((r,i)=>this.visit(r,e.children[i].type)),this)}visitDictionary(t,e){const r=t.dictionary;return r&&r.length>0&&this.dictionaries.set(e.id,r),this}}class bc extends og{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return $d(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return al.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return al.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof bc?t:ZA(t)?V0t(t):dV(t)?G0t(t):$d(t)?(async()=>await bc.from(await t))():pV(t)||XI(t)||mV(t)||rp(t)?W0t(new Ay(t)):H0t(new Jb(t))}static readAll(t){return t instanceof bc?t.isSync()?NF(t):zF(t):ZA(t)||ArrayBuffer.isView(t)||Cc(t)||hV(t)?NF(t):zF(t)}}class tS extends bc{constructor(t){super(t),this._impl=t}[Symbol.iterator](){return this._impl[Symbol.iterator]()}async*[Symbol.asyncIterator](){yield*this[Symbol.iterator]()}}class eS extends bc{constructor(t){super(t),this._impl=t}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class UH extends tS{constructor(t){super(t),this._impl=t}}class N0t extends eS{constructor(t){super(t),this._impl=t}}class VH{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){return new ia(this.schema,t.length,this._loadVectors(t,e,this.schema.fields))}_loadDictionaryBatch(t,e){const{id:r,isDelta:i,data:s}=t,{dictionaries:o,schema:a}=this,l=o.get(r);if(i||!l){const u=a.dictionaries.get(r);return l&&i?l.concat(sr.new(this._loadVectors(s,e,[u])[0])):sr.new(this._loadVectors(s,e,[u])[0])}return l}_loadVectors(t,e,r){return new WV(e,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}class nS extends VH{constructor(t,e){super(e),this._reader=ZA(t)?new cgt(this._handle=t):new eH(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=WH(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):_i}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):_i}next(){if(this.closed)return _i;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=e.readMessageBody(t.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new v2(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class rS extends VH{constructor(t,e){super(e),this._reader=new ugt(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(t){return this.closed||(this.autoDestroy=WH(this,t),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(t):_i}async return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(t):_i}async next(){if(this.closed)return _i;let t;const{_reader:e}=this;for(;t=await this._readNextMessageAndValidate();)if(t.isSchema())await this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=await e.readMessageBody(t.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=await e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new v2(this.schema)}):await this.return()}async _readNextMessageAndValidate(t){return await this._reader.readMessage(t)}}class HH extends nS{constructor(t,e){super(t instanceof EF?t:new EF(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){if(this.closed)return null;this._footer||this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&this._handle.seek(e.offset)){const r=this._reader.readMessage(pr.RecordBatch);if(r&&r.isRecordBatch()){const i=r.header(),s=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(i,s)}}return null}_readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&this._handle.seek(e.offset)){const r=this._reader.readMessage(pr.DictionaryBatch);if(r&&r.isDictionaryBatch()){const i=r.header(),s=this._reader.readMessageBody(r.bodyLength),o=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,o)}}}_readFooter(){const{_handle:t}=this,e=t.size-nH,r=t.readInt32(e),i=t.readAt(e-r,r);return t1.decode(i)}_readNextMessageAndValidate(t){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(e&&this._handle.seek(e.offset))return this._reader.readMessage(t)}return null}}class z0t extends rS{constructor(t,...e){const r=typeof e[0]!="number"?e.shift():void 0,i=e[0]instanceof Map?e.shift():void 0;super(t instanceof Qb?t:new Qb(t,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}async open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(t)}async readRecordBatch(t){if(this.closed)return null;this._footer||await this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&await this._handle.seek(e.offset)){const r=await this._reader.readMessage(pr.RecordBatch);if(r&&r.isRecordBatch()){const i=r.header(),s=await this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(i,s)}}return null}async _readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&await this._handle.seek(e.offset)){const r=await this._reader.readMessage(pr.DictionaryBatch);if(r&&r.isDictionaryBatch()){const i=r.header(),s=await this._reader.readMessageBody(r.bodyLength),o=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,o)}}}async _readFooter(){const{_handle:t}=this;t._pending&&await t._pending;const e=t.size-nH,r=await t.readInt32(e),i=await t.readAt(e-r,r);return t1.decode(i)}async _readNextMessageAndValidate(t){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&await this._handle.seek(e.offset))return await this._reader.readMessage(t)}return null}}class U0t extends nS{constructor(t,e){super(t,e)}_loadVectors(t,e,r){return new gmt(e,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}function WH(n,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:n.autoDestroy}function*NF(n){const t=bc.from(n);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}async function*zF(n){const t=await bc.from(n);try{if(!(await t.open({autoDestroy:!1})).closed)do yield t;while(!(await t.reset().open()).closed)}finally{await t.cancel()}}function V0t(n){return new tS(new U0t(n))}function H0t(n){const t=n.peek(I1+7&-8);return t&&t.byteLength>=4?hR(t)?new UH(new HH(n.read())):new tS(new nS(n)):new tS(new nS(function*(){}()))}async function W0t(n){const t=await n.peek(I1+7&-8);return t&&t.byteLength>=4?hR(t)?new UH(new HH(await n.read())):new eS(new rS(n)):new eS(new rS(async function*(){}()))}async function G0t(n){const{size:t}=await n.stat(),e=new Qb(n,t);return t>=fgt&&hR(await e.readAt(0,I1+7&-8))?new N0t(new z0t(e)):new eS(new rS(e))}function UF(n,t){var e;const r=pi.from([new Uint8Array(n)]),i={};switch(r.schema.fields.forEach(s=>{const a=r.getColumn(s.name).toArray();i[s.name]=a}),t==null||(e=t.arrow)===null||e===void 0?void 0:e.shape){case"arrow-table":return r;case"object-row-table":return $0t(i);case"columnar-table":default:return i}}function $0t(n){const t=Object.keys(n),e=n[t[0]].length,r=[];for(let i=0;i<e;i++){const s={};for(let o=0;o<t.length;o++){const a=t[o];s[a]=n[a][i]}r.push(s)}return r}function j0t(n){async function*t(){const e=bc.readAll(n);for await(const r of e){for await(const i of r)yield Y0t(i);break}}return t()}function Y0t(n){const t={metadata:n.schema.metadata,length:n.length};return n.schema.fields.forEach(({name:e},r)=>{t[e]=n.getChildAt(r).toArray()}),t}const VF=100;class q0t{constructor(t,e){if(_t(this,"schema",void 0),_t(this,"options",void 0),_t(this,"length",0),_t(this,"rows",null),_t(this,"cursor",0),_t(this,"_headers",[]),this.options=e,this.schema=t,!Array.isArray(t)){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,e){Number.isFinite(e)&&(this.cursor=e),this.rows=this.rows||new Array(VF),this.rows[this.length]=t,this.length++}addObjectRow(t,e){Number.isFinite(e)&&(this.cursor=e),this.rows=this.rows||new Array(VF),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;return t?(t=t.slice(0,this.length),this.rows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function GH(n,t){if(!n)throw new Error("null row");if(!t)throw new Error("no headers");const e={};for(let r=0;r<t.length;r++)e[t[r]]=n[r];return e}function $H(n,t){if(!n)throw new Error("null row");if(!t)throw new Error("no headers");const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=n[t[r]];return e}const HF=100;class X0t{constructor(t,e){if(_t(this,"schema",void 0),_t(this,"options",void 0),_t(this,"length",0),_t(this,"objectRows",null),_t(this,"arrayRows",null),_t(this,"cursor",0),_t(this,"_headers",[]),this.options=e,this.schema=t,!Array.isArray(t)){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,e){switch(Number.isFinite(e)&&(this.cursor=e),this.options.shape){case"object-row-table":const r=GH(t,this._headers);this.addObjectRow(r,e);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(HF),this.arrayRows[this.length]=t,this.length++;break}}addObjectRow(t,e){switch(Number.isFinite(e)&&(this.cursor=e),this.options.shape){case"array-row-table":const r=$H(t,this._headers);this.addArrayRow(r,e);break;case"object-row-table":this.objectRows=this.objectRows||new Array(HF),this.objectRows[this.length]=t,this.length++;break}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const Z0t=100;class jH{constructor(t,e){_t(this,"schema",void 0),_t(this,"length",0),_t(this,"allocated",0),_t(this,"columns",{}),this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let e=0;for(const r in this.columns)this.columns[r][this.length]=t[e++];this.length++}addObjectRow(t){this._reallocateColumns();for(const e in t)this.columns[e][this.length]=t[e];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const r in this.schema){const i=this.schema[r];t[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:Z0t,this.columns={};for(const t in this.schema){const e=this.schema[t],r=e.type||Float32Array,i=this.columns[e.index];if(i&&ArrayBuffer.isView(i)){const s=new r(this.allocated);s.set(i),this.columns[e.index]=s}else i?(i.length=this.allocated,this.columns[e.index]=i):this.columns[e.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,e]of Object.entries(this.columns))this.columns[t]=e.slice(0,this.length)}}const K0t={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},WF="TableBatchBuilder";class Iy{constructor(t,e){_t(this,"schema",void 0),_t(this,"options",void 0),_t(this,"aggregator",null),_t(this,"batchCount",0),_t(this,"bytesUsed",0),_t(this,"isChunkComplete",!1),_t(this,"lastBatchEmittedMs",Date.now()),_t(this,"totalLength",0),_t(this,"totalBytes",0),_t(this,"rowBytes",0),this.schema=t,this.options={...K0t,...e}}limitReached(){var t,e;return!!(Boolean((t=this.options)===null||t===void 0?void 0:t.limit)&&this.totalLength>=this.options.limit||Boolean((e=this.options)===null||e===void 0?void 0:e._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const e=this._getTableBatchType();this.aggregator=new e(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const e=this._getTableBatchType();this.aggregator=new e(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),typeof t=="string"&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?t.length*8:Object.keys(t).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;t!=null&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const e=this.aggregator.getBatch();return e.count=this.batchCount,e.bytesUsed=this.bytesUsed,Object.assign(e,t),this.batchCount++,this.aggregator=null,e}_getTableBatchType(){switch(this.options.shape){case"row-table":return q0t;case"array-row-table":case"object-row-table":return X0t;case"columnar-table":return jH;case"arrow-table":if(!Iy.ArrowBatch)throw new Error(WF);return Iy.ArrowBatch;default:throw new Error(WF)}}}_t(Iy,"ArrowBatch",void 0);let YH;class GF extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}YH=Symbol.asyncIterator;class J0t{constructor(){_t(this,"_values",void 0),_t(this,"_settlers",void 0),_t(this,"_closed",void 0),this._values=new GF,this._settlers=new GF,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[YH](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const e=this._settlers.dequeue();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((t,e)=>{this._settlers.enqueue({resolve:t,reject:e})})}}class Q0t extends jH{constructor(t,e){super(t,e),_t(this,"arrowSchema",void 0),this.arrowSchema=null}getBatch(){const t=super.getBatch();if(t){this.arrowSchema=this.arrowSchema||tyt(t.schema);const e=eyt(this.arrowSchema,t.data),r=new ia(this.arrowSchema,t.length,e);return{shape:"arrow-table",batchType:"data",data:r,length:t.length}}return null}}function tyt(n){const t=[];for(const e in n){const r=n[e];if(r.type===Float32Array){const i=r,s=new Nr(r.name,new f2,r.nullable,i);t.push(s)}}if(t.length===0)throw new Error("No arrow convertible fields");return new Fr(t)}function eyt(n,t){const e=[];for(const r of n.fields){const i=t[r.name];if(i instanceof Float32Array){const s=bR.from(i);e.push(s)}}if(n.fields.length!==e.length)throw new Error("Some columns not arrow convertible");return e}Iy.ArrowBatch=Q0t;const nyt={...Jdt,parse:async(n,t)=>UF(n,t),parseSync:UF,parseInBatches:j0t},ryt=async n=>await cV(n,nyt);/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const $F="\uFEFF",yc={parse:iyt,unparse:syt,RECORD_SEP:String.fromCharCode(30),UNIT_SEP:String.fromCharCode(31),BYTE_ORDER_MARK:$F,BAD_DELIMITERS:["\r",`
`,'"',$F],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:o3,ParserHandle:XH,ChunkStreamer:qH,StringStreamer:Ry};var _2=yc;function iyt(n,t,e){t=t||{};var r=t.dynamicTyping||!1;if(To(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=To(t.transform)?t.transform:!1,t.worker&&yc.WORKERS_SUPPORTED){var i=newWorker();i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=To(t.step),t.chunk=To(t.chunk),t.complete=To(t.complete),t.error=To(t.error),delete t.worker,i.postMessage({input:n,config:t,workerId:i.id});return}var s=null;return typeof n=="string"&&(s=new Ry(t)),s||(s=new e(t)),s.stream(n)}function syt(n,t){var e=!1,r=!0,i=",",s=`\r
`,o='"',a=o+o,l=!1,u=null;m();var h=new RegExp(n1(o),"g");if(typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)){if(!n.length||Array.isArray(n[0]))return y(null,n,l);if(typeof n[0]=="object")return y(u||d(n[0]),n,l)}else if(typeof n=="object")return typeof n.data=="string"&&(n.data=JSON.parse(n.data)),Array.isArray(n.data)&&(n.fields||(n.fields=n.meta&&n.meta.fields),n.fields||(n.fields=Array.isArray(n.data[0])?n.fields:d(n.data[0])),!Array.isArray(n.data[0])&&typeof n.data[0]!="object"&&(n.data=[n.data])),y(n.fields||[],n.data||[],l);throw new Error("Unable to serialize unrecognized input");function m(){if(typeof t=="object"){if(typeof t.delimiter=="string"&&!yc.BAD_DELIMITERS.filter(function(w){return t.delimiter.indexOf(w)!==-1}).length&&(i=t.delimiter),(typeof t.quotes=="boolean"||Array.isArray(t.quotes))&&(e=t.quotes),(typeof t.skipEmptyLines=="boolean"||typeof t.skipEmptyLines=="string")&&(l=t.skipEmptyLines),typeof t.newline=="string"&&(s=t.newline),typeof t.quoteChar=="string"&&(o=t.quoteChar),typeof t.header=="boolean"&&(r=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");u=t.columns}t.escapeChar!==void 0&&(a=t.escapeChar+o)}}function d(w){if(typeof w!="object")return[];var x=[];for(var S in w)x.push(S);return x}function y(w,x,S){var M="";typeof w=="string"&&(w=JSON.parse(w)),typeof x=="string"&&(x=JSON.parse(x));var T=Array.isArray(w)&&w.length>0,A=!Array.isArray(x[0]);if(T&&r){for(var P=0;P<w.length;P++)P>0&&(M+=i),M+=_(w[P],P);x.length>0&&(M+=s)}for(var F=0;F<x.length;F++){var C=T?w.length:x[F].length,B=!1,V=T?Object.keys(x[F]).length===0:x[F].length===0;if(S&&!T&&(B=S==="greedy"?x[F].join("").trim()==="":x[F].length===1&&x[F][0].length===0),S==="greedy"&&T){for(var Y=[],z=0;z<C;z++){var q=A?w[z]:z;Y.push(x[F][q])}B=Y.join("").trim()===""}if(!B){for(var L=0;L<C;L++){L>0&&!V&&(M+=i);var tt=T&&A?w[L]:L;M+=_(x[F][tt],L)}F<x.length-1&&(!S||C>0&&!V)&&(M+=s)}}return M}function _(w,x){if(typeof w=="undefined"||w===null)return"";if(w.constructor===Date)return JSON.stringify(w).slice(1,25);w=w.toString().replace(h,a);var S=typeof e=="boolean"&&e||Array.isArray(e)&&e[x]||v(w,yc.BAD_DELIMITERS)||w.indexOf(i)>-1||w.charAt(0)===" "||w.charAt(w.length-1)===" ";return S?o+w+o:w}function v(w,x){for(var S=0;S<x.length;S++)if(w.indexOf(x[S])>-1)return!0;return!1}}function qH(n){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,n),this.parseChunk=function(e,r){if(this.isFirstChunk&&To(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);i!==void 0&&(e=i)}this.isFirstChunk=!1;var s=this._partialLine+e;this._partialLine="";var o=this._handle.parse(s,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var a=o.meta.cursor;this._finished||(this._partialLine=s.substring(a-this._baseIndex),this._baseIndex=a),o&&o.data&&(this._rowCount+=o.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(To(this._config.chunk)&&!r){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return;o=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),!this._completed&&l&&To(this._config.complete)&&(!o||!o.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!l&&(!o||!o.meta.paused)&&this._nextChunk(),o}},this._sendError=function(e){To(this._config.error)&&this._config.error(e)};function t(e){var r=IR(e);r.chunkSize=parseInt(r.chunkSize),!e.step&&!e.chunk&&(r.chunkSize=null),this._handle=new XH(r),this._handle.streamer=this,this._config=r}}function Ry(n){n=n||{},qH.call(this,n);var t;this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,r=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(r)}}}Ry.prototype=Object.create(Ry.prototype);Ry.prototype.constructor=Ry;function XH(n){var t=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,e=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,r=this,i=0,s=0,o,a,l=!1,u=!1,h,m=[],d={data:[],errors:[],meta:{}};if(To(n.step)){var y=n.step;n.step=function(C){if(d=C,w())v();else{if(v(),!d.data||d.data.length===0)return;i+=C.data.length,n.preview&&i>n.preview?a.abort():y(d,r)}}}this.parse=function(C,B,V){var Y=n.quoteChar||'"';if(n.newline||(n.newline=P(C,Y)),h=!1,n.delimiter)To(n.delimiter)&&(n.delimiter=n.delimiter(C),d.meta.delimiter=n.delimiter);else{var z=A(C,n.newline,n.skipEmptyLines,n.comments,n.delimitersToGuess);z.successful?n.delimiter=z.bestDelimiter:(h=!0,n.delimiter=yc.DefaultDelimiter),d.meta.delimiter=n.delimiter}var q=IR(n);return n.preview&&n.header&&q.preview++,o=C,a=new o3(q),d=a.parse(o,B,V),v(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,a.abort(),o=o.substr(a.getCharIndex())},this.resume=function(){l=!1,r.streamer.parseChunk(o,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,a.abort(),d.meta.aborted=!0,To(n.complete)&&n.complete(d),o=""};function _(C){return n.skipEmptyLines==="greedy"?C.join("").trim()==="":C.length===1&&C[0].length===0}function v(){if(d&&h&&(F("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+yc.DefaultDelimiter+"'"),h=!1),n.skipEmptyLines)for(var C=0;C<d.data.length;C++)_(d.data[C])&&d.data.splice(C--,1);return w()&&x(),T()}function w(){return n.header&&m.length===0}function x(){if(!d)return;function C(V){To(n.transformHeader)&&(V=n.transformHeader(V)),m.push(V)}if(Array.isArray(d.data[0])){for(var B=0;w()&&B<d.data.length;B++)d.data[B].forEach(C);d.data.splice(0,1)}else d.data.forEach(C)}function S(C){return n.dynamicTypingFunction&&n.dynamicTyping[C]===void 0&&(n.dynamicTyping[C]=n.dynamicTypingFunction(C)),(n.dynamicTyping[C]||n.dynamicTyping)===!0}function M(C,B){return S(C)?B==="true"||B==="TRUE"?!0:B==="false"||B==="FALSE"?!1:t.test(B)?parseFloat(B):e.test(B)?new Date(B):B===""?null:B:B}function T(){if(!d||!d.data||!n.header&&!n.dynamicTyping&&!n.transform)return d;function C(V,Y){var z=n.header?{}:[],q;for(q=0;q<V.length;q++){var L=q,tt=V[q];n.header&&(L=q>=m.length?"__parsed_extra":m[q]),n.transform&&(tt=n.transform(tt,L)),tt=M(L,tt),L==="__parsed_extra"?(z[L]=z[L]||[],z[L].push(tt)):z[L]=tt}return n.header&&(q>m.length?F("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+q,s+Y):q<m.length&&F("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+q,s+Y)),z}var B=1;return!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(C),B=d.data.length):d.data=C(d.data,0),n.header&&d.meta&&(d.meta.fields=m),s+=B,d}function A(C,B,V,Y,z){var q,L,tt;z=z||[",","	","|",";",yc.RECORD_SEP,yc.UNIT_SEP];for(var ct=0;ct<z.length;ct++){var lt=z[ct],at=0,it=0,ut=0;tt=void 0;for(var j=new o3({comments:Y,delimiter:lt,newline:B,preview:10}).parse(C),K=0;K<j.data.length;K++){if(V&&_(j.data[K])){ut++;continue}var xt=j.data[K].length;if(it+=xt,typeof tt=="undefined"){tt=0;continue}else xt>1&&(at+=Math.abs(xt-tt),tt=xt)}j.data.length>0&&(it/=j.data.length-ut),(typeof L=="undefined"||at>L)&&it>1.99&&(L=at,q=lt)}return n.delimiter=q,{successful:!!q,bestDelimiter:q}}function P(C,B){C=C.substr(0,1024*1024);var V=new RegExp(n1(B)+"([^]*?)"+n1(B),"gm");C=C.replace(V,"");var Y=C.split("\r"),z=C.split(`
`),q=z.length>1&&z[0].length<Y[0].length;if(Y.length===1||q)return`
`;for(var L=0,tt=0;tt<Y.length;tt++)Y[tt][0]===`
`&&L++;return L>=Y.length/2?`\r
`:"\r"}function F(C,B,V,Y){d.errors.push({type:C,code:B,message:V,row:Y})}}function n1(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o3(n){n=n||{};var t=n.delimiter,e=n.newline,r=n.comments,i=n.step,s=n.preview,o=n.fastMode,a;n.quoteChar===void 0?a='"':a=n.quoteChar;var l=a;if(n.escapeChar!==void 0&&(l=n.escapeChar),(typeof t!="string"||yc.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||yc.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),e!==`
`&&e!=="\r"&&e!==`\r
`&&(e=`
`);var u=0,h=!1;this.parse=function(m,d,y){if(typeof m!="string")throw new Error("Input must be a string");var _=m.length,v=t.length,w=e.length,x=r.length,S=To(i);u=0;var M=[],T=[],A=[],P=0;if(!m)return j();if(o||o!==!1&&m.indexOf(a)===-1){for(var F=m.split(e),C=0;C<F.length;C++){if(A=F[C],u+=A.length,C!==F.length-1)u+=e.length;else if(y)return j();if(!(r&&A.substr(0,x)===r)){if(S){if(M=[],lt(A.split(t)),K(),h)return j()}else lt(A.split(t));if(s&&C>=s)return M=M.slice(0,s),j(!0)}}return j()}for(var B=m.indexOf(t,u),V=m.indexOf(e,u),Y=new RegExp(n1(l)+n1(a),"g"),z;;){if(m[u]===a){for(z=u,u++;;){if(z=m.indexOf(a,z+1),z===-1)return y||T.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:M.length,index:u}),it();if(z===_-1){var q=m.substring(u,z).replace(Y,a);return it(q)}if(a===l&&m[z+1]===l){z++;continue}if(!(a!==l&&z!==0&&m[z-1]===l)){var L=V===-1?B:Math.min(B,V),tt=at(L);if(m[z+1+tt]===t){if(A.push(m.substring(u,z).replace(Y,a)),u=z+1+tt+v,B=m.indexOf(t,u),V=m.indexOf(e,u),S&&(K(),h))return j();if(s&&M.length>=s)return j(!0);break}var ct=at(V);if(m.substr(z+1+ct,w)===e){if(A.push(m.substring(u,z).replace(Y,a)),ut(z+1+ct+w),B=m.indexOf(t,u),S&&(K(),h))return j();if(s&&M.length>=s)return j(!0);break}T.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:M.length,index:u}),z++}}if(S&&(K(),h))return j();if(s&&M.length>=s)return j(!0);continue}if(r&&A.length===0&&m.substr(u,x)===r){if(V===-1)return j();u=V+w,V=m.indexOf(e,u),B=m.indexOf(t,u);continue}if(B!==-1&&(B<V||V===-1)){A.push(m.substring(u,B)),u=B+v,B=m.indexOf(t,u);continue}if(V!==-1){if(A.push(m.substring(u,V)),ut(V+w),S&&(K(),h))return j();if(s&&M.length>=s)return j(!0);continue}break}return it();function lt(xt){M.push(xt),P=u}function at(xt){var Lt=0;if(xt!==-1){var Pt=m.substring(z+1,xt);Pt&&Pt.trim()===""&&(Lt=Pt.length)}return Lt}function it(xt){return y||(typeof xt=="undefined"&&(xt=m.substr(u)),A.push(xt),u=_,lt(A),S&&K()),j()}function ut(xt){u=xt,lt(A),A=[],V=m.indexOf(e,u)}function j(xt,Lt){var Pt=Lt||!1;return{data:Pt?M[0]:M,errors:T,meta:{delimiter:t,linebreak:e,aborted:h,truncated:!!xt,cursor:P+(d||0)}}}function K(){i(j(void 0,!0)),M=[],T=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return u}}function IR(n){if(typeof n!="object"||n===null)return n;var t=Array.isArray(n)?[]:{};for(var e in n)t[e]=IR(n[e]);return t}function To(n){return typeof n=="function"}const{ChunkStreamer:ZH}=_2;function iS(n){n=n||{},ZH.call(this,n),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const e of t)this.parseChunk(this.getStringChunk(e));this._finished=!0,this.parseChunk("")}catch(e){this._sendError(e)}},this._nextChunk=function(){},this.getStringChunk=function(t){return typeof t=="string"?t:this.textDecoder.decode(t,{stream:!0})}}iS.prototype=Object.create(ZH.prototype);iS.prototype.constructor=iS;const oyt="3.2.10",RR={csv:{shape:"object-row-table",optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}},ayt={id:"csv",module:"csv",name:"CSV",version:oyt,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(n,t)=>jF(new TextDecoder().decode(n),t),parseText:(n,t)=>jF(n,t),parseInBatches:lyt,options:RR};async function jF(n,t){const e={...RR.csv,...t==null?void 0:t.csv},r=uyt(n),s=e.header==="auto"?KH(r):Boolean(e.header),o={...e,header:s,download:!1,transformHeader:s?JH():void 0,error:h=>{throw new Error(h)}},a=_2.parse(n,o);let{data:l}=a;const u=a.meta.fields||QH(e.columnPrefix,r.length);switch(e.shape){case"object-row-table":l=l.map(h=>Array.isArray(h)?GH(h,u):h);break;case"array-row-table":l=l.map(h=>Array.isArray(h)?h:$H(h,u));break}return l}function lyt(n,t){var e;t={...t},t.batchSize==="auto"&&(t.batchSize=4e3);const r={...RR.csv,...(e=t)===null||e===void 0?void 0:e.csv},i=new J0t;let s=!0,o=null,a=null,l=null;const u={...r,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(h){let m=h.data;if(r.skipEmptyLines&&m.flat().join("").trim()==="")return;const d=h.meta.cursor;if(s&&!o&&(r.header==="auto"?KH(m):Boolean(r.header))){o=m.map(JH());return}s&&(s=!1,o||(o=QH(r.columnPrefix,m.length)),l=cyt(m,o)),r.optimizeMemoryUsage&&(m=JSON.parse(JSON.stringify(m))),a=a||new Iy(l,{shape:r.shape||"array-row-table",...t});try{a.addRow(m);const y=a&&a.getFullBatch({bytesUsed:d});y&&i.enqueue(y)}catch(y){i.enqueue(y)}},complete(h){try{const m=h.meta.cursor,d=a&&a.getFinalBatch({bytesUsed:m});d&&i.enqueue(d)}catch(m){i.enqueue(m)}i.close()}};return _2.parse(n,u,iS),i}function KH(n){return n&&n.every(t=>typeof t=="string")}function uyt(n){return _2.parse(n,{download:!1,dynamicTyping:!0,preview:1}).data[0]}function JH(){const n=new Set;return t=>{let e=t,r=1;for(;n.has(e);)e="".concat(t,".").concat(r),r++;return n.add(e),e}}function QH(n,t=0){const e=[];for(let r=0;r<t;r++)e.push("".concat(n).concat(r+1));return e}function cyt(n,t){const e=t?{}:[];for(let r=0;r<n.length;r++){const i=t&&t[r]||r;switch(typeof n[r]){case"number":case"boolean":e[i]={name:String(i),index:r,type:Float32Array};break;case"string":default:e[i]={name:String(i),index:r,type:Array}}}return e}const fyt=async n=>await cV(n,ayt,{csv:{skipEmptyLines:!0,header:!0}});var tW={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,t){(function(e){n.exports=e()})(function(){return function e(r,i,s){function o(u,h){if(!i[u]){if(!r[u]){var m=typeof K1=="function"&&K1;if(!h&&m)return m(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(_){var v=r[u][1][_];return o(v||_)},y,y.exports,e,r,i,s)}return i[u].exports}for(var a=typeof K1=="function"&&K1,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(e,r,i){var s=e("./utils"),o=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,h,m,d,y,_,v,w=[],x=0,S=l.length,M=S,T=s.getTypeOf(l)!=="string";x<l.length;)M=S-x,m=T?(u=l[x++],h=x<S?l[x++]:0,x<S?l[x++]:0):(u=l.charCodeAt(x++),h=x<S?l.charCodeAt(x++):0,x<S?l.charCodeAt(x++):0),d=u>>2,y=(3&u)<<4|h>>4,_=1<M?(15&h)<<2|m>>6:64,v=2<M?63&m:64,w.push(a.charAt(d)+a.charAt(y)+a.charAt(_)+a.charAt(v));return w.join("")},i.decode=function(l){var u,h,m,d,y,_,v=0,w=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var S,M=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&M--,l.charAt(l.length-2)===a.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|M):new Array(0|M);v<l.length;)u=a.indexOf(l.charAt(v++))<<2|(d=a.indexOf(l.charAt(v++)))>>4,h=(15&d)<<4|(y=a.indexOf(l.charAt(v++)))>>2,m=(3&y)<<6|(_=a.indexOf(l.charAt(v++))),S[w++]=u,y!==64&&(S[w++]=h),_!==64&&(S[w++]=m);return S}},{"./support":30,"./utils":32}],2:[function(e,r,i){var s=e("./external"),o=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function u(h,m,d,y,_){this.compressedSize=h,this.uncompressedSize=m,this.crc32=d,this.compression=y,this.compressedContent=_}u.prototype={getContentWorker:function(){var h=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,m,d){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,i){var s=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,i){var s=e("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,h,m,d){var y=o,_=d+m;u^=-1;for(var v=d;v<_;v++)u=u>>>8^y[255&(u^h[v])];return-1^u}(0|l,a,a.length,0):function(u,h,m,d){var y=o,_=d+m;u^=-1;for(var v=d;v<_;v++)u=u>>>8^y[255&(u^h.charCodeAt(v))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(e,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,r,i){var s=null;s=typeof Promise!="undefined"?Promise:e("lie"),r.exports={Promise:s}},{lie:37}],7:[function(e,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",o=e("pako"),a=e("./utils"),l=e("./stream/GenericWorker"),u=s?"uint8array":"array";function h(m,d){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=d,this.meta={}}i.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(d){m.push({data:d,meta:m.meta})}},i.compressWorker=function(m){return new h("Deflate",m)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,i){function s(y,_){var v,w="";for(v=0;v<_;v++)w+=String.fromCharCode(255&y),y>>>=8;return w}function o(y,_,v,w,x,S){var M,T,A=y.file,P=y.compression,F=S!==u.utf8encode,C=a.transformTo("string",S(A.name)),B=a.transformTo("string",u.utf8encode(A.name)),V=A.comment,Y=a.transformTo("string",S(V)),z=a.transformTo("string",u.utf8encode(V)),q=B.length!==A.name.length,L=z.length!==V.length,tt="",ct="",lt="",at=A.dir,it=A.date,ut={crc32:0,compressedSize:0,uncompressedSize:0};_&&!v||(ut.crc32=y.crc32,ut.compressedSize=y.compressedSize,ut.uncompressedSize=y.uncompressedSize);var j=0;_&&(j|=8),F||!q&&!L||(j|=2048);var K=0,xt=0;at&&(K|=16),x==="UNIX"?(xt=798,K|=function(Pt,Ot){var Ee=Pt;return Pt||(Ee=Ot?16893:33204),(65535&Ee)<<16}(A.unixPermissions,at)):(xt=20,K|=function(Pt){return 63&(Pt||0)}(A.dosPermissions)),M=it.getUTCHours(),M<<=6,M|=it.getUTCMinutes(),M<<=5,M|=it.getUTCSeconds()/2,T=it.getUTCFullYear()-1980,T<<=4,T|=it.getUTCMonth()+1,T<<=5,T|=it.getUTCDate(),q&&(ct=s(1,1)+s(h(C),4)+B,tt+="up"+s(ct.length,2)+ct),L&&(lt=s(1,1)+s(h(Y),4)+z,tt+="uc"+s(lt.length,2)+lt);var Lt="";return Lt+=`
\0`,Lt+=s(j,2),Lt+=P.magic,Lt+=s(M,2),Lt+=s(T,2),Lt+=s(ut.crc32,4),Lt+=s(ut.compressedSize,4),Lt+=s(ut.uncompressedSize,4),Lt+=s(C.length,2),Lt+=s(tt.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Lt+C+tt,dirRecord:m.CENTRAL_FILE_HEADER+s(xt,2)+Lt+s(Y.length,2)+"\0\0\0\0"+s(K,4)+s(w,4)+C+tt+Y}}var a=e("../utils"),l=e("../stream/GenericWorker"),u=e("../utf8"),h=e("../crc32"),m=e("../signature");function d(y,_,v,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=v,this.encodeFileName=w,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,l),d.prototype.push=function(y){var _=y.meta.percent||0,v=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,l.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:v?(_+100*(v-w-1))/v:100}}))},d.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var v=o(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,v=o(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),_)this.push({data:function(w){return m.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var v=this.bytesWritten-y,w=function(x,S,M,T,A){var P=a.transformTo("string",A(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(x,2)+s(x,2)+s(S,4)+s(M,4)+s(P.length,2)+P}(this.dirRecords.length,v,y,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(v){_.processChunk(v)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(v){_.error(v)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(y){var _=this._sources;if(!l.prototype.error.call(this,y))return!1;for(var v=0;v<_.length;v++)try{_[v].error(y)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,i){var s=e("../compressions"),o=e("./ZipFileWorker");i.generateWorker=function(a,l,u){var h=new o(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{a.forEach(function(d,y){m++;var _=function(S,M){var T=S||M,A=s[T];if(!A)throw new Error(T+" is not a valid compression method !");return A}(y.options.compression,l.compression),v=y.options.compressionOptions||l.compressionOptions||{},w=y.dir,x=y.date;y._compressWorker(_,v).withStreamInfo("file",{name:d,dir:w,date:x,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(d){h.error(d)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=e("./object")).loadAsync=e("./load"),s.support=e("./support"),s.defaults=e("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=e("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,i){var s=e("./utils"),o=e("./external"),a=e("./utf8"),l=e("./zipEntries"),u=e("./stream/Crc32Probe"),h=e("./nodejsUtils");function m(d){return new o.Promise(function(y,_){var v=d.decompressed.getContentWorker().pipe(new u);v.on("error",function(w){_(w)}).on("end",function(){v.streamInfo.crc32!==d.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(d,y){var _=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,y.optimizedBinaryString,y.base64).then(function(v){var w=new l(y);return w.load(v),w}).then(function(v){var w=[o.Promise.resolve(v)],x=v.files;if(y.checkCRC32)for(var S=0;S<x.length;S++)w.push(m(x[S]));return o.Promise.all(w)}).then(function(v){for(var w=v.shift(),x=w.files,S=0;S<x.length;S++){var M=x[S],T=M.fileNameStr,A=s.resolve(M.fileNameStr);_.file(A,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:y.createFolders}),M.dir||(_.file(A).unsafeOriginalName=T)}return w.zipComment.length&&(_.comment=w.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,i){var s=e("../utils"),o=e("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,i){var s=e("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var h=this;a.on("data",function(m,d){h.push(m)||h._helper.pause(),u&&u(d)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}e("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,r,i){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(e,r,i){function s(A,P,F){var C,B=a.getTypeOf(P),V=a.extend(F||{},h);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(A=x(A)),V.createFolders&&(C=w(A))&&S.call(this,C,!0);var Y=B==="string"&&V.binary===!1&&V.base64===!1;F&&F.binary!==void 0||(V.binary=!Y),(P instanceof m&&P.uncompressedSize===0||V.dir||!P||P.length===0)&&(V.base64=!1,V.binary=!0,P="",V.compression="STORE",B="string");var z=null;z=P instanceof m||P instanceof l?P:_.isNode&&_.isStream(P)?new v(A,P):a.prepareContent(A,P,V.binary,V.optimizedBinaryString,V.base64);var q=new d(A,z,V);this.files[A]=q}var o=e("./utf8"),a=e("./utils"),l=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),h=e("./defaults"),m=e("./compressedObject"),d=e("./zipObject"),y=e("./generate"),_=e("./nodejsUtils"),v=e("./nodejs/NodejsStreamInputAdapter"),w=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var P=A.lastIndexOf("/");return 0<P?A.substring(0,P):""},x=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},S=function(A,P){return P=P!==void 0?P:h.createFolders,A=x(A),this.files[A]||s.call(this,A,null,{dir:!0,createFolders:P}),this.files[A]};function M(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var P,F,C;for(P in this.files)C=this.files[P],(F=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&A(F,C)},filter:function(A){var P=[];return this.forEach(function(F,C){A(F,C)&&P.push(C)}),P},file:function(A,P,F){if(arguments.length!==1)return A=this.root+A,s.call(this,A,P,F),this;if(M(A)){var C=A;return this.filter(function(V,Y){return!Y.dir&&C.test(V)})}var B=this.files[this.root+A];return B&&!B.dir?B:null},folder:function(A){if(!A)return this;if(M(A))return this.filter(function(B,V){return V.dir&&A.test(B)});var P=this.root+A,F=S.call(this,P),C=this.clone();return C.root=F.name,C},remove:function(A){A=this.root+A;var P=this.files[A];if(P||(A.slice(-1)!=="/"&&(A+="/"),P=this.files[A]),P&&!P.dir)delete this.files[A];else for(var F=this.filter(function(B,V){return V.name.slice(0,A.length)===A}),C=0;C<F.length;C++)delete this.files[F[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var P,F={};try{if((F=a.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var C=F.comment||this.comment||"";P=y.generateWorker(this,F,C)}catch(B){(P=new l("error")).error(B)}return new u(P,F.type||"string",F.mimeType)},generateAsync:function(A,P){return this.generateInternalStream(A).accumulate(P)},generateNodeStream:function(A,P){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(P)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,i){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,i){var s=e("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}e("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),m=a.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===h&&this.data[d+3]===m)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),m=a.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&h===d[2]&&m===d[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,r,i){var s=e("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(e,r,i){var s=e("./Uint8ArrayReader");function o(a){s.call(this,a)}e("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,i){var s=e("./DataReader");function o(a){s.call(this,a)}e("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,r,i){var s=e("./ArrayReader");function o(a){s.call(this,a)}e("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,i){var s=e("../utils"),o=e("../support"),a=e("./ArrayReader"),l=e("./StringReader"),u=e("./NodeBufferReader"),h=e("./Uint8ArrayReader");r.exports=function(m){var d=s.getTypeOf(m);return s.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new u(m):o.uint8array?new h(s.transformTo("uint8array",m)):new a(s.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,i){var s=e("./GenericWorker"),o=e("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,i){var s=e("./GenericWorker"),o=e("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,i){var s=e("../utils"),o=e("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,i){var s=e("../utils"),o=e("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=s.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(e,r,i){var s=e("../utils"),o=e("./ConvertWorker"),a=e("./GenericWorker"),l=e("../base64"),u=e("../support"),h=e("../external"),m=null;if(u.nodestream)try{m=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(_,v){return new h.Promise(function(w,x){var S=[],M=_._internalType,T=_._outputType,A=_._mimeType;_.on("data",function(P,F){S.push(P),v&&v(F)}).on("error",function(P){S=[],x(P)}).on("end",function(){try{var P=function(F,C,B){switch(F){case"blob":return s.newBlob(s.transformTo("arraybuffer",C),B);case"base64":return l.encode(C);default:return s.transformTo(F,C)}}(T,function(F,C){var B,V=0,Y=null,z=0;for(B=0;B<C.length;B++)z+=C[B].length;switch(F){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(Y=new Uint8Array(z),B=0;B<C.length;B++)Y.set(C[B],V),V+=C[B].length;return Y;case"nodebuffer":return Buffer.concat(C);default:throw new Error("concat : unsupported type '"+F+"'")}}(M,S),A);w(P)}catch(F){x(F)}S=[]}).resume()})}function y(_,v,w){var x=v;switch(v){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=v,this._mimeType=w,s.checkSupport(x),this._worker=_.pipe(new o(x)),_.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}y.prototype={accumulate:function(_){return d(this,_)},on:function(_,v){var w=this;return _==="data"?this._worker.on(_,function(x){v.call(w,x.data,x.meta)}):this._worker.on(_,function(){s.delay(v,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,i){for(var s=e("./utils"),o=e("./support"),a=e("./nodejsUtils"),l=e("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(y){return o.nodebuffer?a.newBufferFrom(y,"utf-8"):function(_){var v,w,x,S,M,T=_.length,A=0;for(S=0;S<T;S++)(64512&(w=_.charCodeAt(S)))==55296&&S+1<T&&(64512&(x=_.charCodeAt(S+1)))==56320&&(w=65536+(w-55296<<10)+(x-56320),S++),A+=w<128?1:w<2048?2:w<65536?3:4;for(v=o.uint8array?new Uint8Array(A):new Array(A),S=M=0;M<A;S++)(64512&(w=_.charCodeAt(S)))==55296&&S+1<T&&(64512&(x=_.charCodeAt(S+1)))==56320&&(w=65536+(w-55296<<10)+(x-56320),S++),w<128?v[M++]=w:(w<2048?v[M++]=192|w>>>6:(w<65536?v[M++]=224|w>>>12:(v[M++]=240|w>>>18,v[M++]=128|w>>>12&63),v[M++]=128|w>>>6&63),v[M++]=128|63&w);return v}(y)},i.utf8decode=function(y){return o.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(_){var v,w,x,S,M=_.length,T=new Array(2*M);for(v=w=0;v<M;)if((x=_[v++])<128)T[w++]=x;else if(4<(S=u[x]))T[w++]=65533,v+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&v<M;)x=x<<6|63&_[v++],S--;1<S?T[w++]=65533:x<65536?T[w++]=x:(x-=65536,T[w++]=55296|x>>10&1023,T[w++]=56320|1023&x)}return T.length!==w&&(T.subarray?T=T.subarray(0,w):T.length=w),s.applyFromCharCode(T)}(y=s.transformTo(o.uint8array?"uint8array":"array",y))},s.inherits(m,l),m.prototype.processChunk=function(y){var _=s.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=_;(_=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),_.set(v,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var w=function(S,M){var T;for((M=M||S.length)>S.length&&(M=S.length),T=M-1;0<=T&&(192&S[T])==128;)T--;return T<0||T===0?M:T+u[S[T]]>M?T:M}(_),x=_;w!==_.length&&(o.uint8array?(x=_.subarray(0,w),this.leftOver=_.subarray(w,_.length)):(x=_.slice(0,w),this.leftOver=_.slice(w,_.length))),this.push({data:i.utf8decode(x),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(d,l),d.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,i){var s=e("./support"),o=e("./base64"),a=e("./nodejsUtils"),l=e("./external");function u(v){return v}function h(v,w){for(var x=0;x<v.length;++x)w[x]=255&v.charCodeAt(x);return w}e("setimmediate"),i.newBlob=function(v,w){i.checkSupport("blob");try{return new Blob([v],{type:w})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(v),x.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(v,w,x){var S=[],M=0,T=v.length;if(T<=x)return String.fromCharCode.apply(null,v);for(;M<T;)w==="array"||w==="nodebuffer"?S.push(String.fromCharCode.apply(null,v.slice(M,Math.min(M+x,T)))):S.push(String.fromCharCode.apply(null,v.subarray(M,Math.min(M+x,T)))),M+=x;return S.join("")},stringifyByChar:function(v){for(var w="",x=0;x<v.length;x++)w+=String.fromCharCode(v[x]);return w},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function d(v){var w=65536,x=i.getTypeOf(v),S=!0;if(x==="uint8array"?S=m.applyCanBeUsed.uint8array:x==="nodebuffer"&&(S=m.applyCanBeUsed.nodebuffer),S)for(;1<w;)try{return m.stringifyByChunk(v,x,w)}catch{w=Math.floor(w/2)}return m.stringifyByChar(v)}function y(v,w){for(var x=0;x<v.length;x++)w[x]=v[x];return w}i.applyFromCharCode=d;var _={};_.string={string:u,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return _.string.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:function(v){return h(v,a.allocBuffer(v.length))}},_.array={string:d,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(v)}},_.arraybuffer={string:function(v){return d(new Uint8Array(v))},array:function(v){return y(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(new Uint8Array(v))}},_.uint8array={string:d,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return a.newBufferFrom(v)}},_.nodebuffer={string:d,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return _.nodebuffer.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,w){if(w=w||"",!v)return w;i.checkSupport(v);var x=i.getTypeOf(w);return _[x][v](w)},i.resolve=function(v){for(var w=v.split("/"),x=[],S=0;S<w.length;S++){var M=w[S];M==="."||M===""&&S!==0&&S!==w.length-1||(M===".."?x.pop():x.push(M))}return x.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var w,x,S="";for(x=0;x<(v||"").length;x++)S+="\\x"+((w=v.charCodeAt(x))<16?"0":"")+w.toString(16).toUpperCase();return S},i.delay=function(v,w,x){setImmediate(function(){v.apply(x||null,w||[])})},i.inherits=function(v,w){function x(){}x.prototype=w.prototype,v.prototype=new x},i.extend=function(){var v,w,x={};for(v=0;v<arguments.length;v++)for(w in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],w)&&x[w]===void 0&&(x[w]=arguments[v][w]);return x},i.prepareContent=function(v,w,x,S,M){return l.Promise.resolve(w).then(function(T){return s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(A,P){var F=new FileReader;F.onload=function(C){A(C.target.result)},F.onerror=function(C){P(C.target.error)},F.readAsArrayBuffer(T)}):T}).then(function(T){var A=i.getTypeOf(T);return A?(A==="arraybuffer"?T=i.transformTo("uint8array",T):A==="string"&&(M?T=o.decode(T):x&&S!==!0&&(T=function(P){return h(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,i){var s=e("./reader/readerFor"),o=e("./utils"),a=e("./signature"),l=e("./zipEntry"),u=e("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(m)+")")}},isSignature:function(m,d){var y=this.reader.index;this.reader.setIndex(m);var _=this.reader.readString(4)===d;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",y=o.transformTo(d,m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,d,y,_=this.zip64EndOfCentralSize-44;0<_;)m=this.reader.readInt(2),d=this.reader.readInt(4),y=this.reader.readData(d),this.zip64ExtensibleData[m]={id:m,length:d,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,d;for(m=0;m<this.files.length;m++)d=this.files[m],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var d=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=d-y;if(0<_)this.isSignature(d,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,i){var s=e("./reader/readerFor"),o=e("./utils"),a=e("./compressedObject"),l=e("./crc32"),u=e("./utf8"),h=e("./compressions"),m=e("./support");function d(y,_){this.options=y,this.loadOptions=_}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,v;if(y.skip(22),this.fileNameLength=y.readInt(2),v=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(w){for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)&&h[x].magic===w)return h[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,v,w,x=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<x;)_=y.readInt(2),v=y.readInt(2),w=y.readData(v),this.extraFields[_]={id:_,length:v,value:w};y.setIndex(x)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var v=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var x=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=s(y.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:u.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=s(y.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:u.utf8decode(_.readData(y.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,i){function s(_,v,w){this.name=_,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=v,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),l=e("./utf8"),u=e("./compressedObject"),h=e("./stream/GenericWorker");s.prototype={internalStream:function(_){var v=null,w="string";try{if(!_)throw new Error("No output type specified.");var x=(w=_.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),v=this._decompressWorker();var S=!this._dataBinary;S&&!x&&(v=v.pipe(new l.Utf8EncodeWorker)),!S&&x&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(M){(v=new h("error")).error(M)}return new o(v,w,"")},async:function(_,v){return this.internalStream(_).accumulate(v)},nodeStream:function(_,v){return this.internalStream(_||"nodebuffer").toNodejsStream(v)},_compressWorker:function(_,v){if(this._data instanceof u&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(w,_,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)s.prototype[m[y]]=d;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,h=new l(_),m=s.document.createTextNode("");h.observe(m,{characterData:!0}),o=function(){m.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){_(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(_,0)};else{var d=new s.MessageChannel;d.port1.onmessage=_,o=function(){d.port2.postMessage(0)}}var y=[];function _(){var v,w;a=!0;for(var x=y.length;x;){for(w=y,y=[],v=-1;++v<x;)w[v]();x=y.length}a=!1}r.exports=function(v){y.push(v)!==1||a||o()}}).call(this,typeof mu!="undefined"?mu:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(e,r,i){var s=e("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function m(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,x!==o&&v(this,x)}function d(x,S,M){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function y(x,S,M){s(function(){var T;try{T=S(M)}catch(A){return a.reject(x,A)}T===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,T)})}function _(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function v(x,S){var M=!1;function T(F){M||(M=!0,a.reject(x,F))}function A(F){M||(M=!0,a.resolve(x,F))}var P=w(function(){S(A,T)});P.status==="error"&&T(P.value)}function w(x,S){var M={};try{M.value=x(S),M.status="success"}catch(T){M.status="error",M.value=T}return M}(r.exports=m).prototype.finally=function(x){if(typeof x!="function")return this;var S=this.constructor;return this.then(function(M){return S.resolve(x()).then(function(){return M})},function(M){return S.resolve(x()).then(function(){throw M})})},m.prototype.catch=function(x){return this.then(null,x)},m.prototype.then=function(x,S){if(typeof x!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var M=new this.constructor(o);return this.state!==h?y(M,this.state===u?x:S,this.outcome):this.queue.push(new d(M,x,S)),M},d.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){y(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){a.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){y(this.promise,this.onRejected,x)},a.resolve=function(x,S){var M=w(_,S);if(M.status==="error")return a.reject(x,M.value);var T=M.value;if(T)v(x,T);else{x.state=u,x.outcome=S;for(var A=-1,P=x.queue.length;++A<P;)x.queue[A].callFulfilled(S)}return x},a.reject=function(x,S){x.state=l,x.outcome=S;for(var M=-1,T=x.queue.length;++M<T;)x.queue[M].callRejected(S);return x},m.resolve=function(x){return x instanceof this?x:a.resolve(new this(o),x)},m.reject=function(x){var S=new this(o);return a.reject(S,x)},m.all=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=x.length,T=!1;if(!M)return this.resolve([]);for(var A=new Array(M),P=0,F=-1,C=new this(o);++F<M;)B(x[F],F);return C;function B(V,Y){S.resolve(V).then(function(z){A[Y]=z,++P!==M||T||(T=!0,a.resolve(C,A))},function(z){T||(T=!0,a.reject(C,z))})}},m.race=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=x.length,T=!1;if(!M)return this.resolve([]);for(var A=-1,P=new this(o);++A<M;)F=x[A],S.resolve(F).then(function(C){T||(T=!0,a.resolve(P,C))},function(C){T||(T=!0,a.reject(P,C))});var F;return P}},{immediate:36}],38:[function(e,r,i){var s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,i){var s=e("./zlib/deflate"),o=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/messages"),u=e("./zlib/zstream"),h=Object.prototype.toString,m=0,d=-1,y=0,_=8;function v(x){if(!(this instanceof v))return new v(x);this.options=o.assign({level:d,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},x||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var M=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(M!==m)throw new Error(l[M]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var T;if(T=typeof S.dictionary=="string"?a.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(M=s.deflateSetDictionary(this.strm,T))!==m)throw new Error(l[M]);this._dict_set=!0}}function w(x,S){var M=new v(S);if(M.push(x,!0),M.err)throw M.msg||l[M.err];return M.result}v.prototype.push=function(x,S){var M,T,A=this.strm,P=this.options.chunkSize;if(this.ended)return!1;T=S===~~S?S:S===!0?4:0,typeof x=="string"?A.input=a.string2buf(x):h.call(x)==="[object ArrayBuffer]"?A.input=new Uint8Array(x):A.input=x,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(P),A.next_out=0,A.avail_out=P),(M=s.deflate(A,T))!==1&&M!==m)return this.onEnd(M),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&M!==1);return T===4?(M=s.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===m):T!==2||(this.onEnd(m),!(A.avail_out=0))},v.prototype.onData=function(x){this.chunks.push(x)},v.prototype.onEnd=function(x){x===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=v,i.deflate=w,i.deflateRaw=function(x,S){return(S=S||{}).raw=!0,w(x,S)},i.gzip=function(x,S){return(S=S||{}).gzip=!0,w(x,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,i){var s=e("./zlib/inflate"),o=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/constants"),u=e("./zlib/messages"),h=e("./zlib/zstream"),m=e("./zlib/gzheader"),d=Object.prototype.toString;function y(v){if(!(this instanceof y))return new y(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||v&&v.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var x=s.inflateInit2(this.strm,w.windowBits);if(x!==l.Z_OK)throw new Error(u[x]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function _(v,w){var x=new y(w);if(x.push(v,!0),x.err)throw x.msg||u[x.err];return x.result}y.prototype.push=function(v,w){var x,S,M,T,A,P,F=this.strm,C=this.options.chunkSize,B=this.options.dictionary,V=!1;if(this.ended)return!1;S=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?F.input=a.binstring2buf(v):d.call(v)==="[object ArrayBuffer]"?F.input=new Uint8Array(v):F.input=v,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(C),F.next_out=0,F.avail_out=C),(x=s.inflate(F,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&B&&(P=typeof B=="string"?a.string2buf(B):d.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,x=s.inflateSetDictionary(this.strm,P)),x===l.Z_BUF_ERROR&&V===!0&&(x=l.Z_OK,V=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&x!==l.Z_STREAM_END&&(F.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=a.utf8border(F.output,F.next_out),T=F.next_out-M,A=a.buf2string(F.output,M),F.next_out=T,F.avail_out=C-T,T&&o.arraySet(F.output,F.output,M,T,0),this.onData(A)):this.onData(o.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(V=!0)}while((0<F.avail_in||F.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(x=s.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(F.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=y,i.inflate=_,i.inflateRaw=function(v,w){return(w=w||{}).raw=!0,_(v,w)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,h,m,d){if(u.subarray&&l.subarray)l.set(u.subarray(h,h+m),d);else for(var y=0;y<m;y++)l[d+y]=u[h+y]},flattenChunks:function(l){var u,h,m,d,y,_;for(u=m=0,h=l.length;u<h;u++)m+=l[u].length;for(_=new Uint8Array(m),u=d=0,h=l.length;u<h;u++)y=l[u],_.set(y,d),d+=y.length;return _}},a={arraySet:function(l,u,h,m,d){for(var y=0;y<m;y++)l[d+y]=u[h+y]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(e,r,i){var s=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(m,d){if(d<65537&&(m.subarray&&a||!m.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(m,d));for(var y="",_=0;_<d;_++)y+=String.fromCharCode(m[_]);return y}l[254]=l[254]=1,i.string2buf=function(m){var d,y,_,v,w,x=m.length,S=0;for(v=0;v<x;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<x&&(64512&(_=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),v++),S+=y<128?1:y<2048?2:y<65536?3:4;for(d=new s.Buf8(S),v=w=0;w<S;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<x&&(64512&(_=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),v++),y<128?d[w++]=y:(y<2048?d[w++]=192|y>>>6:(y<65536?d[w++]=224|y>>>12:(d[w++]=240|y>>>18,d[w++]=128|y>>>12&63),d[w++]=128|y>>>6&63),d[w++]=128|63&y);return d},i.buf2binstring=function(m){return h(m,m.length)},i.binstring2buf=function(m){for(var d=new s.Buf8(m.length),y=0,_=d.length;y<_;y++)d[y]=m.charCodeAt(y);return d},i.buf2string=function(m,d){var y,_,v,w,x=d||m.length,S=new Array(2*x);for(y=_=0;y<x;)if((v=m[y++])<128)S[_++]=v;else if(4<(w=l[v]))S[_++]=65533,y+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&y<x;)v=v<<6|63&m[y++],w--;1<w?S[_++]=65533:v<65536?S[_++]=v:(v-=65536,S[_++]=55296|v>>10&1023,S[_++]=56320|1023&v)}return h(S,_)},i.utf8border=function(m,d){var y;for((d=d||m.length)>m.length&&(d=m.length),y=d-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?d:y+l[m[y]]>d?y:d}},{"./common":41}],43:[function(e,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,h=s>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;h=h+(u=u+o[l++]|0)|0,--m;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(e,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var h=s,m=u+l;o^=-1;for(var d=u;d<m;d++)o=o>>>8^h[255&(o^a[d])];return-1^o}},{}],46:[function(e,r,i){var s,o=e("../utils/common"),a=e("./trees"),l=e("./adler32"),u=e("./crc32"),h=e("./messages"),m=0,d=4,y=0,_=-2,v=-1,w=4,x=2,S=8,M=9,T=286,A=30,P=19,F=2*T+1,C=15,B=3,V=258,Y=V+B+1,z=42,q=113,L=1,tt=2,ct=3,lt=4;function at(O,Tt){return O.msg=h[Tt],Tt}function it(O){return(O<<1)-(4<O?9:0)}function ut(O){for(var Tt=O.length;0<=--Tt;)O[Tt]=0}function j(O){var Tt=O.state,vt=Tt.pending;vt>O.avail_out&&(vt=O.avail_out),vt!==0&&(o.arraySet(O.output,Tt.pending_buf,Tt.pending_out,vt,O.next_out),O.next_out+=vt,Tt.pending_out+=vt,O.total_out+=vt,O.avail_out-=vt,Tt.pending-=vt,Tt.pending===0&&(Tt.pending_out=0))}function K(O,Tt){a._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,Tt),O.block_start=O.strstart,j(O.strm)}function xt(O,Tt){O.pending_buf[O.pending++]=Tt}function Lt(O,Tt){O.pending_buf[O.pending++]=Tt>>>8&255,O.pending_buf[O.pending++]=255&Tt}function Pt(O,Tt){var vt,nt,J=O.max_chain_length,dt=O.strstart,Gt=O.prev_length,Vt=O.nice_match,G=O.strstart>O.w_size-Y?O.strstart-(O.w_size-Y):0,U=O.window,ft=O.w_mask,Et=O.prev,Ht=O.strstart+V,Qt=U[dt+Gt-1],ue=U[dt+Gt];O.prev_length>=O.good_match&&(J>>=2),Vt>O.lookahead&&(Vt=O.lookahead);do if(U[(vt=Tt)+Gt]===ue&&U[vt+Gt-1]===Qt&&U[vt]===U[dt]&&U[++vt]===U[dt+1]){dt+=2,vt++;do;while(U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&U[++dt]===U[++vt]&&dt<Ht);if(nt=V-(Ht-dt),dt=Ht-V,Gt<nt){if(O.match_start=Tt,Vt<=(Gt=nt))break;Qt=U[dt+Gt-1],ue=U[dt+Gt]}}while((Tt=Et[Tt&ft])>G&&--J!=0);return Gt<=O.lookahead?Gt:O.lookahead}function Ot(O){var Tt,vt,nt,J,dt,Gt,Vt,G,U,ft,Et=O.w_size;do{if(J=O.window_size-O.lookahead-O.strstart,O.strstart>=Et+(Et-Y)){for(o.arraySet(O.window,O.window,Et,Et,0),O.match_start-=Et,O.strstart-=Et,O.block_start-=Et,Tt=vt=O.hash_size;nt=O.head[--Tt],O.head[Tt]=Et<=nt?nt-Et:0,--vt;);for(Tt=vt=Et;nt=O.prev[--Tt],O.prev[Tt]=Et<=nt?nt-Et:0,--vt;);J+=Et}if(O.strm.avail_in===0)break;if(Gt=O.strm,Vt=O.window,G=O.strstart+O.lookahead,U=J,ft=void 0,ft=Gt.avail_in,U<ft&&(ft=U),vt=ft===0?0:(Gt.avail_in-=ft,o.arraySet(Vt,Gt.input,Gt.next_in,ft,G),Gt.state.wrap===1?Gt.adler=l(Gt.adler,Vt,ft,G):Gt.state.wrap===2&&(Gt.adler=u(Gt.adler,Vt,ft,G)),Gt.next_in+=ft,Gt.total_in+=ft,ft),O.lookahead+=vt,O.lookahead+O.insert>=B)for(dt=O.strstart-O.insert,O.ins_h=O.window[dt],O.ins_h=(O.ins_h<<O.hash_shift^O.window[dt+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[dt+B-1])&O.hash_mask,O.prev[dt&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=dt,dt++,O.insert--,!(O.lookahead+O.insert<B)););}while(O.lookahead<Y&&O.strm.avail_in!==0)}function Ee(O,Tt){for(var vt,nt;;){if(O.lookahead<Y){if(Ot(O),O.lookahead<Y&&Tt===m)return L;if(O.lookahead===0)break}if(vt=0,O.lookahead>=B&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+B-1])&O.hash_mask,vt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),vt!==0&&O.strstart-vt<=O.w_size-Y&&(O.match_length=Pt(O,vt)),O.match_length>=B)if(nt=a._tr_tally(O,O.strstart-O.match_start,O.match_length-B),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=B){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+B-1])&O.hash_mask,vt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else nt=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(nt&&(K(O,!1),O.strm.avail_out===0))return L}return O.insert=O.strstart<B-1?O.strstart:B-1,Tt===d?(K(O,!0),O.strm.avail_out===0?ct:lt):O.last_lit&&(K(O,!1),O.strm.avail_out===0)?L:tt}function se(O,Tt){for(var vt,nt,J;;){if(O.lookahead<Y){if(Ot(O),O.lookahead<Y&&Tt===m)return L;if(O.lookahead===0)break}if(vt=0,O.lookahead>=B&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+B-1])&O.hash_mask,vt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=B-1,vt!==0&&O.prev_length<O.max_lazy_match&&O.strstart-vt<=O.w_size-Y&&(O.match_length=Pt(O,vt),O.match_length<=5&&(O.strategy===1||O.match_length===B&&4096<O.strstart-O.match_start)&&(O.match_length=B-1)),O.prev_length>=B&&O.match_length<=O.prev_length){for(J=O.strstart+O.lookahead-B,nt=a._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-B),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=J&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+B-1])&O.hash_mask,vt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=B-1,O.strstart++,nt&&(K(O,!1),O.strm.avail_out===0))return L}else if(O.match_available){if((nt=a._tr_tally(O,0,O.window[O.strstart-1]))&&K(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return L}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(nt=a._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<B-1?O.strstart:B-1,Tt===d?(K(O,!0),O.strm.avail_out===0?ct:lt):O.last_lit&&(K(O,!1),O.strm.avail_out===0)?L:tt}function fe(O,Tt,vt,nt,J){this.good_length=O,this.max_lazy=Tt,this.nice_length=vt,this.max_chain=nt,this.func=J}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*F),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),ut(this.dyn_ltree),ut(this.dyn_dtree),ut(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(C+1),this.heap=new o.Buf16(2*T+1),ut(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*T+1),ut(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(O){var Tt;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=x,(Tt=O.state).pending=0,Tt.pending_out=0,Tt.wrap<0&&(Tt.wrap=-Tt.wrap),Tt.status=Tt.wrap?z:q,O.adler=Tt.wrap===2?0:1,Tt.last_flush=m,a._tr_init(Tt),y):at(O,_)}function Kt(O){var Tt=Le(O);return Tt===y&&function(vt){vt.window_size=2*vt.w_size,ut(vt.head),vt.max_lazy_match=s[vt.level].max_lazy,vt.good_match=s[vt.level].good_length,vt.nice_match=s[vt.level].nice_length,vt.max_chain_length=s[vt.level].max_chain,vt.strstart=0,vt.block_start=0,vt.lookahead=0,vt.insert=0,vt.match_length=vt.prev_length=B-1,vt.match_available=0,vt.ins_h=0}(O.state),Tt}function Yt(O,Tt,vt,nt,J,dt){if(!O)return _;var Gt=1;if(Tt===v&&(Tt=6),nt<0?(Gt=0,nt=-nt):15<nt&&(Gt=2,nt-=16),J<1||M<J||vt!==S||nt<8||15<nt||Tt<0||9<Tt||dt<0||w<dt)return at(O,_);nt===8&&(nt=9);var Vt=new oe;return(O.state=Vt).strm=O,Vt.wrap=Gt,Vt.gzhead=null,Vt.w_bits=nt,Vt.w_size=1<<Vt.w_bits,Vt.w_mask=Vt.w_size-1,Vt.hash_bits=J+7,Vt.hash_size=1<<Vt.hash_bits,Vt.hash_mask=Vt.hash_size-1,Vt.hash_shift=~~((Vt.hash_bits+B-1)/B),Vt.window=new o.Buf8(2*Vt.w_size),Vt.head=new o.Buf16(Vt.hash_size),Vt.prev=new o.Buf16(Vt.w_size),Vt.lit_bufsize=1<<J+6,Vt.pending_buf_size=4*Vt.lit_bufsize,Vt.pending_buf=new o.Buf8(Vt.pending_buf_size),Vt.d_buf=1*Vt.lit_bufsize,Vt.l_buf=3*Vt.lit_bufsize,Vt.level=Tt,Vt.strategy=dt,Vt.method=vt,Kt(O)}s=[new fe(0,0,0,0,function(O,Tt){var vt=65535;for(vt>O.pending_buf_size-5&&(vt=O.pending_buf_size-5);;){if(O.lookahead<=1){if(Ot(O),O.lookahead===0&&Tt===m)return L;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var nt=O.block_start+vt;if((O.strstart===0||O.strstart>=nt)&&(O.lookahead=O.strstart-nt,O.strstart=nt,K(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-Y&&(K(O,!1),O.strm.avail_out===0))return L}return O.insert=0,Tt===d?(K(O,!0),O.strm.avail_out===0?ct:lt):(O.strstart>O.block_start&&(K(O,!1),O.strm.avail_out),L)}),new fe(4,4,8,4,Ee),new fe(4,5,16,8,Ee),new fe(4,6,32,32,Ee),new fe(4,4,16,16,se),new fe(8,16,32,32,se),new fe(8,16,128,128,se),new fe(8,32,128,256,se),new fe(32,128,258,1024,se),new fe(32,258,258,4096,se)],i.deflateInit=function(O,Tt){return Yt(O,Tt,S,15,8,0)},i.deflateInit2=Yt,i.deflateReset=Kt,i.deflateResetKeep=Le,i.deflateSetHeader=function(O,Tt){return O&&O.state?O.state.wrap!==2?_:(O.state.gzhead=Tt,y):_},i.deflate=function(O,Tt){var vt,nt,J,dt;if(!O||!O.state||5<Tt||Tt<0)return O?at(O,_):_;if(nt=O.state,!O.output||!O.input&&O.avail_in!==0||nt.status===666&&Tt!==d)return at(O,O.avail_out===0?-5:_);if(nt.strm=O,vt=nt.last_flush,nt.last_flush=Tt,nt.status===z)if(nt.wrap===2)O.adler=0,xt(nt,31),xt(nt,139),xt(nt,8),nt.gzhead?(xt(nt,(nt.gzhead.text?1:0)+(nt.gzhead.hcrc?2:0)+(nt.gzhead.extra?4:0)+(nt.gzhead.name?8:0)+(nt.gzhead.comment?16:0)),xt(nt,255&nt.gzhead.time),xt(nt,nt.gzhead.time>>8&255),xt(nt,nt.gzhead.time>>16&255),xt(nt,nt.gzhead.time>>24&255),xt(nt,nt.level===9?2:2<=nt.strategy||nt.level<2?4:0),xt(nt,255&nt.gzhead.os),nt.gzhead.extra&&nt.gzhead.extra.length&&(xt(nt,255&nt.gzhead.extra.length),xt(nt,nt.gzhead.extra.length>>8&255)),nt.gzhead.hcrc&&(O.adler=u(O.adler,nt.pending_buf,nt.pending,0)),nt.gzindex=0,nt.status=69):(xt(nt,0),xt(nt,0),xt(nt,0),xt(nt,0),xt(nt,0),xt(nt,nt.level===9?2:2<=nt.strategy||nt.level<2?4:0),xt(nt,3),nt.status=q);else{var Gt=S+(nt.w_bits-8<<4)<<8;Gt|=(2<=nt.strategy||nt.level<2?0:nt.level<6?1:nt.level===6?2:3)<<6,nt.strstart!==0&&(Gt|=32),Gt+=31-Gt%31,nt.status=q,Lt(nt,Gt),nt.strstart!==0&&(Lt(nt,O.adler>>>16),Lt(nt,65535&O.adler)),O.adler=1}if(nt.status===69)if(nt.gzhead.extra){for(J=nt.pending;nt.gzindex<(65535&nt.gzhead.extra.length)&&(nt.pending!==nt.pending_buf_size||(nt.gzhead.hcrc&&nt.pending>J&&(O.adler=u(O.adler,nt.pending_buf,nt.pending-J,J)),j(O),J=nt.pending,nt.pending!==nt.pending_buf_size));)xt(nt,255&nt.gzhead.extra[nt.gzindex]),nt.gzindex++;nt.gzhead.hcrc&&nt.pending>J&&(O.adler=u(O.adler,nt.pending_buf,nt.pending-J,J)),nt.gzindex===nt.gzhead.extra.length&&(nt.gzindex=0,nt.status=73)}else nt.status=73;if(nt.status===73)if(nt.gzhead.name){J=nt.pending;do{if(nt.pending===nt.pending_buf_size&&(nt.gzhead.hcrc&&nt.pending>J&&(O.adler=u(O.adler,nt.pending_buf,nt.pending-J,J)),j(O),J=nt.pending,nt.pending===nt.pending_buf_size)){dt=1;break}dt=nt.gzindex<nt.gzhead.name.length?255&nt.gzhead.name.charCodeAt(nt.gzindex++):0,xt(nt,dt)}while(dt!==0);nt.gzhead.hcrc&&nt.pending>J&&(O.adler=u(O.adler,nt.pending_buf,nt.pending-J,J)),dt===0&&(nt.gzindex=0,nt.status=91)}else nt.status=91;if(nt.status===91)if(nt.gzhead.comment){J=nt.pending;do{if(nt.pending===nt.pending_buf_size&&(nt.gzhead.hcrc&&nt.pending>J&&(O.adler=u(O.adler,nt.pending_buf,nt.pending-J,J)),j(O),J=nt.pending,nt.pending===nt.pending_buf_size)){dt=1;break}dt=nt.gzindex<nt.gzhead.comment.length?255&nt.gzhead.comment.charCodeAt(nt.gzindex++):0,xt(nt,dt)}while(dt!==0);nt.gzhead.hcrc&&nt.pending>J&&(O.adler=u(O.adler,nt.pending_buf,nt.pending-J,J)),dt===0&&(nt.status=103)}else nt.status=103;if(nt.status===103&&(nt.gzhead.hcrc?(nt.pending+2>nt.pending_buf_size&&j(O),nt.pending+2<=nt.pending_buf_size&&(xt(nt,255&O.adler),xt(nt,O.adler>>8&255),O.adler=0,nt.status=q)):nt.status=q),nt.pending!==0){if(j(O),O.avail_out===0)return nt.last_flush=-1,y}else if(O.avail_in===0&&it(Tt)<=it(vt)&&Tt!==d)return at(O,-5);if(nt.status===666&&O.avail_in!==0)return at(O,-5);if(O.avail_in!==0||nt.lookahead!==0||Tt!==m&&nt.status!==666){var Vt=nt.strategy===2?function(G,U){for(var ft;;){if(G.lookahead===0&&(Ot(G),G.lookahead===0)){if(U===m)return L;break}if(G.match_length=0,ft=a._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++,ft&&(K(G,!1),G.strm.avail_out===0))return L}return G.insert=0,U===d?(K(G,!0),G.strm.avail_out===0?ct:lt):G.last_lit&&(K(G,!1),G.strm.avail_out===0)?L:tt}(nt,Tt):nt.strategy===3?function(G,U){for(var ft,Et,Ht,Qt,ue=G.window;;){if(G.lookahead<=V){if(Ot(G),G.lookahead<=V&&U===m)return L;if(G.lookahead===0)break}if(G.match_length=0,G.lookahead>=B&&0<G.strstart&&(Et=ue[Ht=G.strstart-1])===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]){Qt=G.strstart+V;do;while(Et===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]&&Et===ue[++Ht]&&Ht<Qt);G.match_length=V-(Qt-Ht),G.match_length>G.lookahead&&(G.match_length=G.lookahead)}if(G.match_length>=B?(ft=a._tr_tally(G,1,G.match_length-B),G.lookahead-=G.match_length,G.strstart+=G.match_length,G.match_length=0):(ft=a._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++),ft&&(K(G,!1),G.strm.avail_out===0))return L}return G.insert=0,U===d?(K(G,!0),G.strm.avail_out===0?ct:lt):G.last_lit&&(K(G,!1),G.strm.avail_out===0)?L:tt}(nt,Tt):s[nt.level].func(nt,Tt);if(Vt!==ct&&Vt!==lt||(nt.status=666),Vt===L||Vt===ct)return O.avail_out===0&&(nt.last_flush=-1),y;if(Vt===tt&&(Tt===1?a._tr_align(nt):Tt!==5&&(a._tr_stored_block(nt,0,0,!1),Tt===3&&(ut(nt.head),nt.lookahead===0&&(nt.strstart=0,nt.block_start=0,nt.insert=0))),j(O),O.avail_out===0))return nt.last_flush=-1,y}return Tt!==d?y:nt.wrap<=0?1:(nt.wrap===2?(xt(nt,255&O.adler),xt(nt,O.adler>>8&255),xt(nt,O.adler>>16&255),xt(nt,O.adler>>24&255),xt(nt,255&O.total_in),xt(nt,O.total_in>>8&255),xt(nt,O.total_in>>16&255),xt(nt,O.total_in>>24&255)):(Lt(nt,O.adler>>>16),Lt(nt,65535&O.adler)),j(O),0<nt.wrap&&(nt.wrap=-nt.wrap),nt.pending!==0?y:1)},i.deflateEnd=function(O){var Tt;return O&&O.state?(Tt=O.state.status)!==z&&Tt!==69&&Tt!==73&&Tt!==91&&Tt!==103&&Tt!==q&&Tt!==666?at(O,_):(O.state=null,Tt===q?at(O,-3):y):_},i.deflateSetDictionary=function(O,Tt){var vt,nt,J,dt,Gt,Vt,G,U,ft=Tt.length;if(!O||!O.state||(dt=(vt=O.state).wrap)===2||dt===1&&vt.status!==z||vt.lookahead)return _;for(dt===1&&(O.adler=l(O.adler,Tt,ft,0)),vt.wrap=0,ft>=vt.w_size&&(dt===0&&(ut(vt.head),vt.strstart=0,vt.block_start=0,vt.insert=0),U=new o.Buf8(vt.w_size),o.arraySet(U,Tt,ft-vt.w_size,vt.w_size,0),Tt=U,ft=vt.w_size),Gt=O.avail_in,Vt=O.next_in,G=O.input,O.avail_in=ft,O.next_in=0,O.input=Tt,Ot(vt);vt.lookahead>=B;){for(nt=vt.strstart,J=vt.lookahead-(B-1);vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[nt+B-1])&vt.hash_mask,vt.prev[nt&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=nt,nt++,--J;);vt.strstart=nt,vt.lookahead=B-1,Ot(vt)}return vt.strstart+=vt.lookahead,vt.block_start=vt.strstart,vt.insert=vt.lookahead,vt.lookahead=0,vt.match_length=vt.prev_length=B-1,vt.match_available=0,O.next_in=Vt,O.input=G,O.avail_in=Gt,vt.wrap=dt,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,r,i){r.exports=function(s,o){var a,l,u,h,m,d,y,_,v,w,x,S,M,T,A,P,F,C,B,V,Y,z,q,L,tt;a=s.state,l=s.next_in,L=s.input,u=l+(s.avail_in-5),h=s.next_out,tt=s.output,m=h-(o-s.avail_out),d=h+(s.avail_out-257),y=a.dmax,_=a.wsize,v=a.whave,w=a.wnext,x=a.window,S=a.hold,M=a.bits,T=a.lencode,A=a.distcode,P=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;t:do{M<15&&(S+=L[l++]<<M,M+=8,S+=L[l++]<<M,M+=8),C=T[S&P];e:for(;;){if(S>>>=B=C>>>24,M-=B,(B=C>>>16&255)===0)tt[h++]=65535&C;else{if(!(16&B)){if((64&B)==0){C=T[(65535&C)+(S&(1<<B)-1)];continue e}if(32&B){a.mode=12;break t}s.msg="invalid literal/length code",a.mode=30;break t}V=65535&C,(B&=15)&&(M<B&&(S+=L[l++]<<M,M+=8),V+=S&(1<<B)-1,S>>>=B,M-=B),M<15&&(S+=L[l++]<<M,M+=8,S+=L[l++]<<M,M+=8),C=A[S&F];n:for(;;){if(S>>>=B=C>>>24,M-=B,!(16&(B=C>>>16&255))){if((64&B)==0){C=A[(65535&C)+(S&(1<<B)-1)];continue n}s.msg="invalid distance code",a.mode=30;break t}if(Y=65535&C,M<(B&=15)&&(S+=L[l++]<<M,(M+=8)<B&&(S+=L[l++]<<M,M+=8)),y<(Y+=S&(1<<B)-1)){s.msg="invalid distance too far back",a.mode=30;break t}if(S>>>=B,M-=B,(B=h-m)<Y){if(v<(B=Y-B)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break t}if(q=x,(z=0)===w){if(z+=_-B,B<V){for(V-=B;tt[h++]=x[z++],--B;);z=h-Y,q=tt}}else if(w<B){if(z+=_+w-B,(B-=w)<V){for(V-=B;tt[h++]=x[z++],--B;);if(z=0,w<V){for(V-=B=w;tt[h++]=x[z++],--B;);z=h-Y,q=tt}}}else if(z+=w-B,B<V){for(V-=B;tt[h++]=x[z++],--B;);z=h-Y,q=tt}for(;2<V;)tt[h++]=q[z++],tt[h++]=q[z++],tt[h++]=q[z++],V-=3;V&&(tt[h++]=q[z++],1<V&&(tt[h++]=q[z++]))}else{for(z=h-Y;tt[h++]=tt[z++],tt[h++]=tt[z++],tt[h++]=tt[z++],2<(V-=3););V&&(tt[h++]=tt[z++],1<V&&(tt[h++]=tt[z++]))}break}}break}}while(l<u&&h<d);l-=V=M>>3,S&=(1<<(M-=V<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=h<d?d-h+257:257-(h-d),a.hold=S,a.bits=M}},{}],49:[function(e,r,i){var s=e("../utils/common"),o=e("./adler32"),a=e("./crc32"),l=e("./inffast"),u=e("./inftrees"),h=1,m=2,d=0,y=-2,_=1,v=852,w=592;function x(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(z){var q;return z&&z.state?(q=z.state,z.total_in=z.total_out=q.total=0,z.msg="",q.wrap&&(z.adler=1&q.wrap),q.mode=_,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new s.Buf32(v),q.distcode=q.distdyn=new s.Buf32(w),q.sane=1,q.back=-1,d):y}function T(z){var q;return z&&z.state?((q=z.state).wsize=0,q.whave=0,q.wnext=0,M(z)):y}function A(z,q){var L,tt;return z&&z.state?(tt=z.state,q<0?(L=0,q=-q):(L=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?y:(tt.window!==null&&tt.wbits!==q&&(tt.window=null),tt.wrap=L,tt.wbits=q,T(z))):y}function P(z,q){var L,tt;return z?(tt=new S,(z.state=tt).window=null,(L=A(z,q))!==d&&(z.state=null),L):y}var F,C,B=!0;function V(z){if(B){var q;for(F=new s.Buf32(512),C=new s.Buf32(32),q=0;q<144;)z.lens[q++]=8;for(;q<256;)z.lens[q++]=9;for(;q<280;)z.lens[q++]=7;for(;q<288;)z.lens[q++]=8;for(u(h,z.lens,0,288,F,0,z.work,{bits:9}),q=0;q<32;)z.lens[q++]=5;u(m,z.lens,0,32,C,0,z.work,{bits:5}),B=!1}z.lencode=F,z.lenbits=9,z.distcode=C,z.distbits=5}function Y(z,q,L,tt){var ct,lt=z.state;return lt.window===null&&(lt.wsize=1<<lt.wbits,lt.wnext=0,lt.whave=0,lt.window=new s.Buf8(lt.wsize)),tt>=lt.wsize?(s.arraySet(lt.window,q,L-lt.wsize,lt.wsize,0),lt.wnext=0,lt.whave=lt.wsize):(tt<(ct=lt.wsize-lt.wnext)&&(ct=tt),s.arraySet(lt.window,q,L-tt,ct,lt.wnext),(tt-=ct)?(s.arraySet(lt.window,q,L-tt,tt,0),lt.wnext=tt,lt.whave=lt.wsize):(lt.wnext+=ct,lt.wnext===lt.wsize&&(lt.wnext=0),lt.whave<lt.wsize&&(lt.whave+=ct))),0}i.inflateReset=T,i.inflateReset2=A,i.inflateResetKeep=M,i.inflateInit=function(z){return P(z,15)},i.inflateInit2=P,i.inflate=function(z,q){var L,tt,ct,lt,at,it,ut,j,K,xt,Lt,Pt,Ot,Ee,se,fe,oe,Le,Kt,Yt,O,Tt,vt,nt,J=0,dt=new s.Buf8(4),Gt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return y;(L=z.state).mode===12&&(L.mode=13),at=z.next_out,ct=z.output,ut=z.avail_out,lt=z.next_in,tt=z.input,it=z.avail_in,j=L.hold,K=L.bits,xt=it,Lt=ut,Tt=d;t:for(;;)switch(L.mode){case _:if(L.wrap===0){L.mode=13;break}for(;K<16;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(2&L.wrap&&j===35615){dt[L.check=0]=255&j,dt[1]=j>>>8&255,L.check=a(L.check,dt,2,0),K=j=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&j)<<8)+(j>>8))%31){z.msg="incorrect header check",L.mode=30;break}if((15&j)!=8){z.msg="unknown compression method",L.mode=30;break}if(K-=4,O=8+(15&(j>>>=4)),L.wbits===0)L.wbits=O;else if(O>L.wbits){z.msg="invalid window size",L.mode=30;break}L.dmax=1<<O,z.adler=L.check=1,L.mode=512&j?10:12,K=j=0;break;case 2:for(;K<16;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(L.flags=j,(255&L.flags)!=8){z.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){z.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=j>>8&1),512&L.flags&&(dt[0]=255&j,dt[1]=j>>>8&255,L.check=a(L.check,dt,2,0)),K=j=0,L.mode=3;case 3:for(;K<32;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}L.head&&(L.head.time=j),512&L.flags&&(dt[0]=255&j,dt[1]=j>>>8&255,dt[2]=j>>>16&255,dt[3]=j>>>24&255,L.check=a(L.check,dt,4,0)),K=j=0,L.mode=4;case 4:for(;K<16;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}L.head&&(L.head.xflags=255&j,L.head.os=j>>8),512&L.flags&&(dt[0]=255&j,dt[1]=j>>>8&255,L.check=a(L.check,dt,2,0)),K=j=0,L.mode=5;case 5:if(1024&L.flags){for(;K<16;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}L.length=j,L.head&&(L.head.extra_len=j),512&L.flags&&(dt[0]=255&j,dt[1]=j>>>8&255,L.check=a(L.check,dt,2,0)),K=j=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(it<(Pt=L.length)&&(Pt=it),Pt&&(L.head&&(O=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),s.arraySet(L.head.extra,tt,lt,Pt,O)),512&L.flags&&(L.check=a(L.check,tt,Pt,lt)),it-=Pt,lt+=Pt,L.length-=Pt),L.length))break t;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(it===0)break t;for(Pt=0;O=tt[lt+Pt++],L.head&&O&&L.length<65536&&(L.head.name+=String.fromCharCode(O)),O&&Pt<it;);if(512&L.flags&&(L.check=a(L.check,tt,Pt,lt)),it-=Pt,lt+=Pt,O)break t}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(it===0)break t;for(Pt=0;O=tt[lt+Pt++],L.head&&O&&L.length<65536&&(L.head.comment+=String.fromCharCode(O)),O&&Pt<it;);if(512&L.flags&&(L.check=a(L.check,tt,Pt,lt)),it-=Pt,lt+=Pt,O)break t}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;K<16;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(j!==(65535&L.check)){z.msg="header crc mismatch",L.mode=30;break}K=j=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),z.adler=L.check=0,L.mode=12;break;case 10:for(;K<32;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}z.adler=L.check=x(j),K=j=0,L.mode=11;case 11:if(L.havedict===0)return z.next_out=at,z.avail_out=ut,z.next_in=lt,z.avail_in=it,L.hold=j,L.bits=K,2;z.adler=L.check=1,L.mode=12;case 12:if(q===5||q===6)break t;case 13:if(L.last){j>>>=7&K,K-=7&K,L.mode=27;break}for(;K<3;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}switch(L.last=1&j,K-=1,3&(j>>>=1)){case 0:L.mode=14;break;case 1:if(V(L),L.mode=20,q!==6)break;j>>>=2,K-=2;break t;case 2:L.mode=17;break;case 3:z.msg="invalid block type",L.mode=30}j>>>=2,K-=2;break;case 14:for(j>>>=7&K,K-=7&K;K<32;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if((65535&j)!=(j>>>16^65535)){z.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&j,K=j=0,L.mode=15,q===6)break t;case 15:L.mode=16;case 16:if(Pt=L.length){if(it<Pt&&(Pt=it),ut<Pt&&(Pt=ut),Pt===0)break t;s.arraySet(ct,tt,lt,Pt,at),it-=Pt,lt+=Pt,ut-=Pt,at+=Pt,L.length-=Pt;break}L.mode=12;break;case 17:for(;K<14;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(L.nlen=257+(31&j),j>>>=5,K-=5,L.ndist=1+(31&j),j>>>=5,K-=5,L.ncode=4+(15&j),j>>>=4,K-=4,286<L.nlen||30<L.ndist){z.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;K<3;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}L.lens[Gt[L.have++]]=7&j,j>>>=3,K-=3}for(;L.have<19;)L.lens[Gt[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,vt={bits:L.lenbits},Tt=u(0,L.lens,0,19,L.lencode,0,L.work,vt),L.lenbits=vt.bits,Tt){z.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;fe=(J=L.lencode[j&(1<<L.lenbits)-1])>>>16&255,oe=65535&J,!((se=J>>>24)<=K);){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(oe<16)j>>>=se,K-=se,L.lens[L.have++]=oe;else{if(oe===16){for(nt=se+2;K<nt;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(j>>>=se,K-=se,L.have===0){z.msg="invalid bit length repeat",L.mode=30;break}O=L.lens[L.have-1],Pt=3+(3&j),j>>>=2,K-=2}else if(oe===17){for(nt=se+3;K<nt;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}K-=se,O=0,Pt=3+(7&(j>>>=se)),j>>>=3,K-=3}else{for(nt=se+7;K<nt;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}K-=se,O=0,Pt=11+(127&(j>>>=se)),j>>>=7,K-=7}if(L.have+Pt>L.nlen+L.ndist){z.msg="invalid bit length repeat",L.mode=30;break}for(;Pt--;)L.lens[L.have++]=O}}if(L.mode===30)break;if(L.lens[256]===0){z.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,vt={bits:L.lenbits},Tt=u(h,L.lens,0,L.nlen,L.lencode,0,L.work,vt),L.lenbits=vt.bits,Tt){z.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,vt={bits:L.distbits},Tt=u(m,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,vt),L.distbits=vt.bits,Tt){z.msg="invalid distances set",L.mode=30;break}if(L.mode=20,q===6)break t;case 20:L.mode=21;case 21:if(6<=it&&258<=ut){z.next_out=at,z.avail_out=ut,z.next_in=lt,z.avail_in=it,L.hold=j,L.bits=K,l(z,Lt),at=z.next_out,ct=z.output,ut=z.avail_out,lt=z.next_in,tt=z.input,it=z.avail_in,j=L.hold,K=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;fe=(J=L.lencode[j&(1<<L.lenbits)-1])>>>16&255,oe=65535&J,!((se=J>>>24)<=K);){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(fe&&(240&fe)==0){for(Le=se,Kt=fe,Yt=oe;fe=(J=L.lencode[Yt+((j&(1<<Le+Kt)-1)>>Le)])>>>16&255,oe=65535&J,!(Le+(se=J>>>24)<=K);){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}j>>>=Le,K-=Le,L.back+=Le}if(j>>>=se,K-=se,L.back+=se,L.length=oe,fe===0){L.mode=26;break}if(32&fe){L.back=-1,L.mode=12;break}if(64&fe){z.msg="invalid literal/length code",L.mode=30;break}L.extra=15&fe,L.mode=22;case 22:if(L.extra){for(nt=L.extra;K<nt;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}L.length+=j&(1<<L.extra)-1,j>>>=L.extra,K-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;fe=(J=L.distcode[j&(1<<L.distbits)-1])>>>16&255,oe=65535&J,!((se=J>>>24)<=K);){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if((240&fe)==0){for(Le=se,Kt=fe,Yt=oe;fe=(J=L.distcode[Yt+((j&(1<<Le+Kt)-1)>>Le)])>>>16&255,oe=65535&J,!(Le+(se=J>>>24)<=K);){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}j>>>=Le,K-=Le,L.back+=Le}if(j>>>=se,K-=se,L.back+=se,64&fe){z.msg="invalid distance code",L.mode=30;break}L.offset=oe,L.extra=15&fe,L.mode=24;case 24:if(L.extra){for(nt=L.extra;K<nt;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}L.offset+=j&(1<<L.extra)-1,j>>>=L.extra,K-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){z.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(ut===0)break t;if(Pt=Lt-ut,L.offset>Pt){if((Pt=L.offset-Pt)>L.whave&&L.sane){z.msg="invalid distance too far back",L.mode=30;break}Ot=Pt>L.wnext?(Pt-=L.wnext,L.wsize-Pt):L.wnext-Pt,Pt>L.length&&(Pt=L.length),Ee=L.window}else Ee=ct,Ot=at-L.offset,Pt=L.length;for(ut<Pt&&(Pt=ut),ut-=Pt,L.length-=Pt;ct[at++]=Ee[Ot++],--Pt;);L.length===0&&(L.mode=21);break;case 26:if(ut===0)break t;ct[at++]=L.length,ut--,L.mode=21;break;case 27:if(L.wrap){for(;K<32;){if(it===0)break t;it--,j|=tt[lt++]<<K,K+=8}if(Lt-=ut,z.total_out+=Lt,L.total+=Lt,Lt&&(z.adler=L.check=L.flags?a(L.check,ct,Lt,at-Lt):o(L.check,ct,Lt,at-Lt)),Lt=ut,(L.flags?j:x(j))!==L.check){z.msg="incorrect data check",L.mode=30;break}K=j=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;K<32;){if(it===0)break t;it--,j+=tt[lt++]<<K,K+=8}if(j!==(4294967295&L.total)){z.msg="incorrect length check",L.mode=30;break}K=j=0}L.mode=29;case 29:Tt=1;break t;case 30:Tt=-3;break t;case 31:return-4;case 32:default:return y}return z.next_out=at,z.avail_out=ut,z.next_in=lt,z.avail_in=it,L.hold=j,L.bits=K,(L.wsize||Lt!==z.avail_out&&L.mode<30&&(L.mode<27||q!==4))&&Y(z,z.output,z.next_out,Lt-z.avail_out)?(L.mode=31,-4):(xt-=z.avail_in,Lt-=z.avail_out,z.total_in+=xt,z.total_out+=Lt,L.total+=Lt,L.wrap&&Lt&&(z.adler=L.check=L.flags?a(L.check,ct,Lt,z.next_out-Lt):o(L.check,ct,Lt,z.next_out-Lt)),z.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(xt==0&&Lt===0||q===4)&&Tt===d&&(Tt=-5),Tt)},i.inflateEnd=function(z){if(!z||!z.state)return y;var q=z.state;return q.window&&(q.window=null),z.state=null,d},i.inflateGetHeader=function(z,q){var L;return z&&z.state?(2&(L=z.state).wrap)==0?y:((L.head=q).done=!1,d):y},i.inflateSetDictionary=function(z,q){var L,tt=q.length;return z&&z.state?(L=z.state).wrap!==0&&L.mode!==11?y:L.mode===11&&o(1,q,tt,0)!==L.check?-3:Y(z,q,tt,tt)?(L.mode=31,-4):(L.havedict=1,d):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,i){var s=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,m,d,y,_,v,w,x){var S,M,T,A,P,F,C,B,V,Y=x.bits,z=0,q=0,L=0,tt=0,ct=0,lt=0,at=0,it=0,ut=0,j=0,K=null,xt=0,Lt=new s.Buf16(16),Pt=new s.Buf16(16),Ot=null,Ee=0;for(z=0;z<=15;z++)Lt[z]=0;for(q=0;q<y;q++)Lt[m[d+q]]++;for(ct=Y,tt=15;1<=tt&&Lt[tt]===0;tt--);if(tt<ct&&(ct=tt),tt===0)return _[v++]=20971520,_[v++]=20971520,x.bits=1,0;for(L=1;L<tt&&Lt[L]===0;L++);for(ct<L&&(ct=L),z=it=1;z<=15;z++)if(it<<=1,(it-=Lt[z])<0)return-1;if(0<it&&(h===0||tt!==1))return-1;for(Pt[1]=0,z=1;z<15;z++)Pt[z+1]=Pt[z]+Lt[z];for(q=0;q<y;q++)m[d+q]!==0&&(w[Pt[m[d+q]]++]=q);if(F=h===0?(K=Ot=w,19):h===1?(K=o,xt-=257,Ot=a,Ee-=257,256):(K=l,Ot=u,-1),z=L,P=v,at=q=j=0,T=-1,A=(ut=1<<(lt=ct))-1,h===1&&852<ut||h===2&&592<ut)return 1;for(;;){for(C=z-at,V=w[q]<F?(B=0,w[q]):w[q]>F?(B=Ot[Ee+w[q]],K[xt+w[q]]):(B=96,0),S=1<<z-at,L=M=1<<lt;_[P+(j>>at)+(M-=S)]=C<<24|B<<16|V|0,M!==0;);for(S=1<<z-1;j&S;)S>>=1;if(S!==0?(j&=S-1,j+=S):j=0,q++,--Lt[z]==0){if(z===tt)break;z=m[d+w[q]]}if(ct<z&&(j&A)!==T){for(at===0&&(at=ct),P+=L,it=1<<(lt=z-at);lt+at<tt&&!((it-=Lt[lt+at])<=0);)lt++,it<<=1;if(ut+=1<<lt,h===1&&852<ut||h===2&&592<ut)return 1;_[T=j&A]=ct<<24|lt<<16|P-v|0}}return j!==0&&(_[P+j]=z-at<<24|64<<16|0),x.bits=ct,0}},{"../utils/common":41}],51:[function(e,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,i){var s=e("../utils/common"),o=0,a=1;function l(J){for(var dt=J.length;0<=--dt;)J[dt]=0}var u=0,h=29,m=256,d=m+1+h,y=30,_=19,v=2*d+1,w=15,x=16,S=7,M=256,T=16,A=17,P=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(d+2));l(Y);var z=new Array(2*y);l(z);var q=new Array(512);l(q);var L=new Array(256);l(L);var tt=new Array(h);l(tt);var ct,lt,at,it=new Array(y);function ut(J,dt,Gt,Vt,G){this.static_tree=J,this.extra_bits=dt,this.extra_base=Gt,this.elems=Vt,this.max_length=G,this.has_stree=J&&J.length}function j(J,dt){this.dyn_tree=J,this.max_code=0,this.stat_desc=dt}function K(J){return J<256?q[J]:q[256+(J>>>7)]}function xt(J,dt){J.pending_buf[J.pending++]=255&dt,J.pending_buf[J.pending++]=dt>>>8&255}function Lt(J,dt,Gt){J.bi_valid>x-Gt?(J.bi_buf|=dt<<J.bi_valid&65535,xt(J,J.bi_buf),J.bi_buf=dt>>x-J.bi_valid,J.bi_valid+=Gt-x):(J.bi_buf|=dt<<J.bi_valid&65535,J.bi_valid+=Gt)}function Pt(J,dt,Gt){Lt(J,Gt[2*dt],Gt[2*dt+1])}function Ot(J,dt){for(var Gt=0;Gt|=1&J,J>>>=1,Gt<<=1,0<--dt;);return Gt>>>1}function Ee(J,dt,Gt){var Vt,G,U=new Array(w+1),ft=0;for(Vt=1;Vt<=w;Vt++)U[Vt]=ft=ft+Gt[Vt-1]<<1;for(G=0;G<=dt;G++){var Et=J[2*G+1];Et!==0&&(J[2*G]=Ot(U[Et]++,Et))}}function se(J){var dt;for(dt=0;dt<d;dt++)J.dyn_ltree[2*dt]=0;for(dt=0;dt<y;dt++)J.dyn_dtree[2*dt]=0;for(dt=0;dt<_;dt++)J.bl_tree[2*dt]=0;J.dyn_ltree[2*M]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function fe(J){8<J.bi_valid?xt(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function oe(J,dt,Gt,Vt){var G=2*dt,U=2*Gt;return J[G]<J[U]||J[G]===J[U]&&Vt[dt]<=Vt[Gt]}function Le(J,dt,Gt){for(var Vt=J.heap[Gt],G=Gt<<1;G<=J.heap_len&&(G<J.heap_len&&oe(dt,J.heap[G+1],J.heap[G],J.depth)&&G++,!oe(dt,Vt,J.heap[G],J.depth));)J.heap[Gt]=J.heap[G],Gt=G,G<<=1;J.heap[Gt]=Vt}function Kt(J,dt,Gt){var Vt,G,U,ft,Et=0;if(J.last_lit!==0)for(;Vt=J.pending_buf[J.d_buf+2*Et]<<8|J.pending_buf[J.d_buf+2*Et+1],G=J.pending_buf[J.l_buf+Et],Et++,Vt===0?Pt(J,G,dt):(Pt(J,(U=L[G])+m+1,dt),(ft=F[U])!==0&&Lt(J,G-=tt[U],ft),Pt(J,U=K(--Vt),Gt),(ft=C[U])!==0&&Lt(J,Vt-=it[U],ft)),Et<J.last_lit;);Pt(J,M,dt)}function Yt(J,dt){var Gt,Vt,G,U=dt.dyn_tree,ft=dt.stat_desc.static_tree,Et=dt.stat_desc.has_stree,Ht=dt.stat_desc.elems,Qt=-1;for(J.heap_len=0,J.heap_max=v,Gt=0;Gt<Ht;Gt++)U[2*Gt]!==0?(J.heap[++J.heap_len]=Qt=Gt,J.depth[Gt]=0):U[2*Gt+1]=0;for(;J.heap_len<2;)U[2*(G=J.heap[++J.heap_len]=Qt<2?++Qt:0)]=1,J.depth[G]=0,J.opt_len--,Et&&(J.static_len-=ft[2*G+1]);for(dt.max_code=Qt,Gt=J.heap_len>>1;1<=Gt;Gt--)Le(J,U,Gt);for(G=Ht;Gt=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Le(J,U,1),Vt=J.heap[1],J.heap[--J.heap_max]=Gt,J.heap[--J.heap_max]=Vt,U[2*G]=U[2*Gt]+U[2*Vt],J.depth[G]=(J.depth[Gt]>=J.depth[Vt]?J.depth[Gt]:J.depth[Vt])+1,U[2*Gt+1]=U[2*Vt+1]=G,J.heap[1]=G++,Le(J,U,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(ue,Wt){var He,Ue,xe,gt,me,pe,De=Wt.dyn_tree,_e=Wt.max_code,We=Wt.stat_desc.static_tree,ye=Wt.stat_desc.has_stree,Ye=Wt.stat_desc.extra_bits,Hn=Wt.stat_desc.extra_base,ln=Wt.stat_desc.max_length,Ri=0;for(gt=0;gt<=w;gt++)ue.bl_count[gt]=0;for(De[2*ue.heap[ue.heap_max]+1]=0,He=ue.heap_max+1;He<v;He++)ln<(gt=De[2*De[2*(Ue=ue.heap[He])+1]+1]+1)&&(gt=ln,Ri++),De[2*Ue+1]=gt,_e<Ue||(ue.bl_count[gt]++,me=0,Hn<=Ue&&(me=Ye[Ue-Hn]),pe=De[2*Ue],ue.opt_len+=pe*(gt+me),ye&&(ue.static_len+=pe*(We[2*Ue+1]+me)));if(Ri!==0){do{for(gt=ln-1;ue.bl_count[gt]===0;)gt--;ue.bl_count[gt]--,ue.bl_count[gt+1]+=2,ue.bl_count[ln]--,Ri-=2}while(0<Ri);for(gt=ln;gt!==0;gt--)for(Ue=ue.bl_count[gt];Ue!==0;)_e<(xe=ue.heap[--He])||(De[2*xe+1]!==gt&&(ue.opt_len+=(gt-De[2*xe+1])*De[2*xe],De[2*xe+1]=gt),Ue--)}}(J,dt),Ee(U,Qt,J.bl_count)}function O(J,dt,Gt){var Vt,G,U=-1,ft=dt[1],Et=0,Ht=7,Qt=4;for(ft===0&&(Ht=138,Qt=3),dt[2*(Gt+1)+1]=65535,Vt=0;Vt<=Gt;Vt++)G=ft,ft=dt[2*(Vt+1)+1],++Et<Ht&&G===ft||(Et<Qt?J.bl_tree[2*G]+=Et:G!==0?(G!==U&&J.bl_tree[2*G]++,J.bl_tree[2*T]++):Et<=10?J.bl_tree[2*A]++:J.bl_tree[2*P]++,U=G,Qt=(Et=0)===ft?(Ht=138,3):G===ft?(Ht=6,3):(Ht=7,4))}function Tt(J,dt,Gt){var Vt,G,U=-1,ft=dt[1],Et=0,Ht=7,Qt=4;for(ft===0&&(Ht=138,Qt=3),Vt=0;Vt<=Gt;Vt++)if(G=ft,ft=dt[2*(Vt+1)+1],!(++Et<Ht&&G===ft)){if(Et<Qt)for(;Pt(J,G,J.bl_tree),--Et!=0;);else G!==0?(G!==U&&(Pt(J,G,J.bl_tree),Et--),Pt(J,T,J.bl_tree),Lt(J,Et-3,2)):Et<=10?(Pt(J,A,J.bl_tree),Lt(J,Et-3,3)):(Pt(J,P,J.bl_tree),Lt(J,Et-11,7));U=G,Qt=(Et=0)===ft?(Ht=138,3):G===ft?(Ht=6,3):(Ht=7,4)}}l(it);var vt=!1;function nt(J,dt,Gt,Vt){Lt(J,(u<<1)+(Vt?1:0),3),function(G,U,ft,Et){fe(G),Et&&(xt(G,ft),xt(G,~ft)),s.arraySet(G.pending_buf,G.window,U,ft,G.pending),G.pending+=ft}(J,dt,Gt,!0)}i._tr_init=function(J){vt||(function(){var dt,Gt,Vt,G,U,ft=new Array(w+1);for(G=Vt=0;G<h-1;G++)for(tt[G]=Vt,dt=0;dt<1<<F[G];dt++)L[Vt++]=G;for(L[Vt-1]=G,G=U=0;G<16;G++)for(it[G]=U,dt=0;dt<1<<C[G];dt++)q[U++]=G;for(U>>=7;G<y;G++)for(it[G]=U<<7,dt=0;dt<1<<C[G]-7;dt++)q[256+U++]=G;for(Gt=0;Gt<=w;Gt++)ft[Gt]=0;for(dt=0;dt<=143;)Y[2*dt+1]=8,dt++,ft[8]++;for(;dt<=255;)Y[2*dt+1]=9,dt++,ft[9]++;for(;dt<=279;)Y[2*dt+1]=7,dt++,ft[7]++;for(;dt<=287;)Y[2*dt+1]=8,dt++,ft[8]++;for(Ee(Y,d+1,ft),dt=0;dt<y;dt++)z[2*dt+1]=5,z[2*dt]=Ot(dt,5);ct=new ut(Y,F,m+1,d,w),lt=new ut(z,C,0,y,w),at=new ut(new Array(0),B,0,_,S)}(),vt=!0),J.l_desc=new j(J.dyn_ltree,ct),J.d_desc=new j(J.dyn_dtree,lt),J.bl_desc=new j(J.bl_tree,at),J.bi_buf=0,J.bi_valid=0,se(J)},i._tr_stored_block=nt,i._tr_flush_block=function(J,dt,Gt,Vt){var G,U,ft=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(Et){var Ht,Qt=4093624447;for(Ht=0;Ht<=31;Ht++,Qt>>>=1)if(1&Qt&&Et.dyn_ltree[2*Ht]!==0)return o;if(Et.dyn_ltree[18]!==0||Et.dyn_ltree[20]!==0||Et.dyn_ltree[26]!==0)return a;for(Ht=32;Ht<m;Ht++)if(Et.dyn_ltree[2*Ht]!==0)return a;return o}(J)),Yt(J,J.l_desc),Yt(J,J.d_desc),ft=function(Et){var Ht;for(O(Et,Et.dyn_ltree,Et.l_desc.max_code),O(Et,Et.dyn_dtree,Et.d_desc.max_code),Yt(Et,Et.bl_desc),Ht=_-1;3<=Ht&&Et.bl_tree[2*V[Ht]+1]===0;Ht--);return Et.opt_len+=3*(Ht+1)+5+5+4,Ht}(J),G=J.opt_len+3+7>>>3,(U=J.static_len+3+7>>>3)<=G&&(G=U)):G=U=Gt+5,Gt+4<=G&&dt!==-1?nt(J,dt,Gt,Vt):J.strategy===4||U===G?(Lt(J,2+(Vt?1:0),3),Kt(J,Y,z)):(Lt(J,4+(Vt?1:0),3),function(Et,Ht,Qt,ue){var Wt;for(Lt(Et,Ht-257,5),Lt(Et,Qt-1,5),Lt(Et,ue-4,4),Wt=0;Wt<ue;Wt++)Lt(Et,Et.bl_tree[2*V[Wt]+1],3);Tt(Et,Et.dyn_ltree,Ht-1),Tt(Et,Et.dyn_dtree,Qt-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,ft+1),Kt(J,J.dyn_ltree,J.dyn_dtree)),se(J),Vt&&fe(J)},i._tr_tally=function(J,dt,Gt){return J.pending_buf[J.d_buf+2*J.last_lit]=dt>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&dt,J.pending_buf[J.l_buf+J.last_lit]=255&Gt,J.last_lit++,dt===0?J.dyn_ltree[2*Gt]++:(J.matches++,dt--,J.dyn_ltree[2*(L[Gt]+m+1)]++,J.dyn_dtree[2*K(dt)]++),J.last_lit===J.lit_bufsize-1},i._tr_align=function(J){Lt(J,2,3),Pt(J,M,Y),function(dt){dt.bi_valid===16?(xt(dt,dt.bi_buf),dt.bi_buf=0,dt.bi_valid=0):8<=dt.bi_valid&&(dt.pending_buf[dt.pending++]=255&dt.bi_buf,dt.bi_buf>>=8,dt.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(e,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,h,m,d=1,y={},_=!1,v=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,l={}.toString.call(o.process)==="[object process]"?function(T){process.nextTick(function(){S(T)})}:function(){if(o.postMessage&&!o.importScripts){var T=!0,A=o.onmessage;return o.onmessage=function(){T=!1},o.postMessage("","*"),o.onmessage=A,T}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",M,!1):o.attachEvent("onmessage",M),function(T){o.postMessage(m+T,"*")}):o.MessageChannel?((h=new MessageChannel).port1.onmessage=function(T){S(T.data)},function(T){h.port2.postMessage(T)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(T){var A=v.createElement("script");A.onreadystatechange=function(){S(T),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function(T){setTimeout(S,0,T)},w.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),P=0;P<A.length;P++)A[P]=arguments[P+1];var F={callback:T,args:A};return y[d]=F,l(d),d++},w.clearImmediate=x}function x(T){delete y[T]}function S(T){if(_)setTimeout(S,0,T);else{var A=y[T];if(A){_=!0;try{(function(P){var F=P.callback,C=P.args;switch(C.length){case 0:F();break;case 1:F(C[0]);break;case 2:F(C[0],C[1]);break;case 3:F(C[0],C[1],C[2]);break;default:F.apply(a,C)}})(A)}finally{x(T),_=!1}}}}function M(T){T.source===o&&typeof T.data=="string"&&T.data.indexOf(m)===0&&S(+T.data.slice(m.length))}})(typeof self=="undefined"?s===void 0?this:s:self)}).call(this,typeof mu!="undefined"?mu:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(tW);var hyt=tW.exports;const dyt="3.2.10",pyt={id:"zip",module:"zip",name:"Zip Archive",version:dyt,extensions:["zip"],mimeTypes:["application/zip"],category:"archive",tests:["PK"],options:{},parse:myt};async function myt(n,t={}){const e=[],r={};try{const i=new hyt;return(await i.loadAsync(n,t)).forEach((o,a)=>{const l=a.name,u=gyt(i,l,t).then(h=>{r[o]=h});e.push(u)}),await Promise.all(e),r}catch(i){throw t.log.error("Unable to read zip archive: ".concat(i)),i}}async function gyt(n,t,e={}){try{return await n.file(t).async(e.dataType||"arraybuffer")}catch(r){return e.log.error("Unable to read ".concat(t," from zip archive: ").concat(r)),r}}const yyt=async n=>await s2(n,pyt);function vyt(){const[n,t]=Z.exports.useState(!1),[e,r]=Z.exports.useState(null),[i,s]=Z.exports.useState(!1),o=_=>{const v=Sst(_),w=v.schema.fields.map(x=>x.name);r({data:_,meta:{arrow:v,fields:w}})},a=async _=>{var w;s(!0),r(null);const v=_==null?void 0:_.type;try{if(v==="text/csv"||_ instanceof ArrayBuffer){const x=await fyt(_);a(x)}else if(["application/zip","application/x-7z-compressed"].includes(v)){const x=await yyt(_),S=Object.keys(x).find(M=>M.endsWith(".csv"));if(!S)throw"No CSV file found in the ZIP.";a(x[S])}else if((w=_==null?void 0:_.name)!=null&&w.endsWith(".arrow")){const x=await ryt(_);throw"The Arrow loader is still under development."}else if(pl.isArray(_)&&_.length)o(_);else throw console.log(_),"Can't load any data."}catch(x){console.error(x)}finally{s(!1)}},l=async _=>{_.target.value&&a(_.target.files[0])},u=()=>{location.reload()},h=_=>(_.stopPropagation(),_.preventDefault(),n||t(!0),!1),m=_=>{t(!1)},d=_=>{var w;_.preventDefault(),_.stopPropagation(),m();const v=_.dataTransfer.files;if(v.length>1)console.error("only 1 file can be handled.");else if(v.length)a(v[0]);else{const x=(w=_.dataTransfer)==null?void 0:w.getData("text/plain");console.log(x)}return!1},y=Z.exports.useMemo(()=>n?{opacity:"0.5",backgroundColor:"rgba(100, 100, 100, 0.5)"}:{},[n]);return Nt(Ru,{children:an("div",{style:{height:"100vh",...y},onDragEnter:h,onDragOver:h,onDrop:d,onDragLeave:m,children:[an("div",{style:{position:"fixed",margin:"10px",bottom:0,zIndex:10,display:"grid",gap:"10px"},children:[Nt("label",{htmlFor:"bm-file",children:"Choose a Block Model file:"}),Nt("input",{type:"file",name:"bm-file",accept:"text/csv, application/zip",onChange:l}),Nt("button",{onClick:u,children:"Clear"})]}),Nt(cnt,{onCreated:_=>_.gl.localClippingEnabled=!0,children:Nt(xht,{parsedData:e})}),Nt(hrt,{}),Nt(Bst,{isLoading:i})]})})}kM.createRoot(document.getElementById("root")).render(Nt(nn.StrictMode,{children:Nt(vyt,{})}));
